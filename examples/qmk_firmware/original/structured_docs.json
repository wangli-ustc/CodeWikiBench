{
  "title": "qmk_firmware",
  "description": "Documentation for qmk_firmware",
  "content": {},
  "metadata": {
    "type": "root",
    "path": "/home/anhnh/CodeWikiBench/data/qmk_firmware/original/docs"
  },
  "subpages": [
    {
      "title": "Documentation Capabilities",
      "description": null,
      "content": {
        "Overall capabilities": {
          "Dividing lines": "[]\n\n<hr>\n\n<hr/>",
          "Images": "![QMK Color Wheel with HSV Values](https://i.imgur.com/vkYVo66.jpg)\n\n<!-- Original: ![QMK Light](./public/badge-community-light.svg) -->\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 1260 371\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\"><rect id=\"badge.-community.-light\" x=\"0\" y=\"0.321\" width=\"1260\" height=\"370\" style=\"fill:none;\"/><clipPath id=\"_clip1\"><rect x=\"0\" y=\"0.321\" width=\"1260\" height=\"370\"/></clipPath><g clip-path=\"url(#_clip1)\"><path d=\"M1260,33.621c0,-18.379 -14.921,-33.3 -33.3,-33.3l-1193.4,0c-18.379,0 -33.3,14.921 -33.3,33.3l0,303.4c0,18.378 14.921,33.3 33.3,33.3l1193.4,0c18.379,0 33.3,-14.922 33.3,-33.3l0,-303.4Z\" style=\"fill:#fff;\"/><path d=\"M426.392,189.328c0,1.077 -0.059,1.978 -0.176,2.704c-0.117,0.726 -0.293,1.288 -0.527,1.686c-0.234,0.398 -0.491,0.668 -0.772,0.808c-0.281,0.141 -0.563,0.211 -0.844,0.211c-0.936,0 -2.447,-0.386 -4.531,-1.159c-2.084,-0.773 -4.484,-1.897 -7.201,-3.372c-2.716,-1.476 -5.62,-3.267 -8.711,-5.375c-3.092,-2.107 -6.089,-4.566 -8.993,-7.376c-2.295,1.405 -5.199,2.622 -8.711,3.653c-3.513,1.03 -7.588,1.545 -12.224,1.545c-6.839,0 -12.752,-1.007 -17.74,-3.021c-4.988,-2.013 -9.109,-4.964 -12.364,-8.851c-3.255,-3.888 -5.679,-8.724 -7.272,-14.508c-1.592,-5.784 -2.388,-12.423 -2.388,-19.917c0,-7.213 0.866,-13.734 2.599,-19.566c1.733,-5.831 4.333,-10.795 7.798,-14.893c3.466,-4.098 7.799,-7.26 12.997,-9.485c5.199,-2.224 11.264,-3.337 18.196,-3.337c6.51,0 12.236,1.007 17.177,3.021c4.941,2.014 9.086,4.953 12.435,8.817c3.349,3.864 5.866,8.63 7.552,14.297c1.686,5.667 2.529,12.177 2.529,19.53c0,3.794 -0.222,7.424 -0.667,10.89c-0.445,3.466 -1.147,6.744 -2.108,9.835c-0.96,3.091 -2.166,5.948 -3.618,8.571c-1.452,2.623 -3.161,4.988 -5.128,7.096c3.419,2.81 6.416,5 8.992,6.569c2.576,1.569 4.707,2.751 6.393,3.547c1.687,0.797 2.998,1.37 3.935,1.722c0.936,0.351 1.639,0.749 2.107,1.194c0.469,0.445 0.796,1.077 0.984,1.897c0.187,0.819 0.281,1.908 0.281,3.267Zm-23.886,-53.745c0,-5.152 -0.457,-9.929 -1.37,-14.331c-0.914,-4.403 -2.436,-8.232 -4.567,-11.487c-2.131,-3.255 -4.976,-5.796 -8.536,-7.622c-3.559,-1.827 -7.962,-2.74 -13.207,-2.74c-5.246,0 -9.649,0.972 -13.208,2.915c-3.56,1.944 -6.452,4.567 -8.676,7.869c-2.225,3.302 -3.818,7.13 -4.778,11.486c-0.96,4.356 -1.44,8.969 -1.44,13.84c0,5.339 0.445,10.245 1.335,14.718c0.89,4.473 2.389,8.349 4.496,11.627c2.108,3.279 4.93,5.82 8.466,7.623c3.536,1.803 7.974,2.705 13.313,2.705c5.292,0 9.742,-0.984 13.348,-2.951c3.606,-1.967 6.51,-4.625 8.711,-7.974c2.202,-3.349 3.771,-7.236 4.707,-11.662c0.937,-4.426 1.406,-9.098 1.406,-14.016Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M534.723,179.492c0,0.375 -0.096,0.703 -0.289,0.984c-0.193,0.281 -0.531,0.503 -1.013,0.667c-0.483,0.164 -1.098,0.304 -1.846,0.421c-0.747,0.118 -1.724,0.176 -2.93,0.176c-1.109,0 -2.062,-0.058 -2.858,-0.176c-0.796,-0.117 -1.423,-0.257 -1.881,-0.421c-0.459,-0.164 -0.784,-0.386 -0.977,-0.667c-0.193,-0.281 -0.289,-0.609 -0.289,-0.984l0,-79.176l-0.141,0l-32.036,79.527c-0.14,0.328 -0.339,0.609 -0.597,0.843c-0.257,0.234 -0.632,0.434 -1.124,0.597c-0.492,0.164 -1.077,0.281 -1.756,0.352c-0.679,0.07 -1.487,0.105 -2.424,0.105c-0.984,0 -1.827,-0.047 -2.529,-0.14c-0.703,-0.094 -1.288,-0.223 -1.756,-0.387c-0.469,-0.164 -0.832,-0.363 -1.089,-0.597c-0.258,-0.234 -0.434,-0.492 -0.527,-0.773l-30.631,-79.527l-0.07,0l0,79.176c0,0.375 -0.097,0.703 -0.289,0.984c-0.193,0.281 -0.531,0.503 -1.014,0.667c-0.482,0.164 -1.109,0.304 -1.881,0.421c-0.772,0.118 -1.761,0.176 -2.967,0.176c-1.157,0 -2.122,-0.058 -2.894,-0.176c-0.772,-0.117 -1.387,-0.257 -1.845,-0.421c-0.459,-0.164 -0.772,-0.386 -0.941,-0.667c-0.169,-0.281 -0.253,-0.609 -0.253,-0.984l0,-83.602c0,-1.967 0.523,-3.372 1.569,-4.215c1.046,-0.843 2.212,-1.265 3.496,-1.265l7.419,0c1.522,0 2.853,0.141 3.995,0.422c1.142,0.281 2.14,0.726 2.996,1.335c0.856,0.608 1.569,1.381 2.14,2.318c0.571,0.937 1.07,2.037 1.499,3.302l25.994,65.828l0.351,0l27.047,-65.617c0.524,-1.405 1.095,-2.6 1.713,-3.583c0.619,-0.984 1.297,-1.768 2.035,-2.354c0.738,-0.585 1.558,-1.007 2.462,-1.264c0.904,-0.258 1.951,-0.387 3.141,-0.387l7.779,0c0.715,0 1.393,0.106 2.035,0.316c0.642,0.211 1.189,0.539 1.642,0.984c0.452,0.445 0.821,1.007 1.106,1.686c0.285,0.679 0.428,1.51 0.428,2.494l0,83.602Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M618.185,179.351c0,0.375 -0.082,0.715 -0.246,1.019c-0.164,0.305 -0.48,0.55 -0.949,0.738c-0.468,0.187 -1.1,0.339 -1.896,0.456c-0.797,0.118 -1.827,0.176 -3.092,0.176c-1.639,0 -2.974,-0.07 -4.004,-0.211c-1.031,-0.14 -1.803,-0.398 -2.318,-0.772c-0.516,-0.375 -0.937,-0.797 -1.265,-1.265l-33.441,-45.454l0,45.454c0,0.328 -0.094,0.644 -0.281,0.948c-0.187,0.305 -0.515,0.539 -0.983,0.703c-0.469,0.164 -1.089,0.304 -1.862,0.421c-0.773,0.118 -1.745,0.176 -2.916,0.176c-1.124,0 -2.084,-0.058 -2.88,-0.176c-0.796,-0.117 -1.429,-0.257 -1.897,-0.421c-0.468,-0.164 -0.796,-0.398 -0.983,-0.703c-0.188,-0.304 -0.282,-0.62 -0.282,-0.948l0,-87.255c0,-0.375 0.094,-0.703 0.282,-0.984c0.187,-0.281 0.515,-0.503 0.983,-0.667c0.468,-0.164 1.101,-0.305 1.897,-0.422c0.796,-0.117 1.756,-0.175 2.88,-0.175c1.171,0 2.143,0.058 2.916,0.175c0.773,0.117 1.393,0.258 1.862,0.422c0.468,0.164 0.796,0.386 0.983,0.667c0.187,0.281 0.281,0.609 0.281,0.984l0,40.396l32.176,-40.396c0.281,-0.422 0.609,-0.773 0.984,-1.054c0.375,-0.281 0.831,-0.504 1.37,-0.667c0.538,-0.164 1.194,-0.293 1.967,-0.387c0.773,-0.094 1.768,-0.14 2.986,-0.14c1.218,0 2.201,0.058 2.95,0.175c0.75,0.117 1.347,0.27 1.792,0.457c0.445,0.187 0.749,0.421 0.913,0.702c0.164,0.282 0.246,0.586 0.246,0.914c0,0.609 -0.152,1.218 -0.457,1.826c-0.304,0.609 -0.878,1.452 -1.721,2.53l-30.139,36.04l32.458,43.136c0.796,1.217 1.276,2.049 1.44,2.494c0.164,0.444 0.246,0.807 0.246,1.088Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M713.941,95.609c0,0.89 -0.047,1.663 -0.141,2.318c-0.094,0.656 -0.258,1.183 -0.492,1.581c-0.234,0.398 -0.503,0.691 -0.808,0.878c-0.304,0.188 -0.62,0.281 -0.948,0.281l-33.3,0l0,30.912l31.473,0c0.328,0 0.644,0.082 0.949,0.246c0.304,0.164 0.574,0.433 0.808,0.808c0.234,0.374 0.398,0.878 0.491,1.51c0.094,0.632 0.141,1.44 0.141,2.424c0,0.89 -0.047,1.651 -0.141,2.283c-0.093,0.632 -0.257,1.148 -0.491,1.546c-0.234,0.398 -0.504,0.702 -0.808,0.913c-0.305,0.211 -0.621,0.316 -0.949,0.316l-31.473,0l0,37.867c0,0.328 -0.094,0.644 -0.281,0.948c-0.188,0.305 -0.516,0.539 -0.984,0.703c-0.468,0.164 -1.077,0.304 -1.826,0.421c-0.75,0.118 -1.733,0.176 -2.951,0.176c-1.124,0 -2.084,-0.058 -2.881,-0.176c-0.796,-0.117 -1.428,-0.257 -1.896,-0.421c-0.469,-0.164 -0.797,-0.398 -0.984,-0.703c-0.187,-0.304 -0.281,-0.62 -0.281,-0.948l0,-84.164c0,-1.827 0.48,-3.103 1.44,-3.829c0.96,-0.726 1.979,-1.089 3.056,-1.089l40.888,0c0.328,0 0.644,0.094 0.948,0.281c0.305,0.188 0.574,0.492 0.808,0.914c0.234,0.421 0.398,0.971 0.492,1.65c0.094,0.68 0.141,1.464 0.141,2.354Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M742.534,179.562c0,0.375 -0.094,0.691 -0.281,0.949c-0.187,0.257 -0.492,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.757,0.422c-0.749,0.093 -1.709,0.14 -2.88,0.14c-1.124,0 -2.061,-0.047 -2.81,-0.14c-0.75,-0.094 -1.347,-0.235 -1.792,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.328 0.082,-0.632 0.246,-0.913c0.164,-0.281 0.468,-0.516 0.913,-0.703c0.445,-0.187 1.042,-0.328 1.792,-0.422c0.749,-0.093 1.686,-0.14 2.81,-0.14c1.171,0 2.131,0.047 2.88,0.14c0.75,0.094 1.335,0.235 1.757,0.422c0.421,0.187 0.726,0.422 0.913,0.703c0.187,0.281 0.281,0.585 0.281,0.913l0,63.228Zm1.335,-84.585c0,2.716 -0.515,4.566 -1.546,5.55c-1.03,0.983 -2.927,1.475 -5.69,1.475c-2.717,0 -4.579,-0.48 -5.586,-1.44c-1.007,-0.96 -1.51,-2.775 -1.51,-5.445c0,-2.716 0.515,-4.566 1.546,-5.55c1.03,-0.983 2.927,-1.475 5.69,-1.475c2.717,0 4.578,0.48 5.585,1.44c1.007,0.96 1.511,2.775 1.511,5.445Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M800.915,120.479c0,1.03 -0.024,1.897 -0.07,2.599c-0.047,0.703 -0.141,1.253 -0.281,1.651c-0.141,0.398 -0.317,0.703 -0.527,0.913c-0.211,0.211 -0.504,0.317 -0.879,0.317c-0.374,0 -0.831,-0.106 -1.37,-0.317c-0.538,-0.21 -1.147,-0.421 -1.826,-0.632c-0.679,-0.211 -1.44,-0.41 -2.283,-0.597c-0.843,-0.187 -1.757,-0.281 -2.74,-0.281c-1.171,0 -2.319,0.234 -3.443,0.703c-1.124,0.468 -2.306,1.241 -3.548,2.318c-1.241,1.077 -2.54,2.506 -3.899,4.285c-1.358,1.78 -2.857,3.958 -4.496,6.534l0,41.59c0,0.375 -0.094,0.691 -0.281,0.949c-0.187,0.257 -0.492,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.71,0.14 -2.881,0.14c-1.124,0 -2.061,-0.047 -2.81,-0.14c-0.749,-0.094 -1.347,-0.235 -1.792,-0.422c-0.444,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.071,-0.691 0.211,-0.949c0.141,-0.257 0.422,-0.491 0.843,-0.702c0.422,-0.211 0.96,-0.351 1.616,-0.422c0.656,-0.07 1.522,-0.105 2.599,-0.105c1.031,0 1.885,0.035 2.565,0.105c0.679,0.071 1.206,0.211 1.58,0.422c0.375,0.211 0.644,0.445 0.808,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,9.203c1.733,-2.529 3.361,-4.59 4.883,-6.182c1.522,-1.593 2.962,-2.846 4.32,-3.759c1.359,-0.913 2.705,-1.545 4.04,-1.897c1.335,-0.351 2.681,-0.527 4.04,-0.527c0.608,0 1.299,0.036 2.072,0.106c0.773,0.07 1.581,0.199 2.424,0.386c0.843,0.188 1.604,0.398 2.283,0.632c0.679,0.235 1.159,0.469 1.44,0.703c0.281,0.234 0.469,0.457 0.562,0.667c0.094,0.211 0.176,0.48 0.246,0.808c0.07,0.328 0.117,0.808 0.141,1.441c0.023,0.632 0.035,1.487 0.035,2.564Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M907.911,179.562c0,0.375 -0.093,0.691 -0.281,0.949c-0.187,0.257 -0.491,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.686,0.14 -2.811,0.14c-1.17,0 -2.131,-0.047 -2.88,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.761,-0.41 -0.949,-0.667c-0.187,-0.258 -0.281,-0.574 -0.281,-0.949l0,-38.429c0,-2.669 -0.234,-5.105 -0.702,-7.306c-0.469,-2.201 -1.218,-4.098 -2.248,-5.691c-1.031,-1.592 -2.342,-2.81 -3.935,-3.653c-1.592,-0.843 -3.466,-1.264 -5.62,-1.264c-2.67,0 -5.351,1.03 -8.044,3.091c-2.693,2.061 -5.655,5.082 -8.887,9.063l0,44.189c0,0.375 -0.094,0.691 -0.281,0.949c-0.188,0.257 -0.504,0.48 -0.949,0.667c-0.445,0.187 -1.042,0.328 -1.791,0.422c-0.749,0.093 -1.686,0.14 -2.81,0.14c-1.077,0 -2.002,-0.047 -2.775,-0.14c-0.773,-0.094 -1.382,-0.235 -1.827,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-38.429c0,-2.669 -0.258,-5.105 -0.773,-7.306c-0.515,-2.201 -1.288,-4.098 -2.318,-5.691c-1.031,-1.592 -2.33,-2.81 -3.899,-3.653c-1.569,-0.843 -3.431,-1.264 -5.585,-1.264c-2.67,0 -5.363,1.03 -8.08,3.091c-2.716,2.061 -5.667,5.082 -8.852,9.063l0,44.189c0,0.375 -0.093,0.691 -0.281,0.949c-0.187,0.257 -0.491,0.48 -0.913,0.667c-0.421,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.71,0.14 -2.881,0.14c-1.124,0 -2.06,-0.047 -2.81,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.75,-0.41 -0.914,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.071,-0.691 0.211,-0.949c0.141,-0.257 0.422,-0.491 0.843,-0.702c0.422,-0.211 0.96,-0.351 1.616,-0.422c0.656,-0.07 1.522,-0.105 2.6,-0.105c1.03,0 1.885,0.035 2.564,0.105c0.679,0.071 1.206,0.211 1.581,0.422c0.374,0.211 0.643,0.445 0.807,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,8.36c3.56,-3.981 7.014,-6.897 10.363,-8.747c3.349,-1.85 6.732,-2.775 10.151,-2.775c2.623,0 4.977,0.305 7.061,0.914c2.084,0.609 3.922,1.463 5.515,2.564c1.592,1.101 2.951,2.412 4.075,3.934c1.124,1.522 2.06,3.22 2.81,5.094c2.107,-2.295 4.11,-4.239 6.006,-5.831c1.897,-1.593 3.724,-2.881 5.48,-3.864c1.757,-0.984 3.466,-1.698 5.129,-2.143c1.662,-0.445 3.337,-0.668 5.023,-0.668c4.075,0 7.494,0.715 10.257,2.143c2.763,1.429 5,3.337 6.709,5.726c1.71,2.388 2.927,5.187 3.653,8.395c0.726,3.208 1.089,6.592 1.089,10.152l0,39.974Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1016.52,116.193c0,0.328 -0.047,0.726 -0.141,1.195c-0.094,0.468 -0.257,1.053 -0.492,1.756l-18.617,60.067c-0.14,0.515 -0.363,0.937 -0.667,1.265c-0.305,0.327 -0.726,0.585 -1.265,0.772c-0.538,0.188 -1.276,0.316 -2.213,0.387c-0.937,0.07 -2.107,0.105 -3.513,0.105c-1.451,0 -2.669,-0.047 -3.653,-0.14c-0.983,-0.094 -1.768,-0.235 -2.353,-0.422c-0.586,-0.187 -1.019,-0.445 -1.3,-0.773c-0.281,-0.328 -0.492,-0.726 -0.632,-1.194l-13.278,-45.876l-0.141,-0.632l-0.14,0.632l-12.295,45.876c-0.14,0.515 -0.363,0.937 -0.667,1.265c-0.304,0.327 -0.761,0.585 -1.37,0.772c-0.609,0.188 -1.393,0.316 -2.353,0.387c-0.961,0.07 -2.143,0.105 -3.548,0.105c-1.452,0 -2.635,-0.047 -3.548,-0.14c-0.913,-0.094 -1.663,-0.235 -2.248,-0.422c-0.586,-0.187 -1.019,-0.445 -1.3,-0.773c-0.281,-0.328 -0.492,-0.726 -0.632,-1.194l-18.477,-60.067c-0.234,-0.703 -0.398,-1.288 -0.492,-1.756c-0.093,-0.469 -0.14,-0.867 -0.14,-1.195c0,-0.421 0.093,-0.761 0.281,-1.018c0.187,-0.258 0.503,-0.469 0.948,-0.633c0.445,-0.164 1.042,-0.269 1.792,-0.316c0.749,-0.047 1.662,-0.07 2.74,-0.07c1.311,0 2.365,0.035 3.161,0.105c0.796,0.071 1.405,0.188 1.827,0.352c0.421,0.164 0.726,0.398 0.913,0.702c0.187,0.305 0.351,0.668 0.492,1.089l15.245,52.128l0.14,0.633l0.141,-0.633l13.98,-52.128c0.094,-0.421 0.246,-0.784 0.457,-1.089c0.211,-0.304 0.527,-0.538 0.948,-0.702c0.422,-0.164 0.996,-0.281 1.722,-0.352c0.726,-0.07 1.674,-0.105 2.845,-0.105c1.124,0 2.049,0.035 2.775,0.105c0.726,0.071 1.3,0.188 1.721,0.352c0.422,0.164 0.726,0.386 0.913,0.667c0.188,0.281 0.328,0.609 0.422,0.984l15.104,52.268l0.141,0.633l0.07,-0.633l15.035,-52.128c0.093,-0.421 0.245,-0.784 0.456,-1.089c0.211,-0.304 0.539,-0.538 0.984,-0.702c0.445,-0.164 1.054,-0.281 1.826,-0.352c0.773,-0.07 1.768,-0.105 2.986,-0.105c1.124,0 2.026,0.023 2.705,0.07c0.679,0.047 1.218,0.164 1.616,0.351c0.398,0.188 0.679,0.399 0.843,0.633c0.164,0.234 0.246,0.562 0.246,0.983Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1076.94,179.632c0,0.563 -0.187,0.984 -0.562,1.265c-0.375,0.281 -0.89,0.492 -1.546,0.632c-0.655,0.141 -1.616,0.211 -2.88,0.211c-1.218,0 -2.19,-0.07 -2.916,-0.211c-0.726,-0.14 -1.252,-0.351 -1.58,-0.632c-0.328,-0.281 -0.492,-0.702 -0.492,-1.265l0,-6.322c-2.763,2.95 -5.843,5.245 -9.238,6.885c-3.396,1.639 -6.991,2.458 -10.784,2.458c-3.326,0 -6.335,-0.433 -9.028,-1.299c-2.693,-0.867 -4.988,-2.12 -6.885,-3.759c-1.897,-1.639 -3.372,-3.653 -4.426,-6.042c-1.054,-2.388 -1.581,-5.105 -1.581,-8.149c0,-3.56 0.726,-6.651 2.178,-9.274c1.452,-2.622 3.536,-4.8 6.253,-6.533c2.716,-1.733 6.042,-3.033 9.976,-3.899c3.934,-0.867 8.36,-1.3 13.278,-1.3l8.711,0l0,-4.918c0,-2.435 -0.257,-4.59 -0.772,-6.463c-0.516,-1.874 -1.347,-3.431 -2.495,-4.672c-1.147,-1.241 -2.634,-2.178 -4.461,-2.81c-1.826,-0.632 -4.074,-0.949 -6.744,-0.949c-2.857,0 -5.421,0.34 -7.693,1.019c-2.271,0.679 -4.262,1.429 -5.971,2.248c-1.71,0.82 -3.138,1.569 -4.286,2.248c-1.147,0.679 -2.002,1.019 -2.564,1.019c-0.375,0 -0.703,-0.094 -0.984,-0.281c-0.281,-0.187 -0.527,-0.468 -0.737,-0.843c-0.211,-0.375 -0.363,-0.855 -0.457,-1.44c-0.094,-0.586 -0.14,-1.23 -0.14,-1.932c0,-1.171 0.081,-2.096 0.245,-2.775c0.164,-0.679 0.562,-1.323 1.195,-1.932c0.632,-0.609 1.721,-1.323 3.267,-2.143c1.545,-0.82 3.325,-1.569 5.339,-2.248c2.014,-0.679 4.215,-1.241 6.604,-1.686c2.388,-0.445 4.8,-0.668 7.236,-0.668c4.543,0 8.407,0.516 11.592,1.546c3.185,1.03 5.761,2.541 7.728,4.531c1.967,1.991 3.395,4.461 4.285,7.412c0.89,2.951 1.335,6.393 1.335,10.327l0,42.644Zm-11.522,-28.874l-9.905,0c-3.185,0 -5.949,0.269 -8.29,0.808c-2.342,0.539 -4.286,1.335 -5.832,2.389c-1.545,1.054 -2.681,2.318 -3.407,3.793c-0.726,1.476 -1.089,3.174 -1.089,5.094c0,3.278 1.042,5.889 3.127,7.833c2.084,1.944 4.999,2.916 8.746,2.916c3.044,0 5.866,-0.773 8.466,-2.319c2.599,-1.545 5.327,-3.91 8.184,-7.095l0,-13.419Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1135.18,120.479c0,1.03 -0.023,1.897 -0.07,2.599c-0.047,0.703 -0.14,1.253 -0.281,1.651c-0.14,0.398 -0.316,0.703 -0.527,0.913c-0.211,0.211 -0.503,0.317 -0.878,0.317c-0.375,0 -0.831,-0.106 -1.37,-0.317c-0.539,-0.21 -1.147,-0.421 -1.827,-0.632c-0.679,-0.211 -1.44,-0.41 -2.283,-0.597c-0.843,-0.187 -1.756,-0.281 -2.74,-0.281c-1.171,0 -2.318,0.234 -3.442,0.703c-1.124,0.468 -2.307,1.241 -3.548,2.318c-1.241,1.077 -2.541,2.506 -3.899,4.285c-1.358,1.78 -2.857,3.958 -4.496,6.534l0,41.59c0,0.375 -0.094,0.691 -0.281,0.949c-0.188,0.257 -0.492,0.48 -0.914,0.667c-0.421,0.187 -1.007,0.328 -1.756,0.422c-0.749,0.093 -1.709,0.14 -2.88,0.14c-1.124,0 -2.061,-0.047 -2.811,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.07,-0.691 0.211,-0.949c0.14,-0.257 0.421,-0.491 0.843,-0.702c0.421,-0.211 0.96,-0.351 1.615,-0.422c0.656,-0.07 1.523,-0.105 2.6,-0.105c1.03,0 1.885,0.035 2.564,0.105c0.679,0.071 1.206,0.211 1.581,0.422c0.375,0.211 0.644,0.445 0.808,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,9.203c1.733,-2.529 3.36,-4.59 4.882,-6.182c1.522,-1.593 2.963,-2.846 4.321,-3.759c1.358,-0.913 2.705,-1.545 4.039,-1.897c1.335,-0.351 2.682,-0.527 4.04,-0.527c0.609,0 1.3,0.036 2.073,0.106c0.772,0.07 1.58,0.199 2.423,0.386c0.843,0.188 1.604,0.398 2.284,0.632c0.679,0.235 1.159,0.469 1.44,0.703c0.281,0.234 0.468,0.457 0.562,0.667c0.093,0.211 0.175,0.48 0.246,0.808c0.07,0.328 0.117,0.808 0.14,1.441c0.024,0.632 0.035,1.487 0.035,2.564Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1200.45,145.208c0,1.827 -0.459,3.126 -1.376,3.899c-0.917,0.773 -1.964,1.159 -3.141,1.159l-41.64,0c0,3.513 0.353,6.675 1.059,9.485c0.706,2.81 1.882,5.222 3.53,7.236c1.647,2.014 3.789,3.559 6.424,4.637c2.636,1.077 5.86,1.615 9.672,1.615c3.012,0 5.694,-0.245 8.047,-0.737c2.354,-0.492 4.389,-1.042 6.107,-1.651c1.718,-0.609 3.13,-1.159 4.236,-1.651c1.106,-0.492 1.942,-0.738 2.507,-0.738c0.329,0 0.623,0.082 0.882,0.246c0.259,0.164 0.458,0.41 0.6,0.738c0.141,0.328 0.247,0.784 0.317,1.37c0.071,0.585 0.106,1.299 0.106,2.142c0,0.609 -0.023,1.136 -0.07,1.581c-0.047,0.445 -0.105,0.843 -0.175,1.194c-0.071,0.352 -0.188,0.668 -0.352,0.949c-0.164,0.281 -0.374,0.55 -0.632,0.808c-0.258,0.257 -1.019,0.679 -2.283,1.264c-1.265,0.586 -2.904,1.16 -4.918,1.722c-2.014,0.562 -4.344,1.065 -6.99,1.51c-2.647,0.445 -5.468,0.667 -8.466,0.667c-5.199,0 -9.753,-0.726 -13.664,-2.177c-3.911,-1.452 -7.201,-3.607 -9.871,-6.464c-2.67,-2.857 -4.683,-6.44 -6.042,-10.749c-1.358,-4.309 -2.037,-9.32 -2.037,-15.034c0,-5.433 0.702,-10.316 2.108,-14.648c1.405,-4.332 3.43,-8.009 6.077,-11.03c2.646,-3.021 5.842,-5.339 9.589,-6.955c3.747,-1.616 7.939,-2.424 12.576,-2.424c4.964,0 9.191,0.797 12.68,2.389c3.49,1.592 6.358,3.735 8.606,6.428c2.249,2.693 3.9,5.855 4.953,9.485c1.054,3.629 1.581,7.505 1.581,11.627l0,2.107Zm-11.662,-3.442c0.14,-6.089 -1.214,-10.866 -4.065,-14.332c-2.85,-3.466 -7.079,-5.199 -12.687,-5.199c-2.875,0 -5.396,0.539 -7.564,1.616c-2.167,1.077 -3.982,2.506 -5.443,4.285c-1.461,1.78 -2.592,3.853 -3.393,6.218c-0.801,2.365 -1.248,4.836 -1.343,7.412l34.495,0Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M379.752,276.089c0,0.493 -0.016,0.924 -0.047,1.294c-0.03,0.369 -0.084,0.693 -0.161,0.97c-0.077,0.277 -0.177,0.524 -0.301,0.739c-0.123,0.216 -0.338,0.478 -0.646,0.786c-0.308,0.308 -0.955,0.778 -1.941,1.409c-0.986,0.631 -2.21,1.247 -3.673,1.848c-1.463,0.601 -3.142,1.109 -5.036,1.525c-1.894,0.416 -3.966,0.623 -6.214,0.623c-3.881,0 -7.385,-0.646 -10.511,-1.94c-3.127,-1.294 -5.791,-3.203 -7.993,-5.729c-2.203,-2.526 -3.897,-5.645 -5.083,-9.356c-1.185,-3.712 -1.778,-7.985 -1.778,-12.821c0,-4.959 0.639,-9.379 1.917,-13.26c1.278,-3.881 3.072,-7.169 5.383,-9.865c2.31,-2.695 5.074,-4.751 8.293,-6.168c3.219,-1.417 6.784,-2.125 10.696,-2.125c1.725,0 3.403,0.162 5.036,0.485c1.632,0.324 3.142,0.732 4.528,1.225c1.386,0.492 2.618,1.062 3.696,1.709c1.078,0.647 1.825,1.178 2.241,1.594c0.416,0.416 0.685,0.732 0.808,0.947c0.123,0.216 0.224,0.47 0.301,0.763c0.077,0.292 0.138,0.639 0.184,1.039c0.047,0.4 0.07,0.878 0.07,1.432c0,0.616 -0.031,1.14 -0.093,1.571c-0.062,0.431 -0.155,0.793 -0.279,1.086c-0.124,0.293 -0.271,0.508 -0.441,0.647c-0.171,0.138 -0.38,0.208 -0.628,0.208c-0.433,0 -1.036,-0.301 -1.811,-0.901c-0.774,-0.601 -1.773,-1.263 -2.996,-1.987c-1.223,-0.724 -2.71,-1.386 -4.459,-1.987c-1.749,-0.6 -3.847,-0.901 -6.294,-0.901c-2.663,0 -5.086,0.532 -7.269,1.594c-2.183,1.063 -4.049,2.626 -5.597,4.69c-1.549,2.064 -2.748,4.582 -3.6,7.554c-0.852,2.972 -1.278,6.368 -1.278,10.188c0,3.788 0.411,7.138 1.231,10.049c0.821,2.91 1.998,5.344 3.53,7.3c1.533,1.956 3.415,3.434 5.644,4.435c2.23,1.001 4.753,1.502 7.571,1.502c2.384,0 4.467,-0.293 6.247,-0.878c1.781,-0.585 3.298,-1.24 4.552,-1.964c1.254,-0.724 2.283,-1.378 3.089,-1.963c0.805,-0.586 1.44,-0.878 1.904,-0.878c0.217,0 0.403,0.046 0.558,0.138c0.154,0.093 0.278,0.27 0.371,0.532c0.093,0.262 0.163,0.623 0.209,1.085c0.046,0.462 0.07,1.048 0.07,1.756Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M428.079,262.136c0,3.388 -0.446,6.507 -1.339,9.356c-0.894,2.849 -2.226,5.306 -3.997,7.369c-1.771,2.064 -3.989,3.673 -6.653,4.828c-2.664,1.156 -5.752,1.733 -9.264,1.733c-3.419,0 -6.399,-0.508 -8.94,-1.525c-2.541,-1.016 -4.659,-2.495 -6.353,-4.435c-1.694,-1.941 -2.957,-4.297 -3.788,-7.069c-0.832,-2.772 -1.248,-5.914 -1.248,-9.425c0,-3.388 0.439,-6.507 1.317,-9.356c0.878,-2.849 2.202,-5.306 3.973,-7.37c1.772,-2.063 3.982,-3.665 6.63,-4.805c2.649,-1.139 5.745,-1.709 9.287,-1.709c3.419,0 6.399,0.508 8.94,1.525c2.541,1.016 4.659,2.494 6.353,4.435c1.694,1.94 2.965,4.297 3.812,7.069c0.847,2.772 1.27,5.898 1.27,9.379Zm-7.9,0.508c0,-2.248 -0.21,-4.374 -0.63,-6.376c-0.419,-2.002 -1.111,-3.757 -2.074,-5.267c-0.964,-1.509 -2.269,-2.703 -3.917,-3.58c-1.647,-0.878 -3.698,-1.317 -6.153,-1.317c-2.269,0 -4.219,0.4 -5.851,1.201c-1.632,0.801 -2.976,1.933 -4.033,3.396c-1.056,1.463 -1.841,3.196 -2.354,5.198c-0.513,2.002 -0.769,4.189 -0.769,6.56c0,2.28 0.21,4.42 0.629,6.423c0.42,2.002 1.119,3.75 2.098,5.244c0.979,1.493 2.292,2.679 3.939,3.557c1.648,0.878 3.699,1.317 6.154,1.317c2.238,0 4.181,-0.401 5.828,-1.201c1.647,-0.801 2.999,-1.925 4.056,-3.373c1.056,-1.448 1.833,-3.173 2.331,-5.175c0.497,-2.002 0.746,-4.204 0.746,-6.607Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M500.987,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.77,0 -1.401,-0.03 -1.894,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.501,-0.27 -0.624,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-25.273c0,-1.755 -0.154,-3.357 -0.462,-4.805c-0.308,-1.447 -0.801,-2.695 -1.478,-3.742c-0.678,-1.047 -1.54,-1.848 -2.588,-2.403c-1.047,-0.554 -2.279,-0.831 -3.696,-0.831c-1.756,0 -3.519,0.677 -5.29,2.033c-1.771,1.355 -3.719,3.342 -5.845,5.96l0,29.061c0,0.247 -0.061,0.454 -0.184,0.624c-0.124,0.169 -0.332,0.316 -0.624,0.439c-0.293,0.123 -0.685,0.215 -1.178,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.709,0 -1.317,-0.03 -1.825,-0.092c-0.509,-0.062 -0.909,-0.154 -1.202,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-25.273c0,-1.755 -0.169,-3.357 -0.508,-4.805c-0.339,-1.447 -0.847,-2.695 -1.525,-3.742c-0.678,-1.047 -1.532,-1.848 -2.564,-2.403c-1.032,-0.554 -2.256,-0.831 -3.673,-0.831c-1.756,0 -3.527,0.677 -5.314,2.033c-1.786,1.355 -3.727,3.342 -5.821,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.156,0.277c-0.492,0.062 -1.124,0.092 -1.894,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.108,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.277,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.677,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.612,-4.535 6.815,-5.752c2.202,-1.217 4.427,-1.825 6.676,-1.825c1.725,0 3.273,0.2 4.643,0.601c1.371,0.4 2.58,0.962 3.627,1.686c1.047,0.724 1.941,1.586 2.68,2.587c0.739,1.001 1.355,2.118 1.848,3.35c1.386,-1.509 2.703,-2.788 3.95,-3.835c1.248,-1.047 2.449,-1.894 3.604,-2.541c1.155,-0.647 2.279,-1.117 3.373,-1.409c1.093,-0.293 2.194,-0.439 3.303,-0.439c2.68,0 4.929,0.47 6.746,1.409c1.817,0.939 3.288,2.195 4.412,3.766c1.124,1.57 1.925,3.411 2.403,5.521c0.477,2.11 0.716,4.335 0.716,6.676l0,26.289Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M576.574,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.492,0.062 -1.108,0.092 -1.848,0.092c-0.77,0 -1.401,-0.03 -1.894,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.501,-0.27 -0.624,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-25.273c0,-1.755 -0.154,-3.357 -0.462,-4.805c-0.308,-1.447 -0.801,-2.695 -1.478,-3.742c-0.678,-1.047 -1.54,-1.848 -2.588,-2.403c-1.047,-0.554 -2.279,-0.831 -3.696,-0.831c-1.755,0 -3.519,0.677 -5.29,2.033c-1.771,1.355 -3.719,3.342 -5.844,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.124,0.169 -0.331,0.316 -0.624,0.439c-0.293,0.123 -0.685,0.215 -1.178,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.709,0 -1.317,-0.03 -1.825,-0.092c-0.509,-0.062 -0.909,-0.154 -1.202,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-25.273c0,-1.755 -0.169,-3.357 -0.508,-4.805c-0.339,-1.447 -0.847,-2.695 -1.525,-3.742c-0.677,-1.047 -1.532,-1.848 -2.564,-2.403c-1.032,-0.554 -2.256,-0.831 -3.673,-0.831c-1.756,0 -3.527,0.677 -5.313,2.033c-1.787,1.355 -3.727,3.342 -5.822,5.96l0,29.061c0,0.247 -0.061,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.155,0.277c-0.493,0.062 -1.125,0.092 -1.895,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.107,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.278,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.678,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.612,-4.535 6.815,-5.752c2.202,-1.217 4.427,-1.825 6.676,-1.825c1.725,0 3.273,0.2 4.643,0.601c1.371,0.4 2.58,0.962 3.627,1.686c1.047,0.724 1.941,1.586 2.68,2.587c0.739,1.001 1.355,2.118 1.848,3.35c1.386,-1.509 2.703,-2.788 3.95,-3.835c1.248,-1.047 2.449,-1.894 3.604,-2.541c1.155,-0.647 2.279,-1.117 3.373,-1.409c1.093,-0.293 2.195,-0.439 3.303,-0.439c2.68,0 4.929,0.47 6.746,1.409c1.817,0.939 3.288,2.195 4.412,3.766c1.125,1.57 1.925,3.411 2.403,5.521c0.477,2.11 0.716,4.335 0.716,6.676l0,26.289Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M626.103,283.389c0,0.247 -0.054,0.454 -0.162,0.624c-0.108,0.169 -0.3,0.316 -0.577,0.439c-0.278,0.123 -0.639,0.215 -1.086,0.277c-0.447,0.062 -0.993,0.092 -1.64,0.092c-0.709,0 -1.286,-0.03 -1.733,-0.092c-0.447,-0.062 -0.801,-0.154 -1.063,-0.277c-0.261,-0.123 -0.438,-0.27 -0.531,-0.439c-0.092,-0.17 -0.138,-0.377 -0.138,-0.624l0,-5.498c-2.372,2.618 -4.713,4.528 -7.023,5.729c-2.31,1.201 -4.651,1.802 -7.023,1.802c-2.772,0 -5.105,-0.462 -7,-1.386c-1.894,-0.924 -3.426,-2.179 -4.597,-3.766c-1.17,-1.586 -2.01,-3.434 -2.518,-5.544c-0.508,-2.11 -0.762,-4.674 -0.762,-7.693l0,-25.226c0,-0.246 0.054,-0.454 0.162,-0.624c0.107,-0.169 0.315,-0.323 0.623,-0.462c0.308,-0.138 0.709,-0.231 1.202,-0.277c0.492,-0.046 1.108,-0.069 1.848,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.885,0.139 1.178,0.277c0.292,0.139 0.5,0.293 0.624,0.462c0.123,0.17 0.184,0.378 0.184,0.624l0,24.21c0,2.433 0.178,4.382 0.532,5.845c0.354,1.463 0.893,2.71 1.617,3.742c0.724,1.032 1.64,1.833 2.749,2.403c1.109,0.569 2.402,0.854 3.881,0.854c1.91,0 3.812,-0.677 5.706,-2.033c1.894,-1.355 3.904,-3.342 6.029,-5.96l0,-29.061c0,-0.246 0.054,-0.454 0.162,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.7,-0.231 1.178,-0.277c0.477,-0.046 1.101,-0.069 1.871,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.878,0.139 1.155,0.277c0.277,0.139 0.485,0.293 0.624,0.462c0.139,0.17 0.208,0.378 0.208,0.624l0,41.582Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M676.001,283.389c0,0.247 -0.061,0.454 -0.184,0.624c-0.124,0.169 -0.324,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.77,0 -1.402,-0.03 -1.894,-0.092c-0.493,-0.062 -0.878,-0.154 -1.155,-0.277c-0.278,-0.123 -0.478,-0.27 -0.601,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-24.349c0,-2.371 -0.185,-4.281 -0.554,-5.729c-0.37,-1.447 -0.909,-2.695 -1.617,-3.742c-0.709,-1.047 -1.625,-1.848 -2.749,-2.403c-1.125,-0.554 -2.426,-0.831 -3.905,-0.831c-1.909,0 -3.819,0.677 -5.729,2.033c-1.909,1.355 -3.911,3.342 -6.006,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.155,0.277c-0.493,0.062 -1.125,0.092 -1.895,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.107,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.277,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.677,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.674,-4.535 6.999,-5.752c2.326,-1.217 4.675,-1.825 7.046,-1.825c2.772,0 5.106,0.47 7,1.409c1.894,0.939 3.427,2.195 4.597,3.766c1.171,1.57 2.01,3.411 2.518,5.521c0.508,2.11 0.762,4.643 0.762,7.6l0,25.365Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M697.532,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.124,0.092 -1.894,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-41.582c0,-0.216 0.054,-0.416 0.162,-0.601c0.108,-0.184 0.308,-0.338 0.601,-0.462c0.292,-0.123 0.685,-0.215 1.178,-0.277c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.401,0.031 1.894,0.092c0.493,0.062 0.878,0.154 1.155,0.277c0.278,0.124 0.478,0.278 0.601,0.462c0.123,0.185 0.185,0.385 0.185,0.601l0,41.582Zm0.878,-55.628c0,1.787 -0.339,3.004 -1.017,3.65c-0.677,0.647 -1.925,0.971 -3.742,0.971c-1.787,0 -3.011,-0.316 -3.673,-0.947c-0.663,-0.632 -0.994,-1.825 -0.994,-3.581c0,-1.787 0.339,-3.003 1.017,-3.65c0.677,-0.647 1.925,-0.97 3.742,-0.97c1.787,0 3.011,0.315 3.673,0.947c0.663,0.631 0.994,1.825 0.994,3.58Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M733.246,280.34c0,0.893 -0.061,1.601 -0.185,2.125c-0.123,0.524 -0.308,0.909 -0.554,1.155c-0.246,0.247 -0.616,0.478 -1.109,0.693c-0.493,0.216 -1.055,0.393 -1.686,0.532c-0.632,0.138 -1.302,0.254 -2.01,0.346c-0.708,0.092 -1.417,0.139 -2.125,0.139c-2.156,0 -4.005,-0.285 -5.545,-0.855c-1.54,-0.57 -2.803,-1.432 -3.788,-2.587c-0.986,-1.155 -1.702,-2.619 -2.149,-4.39c-0.446,-1.771 -0.67,-3.858 -0.67,-6.26l0,-24.303l-5.821,0c-0.462,0 -0.832,-0.246 -1.109,-0.739c-0.277,-0.493 -0.416,-1.293 -0.416,-2.402c0,-0.586 0.039,-1.078 0.116,-1.479c0.077,-0.4 0.177,-0.731 0.3,-0.993c0.123,-0.262 0.285,-0.447 0.485,-0.555c0.2,-0.107 0.424,-0.161 0.67,-0.161l5.775,0l0,-9.888c0,-0.215 0.054,-0.415 0.162,-0.6c0.108,-0.185 0.308,-0.347 0.601,-0.485c0.292,-0.139 0.685,-0.239 1.178,-0.301c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.401,0.031 1.894,0.092c0.493,0.062 0.878,0.162 1.155,0.301c0.278,0.138 0.478,0.3 0.601,0.485c0.123,0.185 0.185,0.385 0.185,0.6l0,9.888l10.673,0c0.246,0 0.462,0.054 0.646,0.161c0.185,0.108 0.347,0.293 0.486,0.555c0.138,0.262 0.238,0.593 0.3,0.993c0.061,0.401 0.092,0.893 0.092,1.479c0,1.109 -0.138,1.909 -0.416,2.402c-0.277,0.493 -0.646,0.739 -1.108,0.739l-10.673,0l0,23.194c0,2.865 0.423,5.028 1.27,6.491c0.847,1.464 2.364,2.195 4.551,2.195c0.709,0 1.34,-0.069 1.895,-0.208c0.554,-0.138 1.047,-0.285 1.478,-0.439c0.431,-0.154 0.801,-0.3 1.109,-0.439c0.308,-0.138 0.585,-0.208 0.832,-0.208c0.154,0 0.3,0.039 0.439,0.116c0.138,0.077 0.246,0.223 0.323,0.439c0.077,0.215 0.146,0.508 0.208,0.878c0.061,0.369 0.092,0.831 0.092,1.386Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M762.261,284.544l-5.544,15.293c-0.185,0.493 -0.654,0.87 -1.409,1.132c-0.755,0.262 -1.902,0.393 -3.442,0.393c-0.801,0 -1.448,-0.039 -1.941,-0.116c-0.493,-0.077 -0.87,-0.208 -1.132,-0.392c-0.261,-0.185 -0.408,-0.432 -0.439,-0.74c-0.03,-0.308 0.047,-0.677 0.231,-1.108l5.73,-14.462c-0.278,-0.123 -0.539,-0.323 -0.786,-0.6c-0.246,-0.278 -0.416,-0.57 -0.508,-0.878l-14.831,-39.734c-0.247,-0.647 -0.37,-1.155 -0.37,-1.525c0,-0.37 0.123,-0.662 0.37,-0.878c0.246,-0.215 0.647,-0.362 1.201,-0.439c0.555,-0.077 1.294,-0.115 2.218,-0.115c0.924,0 1.648,0.023 2.171,0.069c0.524,0.046 0.94,0.131 1.248,0.254c0.308,0.123 0.531,0.3 0.67,0.531c0.138,0.231 0.285,0.547 0.439,0.948l11.874,33.358l0.138,0l11.459,-33.543c0.184,-0.585 0.408,-0.963 0.669,-1.132c0.262,-0.17 0.655,-0.293 1.179,-0.37c0.523,-0.077 1.278,-0.115 2.264,-0.115c0.862,0 1.57,0.038 2.125,0.115c0.554,0.077 0.962,0.224 1.224,0.439c0.262,0.216 0.393,0.508 0.393,0.878c0,0.37 -0.092,0.832 -0.277,1.386l-14.924,41.351Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M840.528,267.773c0,2.803 -0.516,5.298 -1.548,7.485c-1.031,2.186 -2.464,4.042 -4.296,5.567c-1.833,1.525 -3.989,2.672 -6.469,3.442c-2.479,0.77 -5.151,1.155 -8.016,1.155c-2.002,0 -3.858,-0.169 -5.567,-0.508c-1.71,-0.339 -3.234,-0.755 -4.574,-1.248c-1.34,-0.492 -2.464,-1.001 -3.373,-1.524c-0.909,-0.524 -1.54,-0.971 -1.894,-1.34c-0.355,-0.37 -0.616,-0.84 -0.786,-1.409c-0.169,-0.57 -0.254,-1.333 -0.254,-2.287c0,-0.678 0.031,-1.24 0.093,-1.687c0.061,-0.446 0.154,-0.808 0.277,-1.086c0.123,-0.277 0.277,-0.469 0.462,-0.577c0.185,-0.108 0.4,-0.162 0.647,-0.162c0.431,0 1.039,0.262 1.825,0.786c0.785,0.523 1.794,1.093 3.026,1.709c1.232,0.616 2.718,1.194 4.458,1.733c1.741,0.539 3.75,0.808 6.03,0.808c1.725,0 3.303,-0.231 4.736,-0.693c1.432,-0.462 2.664,-1.116 3.696,-1.963c1.032,-0.847 1.825,-1.887 2.379,-3.119c0.555,-1.232 0.832,-2.634 0.832,-4.204c0,-1.695 -0.385,-3.142 -1.155,-4.343c-0.77,-1.202 -1.787,-2.257 -3.05,-3.165c-1.262,-0.909 -2.702,-1.741 -4.32,-2.495c-1.617,-0.755 -3.272,-1.525 -4.966,-2.31c-1.694,-0.786 -3.342,-1.656 -4.944,-2.611c-1.602,-0.955 -3.034,-2.079 -4.297,-3.373c-1.263,-1.293 -2.287,-2.81 -3.072,-4.551c-0.786,-1.74 -1.178,-3.827 -1.178,-6.26c0,-2.495 0.454,-4.72 1.363,-6.676c0.908,-1.956 2.171,-3.596 3.788,-4.921c1.617,-1.324 3.542,-2.333 5.775,-3.026c2.234,-0.693 4.644,-1.04 7.231,-1.04c1.325,0 2.657,0.116 3.997,0.347c1.34,0.231 2.602,0.539 3.788,0.924c1.186,0.385 2.241,0.816 3.165,1.294c0.924,0.477 1.532,0.862 1.825,1.155c0.293,0.292 0.485,0.523 0.578,0.693c0.092,0.169 0.169,0.385 0.231,0.647c0.061,0.261 0.107,0.577 0.138,0.947c0.031,0.369 0.046,0.847 0.046,1.432c0,0.554 -0.023,1.047 -0.069,1.479c-0.046,0.431 -0.115,0.793 -0.208,1.085c-0.092,0.293 -0.223,0.508 -0.392,0.647c-0.17,0.139 -0.362,0.208 -0.578,0.208c-0.339,0 -0.87,-0.216 -1.594,-0.647c-0.724,-0.431 -1.609,-0.916 -2.657,-1.455c-1.047,-0.539 -2.287,-1.032 -3.719,-1.479c-1.432,-0.446 -3.042,-0.67 -4.828,-0.67c-1.663,0 -3.111,0.224 -4.343,0.67c-1.232,0.447 -2.249,1.04 -3.049,1.779c-0.801,0.739 -1.402,1.617 -1.802,2.634c-0.401,1.016 -0.601,2.094 -0.601,3.234c0,1.663 0.385,3.095 1.155,4.297c0.77,1.201 1.794,2.264 3.073,3.188c1.278,0.924 2.733,1.771 4.366,2.541c1.632,0.77 3.295,1.548 4.99,2.333c1.694,0.785 3.357,1.648 4.989,2.587c1.633,0.94 3.088,2.049 4.367,3.327c1.278,1.278 2.31,2.787 3.095,4.528c0.786,1.74 1.178,3.796 1.178,6.168Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M886.638,283.389c0,0.247 -0.054,0.454 -0.161,0.624c-0.108,0.169 -0.301,0.316 -0.578,0.439c-0.277,0.123 -0.639,0.215 -1.086,0.277c-0.446,0.062 -0.993,0.092 -1.64,0.092c-0.708,0 -1.286,-0.03 -1.733,-0.092c-0.446,-0.062 -0.8,-0.154 -1.062,-0.277c-0.262,-0.123 -0.439,-0.27 -0.532,-0.439c-0.092,-0.17 -0.138,-0.377 -0.138,-0.624l0,-5.498c-2.372,2.618 -4.713,4.528 -7.023,5.729c-2.31,1.201 -4.651,1.802 -7.023,1.802c-2.772,0 -5.105,-0.462 -6.999,-1.386c-1.895,-0.924 -3.427,-2.179 -4.597,-3.766c-1.171,-1.586 -2.01,-3.434 -2.519,-5.544c-0.508,-2.11 -0.762,-4.674 -0.762,-7.693l0,-25.226c0,-0.246 0.054,-0.454 0.162,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.708,-0.231 1.201,-0.277c0.493,-0.046 1.109,-0.069 1.848,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.886,0.139 1.178,0.277c0.293,0.139 0.501,0.293 0.624,0.462c0.123,0.17 0.185,0.378 0.185,0.624l0,24.21c0,2.433 0.177,4.382 0.531,5.845c0.354,1.463 0.893,2.71 1.617,3.742c0.724,1.032 1.64,1.833 2.749,2.403c1.109,0.569 2.403,0.854 3.881,0.854c1.91,0 3.812,-0.677 5.706,-2.033c1.895,-1.355 3.904,-3.342 6.03,-5.96l0,-29.061c0,-0.246 0.054,-0.454 0.161,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.701,-0.231 1.178,-0.277c0.478,-0.046 1.101,-0.069 1.871,-0.069c0.74,0 1.356,0.023 1.849,0.069c0.492,0.046 0.877,0.139 1.155,0.277c0.277,0.139 0.485,0.293 0.623,0.462c0.139,0.17 0.208,0.378 0.208,0.624l0,41.582Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M938.986,261.951c0,3.635 -0.393,6.9 -1.179,9.795c-0.785,2.895 -1.94,5.352 -3.465,7.369c-1.524,2.018 -3.411,3.573 -5.66,4.667c-2.248,1.093 -4.82,1.64 -7.715,1.64c-1.232,0 -2.372,-0.123 -3.419,-0.37c-1.048,-0.246 -2.072,-0.631 -3.073,-1.155c-1.001,-0.523 -1.994,-1.185 -2.98,-1.986c-0.986,-0.801 -2.033,-1.741 -3.142,-2.819l0,20.791c0,0.247 -0.061,0.462 -0.184,0.647c-0.124,0.185 -0.324,0.339 -0.601,0.462c-0.277,0.123 -0.662,0.216 -1.155,0.277c-0.493,0.062 -1.124,0.093 -1.894,0.093c-0.74,0 -1.356,-0.031 -1.849,-0.093c-0.492,-0.061 -0.885,-0.154 -1.178,-0.277c-0.292,-0.123 -0.493,-0.277 -0.6,-0.462c-0.108,-0.185 -0.162,-0.4 -0.162,-0.647l0,-58.076c0,-0.277 0.046,-0.501 0.139,-0.67c0.092,-0.169 0.277,-0.316 0.554,-0.439c0.277,-0.123 0.631,-0.208 1.063,-0.254c0.431,-0.046 0.954,-0.069 1.571,-0.069c0.646,0 1.178,0.023 1.594,0.069c0.415,0.046 0.762,0.131 1.039,0.254c0.277,0.123 0.47,0.27 0.578,0.439c0.107,0.169 0.161,0.393 0.161,0.67l0,5.59c1.263,-1.293 2.48,-2.417 3.65,-3.372c1.171,-0.955 2.349,-1.748 3.535,-2.38c1.186,-0.631 2.402,-1.109 3.65,-1.432c1.247,-0.323 2.564,-0.485 3.95,-0.485c3.019,0 5.591,0.585 7.716,1.756c2.125,1.17 3.858,2.772 5.198,4.805c1.34,2.033 2.317,4.397 2.933,7.092c0.617,2.695 0.925,5.552 0.925,8.57Zm-7.901,0.878c0,-2.125 -0.163,-4.181 -0.488,-6.168c-0.325,-1.987 -0.883,-3.75 -1.673,-5.29c-0.791,-1.54 -1.852,-2.772 -3.185,-3.696c-1.332,-0.924 -2.99,-1.386 -4.974,-1.386c-0.992,0 -1.968,0.146 -2.929,0.439c-0.96,0.292 -1.936,0.754 -2.928,1.386c-0.992,0.631 -2.03,1.463 -3.115,2.495c-1.085,1.031 -2.231,2.302 -3.44,3.811l0,16.541c2.108,2.556 4.107,4.512 5.997,5.867c1.891,1.356 3.874,2.033 5.95,2.033c1.922,0 3.572,-0.462 4.951,-1.386c1.379,-0.924 2.495,-2.156 3.347,-3.696c0.852,-1.54 1.48,-3.265 1.883,-5.175c0.403,-1.909 0.604,-3.834 0.604,-5.775Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M988.699,261.951c0,3.635 -0.392,6.9 -1.178,9.795c-0.785,2.895 -1.94,5.352 -3.465,7.369c-1.525,2.018 -3.411,3.573 -5.66,4.667c-2.248,1.093 -4.82,1.64 -7.716,1.64c-1.232,0 -2.371,-0.123 -3.419,-0.37c-1.047,-0.246 -2.071,-0.631 -3.072,-1.155c-1.001,-0.523 -1.994,-1.185 -2.98,-1.986c-0.986,-0.801 -2.033,-1.741 -3.142,-2.819l0,20.791c0,0.247 -0.061,0.462 -0.185,0.647c-0.123,0.185 -0.323,0.339 -0.6,0.462c-0.278,0.123 -0.663,0.216 -1.155,0.277c-0.493,0.062 -1.125,0.093 -1.895,0.093c-0.739,0 -1.355,-0.031 -1.848,-0.093c-0.493,-0.061 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.277 -0.601,-0.462c-0.107,-0.185 -0.161,-0.4 -0.161,-0.647l0,-58.076c0,-0.277 0.046,-0.501 0.138,-0.67c0.093,-0.169 0.278,-0.316 0.555,-0.439c0.277,-0.123 0.631,-0.208 1.062,-0.254c0.432,-0.046 0.955,-0.069 1.571,-0.069c0.647,0 1.178,0.023 1.594,0.069c0.416,0.046 0.763,0.131 1.04,0.254c0.277,0.123 0.47,0.27 0.577,0.439c0.108,0.169 0.162,0.393 0.162,0.67l0,5.59c1.263,-1.293 2.48,-2.417 3.65,-3.372c1.171,-0.955 2.349,-1.748 3.535,-2.38c1.185,-0.631 2.402,-1.109 3.65,-1.432c1.247,-0.323 2.564,-0.485 3.95,-0.485c3.018,0 5.59,0.585 7.716,1.756c2.125,1.17 3.858,2.772 5.197,4.805c1.34,2.033 2.318,4.397 2.934,7.092c0.616,2.695 0.924,5.552 0.924,8.57Zm-7.9,0.878c0,-2.125 -0.163,-4.181 -0.488,-6.168c-0.326,-1.987 -0.883,-3.75 -1.674,-5.29c-0.79,-1.54 -1.851,-2.772 -3.184,-3.696c-1.333,-0.924 -2.991,-1.386 -4.974,-1.386c-0.992,0 -1.968,0.146 -2.929,0.439c-0.96,0.292 -1.937,0.754 -2.928,1.386c-0.992,0.631 -2.03,1.463 -3.115,2.495c-1.085,1.031 -2.231,2.302 -3.44,3.811l0,16.541c2.108,2.556 4.107,4.512 5.997,5.867c1.891,1.356 3.874,2.033 5.95,2.033c1.921,0 3.571,-0.462 4.951,-1.386c1.379,-0.924 2.494,-2.156 3.347,-3.696c0.852,-1.54 1.48,-3.265 1.882,-5.175c0.403,-1.909 0.605,-3.834 0.605,-5.775Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1038.83,262.136c0,3.388 -0.447,6.507 -1.34,9.356c-0.893,2.849 -2.225,5.306 -3.996,7.369c-1.772,2.064 -3.989,3.673 -6.654,4.828c-2.664,1.156 -5.752,1.733 -9.263,1.733c-3.419,0 -6.399,-0.508 -8.94,-1.525c-2.541,-1.016 -4.659,-2.495 -6.353,-4.435c-1.694,-1.941 -2.957,-4.297 -3.789,-7.069c-0.831,-2.772 -1.247,-5.914 -1.247,-9.425c0,-3.388 0.439,-6.507 1.317,-9.356c0.877,-2.849 2.202,-5.306 3.973,-7.37c1.771,-2.063 3.981,-3.665 6.63,-4.805c2.649,-1.139 5.744,-1.709 9.287,-1.709c3.419,0 6.399,0.508 8.94,1.525c2.541,1.016 4.659,2.494 6.353,4.435c1.694,1.94 2.964,4.297 3.811,7.069c0.847,2.772 1.271,5.898 1.271,9.379Zm-7.901,0.508c0,-2.248 -0.21,-4.374 -0.629,-6.376c-0.42,-2.002 -1.111,-3.757 -2.075,-5.267c-0.963,-1.509 -2.269,-2.703 -3.916,-3.58c-1.647,-0.878 -3.698,-1.317 -6.154,-1.317c-2.269,0 -4.219,0.4 -5.851,1.201c-1.631,0.801 -2.976,1.933 -4.032,3.396c-1.057,1.463 -1.842,3.196 -2.354,5.198c-0.513,2.002 -0.77,4.189 -0.77,6.56c0,2.28 0.21,4.42 0.63,6.423c0.42,2.002 1.119,3.75 2.098,5.244c0.979,1.493 2.292,2.679 3.939,3.557c1.647,0.878 3.698,1.317 6.154,1.317c2.238,0 4.18,-0.401 5.827,-1.201c1.648,-0.801 3,-1.925 4.056,-3.373c1.057,-1.448 1.834,-3.173 2.331,-5.175c0.498,-2.002 0.746,-4.204 0.746,-6.607Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1074.36,244.533c0,0.678 -0.016,1.247 -0.047,1.709c-0.03,0.462 -0.092,0.824 -0.184,1.086c-0.093,0.262 -0.208,0.462 -0.347,0.601c-0.139,0.138 -0.331,0.208 -0.577,0.208c-0.247,0 -0.547,-0.07 -0.901,-0.208c-0.355,-0.139 -0.755,-0.277 -1.202,-0.416c-0.446,-0.139 -0.947,-0.27 -1.501,-0.393c-0.555,-0.123 -1.155,-0.185 -1.802,-0.185c-0.77,0 -1.525,0.154 -2.264,0.462c-0.739,0.308 -1.517,0.817 -2.333,1.525c-0.817,0.709 -1.671,1.648 -2.565,2.818c-0.893,1.171 -1.878,2.603 -2.956,4.297l0,27.352c0,0.247 -0.062,0.454 -0.185,0.624c-0.124,0.169 -0.324,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.124,0.092 -1.894,0.092c-0.74,0 -1.356,-0.03 -1.848,-0.092c-0.493,-0.062 -0.886,-0.154 -1.179,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.139,-0.624c0.092,-0.169 0.277,-0.323 0.554,-0.462c0.277,-0.138 0.632,-0.231 1.063,-0.277c0.431,-0.046 1.001,-0.069 1.709,-0.069c0.678,0 1.24,0.023 1.687,0.069c0.446,0.046 0.793,0.139 1.039,0.277c0.247,0.139 0.424,0.293 0.532,0.462c0.107,0.17 0.161,0.378 0.161,0.624l0,6.052c1.14,-1.663 2.21,-3.018 3.211,-4.065c1.001,-1.048 1.949,-1.872 2.842,-2.472c0.893,-0.601 1.779,-1.017 2.656,-1.248c0.878,-0.231 1.764,-0.346 2.657,-0.346c0.4,0 0.855,0.023 1.363,0.069c0.508,0.046 1.04,0.131 1.594,0.254c0.554,0.123 1.055,0.262 1.502,0.416c0.446,0.154 0.762,0.308 0.947,0.462c0.185,0.154 0.308,0.3 0.369,0.439c0.062,0.139 0.116,0.316 0.162,0.531c0.046,0.216 0.077,0.532 0.092,0.948c0.016,0.415 0.024,0.977 0.024,1.686Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1104.67,280.34c0,0.893 -0.061,1.601 -0.184,2.125c-0.124,0.524 -0.308,0.909 -0.555,1.155c-0.246,0.247 -0.616,0.478 -1.109,0.693c-0.493,0.216 -1.055,0.393 -1.686,0.532c-0.632,0.138 -1.302,0.254 -2.01,0.346c-0.708,0.092 -1.417,0.139 -2.125,0.139c-2.156,0 -4.004,-0.285 -5.545,-0.855c-1.54,-0.57 -2.802,-1.432 -3.788,-2.587c-0.986,-1.155 -1.702,-2.619 -2.149,-4.39c-0.446,-1.771 -0.669,-3.858 -0.669,-6.26l0,-24.303l-5.822,0c-0.462,0 -0.832,-0.246 -1.109,-0.739c-0.277,-0.493 -0.416,-1.293 -0.416,-2.402c0,-0.586 0.039,-1.078 0.116,-1.479c0.077,-0.4 0.177,-0.731 0.3,-0.993c0.123,-0.262 0.285,-0.447 0.485,-0.555c0.2,-0.107 0.424,-0.161 0.67,-0.161l5.776,0l0,-9.888c0,-0.215 0.053,-0.415 0.161,-0.6c0.108,-0.185 0.308,-0.347 0.601,-0.485c0.292,-0.139 0.685,-0.239 1.178,-0.301c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.402,0.031 1.894,0.092c0.493,0.062 0.878,0.162 1.155,0.301c0.278,0.138 0.478,0.3 0.601,0.485c0.123,0.185 0.185,0.385 0.185,0.6l0,9.888l10.673,0c0.246,0 0.462,0.054 0.646,0.161c0.185,0.108 0.347,0.293 0.486,0.555c0.138,0.262 0.238,0.593 0.3,0.993c0.062,0.401 0.092,0.893 0.092,1.479c0,1.109 -0.138,1.909 -0.415,2.402c-0.278,0.493 -0.647,0.739 -1.109,0.739l-10.673,0l0,23.194c0,2.865 0.423,5.028 1.27,6.491c0.848,1.464 2.364,2.195 4.551,2.195c0.709,0 1.34,-0.069 1.895,-0.208c0.554,-0.138 1.047,-0.285 1.478,-0.439c0.431,-0.154 0.801,-0.3 1.109,-0.439c0.308,-0.138 0.585,-0.208 0.832,-0.208c0.154,0 0.3,0.039 0.439,0.116c0.138,0.077 0.246,0.223 0.323,0.439c0.077,0.215 0.146,0.508 0.208,0.878c0.062,0.369 0.092,0.831 0.092,1.386Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1149.21,260.796c0,1.201 -0.301,2.056 -0.904,2.564c-0.604,0.509 -1.292,0.763 -2.066,0.763l-27.385,0c0,2.31 0.233,4.389 0.697,6.237c0.464,1.848 1.238,3.434 2.321,4.759c1.083,1.324 2.492,2.341 4.225,3.049c1.733,0.709 3.854,1.063 6.36,1.063c1.981,0 3.746,-0.162 5.293,-0.485c1.548,-0.324 2.886,-0.686 4.016,-1.086c1.13,-0.4 2.059,-0.762 2.786,-1.086c0.727,-0.323 1.277,-0.485 1.649,-0.485c0.216,0 0.409,0.054 0.58,0.162c0.17,0.108 0.301,0.269 0.394,0.485c0.093,0.216 0.163,0.516 0.209,0.901c0.047,0.385 0.07,0.855 0.07,1.409c0,0.401 -0.016,0.747 -0.046,1.04c-0.031,0.292 -0.07,0.554 -0.116,0.785c-0.046,0.231 -0.123,0.439 -0.231,0.624c-0.108,0.185 -0.246,0.362 -0.416,0.531c-0.169,0.17 -0.67,0.447 -1.501,0.832c-0.832,0.385 -1.91,0.762 -3.235,1.132c-1.324,0.369 -2.856,0.701 -4.597,0.993c-1.74,0.293 -3.596,0.439 -5.567,0.439c-3.419,0 -6.414,-0.477 -8.986,-1.432c-2.572,-0.955 -4.736,-2.372 -6.492,-4.251c-1.756,-1.879 -3.08,-4.235 -3.973,-7.069c-0.894,-2.834 -1.34,-6.129 -1.34,-9.887c0,-3.573 0.462,-6.784 1.386,-9.633c0.924,-2.849 2.256,-5.267 3.996,-7.254c1.741,-1.987 3.843,-3.511 6.307,-4.574c2.464,-1.063 5.221,-1.594 8.27,-1.594c3.265,0 6.045,0.524 8.34,1.571c2.295,1.047 4.181,2.456 5.66,4.227c1.478,1.771 2.564,3.85 3.257,6.238c0.693,2.387 1.039,4.936 1.039,7.646l0,1.386Zm-7.669,-2.264c0.092,-4.004 -0.799,-7.146 -2.673,-9.425c-1.875,-2.279 -4.656,-3.419 -8.344,-3.419c-1.891,0 -3.549,0.354 -4.974,1.063c-1.426,0.708 -2.619,1.648 -3.58,2.818c-0.961,1.17 -1.705,2.533 -2.231,4.089c-0.527,1.555 -0.821,3.18 -0.884,4.874l22.686,0Z\" style=\"fill:#333;fill-rule:nonzero;\"/><path d=\"M1196.42,283.389c0,0.247 -0.054,0.462 -0.161,0.647c-0.108,0.185 -0.293,0.331 -0.555,0.439c-0.262,0.108 -0.608,0.192 -1.039,0.254c-0.432,0.062 -0.955,0.092 -1.571,0.092c-0.647,0 -1.186,-0.03 -1.617,-0.092c-0.432,-0.062 -0.786,-0.146 -1.063,-0.254c-0.277,-0.108 -0.477,-0.254 -0.601,-0.439c-0.123,-0.185 -0.184,-0.4 -0.184,-0.647l0,-5.498c-2.187,2.372 -4.459,4.22 -6.815,5.544c-2.357,1.325 -4.936,1.987 -7.739,1.987c-3.05,0 -5.652,-0.593 -7.808,-1.779c-2.157,-1.186 -3.905,-2.787 -5.244,-4.805c-1.34,-2.017 -2.318,-4.389 -2.934,-7.115c-0.616,-2.726 -0.924,-5.598 -0.924,-8.617c0,-3.573 0.385,-6.799 1.155,-9.679c0.77,-2.88 1.909,-5.336 3.419,-7.369c1.509,-2.033 3.38,-3.596 5.613,-4.69c2.233,-1.093 4.813,-1.64 7.739,-1.64c2.434,0 4.659,0.531 6.676,1.594c2.018,1.063 4.012,2.626 5.984,4.689l0,-24.163c0,-0.216 0.054,-0.424 0.161,-0.624c0.108,-0.2 0.316,-0.354 0.624,-0.462c0.308,-0.108 0.701,-0.2 1.178,-0.277c0.478,-0.077 1.086,-0.116 1.825,-0.116c0.77,0 1.402,0.039 1.895,0.116c0.492,0.077 0.877,0.169 1.155,0.277c0.277,0.108 0.485,0.262 0.623,0.462c0.139,0.2 0.208,0.408 0.208,0.624l0,61.541Zm-7.669,-29.246c-2.064,-2.557 -4.058,-4.505 -5.984,-5.845c-1.925,-1.339 -3.934,-2.009 -6.029,-2.009c-1.94,0 -3.588,0.462 -4.944,1.386c-1.355,0.924 -2.456,2.14 -3.303,3.65c-0.847,1.509 -1.463,3.218 -1.848,5.128c-0.385,1.91 -0.578,3.85 -0.578,5.822c0,2.094 0.162,4.142 0.485,6.145c0.324,2.002 0.886,3.78 1.687,5.336c0.801,1.555 1.863,2.803 3.188,3.742c1.324,0.94 2.988,1.41 4.99,1.41c1.016,0 1.994,-0.139 2.934,-0.416c0.939,-0.278 1.902,-0.74 2.887,-1.386c0.986,-0.647 2.018,-1.487 3.096,-2.518c1.078,-1.032 2.217,-2.303 3.419,-3.812l0,-16.633Z\" style=\"fill:#333;fill-rule:nonzero;\"/><g><g><path d=\"M280.884,219.245c1.765,0 3.198,-1.433 3.198,-3.198l0,-6.395c0,-1.765 -1.433,-3.197 -3.198,-3.197l-225.605,0c-1.764,0 -3.197,1.432 -3.197,3.197l0,6.395c0,1.765 1.433,3.198 3.197,3.198l225.605,0Z\" style=\"fill:#8c8c8c;\"/><path d=\"M280.884,165.588c1.765,0 3.198,-1.433 3.198,-3.198l0,-6.395c0,-1.765 -1.433,-3.197 -3.198,-3.197l-225.605,0c-1.764,0 -3.197,1.432 -3.197,3.197l0,6.395c0,1.765 1.433,3.198 3.197,3.198l225.605,0Z\" style=\"fill:#8c8c8c;\"/><path d=\"M280.884,192.416c1.765,0 3.198,-1.432 3.198,-3.197l0,-6.395c0,-1.765 -1.433,-3.198 -3.198,-3.198l-225.605,0c-1.764,0 -3.197,1.433 -3.197,3.198l0,6.395c0,1.765 1.433,3.197 3.197,3.197l225.605,0Z\" style=\"fill:#8c8c8c;\"/><path d=\"M280.884,138.759c1.765,0 3.198,-1.432 3.198,-3.197l0,-6.395c0,-1.765 -1.433,-3.198 -3.198,-3.198l-225.605,0c-1.764,0 -3.197,1.433 -3.197,3.198l0,6.395c0,1.765 1.433,3.197 3.197,3.197l225.605,0Z\" style=\"fill:#8c8c8c;\"/><path d=\"M280.884,246.074c1.765,0 3.198,-1.433 3.198,-3.198l0,-6.395c0,-1.765 -1.433,-3.198 -3.198,-3.198l-225.605,0c-1.764,0 -3.197,1.433 -3.197,3.198l0,6.395c0,1.765 1.433,3.198 3.197,3.198l225.605,0Z\" style=\"fill:#8c8c8c;\"/><path d=\"M134.858,298.824c0,1.764 1.433,3.197 3.198,3.197l6.395,0c1.765,0 3.197,-1.433 3.197,-3.197l0,-225.605c0,-1.765 -1.432,-3.198 -3.197,-3.198l-6.395,0c-1.765,0 -3.198,1.433 -3.198,3.198l0,225.605Z\" style=\"fill:#8c8c8c;\"/><path d=\"M188.515,298.824c0,1.764 1.433,3.197 3.198,3.197l6.395,0c1.765,0 3.198,-1.433 3.198,-3.197l0,-225.605c0,-1.765 -1.433,-3.198 -3.198,-3.198l-6.395,0c-1.765,0 -3.198,1.433 -3.198,3.198l0,225.605Z\" style=\"fill:#8c8c8c;\"/><path d=\"M161.687,298.824c0,1.764 1.432,3.197 3.197,3.197l6.395,0c1.765,0 3.198,-1.433 3.198,-3.197l0,-225.605c0,-1.765 -1.433,-3.198 -3.198,-3.198l-6.395,0c-1.765,0 -3.197,1.433 -3.197,3.198l0,225.605Z\" style=\"fill:#8c8c8c;\"/><path d=\"M215.344,298.824c0,1.764 1.433,3.197 3.197,3.197l6.396,0c1.764,0 3.197,-1.433 3.197,-3.197l0,-225.605c0,-1.765 -1.433,-3.198 -3.197,-3.198l-6.396,0c-1.764,0 -3.197,1.433 -3.197,3.198l0,225.605Z\" style=\"fill:#8c8c8c;\"/><path d=\"M108.029,298.824c0,1.764 1.433,3.197 3.198,3.197l6.395,0c1.765,0 3.198,-1.433 3.198,-3.197l0,-225.605c0,-1.765 -1.433,-3.198 -3.198,-3.198l-6.395,0c-1.765,0 -3.198,1.433 -3.198,3.198l0,225.605Z\" style=\"fill:#8c8c8c;\"/></g><path d=\"M232.655,278.269c15.274,0 27.674,-12.401 27.674,-27.674l0,-129.147c0,-15.274 -12.4,-27.674 -27.674,-27.674l-129.146,0c-15.274,0 -27.675,12.4 -27.675,27.674l0,129.147c0,15.273 12.401,27.674 27.675,27.674l129.146,0Z\" style=\"fill:#333;\"/><path d=\"M220.739,175.532c0,6.734 -1.056,12.768 -3.167,18.104c-2.112,5.335 -5.122,9.886 -9.031,13.653c-3.909,3.766 -8.645,6.676 -14.209,8.731c-5.564,2.054 -11.855,3.167 -18.874,3.338l0,20.458c0,0.456 -0.114,0.856 -0.343,1.198c-0.228,0.342 -0.627,0.614 -1.198,0.813c-0.571,0.2 -1.327,0.357 -2.268,0.471c-0.942,0.114 -2.126,0.171 -3.553,0.171c-1.426,0 -2.61,-0.057 -3.552,-0.171c-0.942,-0.114 -1.683,-0.271 -2.226,-0.471c-0.542,-0.199 -0.941,-0.471 -1.198,-0.813c-0.257,-0.342 -0.385,-0.742 -0.385,-1.198l0,-20.458c-7.133,-0.171 -13.496,-1.199 -19.088,-3.082c-5.593,-1.883 -10.329,-4.608 -14.21,-8.174c-3.88,-3.567 -6.847,-7.947 -8.902,-13.139c-2.054,-5.193 -3.081,-11.157 -3.081,-17.89l0,-43.741c0,-0.399 0.128,-0.77 0.385,-1.113c0.257,-0.342 0.656,-0.627 1.198,-0.856c0.542,-0.228 1.284,-0.399 2.226,-0.513c0.941,-0.114 2.125,-0.171 3.552,-0.171c1.427,0 2.611,0.057 3.552,0.171c0.942,0.114 1.698,0.285 2.269,0.513c0.57,0.229 0.97,0.514 1.198,0.856c0.228,0.343 0.343,0.714 0.343,1.113l0,42.457c0,4.736 0.627,9.002 1.883,12.796c1.255,3.795 3.138,7.019 5.649,9.673c2.511,2.654 5.692,4.708 9.544,6.163c3.852,1.455 8.346,2.24 13.482,2.354l0,-73.443c0,-0.399 0.128,-0.77 0.385,-1.113c0.257,-0.342 0.685,-0.627 1.284,-0.856c0.599,-0.228 1.37,-0.399 2.311,-0.513c0.942,-0.114 2.069,-0.171 3.381,-0.171c1.427,0 2.611,0.057 3.553,0.171c0.941,0.114 1.697,0.285 2.268,0.513c0.571,0.229 0.97,0.514 1.198,0.856c0.229,0.343 0.343,0.714 0.343,1.113l0,73.443c5.136,-0.057 9.615,-0.842 13.439,-2.354c3.823,-1.512 7.004,-3.595 9.544,-6.249c2.539,-2.653 4.451,-5.849 5.735,-9.587c1.284,-3.737 1.926,-7.889 1.926,-12.454l0,-42.799c0,-0.399 0.114,-0.77 0.342,-1.113c0.228,-0.342 0.628,-0.627 1.198,-0.856c0.571,-0.228 1.313,-0.399 2.226,-0.513c0.913,-0.114 2.111,-0.171 3.595,-0.171c1.37,0 2.525,0.057 3.467,0.171c0.941,0.114 1.683,0.285 2.225,0.513c0.542,0.229 0.942,0.514 1.199,0.856c0.256,0.343 0.385,0.714 0.385,1.113l0,42.2Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M220.739,175.532c0,6.734 -1.056,12.768 -3.167,18.104c-2.112,5.335 -5.122,9.886 -9.031,13.653c-3.909,3.766 -8.645,6.676 -14.209,8.731c-5.564,2.054 -11.855,3.167 -18.874,3.338l0,20.458c0,0.456 -0.114,0.856 -0.343,1.198c-0.228,0.342 -0.627,0.614 -1.198,0.813c-0.571,0.2 -1.327,0.357 -2.268,0.471c-0.942,0.114 -2.126,0.171 -3.553,0.171c-1.426,0 -2.61,-0.057 -3.552,-0.171c-0.942,-0.114 -1.683,-0.271 -2.226,-0.471c-0.542,-0.199 -0.941,-0.471 -1.198,-0.813c-0.257,-0.342 -0.385,-0.742 -0.385,-1.198l0,-20.458c-7.133,-0.171 -13.496,-1.199 -19.088,-3.082c-5.593,-1.883 -10.329,-4.608 -14.21,-8.174c-3.88,-3.567 -6.847,-7.947 -8.902,-13.139c-2.054,-5.193 -3.081,-11.157 -3.081,-17.89l0,-43.741c0,-0.399 0.128,-0.77 0.385,-1.113c0.257,-0.342 0.656,-0.627 1.198,-0.856c0.542,-0.228 1.284,-0.399 2.226,-0.513c0.941,-0.114 2.125,-0.171 3.552,-0.171c1.427,0 2.611,0.057 3.552,0.171c0.942,0.114 1.698,0.285 2.269,0.513c0.57,0.229 0.97,0.514 1.198,0.856c0.228,0.343 0.343,0.714 0.343,1.113l0,42.457c0,4.736 0.627,9.002 1.883,12.796c1.255,3.795 3.138,7.019 5.649,9.673c2.511,2.654 5.692,4.708 9.544,6.163c3.852,1.455 8.346,2.24 13.482,2.354l0,-73.443c0,-0.399 0.128,-0.77 0.385,-1.113c0.257,-0.342 0.685,-0.627 1.284,-0.856c0.599,-0.228 1.37,-0.399 2.311,-0.513c0.942,-0.114 2.069,-0.171 3.381,-0.171c1.427,0 2.611,0.057 3.553,0.171c0.941,0.114 1.697,0.285 2.268,0.513c0.571,0.229 0.97,0.514 1.198,0.856c0.229,0.343 0.343,0.714 0.343,1.113l0,73.443c5.136,-0.057 9.615,-0.842 13.439,-2.354c3.823,-1.512 7.004,-3.595 9.544,-6.249c2.539,-2.653 4.451,-5.849 5.735,-9.587c1.284,-3.737 1.926,-7.889 1.926,-12.454l0,-42.799c0,-0.399 0.114,-0.77 0.342,-1.113c0.228,-0.342 0.628,-0.627 1.198,-0.856c0.571,-0.228 1.313,-0.399 2.226,-0.513c0.913,-0.114 2.111,-0.171 3.595,-0.171c1.37,0 2.525,0.057 3.467,0.171c0.941,0.114 1.683,0.285 2.225,0.513c0.542,0.229 0.942,0.514 1.199,0.856c0.256,0.343 0.385,0.714 0.385,1.113l0,42.2Z\" style=\"fill:#fff;fill-rule:nonzero;\"/></g></g></svg>\n<!-- Original: ![QMK Dark](./public/badge-community-dark.svg) -->\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 1260 371\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\"><rect id=\"badge.-community.-dark\" x=\"0\" y=\"0.321\" width=\"1260\" height=\"370\" style=\"fill:none;\"/><clipPath id=\"_clip1\"><rect x=\"0\" y=\"0.321\" width=\"1260\" height=\"370\"/></clipPath><g clip-path=\"url(#_clip1)\"><path d=\"M1260,33.621c0,-18.379 -14.921,-33.3 -33.3,-33.3l-1193.4,0c-18.379,0 -33.3,14.921 -33.3,33.3l0,303.4c0,18.378 14.921,33.3 33.3,33.3l1193.4,0c18.379,0 33.3,-14.922 33.3,-33.3l0,-303.4Z\" style=\"fill:#333;\"/><path d=\"M118.018,302.021l-6.434,0c-1.775,0 -3.217,-1.441 -3.217,-3.217l0,-20.679l-4.548,0c-15.366,0 -27.841,-12.475 -27.841,-27.841l0,-4.548l-20.679,0c-1.776,0 -3.217,-1.442 -3.217,-3.217l0,-6.434c0,-1.775 1.441,-3.217 3.217,-3.217l20.679,0l0,-14.123l-20.679,0c-1.776,0 -3.217,-1.441 -3.217,-3.217l0,-6.434c0,-1.775 1.441,-3.217 3.217,-3.217l20.679,0l0,-14.123l-20.679,0c-1.776,0 -3.217,-1.441 -3.217,-3.216l0,-6.434c0,-1.776 1.441,-3.217 3.217,-3.217l20.679,0l0,-14.123l-20.679,0c-1.776,0 -3.217,-1.442 -3.217,-3.217l0,-6.434c0,-1.775 1.441,-3.217 3.217,-3.217l20.679,0l0,-14.123l-20.679,0c-1.776,0 -3.217,-1.441 -3.217,-3.217l0,-6.434c0,-1.775 1.441,-3.216 3.217,-3.217l20.679,0l0,-4.548c0,-15.366 12.475,-27.841 27.841,-27.841l4.548,0l0,-20.679c0,-1.776 1.442,-3.217 3.217,-3.217l6.434,0c1.776,0 3.217,1.441 3.217,3.217l0,20.679l14.123,0l0,-20.679c0,-1.776 1.441,-3.217 3.217,-3.217l6.434,0c1.775,0 3.217,1.441 3.217,3.217l0,20.679l14.123,0l0,-20.679c0,-1.776 1.441,-3.217 3.217,-3.217l6.433,0c1.776,0 3.217,1.441 3.217,3.217l0,20.679l14.123,0l0,-20.679c0,-1.776 1.442,-3.217 3.217,-3.217l6.434,0c1.776,0 3.217,1.441 3.217,3.217l0,20.679l14.123,0l0,-20.679c0,-1.776 1.441,-3.217 3.217,-3.217l6.434,0c1.775,0 3.217,1.441 3.217,3.217l0,20.679l4.548,0c15.366,0 27.841,12.475 27.841,27.841l0,4.548l20.679,0c1.776,0.001 3.217,1.442 3.217,3.217l0,6.434c0,1.775 -1.441,3.217 -3.217,3.217l-20.679,0l0,14.123l20.679,0c1.776,0.001 3.217,1.442 3.217,3.217l0,6.434c0,1.775 -1.441,3.216 -3.217,3.217l-20.679,0l0,14.123l20.679,0c1.776,0 3.217,1.442 3.217,3.217l0,6.434c0,1.775 -1.441,3.216 -3.217,3.216l-20.679,0l0,14.123l20.679,0c1.776,0.001 3.217,1.442 3.217,3.217l0,6.434c0,1.775 -1.441,3.217 -3.217,3.217l-20.679,0l0,14.123l20.679,0c1.776,0.001 3.217,1.442 3.217,3.217l0,6.434c0,1.775 -1.441,3.216 -3.217,3.217l-20.679,0l0,4.548c0,15.366 -12.475,27.841 -27.841,27.841l-4.548,0l0,20.679c0,1.776 -1.441,3.217 -3.217,3.217l-6.434,0c-1.776,0 -3.217,-1.441 -3.217,-3.217l0,-20.679l-14.123,0l0,20.679c0,1.776 -1.441,3.217 -3.217,3.217l-6.434,0c-1.775,0 -3.217,-1.441 -3.217,-3.217l0,-20.679l-14.123,0l0,20.679c0,1.776 -1.441,3.217 -3.217,3.217l-6.433,0c-1.776,0 -3.217,-1.441 -3.217,-3.217l0,-20.679l-14.123,0l0,20.679c0,1.776 -1.441,3.217 -3.217,3.217l-6.434,0c-1.775,0 -3.217,-1.441 -3.217,-3.217l0,-20.679l-14.123,0l0,20.679c0,1.776 -1.441,3.217 -3.217,3.217Zm103.74,-127.253c0,6.774 -1.062,12.845 -3.187,18.213c-2.124,5.368 -5.152,9.946 -9.085,13.735c-3.932,3.789 -8.697,6.717 -14.295,8.784c-5.597,2.067 -11.927,3.186 -18.988,3.359l0,20.581c0,0.459 -0.115,0.861 -0.345,1.206c-0.229,0.344 -0.631,0.617 -1.205,0.818c-0.574,0.201 -1.335,0.358 -2.282,0.473c-0.947,0.115 -2.139,0.173 -3.574,0.173c-1.435,0 -2.626,-0.058 -3.574,-0.173c-0.947,-0.115 -1.693,-0.272 -2.239,-0.473c-0.545,-0.201 -0.947,-0.474 -1.205,-0.818c-0.259,-0.345 -0.388,-0.747 -0.388,-1.206l0,-20.581c-7.176,-0.173 -13.577,-1.206 -19.203,-3.101c-5.627,-1.894 -10.392,-4.635 -14.295,-8.224c-3.904,-3.588 -6.89,-7.994 -8.956,-13.218c-2.067,-5.224 -3.101,-11.224 -3.101,-17.998l0,-44.005c0,-0.402 0.13,-0.775 0.388,-1.119c0.258,-0.345 0.66,-0.632 1.206,-0.861c0.545,-0.23 1.291,-0.402 2.239,-0.517c0.947,-0.115 2.138,-0.172 3.573,-0.172c1.436,0 2.627,0.057 3.574,0.172c0.947,0.115 1.708,0.287 2.282,0.517c0.574,0.229 0.976,0.516 1.206,0.861c0.229,0.344 0.344,0.717 0.344,1.119l0,42.713c0,4.765 0.632,9.057 1.895,12.874c1.263,3.818 3.157,7.062 5.683,9.731c2.526,2.67 5.727,4.737 9.602,6.201c3.875,1.463 8.396,2.253 13.563,2.368l0,-73.887c0,-0.402 0.129,-0.775 0.388,-1.119c0.258,-0.345 0.689,-0.632 1.291,-0.861c0.603,-0.23 1.378,-0.402 2.326,-0.517c0.947,-0.115 2.081,-0.172 3.401,-0.172c1.435,0 2.627,0.057 3.574,0.172c0.947,0.115 1.708,0.287 2.282,0.517c0.574,0.229 0.976,0.516 1.205,0.861c0.23,0.344 0.345,0.717 0.345,1.119l0,73.887c5.167,-0.058 9.673,-0.847 13.52,-2.368c3.846,-1.522 7.047,-3.617 9.602,-6.287c2.554,-2.669 4.478,-5.884 5.769,-9.645c1.292,-3.76 1.938,-7.937 1.938,-12.529l0,-43.058c0,-0.402 0.115,-0.775 0.344,-1.119c0.23,-0.345 0.632,-0.632 1.206,-0.861c0.574,-0.23 1.321,-0.402 2.239,-0.517c0.919,-0.115 2.124,-0.172 3.617,-0.172c1.378,0 2.54,0.057 3.488,0.172c0.947,0.115 1.693,0.287 2.239,0.517c0.545,0.229 0.947,0.516 1.205,0.861c0.258,0.344 0.388,0.717 0.388,1.119l0,42.455Z\" style=\"fill:#fff;\"/><path d=\"M426.392,189.328c0,1.077 -0.059,1.978 -0.176,2.704c-0.117,0.726 -0.293,1.288 -0.527,1.686c-0.234,0.398 -0.491,0.668 -0.772,0.808c-0.281,0.141 -0.563,0.211 -0.844,0.211c-0.936,0 -2.447,-0.386 -4.531,-1.159c-2.084,-0.773 -4.484,-1.897 -7.201,-3.372c-2.716,-1.476 -5.62,-3.267 -8.711,-5.375c-3.092,-2.107 -6.089,-4.566 -8.993,-7.376c-2.295,1.405 -5.199,2.622 -8.711,3.653c-3.513,1.03 -7.588,1.545 -12.224,1.545c-6.839,0 -12.752,-1.007 -17.74,-3.021c-4.988,-2.013 -9.109,-4.964 -12.364,-8.851c-3.255,-3.888 -5.679,-8.724 -7.272,-14.508c-1.592,-5.784 -2.388,-12.423 -2.388,-19.917c0,-7.213 0.866,-13.734 2.599,-19.566c1.733,-5.831 4.333,-10.795 7.798,-14.893c3.466,-4.098 7.799,-7.26 12.997,-9.485c5.199,-2.224 11.264,-3.337 18.196,-3.337c6.51,0 12.236,1.007 17.177,3.021c4.941,2.014 9.086,4.953 12.435,8.817c3.349,3.864 5.866,8.63 7.552,14.297c1.686,5.667 2.529,12.177 2.529,19.53c0,3.794 -0.222,7.424 -0.667,10.89c-0.445,3.466 -1.147,6.744 -2.108,9.835c-0.96,3.091 -2.166,5.948 -3.618,8.571c-1.452,2.623 -3.161,4.988 -5.128,7.096c3.419,2.81 6.416,5 8.992,6.569c2.576,1.569 4.707,2.751 6.393,3.547c1.687,0.797 2.998,1.37 3.935,1.722c0.936,0.351 1.639,0.749 2.107,1.194c0.469,0.445 0.796,1.077 0.984,1.897c0.187,0.819 0.281,1.908 0.281,3.267Zm-23.886,-53.745c0,-5.152 -0.457,-9.929 -1.37,-14.331c-0.914,-4.403 -2.436,-8.232 -4.567,-11.487c-2.131,-3.255 -4.976,-5.796 -8.536,-7.622c-3.559,-1.827 -7.962,-2.74 -13.207,-2.74c-5.246,0 -9.649,0.972 -13.208,2.915c-3.56,1.944 -6.452,4.567 -8.676,7.869c-2.225,3.302 -3.818,7.13 -4.778,11.486c-0.96,4.356 -1.44,8.969 -1.44,13.84c0,5.339 0.445,10.245 1.335,14.718c0.89,4.473 2.389,8.349 4.496,11.627c2.108,3.279 4.93,5.82 8.466,7.623c3.536,1.803 7.974,2.705 13.313,2.705c5.292,0 9.742,-0.984 13.348,-2.951c3.606,-1.967 6.51,-4.625 8.711,-7.974c2.202,-3.349 3.771,-7.236 4.707,-11.662c0.937,-4.426 1.406,-9.098 1.406,-14.016Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M534.723,179.492c0,0.375 -0.096,0.703 -0.289,0.984c-0.193,0.281 -0.531,0.503 -1.013,0.667c-0.483,0.164 -1.098,0.304 -1.846,0.421c-0.747,0.118 -1.724,0.176 -2.93,0.176c-1.109,0 -2.062,-0.058 -2.858,-0.176c-0.796,-0.117 -1.423,-0.257 -1.881,-0.421c-0.459,-0.164 -0.784,-0.386 -0.977,-0.667c-0.193,-0.281 -0.289,-0.609 -0.289,-0.984l0,-79.176l-0.141,0l-32.036,79.527c-0.14,0.328 -0.339,0.609 -0.597,0.843c-0.257,0.234 -0.632,0.434 -1.124,0.597c-0.492,0.164 -1.077,0.281 -1.756,0.352c-0.679,0.07 -1.487,0.105 -2.424,0.105c-0.984,0 -1.827,-0.047 -2.529,-0.14c-0.703,-0.094 -1.288,-0.223 -1.756,-0.387c-0.469,-0.164 -0.832,-0.363 -1.089,-0.597c-0.258,-0.234 -0.434,-0.492 -0.527,-0.773l-30.631,-79.527l-0.07,0l0,79.176c0,0.375 -0.097,0.703 -0.289,0.984c-0.193,0.281 -0.531,0.503 -1.014,0.667c-0.482,0.164 -1.109,0.304 -1.881,0.421c-0.772,0.118 -1.761,0.176 -2.967,0.176c-1.157,0 -2.122,-0.058 -2.894,-0.176c-0.772,-0.117 -1.387,-0.257 -1.845,-0.421c-0.459,-0.164 -0.772,-0.386 -0.941,-0.667c-0.169,-0.281 -0.253,-0.609 -0.253,-0.984l0,-83.602c0,-1.967 0.523,-3.372 1.569,-4.215c1.046,-0.843 2.212,-1.265 3.496,-1.265l7.419,0c1.522,0 2.853,0.141 3.995,0.422c1.142,0.281 2.14,0.726 2.996,1.335c0.856,0.608 1.569,1.381 2.14,2.318c0.571,0.937 1.07,2.037 1.499,3.302l25.994,65.828l0.351,0l27.047,-65.617c0.524,-1.405 1.095,-2.6 1.713,-3.583c0.619,-0.984 1.297,-1.768 2.035,-2.354c0.738,-0.585 1.558,-1.007 2.462,-1.264c0.904,-0.258 1.951,-0.387 3.141,-0.387l7.779,0c0.715,0 1.393,0.106 2.035,0.316c0.642,0.211 1.189,0.539 1.642,0.984c0.452,0.445 0.821,1.007 1.106,1.686c0.285,0.679 0.428,1.51 0.428,2.494l0,83.602Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M618.185,179.351c0,0.375 -0.082,0.715 -0.246,1.019c-0.164,0.305 -0.48,0.55 -0.949,0.738c-0.468,0.187 -1.1,0.339 -1.896,0.456c-0.797,0.118 -1.827,0.176 -3.092,0.176c-1.639,0 -2.974,-0.07 -4.004,-0.211c-1.031,-0.14 -1.803,-0.398 -2.318,-0.772c-0.516,-0.375 -0.937,-0.797 -1.265,-1.265l-33.441,-45.454l0,45.454c0,0.328 -0.094,0.644 -0.281,0.948c-0.187,0.305 -0.515,0.539 -0.983,0.703c-0.469,0.164 -1.089,0.304 -1.862,0.421c-0.773,0.118 -1.745,0.176 -2.916,0.176c-1.124,0 -2.084,-0.058 -2.88,-0.176c-0.796,-0.117 -1.429,-0.257 -1.897,-0.421c-0.468,-0.164 -0.796,-0.398 -0.983,-0.703c-0.188,-0.304 -0.282,-0.62 -0.282,-0.948l0,-87.255c0,-0.375 0.094,-0.703 0.282,-0.984c0.187,-0.281 0.515,-0.503 0.983,-0.667c0.468,-0.164 1.101,-0.305 1.897,-0.422c0.796,-0.117 1.756,-0.175 2.88,-0.175c1.171,0 2.143,0.058 2.916,0.175c0.773,0.117 1.393,0.258 1.862,0.422c0.468,0.164 0.796,0.386 0.983,0.667c0.187,0.281 0.281,0.609 0.281,0.984l0,40.396l32.176,-40.396c0.281,-0.422 0.609,-0.773 0.984,-1.054c0.375,-0.281 0.831,-0.504 1.37,-0.667c0.538,-0.164 1.194,-0.293 1.967,-0.387c0.773,-0.094 1.768,-0.14 2.986,-0.14c1.218,0 2.201,0.058 2.95,0.175c0.75,0.117 1.347,0.27 1.792,0.457c0.445,0.187 0.749,0.421 0.913,0.702c0.164,0.282 0.246,0.586 0.246,0.914c0,0.609 -0.152,1.218 -0.457,1.826c-0.304,0.609 -0.878,1.452 -1.721,2.53l-30.139,36.04l32.458,43.136c0.796,1.217 1.276,2.049 1.44,2.494c0.164,0.444 0.246,0.807 0.246,1.088Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M713.941,95.609c0,0.89 -0.047,1.663 -0.141,2.318c-0.094,0.656 -0.258,1.183 -0.492,1.581c-0.234,0.398 -0.503,0.691 -0.808,0.878c-0.304,0.188 -0.62,0.281 -0.948,0.281l-33.3,0l0,30.912l31.473,0c0.328,0 0.644,0.082 0.949,0.246c0.304,0.164 0.574,0.433 0.808,0.808c0.234,0.374 0.398,0.878 0.491,1.51c0.094,0.632 0.141,1.44 0.141,2.424c0,0.89 -0.047,1.651 -0.141,2.283c-0.093,0.632 -0.257,1.148 -0.491,1.546c-0.234,0.398 -0.504,0.702 -0.808,0.913c-0.305,0.211 -0.621,0.316 -0.949,0.316l-31.473,0l0,37.867c0,0.328 -0.094,0.644 -0.281,0.948c-0.188,0.305 -0.516,0.539 -0.984,0.703c-0.468,0.164 -1.077,0.304 -1.826,0.421c-0.75,0.118 -1.733,0.176 -2.951,0.176c-1.124,0 -2.084,-0.058 -2.881,-0.176c-0.796,-0.117 -1.428,-0.257 -1.896,-0.421c-0.469,-0.164 -0.797,-0.398 -0.984,-0.703c-0.187,-0.304 -0.281,-0.62 -0.281,-0.948l0,-84.164c0,-1.827 0.48,-3.103 1.44,-3.829c0.96,-0.726 1.979,-1.089 3.056,-1.089l40.888,0c0.328,0 0.644,0.094 0.948,0.281c0.305,0.188 0.574,0.492 0.808,0.914c0.234,0.421 0.398,0.971 0.492,1.65c0.094,0.68 0.141,1.464 0.141,2.354Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M742.534,179.562c0,0.375 -0.094,0.691 -0.281,0.949c-0.187,0.257 -0.492,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.757,0.422c-0.749,0.093 -1.709,0.14 -2.88,0.14c-1.124,0 -2.061,-0.047 -2.81,-0.14c-0.75,-0.094 -1.347,-0.235 -1.792,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.328 0.082,-0.632 0.246,-0.913c0.164,-0.281 0.468,-0.516 0.913,-0.703c0.445,-0.187 1.042,-0.328 1.792,-0.422c0.749,-0.093 1.686,-0.14 2.81,-0.14c1.171,0 2.131,0.047 2.88,0.14c0.75,0.094 1.335,0.235 1.757,0.422c0.421,0.187 0.726,0.422 0.913,0.703c0.187,0.281 0.281,0.585 0.281,0.913l0,63.228Zm1.335,-84.585c0,2.716 -0.515,4.566 -1.546,5.55c-1.03,0.983 -2.927,1.475 -5.69,1.475c-2.717,0 -4.579,-0.48 -5.586,-1.44c-1.007,-0.96 -1.51,-2.775 -1.51,-5.445c0,-2.716 0.515,-4.566 1.546,-5.55c1.03,-0.983 2.927,-1.475 5.69,-1.475c2.717,0 4.578,0.48 5.585,1.44c1.007,0.96 1.511,2.775 1.511,5.445Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M800.915,120.479c0,1.03 -0.024,1.897 -0.07,2.599c-0.047,0.703 -0.141,1.253 -0.281,1.651c-0.141,0.398 -0.317,0.703 -0.527,0.913c-0.211,0.211 -0.504,0.317 -0.879,0.317c-0.374,0 -0.831,-0.106 -1.37,-0.317c-0.538,-0.21 -1.147,-0.421 -1.826,-0.632c-0.679,-0.211 -1.44,-0.41 -2.283,-0.597c-0.843,-0.187 -1.757,-0.281 -2.74,-0.281c-1.171,0 -2.319,0.234 -3.443,0.703c-1.124,0.468 -2.306,1.241 -3.548,2.318c-1.241,1.077 -2.54,2.506 -3.899,4.285c-1.358,1.78 -2.857,3.958 -4.496,6.534l0,41.59c0,0.375 -0.094,0.691 -0.281,0.949c-0.187,0.257 -0.492,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.71,0.14 -2.881,0.14c-1.124,0 -2.061,-0.047 -2.81,-0.14c-0.749,-0.094 -1.347,-0.235 -1.792,-0.422c-0.444,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.071,-0.691 0.211,-0.949c0.141,-0.257 0.422,-0.491 0.843,-0.702c0.422,-0.211 0.96,-0.351 1.616,-0.422c0.656,-0.07 1.522,-0.105 2.599,-0.105c1.031,0 1.885,0.035 2.565,0.105c0.679,0.071 1.206,0.211 1.58,0.422c0.375,0.211 0.644,0.445 0.808,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,9.203c1.733,-2.529 3.361,-4.59 4.883,-6.182c1.522,-1.593 2.962,-2.846 4.32,-3.759c1.359,-0.913 2.705,-1.545 4.04,-1.897c1.335,-0.351 2.681,-0.527 4.04,-0.527c0.608,0 1.299,0.036 2.072,0.106c0.773,0.07 1.581,0.199 2.424,0.386c0.843,0.188 1.604,0.398 2.283,0.632c0.679,0.235 1.159,0.469 1.44,0.703c0.281,0.234 0.469,0.457 0.562,0.667c0.094,0.211 0.176,0.48 0.246,0.808c0.07,0.328 0.117,0.808 0.141,1.441c0.023,0.632 0.035,1.487 0.035,2.564Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M907.911,179.562c0,0.375 -0.093,0.691 -0.281,0.949c-0.187,0.257 -0.491,0.48 -0.913,0.667c-0.422,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.686,0.14 -2.811,0.14c-1.17,0 -2.131,-0.047 -2.88,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.761,-0.41 -0.949,-0.667c-0.187,-0.258 -0.281,-0.574 -0.281,-0.949l0,-38.429c0,-2.669 -0.234,-5.105 -0.702,-7.306c-0.469,-2.201 -1.218,-4.098 -2.248,-5.691c-1.031,-1.592 -2.342,-2.81 -3.935,-3.653c-1.592,-0.843 -3.466,-1.264 -5.62,-1.264c-2.67,0 -5.351,1.03 -8.044,3.091c-2.693,2.061 -5.655,5.082 -8.887,9.063l0,44.189c0,0.375 -0.094,0.691 -0.281,0.949c-0.188,0.257 -0.504,0.48 -0.949,0.667c-0.445,0.187 -1.042,0.328 -1.791,0.422c-0.749,0.093 -1.686,0.14 -2.81,0.14c-1.077,0 -2.002,-0.047 -2.775,-0.14c-0.773,-0.094 -1.382,-0.235 -1.827,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-38.429c0,-2.669 -0.258,-5.105 -0.773,-7.306c-0.515,-2.201 -1.288,-4.098 -2.318,-5.691c-1.031,-1.592 -2.33,-2.81 -3.899,-3.653c-1.569,-0.843 -3.431,-1.264 -5.585,-1.264c-2.67,0 -5.363,1.03 -8.08,3.091c-2.716,2.061 -5.667,5.082 -8.852,9.063l0,44.189c0,0.375 -0.093,0.691 -0.281,0.949c-0.187,0.257 -0.491,0.48 -0.913,0.667c-0.421,0.187 -1.007,0.328 -1.756,0.422c-0.75,0.093 -1.71,0.14 -2.881,0.14c-1.124,0 -2.06,-0.047 -2.81,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.75,-0.41 -0.914,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.071,-0.691 0.211,-0.949c0.141,-0.257 0.422,-0.491 0.843,-0.702c0.422,-0.211 0.96,-0.351 1.616,-0.422c0.656,-0.07 1.522,-0.105 2.6,-0.105c1.03,0 1.885,0.035 2.564,0.105c0.679,0.071 1.206,0.211 1.581,0.422c0.374,0.211 0.643,0.445 0.807,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,8.36c3.56,-3.981 7.014,-6.897 10.363,-8.747c3.349,-1.85 6.732,-2.775 10.151,-2.775c2.623,0 4.977,0.305 7.061,0.914c2.084,0.609 3.922,1.463 5.515,2.564c1.592,1.101 2.951,2.412 4.075,3.934c1.124,1.522 2.06,3.22 2.81,5.094c2.107,-2.295 4.11,-4.239 6.006,-5.831c1.897,-1.593 3.724,-2.881 5.48,-3.864c1.757,-0.984 3.466,-1.698 5.129,-2.143c1.662,-0.445 3.337,-0.668 5.023,-0.668c4.075,0 7.494,0.715 10.257,2.143c2.763,1.429 5,3.337 6.709,5.726c1.71,2.388 2.927,5.187 3.653,8.395c0.726,3.208 1.089,6.592 1.089,10.152l0,39.974Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1016.52,116.193c0,0.328 -0.047,0.726 -0.141,1.195c-0.094,0.468 -0.257,1.053 -0.492,1.756l-18.617,60.067c-0.14,0.515 -0.363,0.937 -0.667,1.265c-0.305,0.327 -0.726,0.585 -1.265,0.772c-0.538,0.188 -1.276,0.316 -2.213,0.387c-0.937,0.07 -2.107,0.105 -3.513,0.105c-1.451,0 -2.669,-0.047 -3.653,-0.14c-0.983,-0.094 -1.768,-0.235 -2.353,-0.422c-0.586,-0.187 -1.019,-0.445 -1.3,-0.773c-0.281,-0.328 -0.492,-0.726 -0.632,-1.194l-13.278,-45.876l-0.141,-0.632l-0.14,0.632l-12.295,45.876c-0.14,0.515 -0.363,0.937 -0.667,1.265c-0.304,0.327 -0.761,0.585 -1.37,0.772c-0.609,0.188 -1.393,0.316 -2.353,0.387c-0.961,0.07 -2.143,0.105 -3.548,0.105c-1.452,0 -2.635,-0.047 -3.548,-0.14c-0.913,-0.094 -1.663,-0.235 -2.248,-0.422c-0.586,-0.187 -1.019,-0.445 -1.3,-0.773c-0.281,-0.328 -0.492,-0.726 -0.632,-1.194l-18.477,-60.067c-0.234,-0.703 -0.398,-1.288 -0.492,-1.756c-0.093,-0.469 -0.14,-0.867 -0.14,-1.195c0,-0.421 0.093,-0.761 0.281,-1.018c0.187,-0.258 0.503,-0.469 0.948,-0.633c0.445,-0.164 1.042,-0.269 1.792,-0.316c0.749,-0.047 1.662,-0.07 2.74,-0.07c1.311,0 2.365,0.035 3.161,0.105c0.796,0.071 1.405,0.188 1.827,0.352c0.421,0.164 0.726,0.398 0.913,0.702c0.187,0.305 0.351,0.668 0.492,1.089l15.245,52.128l0.14,0.633l0.141,-0.633l13.98,-52.128c0.094,-0.421 0.246,-0.784 0.457,-1.089c0.211,-0.304 0.527,-0.538 0.948,-0.702c0.422,-0.164 0.996,-0.281 1.722,-0.352c0.726,-0.07 1.674,-0.105 2.845,-0.105c1.124,0 2.049,0.035 2.775,0.105c0.726,0.071 1.3,0.188 1.721,0.352c0.422,0.164 0.726,0.386 0.913,0.667c0.188,0.281 0.328,0.609 0.422,0.984l15.104,52.268l0.141,0.633l0.07,-0.633l15.035,-52.128c0.093,-0.421 0.245,-0.784 0.456,-1.089c0.211,-0.304 0.539,-0.538 0.984,-0.702c0.445,-0.164 1.054,-0.281 1.826,-0.352c0.773,-0.07 1.768,-0.105 2.986,-0.105c1.124,0 2.026,0.023 2.705,0.07c0.679,0.047 1.218,0.164 1.616,0.351c0.398,0.188 0.679,0.399 0.843,0.633c0.164,0.234 0.246,0.562 0.246,0.983Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1076.94,179.632c0,0.563 -0.187,0.984 -0.562,1.265c-0.375,0.281 -0.89,0.492 -1.546,0.632c-0.655,0.141 -1.616,0.211 -2.88,0.211c-1.218,0 -2.19,-0.07 -2.916,-0.211c-0.726,-0.14 -1.252,-0.351 -1.58,-0.632c-0.328,-0.281 -0.492,-0.702 -0.492,-1.265l0,-6.322c-2.763,2.95 -5.843,5.245 -9.238,6.885c-3.396,1.639 -6.991,2.458 -10.784,2.458c-3.326,0 -6.335,-0.433 -9.028,-1.299c-2.693,-0.867 -4.988,-2.12 -6.885,-3.759c-1.897,-1.639 -3.372,-3.653 -4.426,-6.042c-1.054,-2.388 -1.581,-5.105 -1.581,-8.149c0,-3.56 0.726,-6.651 2.178,-9.274c1.452,-2.622 3.536,-4.8 6.253,-6.533c2.716,-1.733 6.042,-3.033 9.976,-3.899c3.934,-0.867 8.36,-1.3 13.278,-1.3l8.711,0l0,-4.918c0,-2.435 -0.257,-4.59 -0.772,-6.463c-0.516,-1.874 -1.347,-3.431 -2.495,-4.672c-1.147,-1.241 -2.634,-2.178 -4.461,-2.81c-1.826,-0.632 -4.074,-0.949 -6.744,-0.949c-2.857,0 -5.421,0.34 -7.693,1.019c-2.271,0.679 -4.262,1.429 -5.971,2.248c-1.71,0.82 -3.138,1.569 -4.286,2.248c-1.147,0.679 -2.002,1.019 -2.564,1.019c-0.375,0 -0.703,-0.094 -0.984,-0.281c-0.281,-0.187 -0.527,-0.468 -0.737,-0.843c-0.211,-0.375 -0.363,-0.855 -0.457,-1.44c-0.094,-0.586 -0.14,-1.23 -0.14,-1.932c0,-1.171 0.081,-2.096 0.245,-2.775c0.164,-0.679 0.562,-1.323 1.195,-1.932c0.632,-0.609 1.721,-1.323 3.267,-2.143c1.545,-0.82 3.325,-1.569 5.339,-2.248c2.014,-0.679 4.215,-1.241 6.604,-1.686c2.388,-0.445 4.8,-0.668 7.236,-0.668c4.543,0 8.407,0.516 11.592,1.546c3.185,1.03 5.761,2.541 7.728,4.531c1.967,1.991 3.395,4.461 4.285,7.412c0.89,2.951 1.335,6.393 1.335,10.327l0,42.644Zm-11.522,-28.874l-9.905,0c-3.185,0 -5.949,0.269 -8.29,0.808c-2.342,0.539 -4.286,1.335 -5.832,2.389c-1.545,1.054 -2.681,2.318 -3.407,3.793c-0.726,1.476 -1.089,3.174 -1.089,5.094c0,3.278 1.042,5.889 3.127,7.833c2.084,1.944 4.999,2.916 8.746,2.916c3.044,0 5.866,-0.773 8.466,-2.319c2.599,-1.545 5.327,-3.91 8.184,-7.095l0,-13.419Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1135.18,120.479c0,1.03 -0.023,1.897 -0.07,2.599c-0.047,0.703 -0.14,1.253 -0.281,1.651c-0.14,0.398 -0.316,0.703 -0.527,0.913c-0.211,0.211 -0.503,0.317 -0.878,0.317c-0.375,0 -0.831,-0.106 -1.37,-0.317c-0.539,-0.21 -1.147,-0.421 -1.827,-0.632c-0.679,-0.211 -1.44,-0.41 -2.283,-0.597c-0.843,-0.187 -1.756,-0.281 -2.74,-0.281c-1.171,0 -2.318,0.234 -3.442,0.703c-1.124,0.468 -2.307,1.241 -3.548,2.318c-1.241,1.077 -2.541,2.506 -3.899,4.285c-1.358,1.78 -2.857,3.958 -4.496,6.534l0,41.59c0,0.375 -0.094,0.691 -0.281,0.949c-0.188,0.257 -0.492,0.48 -0.914,0.667c-0.421,0.187 -1.007,0.328 -1.756,0.422c-0.749,0.093 -1.709,0.14 -2.88,0.14c-1.124,0 -2.061,-0.047 -2.811,-0.14c-0.749,-0.094 -1.346,-0.235 -1.791,-0.422c-0.445,-0.187 -0.749,-0.41 -0.913,-0.667c-0.164,-0.258 -0.246,-0.574 -0.246,-0.949l0,-63.228c0,-0.375 0.07,-0.691 0.211,-0.949c0.14,-0.257 0.421,-0.491 0.843,-0.702c0.421,-0.211 0.96,-0.351 1.615,-0.422c0.656,-0.07 1.523,-0.105 2.6,-0.105c1.03,0 1.885,0.035 2.564,0.105c0.679,0.071 1.206,0.211 1.581,0.422c0.375,0.211 0.644,0.445 0.808,0.702c0.164,0.258 0.246,0.574 0.246,0.949l0,9.203c1.733,-2.529 3.36,-4.59 4.882,-6.182c1.522,-1.593 2.963,-2.846 4.321,-3.759c1.358,-0.913 2.705,-1.545 4.039,-1.897c1.335,-0.351 2.682,-0.527 4.04,-0.527c0.609,0 1.3,0.036 2.073,0.106c0.772,0.07 1.58,0.199 2.423,0.386c0.843,0.188 1.604,0.398 2.284,0.632c0.679,0.235 1.159,0.469 1.44,0.703c0.281,0.234 0.468,0.457 0.562,0.667c0.093,0.211 0.175,0.48 0.246,0.808c0.07,0.328 0.117,0.808 0.14,1.441c0.024,0.632 0.035,1.487 0.035,2.564Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1200.45,145.208c0,1.827 -0.459,3.126 -1.376,3.899c-0.917,0.773 -1.964,1.159 -3.141,1.159l-41.64,0c0,3.513 0.353,6.675 1.059,9.485c0.706,2.81 1.882,5.222 3.53,7.236c1.647,2.014 3.789,3.559 6.424,4.637c2.636,1.077 5.86,1.615 9.672,1.615c3.012,0 5.694,-0.245 8.047,-0.737c2.354,-0.492 4.389,-1.042 6.107,-1.651c1.718,-0.609 3.13,-1.159 4.236,-1.651c1.106,-0.492 1.942,-0.738 2.507,-0.738c0.329,0 0.623,0.082 0.882,0.246c0.259,0.164 0.458,0.41 0.6,0.738c0.141,0.328 0.247,0.784 0.317,1.37c0.071,0.585 0.106,1.299 0.106,2.142c0,0.609 -0.023,1.136 -0.07,1.581c-0.047,0.445 -0.105,0.843 -0.175,1.194c-0.071,0.352 -0.188,0.668 -0.352,0.949c-0.164,0.281 -0.374,0.55 -0.632,0.808c-0.258,0.257 -1.019,0.679 -2.283,1.264c-1.265,0.586 -2.904,1.16 -4.918,1.722c-2.014,0.562 -4.344,1.065 -6.99,1.51c-2.647,0.445 -5.468,0.667 -8.466,0.667c-5.199,0 -9.753,-0.726 -13.664,-2.177c-3.911,-1.452 -7.201,-3.607 -9.871,-6.464c-2.67,-2.857 -4.683,-6.44 -6.042,-10.749c-1.358,-4.309 -2.037,-9.32 -2.037,-15.034c0,-5.433 0.702,-10.316 2.108,-14.648c1.405,-4.332 3.43,-8.009 6.077,-11.03c2.646,-3.021 5.842,-5.339 9.589,-6.955c3.747,-1.616 7.939,-2.424 12.576,-2.424c4.964,0 9.191,0.797 12.68,2.389c3.49,1.592 6.358,3.735 8.606,6.428c2.249,2.693 3.9,5.855 4.953,9.485c1.054,3.629 1.581,7.505 1.581,11.627l0,2.107Zm-11.662,-3.442c0.14,-6.089 -1.214,-10.866 -4.065,-14.332c-2.85,-3.466 -7.079,-5.199 -12.687,-5.199c-2.875,0 -5.396,0.539 -7.564,1.616c-2.167,1.077 -3.982,2.506 -5.443,4.285c-1.461,1.78 -2.592,3.853 -3.393,6.218c-0.801,2.365 -1.248,4.836 -1.343,7.412l34.495,0Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M379.752,276.089c0,0.493 -0.016,0.924 -0.047,1.294c-0.03,0.369 -0.084,0.693 -0.161,0.97c-0.077,0.277 -0.177,0.524 -0.301,0.739c-0.123,0.216 -0.338,0.478 -0.646,0.786c-0.308,0.308 -0.955,0.778 -1.941,1.409c-0.986,0.631 -2.21,1.247 -3.673,1.848c-1.463,0.601 -3.142,1.109 -5.036,1.525c-1.894,0.416 -3.966,0.623 -6.214,0.623c-3.881,0 -7.385,-0.646 -10.511,-1.94c-3.127,-1.294 -5.791,-3.203 -7.993,-5.729c-2.203,-2.526 -3.897,-5.645 -5.083,-9.356c-1.185,-3.712 -1.778,-7.985 -1.778,-12.821c0,-4.959 0.639,-9.379 1.917,-13.26c1.278,-3.881 3.072,-7.169 5.383,-9.865c2.31,-2.695 5.074,-4.751 8.293,-6.168c3.219,-1.417 6.784,-2.125 10.696,-2.125c1.725,0 3.403,0.162 5.036,0.485c1.632,0.324 3.142,0.732 4.528,1.225c1.386,0.492 2.618,1.062 3.696,1.709c1.078,0.647 1.825,1.178 2.241,1.594c0.416,0.416 0.685,0.732 0.808,0.947c0.123,0.216 0.224,0.47 0.301,0.763c0.077,0.292 0.138,0.639 0.184,1.039c0.047,0.4 0.07,0.878 0.07,1.432c0,0.616 -0.031,1.14 -0.093,1.571c-0.062,0.431 -0.155,0.793 -0.279,1.086c-0.124,0.293 -0.271,0.508 -0.441,0.647c-0.171,0.138 -0.38,0.208 -0.628,0.208c-0.433,0 -1.036,-0.301 -1.811,-0.901c-0.774,-0.601 -1.773,-1.263 -2.996,-1.987c-1.223,-0.724 -2.71,-1.386 -4.459,-1.987c-1.749,-0.6 -3.847,-0.901 -6.294,-0.901c-2.663,0 -5.086,0.532 -7.269,1.594c-2.183,1.063 -4.049,2.626 -5.597,4.69c-1.549,2.064 -2.748,4.582 -3.6,7.554c-0.852,2.972 -1.278,6.368 -1.278,10.188c0,3.788 0.411,7.138 1.231,10.049c0.821,2.91 1.998,5.344 3.53,7.3c1.533,1.956 3.415,3.434 5.644,4.435c2.23,1.001 4.753,1.502 7.571,1.502c2.384,0 4.467,-0.293 6.247,-0.878c1.781,-0.585 3.298,-1.24 4.552,-1.964c1.254,-0.724 2.283,-1.378 3.089,-1.963c0.805,-0.586 1.44,-0.878 1.904,-0.878c0.217,0 0.403,0.046 0.558,0.138c0.154,0.093 0.278,0.27 0.371,0.532c0.093,0.262 0.163,0.623 0.209,1.085c0.046,0.462 0.07,1.048 0.07,1.756Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M428.079,262.136c0,3.388 -0.446,6.507 -1.339,9.356c-0.894,2.849 -2.226,5.306 -3.997,7.369c-1.771,2.064 -3.989,3.673 -6.653,4.828c-2.664,1.156 -5.752,1.733 -9.264,1.733c-3.419,0 -6.399,-0.508 -8.94,-1.525c-2.541,-1.016 -4.659,-2.495 -6.353,-4.435c-1.694,-1.941 -2.957,-4.297 -3.788,-7.069c-0.832,-2.772 -1.248,-5.914 -1.248,-9.425c0,-3.388 0.439,-6.507 1.317,-9.356c0.878,-2.849 2.202,-5.306 3.973,-7.37c1.772,-2.063 3.982,-3.665 6.63,-4.805c2.649,-1.139 5.745,-1.709 9.287,-1.709c3.419,0 6.399,0.508 8.94,1.525c2.541,1.016 4.659,2.494 6.353,4.435c1.694,1.94 2.965,4.297 3.812,7.069c0.847,2.772 1.27,5.898 1.27,9.379Zm-7.9,0.508c0,-2.248 -0.21,-4.374 -0.63,-6.376c-0.419,-2.002 -1.111,-3.757 -2.074,-5.267c-0.964,-1.509 -2.269,-2.703 -3.917,-3.58c-1.647,-0.878 -3.698,-1.317 -6.153,-1.317c-2.269,0 -4.219,0.4 -5.851,1.201c-1.632,0.801 -2.976,1.933 -4.033,3.396c-1.056,1.463 -1.841,3.196 -2.354,5.198c-0.513,2.002 -0.769,4.189 -0.769,6.56c0,2.28 0.21,4.42 0.629,6.423c0.42,2.002 1.119,3.75 2.098,5.244c0.979,1.493 2.292,2.679 3.939,3.557c1.648,0.878 3.699,1.317 6.154,1.317c2.238,0 4.181,-0.401 5.828,-1.201c1.647,-0.801 2.999,-1.925 4.056,-3.373c1.056,-1.448 1.833,-3.173 2.331,-5.175c0.497,-2.002 0.746,-4.204 0.746,-6.607Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M500.987,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.77,0 -1.401,-0.03 -1.894,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.501,-0.27 -0.624,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-25.273c0,-1.755 -0.154,-3.357 -0.462,-4.805c-0.308,-1.447 -0.801,-2.695 -1.478,-3.742c-0.678,-1.047 -1.54,-1.848 -2.588,-2.403c-1.047,-0.554 -2.279,-0.831 -3.696,-0.831c-1.756,0 -3.519,0.677 -5.29,2.033c-1.771,1.355 -3.719,3.342 -5.845,5.96l0,29.061c0,0.247 -0.061,0.454 -0.184,0.624c-0.124,0.169 -0.332,0.316 -0.624,0.439c-0.293,0.123 -0.685,0.215 -1.178,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.709,0 -1.317,-0.03 -1.825,-0.092c-0.509,-0.062 -0.909,-0.154 -1.202,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-25.273c0,-1.755 -0.169,-3.357 -0.508,-4.805c-0.339,-1.447 -0.847,-2.695 -1.525,-3.742c-0.678,-1.047 -1.532,-1.848 -2.564,-2.403c-1.032,-0.554 -2.256,-0.831 -3.673,-0.831c-1.756,0 -3.527,0.677 -5.314,2.033c-1.786,1.355 -3.727,3.342 -5.821,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.156,0.277c-0.492,0.062 -1.124,0.092 -1.894,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.108,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.277,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.677,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.612,-4.535 6.815,-5.752c2.202,-1.217 4.427,-1.825 6.676,-1.825c1.725,0 3.273,0.2 4.643,0.601c1.371,0.4 2.58,0.962 3.627,1.686c1.047,0.724 1.941,1.586 2.68,2.587c0.739,1.001 1.355,2.118 1.848,3.35c1.386,-1.509 2.703,-2.788 3.95,-3.835c1.248,-1.047 2.449,-1.894 3.604,-2.541c1.155,-0.647 2.279,-1.117 3.373,-1.409c1.093,-0.293 2.194,-0.439 3.303,-0.439c2.68,0 4.929,0.47 6.746,1.409c1.817,0.939 3.288,2.195 4.412,3.766c1.124,1.57 1.925,3.411 2.403,5.521c0.477,2.11 0.716,4.335 0.716,6.676l0,26.289Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M576.574,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.492,0.062 -1.108,0.092 -1.848,0.092c-0.77,0 -1.401,-0.03 -1.894,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.501,-0.27 -0.624,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-25.273c0,-1.755 -0.154,-3.357 -0.462,-4.805c-0.308,-1.447 -0.801,-2.695 -1.478,-3.742c-0.678,-1.047 -1.54,-1.848 -2.588,-2.403c-1.047,-0.554 -2.279,-0.831 -3.696,-0.831c-1.755,0 -3.519,0.677 -5.29,2.033c-1.771,1.355 -3.719,3.342 -5.844,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.124,0.169 -0.331,0.316 -0.624,0.439c-0.293,0.123 -0.685,0.215 -1.178,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.709,0 -1.317,-0.03 -1.825,-0.092c-0.509,-0.062 -0.909,-0.154 -1.202,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-25.273c0,-1.755 -0.169,-3.357 -0.508,-4.805c-0.339,-1.447 -0.847,-2.695 -1.525,-3.742c-0.677,-1.047 -1.532,-1.848 -2.564,-2.403c-1.032,-0.554 -2.256,-0.831 -3.673,-0.831c-1.756,0 -3.527,0.677 -5.313,2.033c-1.787,1.355 -3.727,3.342 -5.822,5.96l0,29.061c0,0.247 -0.061,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.155,0.277c-0.493,0.062 -1.125,0.092 -1.895,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.107,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.278,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.678,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.612,-4.535 6.815,-5.752c2.202,-1.217 4.427,-1.825 6.676,-1.825c1.725,0 3.273,0.2 4.643,0.601c1.371,0.4 2.58,0.962 3.627,1.686c1.047,0.724 1.941,1.586 2.68,2.587c0.739,1.001 1.355,2.118 1.848,3.35c1.386,-1.509 2.703,-2.788 3.95,-3.835c1.248,-1.047 2.449,-1.894 3.604,-2.541c1.155,-0.647 2.279,-1.117 3.373,-1.409c1.093,-0.293 2.195,-0.439 3.303,-0.439c2.68,0 4.929,0.47 6.746,1.409c1.817,0.939 3.288,2.195 4.412,3.766c1.125,1.57 1.925,3.411 2.403,5.521c0.477,2.11 0.716,4.335 0.716,6.676l0,26.289Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M626.103,283.389c0,0.247 -0.054,0.454 -0.162,0.624c-0.108,0.169 -0.3,0.316 -0.577,0.439c-0.278,0.123 -0.639,0.215 -1.086,0.277c-0.447,0.062 -0.993,0.092 -1.64,0.092c-0.709,0 -1.286,-0.03 -1.733,-0.092c-0.447,-0.062 -0.801,-0.154 -1.063,-0.277c-0.261,-0.123 -0.438,-0.27 -0.531,-0.439c-0.092,-0.17 -0.138,-0.377 -0.138,-0.624l0,-5.498c-2.372,2.618 -4.713,4.528 -7.023,5.729c-2.31,1.201 -4.651,1.802 -7.023,1.802c-2.772,0 -5.105,-0.462 -7,-1.386c-1.894,-0.924 -3.426,-2.179 -4.597,-3.766c-1.17,-1.586 -2.01,-3.434 -2.518,-5.544c-0.508,-2.11 -0.762,-4.674 -0.762,-7.693l0,-25.226c0,-0.246 0.054,-0.454 0.162,-0.624c0.107,-0.169 0.315,-0.323 0.623,-0.462c0.308,-0.138 0.709,-0.231 1.202,-0.277c0.492,-0.046 1.108,-0.069 1.848,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.885,0.139 1.178,0.277c0.292,0.139 0.5,0.293 0.624,0.462c0.123,0.17 0.184,0.378 0.184,0.624l0,24.21c0,2.433 0.178,4.382 0.532,5.845c0.354,1.463 0.893,2.71 1.617,3.742c0.724,1.032 1.64,1.833 2.749,2.403c1.109,0.569 2.402,0.854 3.881,0.854c1.91,0 3.812,-0.677 5.706,-2.033c1.894,-1.355 3.904,-3.342 6.029,-5.96l0,-29.061c0,-0.246 0.054,-0.454 0.162,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.7,-0.231 1.178,-0.277c0.477,-0.046 1.101,-0.069 1.871,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.878,0.139 1.155,0.277c0.277,0.139 0.485,0.293 0.624,0.462c0.139,0.17 0.208,0.378 0.208,0.624l0,41.582Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M676.001,283.389c0,0.247 -0.061,0.454 -0.184,0.624c-0.124,0.169 -0.324,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.109,0.092 -1.848,0.092c-0.77,0 -1.402,-0.03 -1.894,-0.092c-0.493,-0.062 -0.878,-0.154 -1.155,-0.277c-0.278,-0.123 -0.478,-0.27 -0.601,-0.439c-0.123,-0.17 -0.185,-0.377 -0.185,-0.624l0,-24.349c0,-2.371 -0.185,-4.281 -0.554,-5.729c-0.37,-1.447 -0.909,-2.695 -1.617,-3.742c-0.709,-1.047 -1.625,-1.848 -2.749,-2.403c-1.125,-0.554 -2.426,-0.831 -3.905,-0.831c-1.909,0 -3.819,0.677 -5.729,2.033c-1.909,1.355 -3.911,3.342 -6.006,5.96l0,29.061c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.6,0.439c-0.278,0.123 -0.663,0.215 -1.155,0.277c-0.493,0.062 -1.125,0.092 -1.895,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.107,-0.17 -0.161,-0.377 -0.161,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.138,-0.624c0.093,-0.169 0.277,-0.323 0.555,-0.462c0.277,-0.138 0.631,-0.231 1.062,-0.277c0.432,-0.046 1.001,-0.069 1.71,-0.069c0.677,0 1.24,0.023 1.686,0.069c0.447,0.046 0.793,0.139 1.04,0.277c0.246,0.139 0.423,0.293 0.531,0.462c0.108,0.17 0.162,0.378 0.162,0.624l0,5.498c2.341,-2.618 4.674,-4.535 6.999,-5.752c2.326,-1.217 4.675,-1.825 7.046,-1.825c2.772,0 5.106,0.47 7,1.409c1.894,0.939 3.427,2.195 4.597,3.766c1.171,1.57 2.01,3.411 2.518,5.521c0.508,2.11 0.762,4.643 0.762,7.6l0,25.365Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M697.532,283.389c0,0.247 -0.062,0.454 -0.185,0.624c-0.123,0.169 -0.323,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.124,0.092 -1.894,0.092c-0.739,0 -1.355,-0.03 -1.848,-0.092c-0.493,-0.062 -0.886,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.27 -0.601,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-41.582c0,-0.216 0.054,-0.416 0.162,-0.601c0.108,-0.184 0.308,-0.338 0.601,-0.462c0.292,-0.123 0.685,-0.215 1.178,-0.277c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.401,0.031 1.894,0.092c0.493,0.062 0.878,0.154 1.155,0.277c0.278,0.124 0.478,0.278 0.601,0.462c0.123,0.185 0.185,0.385 0.185,0.601l0,41.582Zm0.878,-55.628c0,1.787 -0.339,3.004 -1.017,3.65c-0.677,0.647 -1.925,0.971 -3.742,0.971c-1.787,0 -3.011,-0.316 -3.673,-0.947c-0.663,-0.632 -0.994,-1.825 -0.994,-3.581c0,-1.787 0.339,-3.003 1.017,-3.65c0.677,-0.647 1.925,-0.97 3.742,-0.97c1.787,0 3.011,0.315 3.673,0.947c0.663,0.631 0.994,1.825 0.994,3.58Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M733.246,280.34c0,0.893 -0.061,1.601 -0.185,2.125c-0.123,0.524 -0.308,0.909 -0.554,1.155c-0.246,0.247 -0.616,0.478 -1.109,0.693c-0.493,0.216 -1.055,0.393 -1.686,0.532c-0.632,0.138 -1.302,0.254 -2.01,0.346c-0.708,0.092 -1.417,0.139 -2.125,0.139c-2.156,0 -4.005,-0.285 -5.545,-0.855c-1.54,-0.57 -2.803,-1.432 -3.788,-2.587c-0.986,-1.155 -1.702,-2.619 -2.149,-4.39c-0.446,-1.771 -0.67,-3.858 -0.67,-6.26l0,-24.303l-5.821,0c-0.462,0 -0.832,-0.246 -1.109,-0.739c-0.277,-0.493 -0.416,-1.293 -0.416,-2.402c0,-0.586 0.039,-1.078 0.116,-1.479c0.077,-0.4 0.177,-0.731 0.3,-0.993c0.123,-0.262 0.285,-0.447 0.485,-0.555c0.2,-0.107 0.424,-0.161 0.67,-0.161l5.775,0l0,-9.888c0,-0.215 0.054,-0.415 0.162,-0.6c0.108,-0.185 0.308,-0.347 0.601,-0.485c0.292,-0.139 0.685,-0.239 1.178,-0.301c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.401,0.031 1.894,0.092c0.493,0.062 0.878,0.162 1.155,0.301c0.278,0.138 0.478,0.3 0.601,0.485c0.123,0.185 0.185,0.385 0.185,0.6l0,9.888l10.673,0c0.246,0 0.462,0.054 0.646,0.161c0.185,0.108 0.347,0.293 0.486,0.555c0.138,0.262 0.238,0.593 0.3,0.993c0.061,0.401 0.092,0.893 0.092,1.479c0,1.109 -0.138,1.909 -0.416,2.402c-0.277,0.493 -0.646,0.739 -1.108,0.739l-10.673,0l0,23.194c0,2.865 0.423,5.028 1.27,6.491c0.847,1.464 2.364,2.195 4.551,2.195c0.709,0 1.34,-0.069 1.895,-0.208c0.554,-0.138 1.047,-0.285 1.478,-0.439c0.431,-0.154 0.801,-0.3 1.109,-0.439c0.308,-0.138 0.585,-0.208 0.832,-0.208c0.154,0 0.3,0.039 0.439,0.116c0.138,0.077 0.246,0.223 0.323,0.439c0.077,0.215 0.146,0.508 0.208,0.878c0.061,0.369 0.092,0.831 0.092,1.386Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M762.261,284.544l-5.544,15.293c-0.185,0.493 -0.654,0.87 -1.409,1.132c-0.755,0.262 -1.902,0.393 -3.442,0.393c-0.801,0 -1.448,-0.039 -1.941,-0.116c-0.493,-0.077 -0.87,-0.208 -1.132,-0.392c-0.261,-0.185 -0.408,-0.432 -0.439,-0.74c-0.03,-0.308 0.047,-0.677 0.231,-1.108l5.73,-14.462c-0.278,-0.123 -0.539,-0.323 -0.786,-0.6c-0.246,-0.278 -0.416,-0.57 -0.508,-0.878l-14.831,-39.734c-0.247,-0.647 -0.37,-1.155 -0.37,-1.525c0,-0.37 0.123,-0.662 0.37,-0.878c0.246,-0.215 0.647,-0.362 1.201,-0.439c0.555,-0.077 1.294,-0.115 2.218,-0.115c0.924,0 1.648,0.023 2.171,0.069c0.524,0.046 0.94,0.131 1.248,0.254c0.308,0.123 0.531,0.3 0.67,0.531c0.138,0.231 0.285,0.547 0.439,0.948l11.874,33.358l0.138,0l11.459,-33.543c0.184,-0.585 0.408,-0.963 0.669,-1.132c0.262,-0.17 0.655,-0.293 1.179,-0.37c0.523,-0.077 1.278,-0.115 2.264,-0.115c0.862,0 1.57,0.038 2.125,0.115c0.554,0.077 0.962,0.224 1.224,0.439c0.262,0.216 0.393,0.508 0.393,0.878c0,0.37 -0.092,0.832 -0.277,1.386l-14.924,41.351Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M840.528,267.773c0,2.803 -0.516,5.298 -1.548,7.485c-1.031,2.186 -2.464,4.042 -4.296,5.567c-1.833,1.525 -3.989,2.672 -6.469,3.442c-2.479,0.77 -5.151,1.155 -8.016,1.155c-2.002,0 -3.858,-0.169 -5.567,-0.508c-1.71,-0.339 -3.234,-0.755 -4.574,-1.248c-1.34,-0.492 -2.464,-1.001 -3.373,-1.524c-0.909,-0.524 -1.54,-0.971 -1.894,-1.34c-0.355,-0.37 -0.616,-0.84 -0.786,-1.409c-0.169,-0.57 -0.254,-1.333 -0.254,-2.287c0,-0.678 0.031,-1.24 0.093,-1.687c0.061,-0.446 0.154,-0.808 0.277,-1.086c0.123,-0.277 0.277,-0.469 0.462,-0.577c0.185,-0.108 0.4,-0.162 0.647,-0.162c0.431,0 1.039,0.262 1.825,0.786c0.785,0.523 1.794,1.093 3.026,1.709c1.232,0.616 2.718,1.194 4.458,1.733c1.741,0.539 3.75,0.808 6.03,0.808c1.725,0 3.303,-0.231 4.736,-0.693c1.432,-0.462 2.664,-1.116 3.696,-1.963c1.032,-0.847 1.825,-1.887 2.379,-3.119c0.555,-1.232 0.832,-2.634 0.832,-4.204c0,-1.695 -0.385,-3.142 -1.155,-4.343c-0.77,-1.202 -1.787,-2.257 -3.05,-3.165c-1.262,-0.909 -2.702,-1.741 -4.32,-2.495c-1.617,-0.755 -3.272,-1.525 -4.966,-2.31c-1.694,-0.786 -3.342,-1.656 -4.944,-2.611c-1.602,-0.955 -3.034,-2.079 -4.297,-3.373c-1.263,-1.293 -2.287,-2.81 -3.072,-4.551c-0.786,-1.74 -1.178,-3.827 -1.178,-6.26c0,-2.495 0.454,-4.72 1.363,-6.676c0.908,-1.956 2.171,-3.596 3.788,-4.921c1.617,-1.324 3.542,-2.333 5.775,-3.026c2.234,-0.693 4.644,-1.04 7.231,-1.04c1.325,0 2.657,0.116 3.997,0.347c1.34,0.231 2.602,0.539 3.788,0.924c1.186,0.385 2.241,0.816 3.165,1.294c0.924,0.477 1.532,0.862 1.825,1.155c0.293,0.292 0.485,0.523 0.578,0.693c0.092,0.169 0.169,0.385 0.231,0.647c0.061,0.261 0.107,0.577 0.138,0.947c0.031,0.369 0.046,0.847 0.046,1.432c0,0.554 -0.023,1.047 -0.069,1.479c-0.046,0.431 -0.115,0.793 -0.208,1.085c-0.092,0.293 -0.223,0.508 -0.392,0.647c-0.17,0.139 -0.362,0.208 -0.578,0.208c-0.339,0 -0.87,-0.216 -1.594,-0.647c-0.724,-0.431 -1.609,-0.916 -2.657,-1.455c-1.047,-0.539 -2.287,-1.032 -3.719,-1.479c-1.432,-0.446 -3.042,-0.67 -4.828,-0.67c-1.663,0 -3.111,0.224 -4.343,0.67c-1.232,0.447 -2.249,1.04 -3.049,1.779c-0.801,0.739 -1.402,1.617 -1.802,2.634c-0.401,1.016 -0.601,2.094 -0.601,3.234c0,1.663 0.385,3.095 1.155,4.297c0.77,1.201 1.794,2.264 3.073,3.188c1.278,0.924 2.733,1.771 4.366,2.541c1.632,0.77 3.295,1.548 4.99,2.333c1.694,0.785 3.357,1.648 4.989,2.587c1.633,0.94 3.088,2.049 4.367,3.327c1.278,1.278 2.31,2.787 3.095,4.528c0.786,1.74 1.178,3.796 1.178,6.168Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M886.638,283.389c0,0.247 -0.054,0.454 -0.161,0.624c-0.108,0.169 -0.301,0.316 -0.578,0.439c-0.277,0.123 -0.639,0.215 -1.086,0.277c-0.446,0.062 -0.993,0.092 -1.64,0.092c-0.708,0 -1.286,-0.03 -1.733,-0.092c-0.446,-0.062 -0.8,-0.154 -1.062,-0.277c-0.262,-0.123 -0.439,-0.27 -0.532,-0.439c-0.092,-0.17 -0.138,-0.377 -0.138,-0.624l0,-5.498c-2.372,2.618 -4.713,4.528 -7.023,5.729c-2.31,1.201 -4.651,1.802 -7.023,1.802c-2.772,0 -5.105,-0.462 -6.999,-1.386c-1.895,-0.924 -3.427,-2.179 -4.597,-3.766c-1.171,-1.586 -2.01,-3.434 -2.519,-5.544c-0.508,-2.11 -0.762,-4.674 -0.762,-7.693l0,-25.226c0,-0.246 0.054,-0.454 0.162,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.708,-0.231 1.201,-0.277c0.493,-0.046 1.109,-0.069 1.848,-0.069c0.739,0 1.355,0.023 1.848,0.069c0.493,0.046 0.886,0.139 1.178,0.277c0.293,0.139 0.501,0.293 0.624,0.462c0.123,0.17 0.185,0.378 0.185,0.624l0,24.21c0,2.433 0.177,4.382 0.531,5.845c0.354,1.463 0.893,2.71 1.617,3.742c0.724,1.032 1.64,1.833 2.749,2.403c1.109,0.569 2.403,0.854 3.881,0.854c1.91,0 3.812,-0.677 5.706,-2.033c1.895,-1.355 3.904,-3.342 6.03,-5.96l0,-29.061c0,-0.246 0.054,-0.454 0.161,-0.624c0.108,-0.169 0.316,-0.323 0.624,-0.462c0.308,-0.138 0.701,-0.231 1.178,-0.277c0.478,-0.046 1.101,-0.069 1.871,-0.069c0.74,0 1.356,0.023 1.849,0.069c0.492,0.046 0.877,0.139 1.155,0.277c0.277,0.139 0.485,0.293 0.623,0.462c0.139,0.17 0.208,0.378 0.208,0.624l0,41.582Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M938.986,261.951c0,3.635 -0.393,6.9 -1.179,9.795c-0.785,2.895 -1.94,5.352 -3.465,7.369c-1.524,2.018 -3.411,3.573 -5.66,4.667c-2.248,1.093 -4.82,1.64 -7.715,1.64c-1.232,0 -2.372,-0.123 -3.419,-0.37c-1.048,-0.246 -2.072,-0.631 -3.073,-1.155c-1.001,-0.523 -1.994,-1.185 -2.98,-1.986c-0.986,-0.801 -2.033,-1.741 -3.142,-2.819l0,20.791c0,0.247 -0.061,0.462 -0.184,0.647c-0.124,0.185 -0.324,0.339 -0.601,0.462c-0.277,0.123 -0.662,0.216 -1.155,0.277c-0.493,0.062 -1.124,0.093 -1.894,0.093c-0.74,0 -1.356,-0.031 -1.849,-0.093c-0.492,-0.061 -0.885,-0.154 -1.178,-0.277c-0.292,-0.123 -0.493,-0.277 -0.6,-0.462c-0.108,-0.185 -0.162,-0.4 -0.162,-0.647l0,-58.076c0,-0.277 0.046,-0.501 0.139,-0.67c0.092,-0.169 0.277,-0.316 0.554,-0.439c0.277,-0.123 0.631,-0.208 1.063,-0.254c0.431,-0.046 0.954,-0.069 1.571,-0.069c0.646,0 1.178,0.023 1.594,0.069c0.415,0.046 0.762,0.131 1.039,0.254c0.277,0.123 0.47,0.27 0.578,0.439c0.107,0.169 0.161,0.393 0.161,0.67l0,5.59c1.263,-1.293 2.48,-2.417 3.65,-3.372c1.171,-0.955 2.349,-1.748 3.535,-2.38c1.186,-0.631 2.402,-1.109 3.65,-1.432c1.247,-0.323 2.564,-0.485 3.95,-0.485c3.019,0 5.591,0.585 7.716,1.756c2.125,1.17 3.858,2.772 5.198,4.805c1.34,2.033 2.317,4.397 2.933,7.092c0.617,2.695 0.925,5.552 0.925,8.57Zm-7.901,0.878c0,-2.125 -0.163,-4.181 -0.488,-6.168c-0.325,-1.987 -0.883,-3.75 -1.673,-5.29c-0.791,-1.54 -1.852,-2.772 -3.185,-3.696c-1.332,-0.924 -2.99,-1.386 -4.974,-1.386c-0.992,0 -1.968,0.146 -2.929,0.439c-0.96,0.292 -1.936,0.754 -2.928,1.386c-0.992,0.631 -2.03,1.463 -3.115,2.495c-1.085,1.031 -2.231,2.302 -3.44,3.811l0,16.541c2.108,2.556 4.107,4.512 5.997,5.867c1.891,1.356 3.874,2.033 5.95,2.033c1.922,0 3.572,-0.462 4.951,-1.386c1.379,-0.924 2.495,-2.156 3.347,-3.696c0.852,-1.54 1.48,-3.265 1.883,-5.175c0.403,-1.909 0.604,-3.834 0.604,-5.775Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M988.699,261.951c0,3.635 -0.392,6.9 -1.178,9.795c-0.785,2.895 -1.94,5.352 -3.465,7.369c-1.525,2.018 -3.411,3.573 -5.66,4.667c-2.248,1.093 -4.82,1.64 -7.716,1.64c-1.232,0 -2.371,-0.123 -3.419,-0.37c-1.047,-0.246 -2.071,-0.631 -3.072,-1.155c-1.001,-0.523 -1.994,-1.185 -2.98,-1.986c-0.986,-0.801 -2.033,-1.741 -3.142,-2.819l0,20.791c0,0.247 -0.061,0.462 -0.185,0.647c-0.123,0.185 -0.323,0.339 -0.6,0.462c-0.278,0.123 -0.663,0.216 -1.155,0.277c-0.493,0.062 -1.125,0.093 -1.895,0.093c-0.739,0 -1.355,-0.031 -1.848,-0.093c-0.493,-0.061 -0.885,-0.154 -1.178,-0.277c-0.293,-0.123 -0.493,-0.277 -0.601,-0.462c-0.107,-0.185 -0.161,-0.4 -0.161,-0.647l0,-58.076c0,-0.277 0.046,-0.501 0.138,-0.67c0.093,-0.169 0.278,-0.316 0.555,-0.439c0.277,-0.123 0.631,-0.208 1.062,-0.254c0.432,-0.046 0.955,-0.069 1.571,-0.069c0.647,0 1.178,0.023 1.594,0.069c0.416,0.046 0.763,0.131 1.04,0.254c0.277,0.123 0.47,0.27 0.577,0.439c0.108,0.169 0.162,0.393 0.162,0.67l0,5.59c1.263,-1.293 2.48,-2.417 3.65,-3.372c1.171,-0.955 2.349,-1.748 3.535,-2.38c1.185,-0.631 2.402,-1.109 3.65,-1.432c1.247,-0.323 2.564,-0.485 3.95,-0.485c3.018,0 5.59,0.585 7.716,1.756c2.125,1.17 3.858,2.772 5.197,4.805c1.34,2.033 2.318,4.397 2.934,7.092c0.616,2.695 0.924,5.552 0.924,8.57Zm-7.9,0.878c0,-2.125 -0.163,-4.181 -0.488,-6.168c-0.326,-1.987 -0.883,-3.75 -1.674,-5.29c-0.79,-1.54 -1.851,-2.772 -3.184,-3.696c-1.333,-0.924 -2.991,-1.386 -4.974,-1.386c-0.992,0 -1.968,0.146 -2.929,0.439c-0.96,0.292 -1.937,0.754 -2.928,1.386c-0.992,0.631 -2.03,1.463 -3.115,2.495c-1.085,1.031 -2.231,2.302 -3.44,3.811l0,16.541c2.108,2.556 4.107,4.512 5.997,5.867c1.891,1.356 3.874,2.033 5.95,2.033c1.921,0 3.571,-0.462 4.951,-1.386c1.379,-0.924 2.494,-2.156 3.347,-3.696c0.852,-1.54 1.48,-3.265 1.882,-5.175c0.403,-1.909 0.605,-3.834 0.605,-5.775Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1038.83,262.136c0,3.388 -0.447,6.507 -1.34,9.356c-0.893,2.849 -2.225,5.306 -3.996,7.369c-1.772,2.064 -3.989,3.673 -6.654,4.828c-2.664,1.156 -5.752,1.733 -9.263,1.733c-3.419,0 -6.399,-0.508 -8.94,-1.525c-2.541,-1.016 -4.659,-2.495 -6.353,-4.435c-1.694,-1.941 -2.957,-4.297 -3.789,-7.069c-0.831,-2.772 -1.247,-5.914 -1.247,-9.425c0,-3.388 0.439,-6.507 1.317,-9.356c0.877,-2.849 2.202,-5.306 3.973,-7.37c1.771,-2.063 3.981,-3.665 6.63,-4.805c2.649,-1.139 5.744,-1.709 9.287,-1.709c3.419,0 6.399,0.508 8.94,1.525c2.541,1.016 4.659,2.494 6.353,4.435c1.694,1.94 2.964,4.297 3.811,7.069c0.847,2.772 1.271,5.898 1.271,9.379Zm-7.901,0.508c0,-2.248 -0.21,-4.374 -0.629,-6.376c-0.42,-2.002 -1.111,-3.757 -2.075,-5.267c-0.963,-1.509 -2.269,-2.703 -3.916,-3.58c-1.647,-0.878 -3.698,-1.317 -6.154,-1.317c-2.269,0 -4.219,0.4 -5.851,1.201c-1.631,0.801 -2.976,1.933 -4.032,3.396c-1.057,1.463 -1.842,3.196 -2.354,5.198c-0.513,2.002 -0.77,4.189 -0.77,6.56c0,2.28 0.21,4.42 0.63,6.423c0.42,2.002 1.119,3.75 2.098,5.244c0.979,1.493 2.292,2.679 3.939,3.557c1.647,0.878 3.698,1.317 6.154,1.317c2.238,0 4.18,-0.401 5.827,-1.201c1.648,-0.801 3,-1.925 4.056,-3.373c1.057,-1.448 1.834,-3.173 2.331,-5.175c0.498,-2.002 0.746,-4.204 0.746,-6.607Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1074.36,244.533c0,0.678 -0.016,1.247 -0.047,1.709c-0.03,0.462 -0.092,0.824 -0.184,1.086c-0.093,0.262 -0.208,0.462 -0.347,0.601c-0.139,0.138 -0.331,0.208 -0.577,0.208c-0.247,0 -0.547,-0.07 -0.901,-0.208c-0.355,-0.139 -0.755,-0.277 -1.202,-0.416c-0.446,-0.139 -0.947,-0.27 -1.501,-0.393c-0.555,-0.123 -1.155,-0.185 -1.802,-0.185c-0.77,0 -1.525,0.154 -2.264,0.462c-0.739,0.308 -1.517,0.817 -2.333,1.525c-0.817,0.709 -1.671,1.648 -2.565,2.818c-0.893,1.171 -1.878,2.603 -2.956,4.297l0,27.352c0,0.247 -0.062,0.454 -0.185,0.624c-0.124,0.169 -0.324,0.316 -0.601,0.439c-0.277,0.123 -0.662,0.215 -1.155,0.277c-0.493,0.062 -1.124,0.092 -1.894,0.092c-0.74,0 -1.356,-0.03 -1.848,-0.092c-0.493,-0.062 -0.886,-0.154 -1.179,-0.277c-0.292,-0.123 -0.492,-0.27 -0.6,-0.439c-0.108,-0.17 -0.162,-0.377 -0.162,-0.624l0,-41.582c0,-0.246 0.046,-0.454 0.139,-0.624c0.092,-0.169 0.277,-0.323 0.554,-0.462c0.277,-0.138 0.632,-0.231 1.063,-0.277c0.431,-0.046 1.001,-0.069 1.709,-0.069c0.678,0 1.24,0.023 1.687,0.069c0.446,0.046 0.793,0.139 1.039,0.277c0.247,0.139 0.424,0.293 0.532,0.462c0.107,0.17 0.161,0.378 0.161,0.624l0,6.052c1.14,-1.663 2.21,-3.018 3.211,-4.065c1.001,-1.048 1.949,-1.872 2.842,-2.472c0.893,-0.601 1.779,-1.017 2.656,-1.248c0.878,-0.231 1.764,-0.346 2.657,-0.346c0.4,0 0.855,0.023 1.363,0.069c0.508,0.046 1.04,0.131 1.594,0.254c0.554,0.123 1.055,0.262 1.502,0.416c0.446,0.154 0.762,0.308 0.947,0.462c0.185,0.154 0.308,0.3 0.369,0.439c0.062,0.139 0.116,0.316 0.162,0.531c0.046,0.216 0.077,0.532 0.092,0.948c0.016,0.415 0.024,0.977 0.024,1.686Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1104.67,280.34c0,0.893 -0.061,1.601 -0.184,2.125c-0.124,0.524 -0.308,0.909 -0.555,1.155c-0.246,0.247 -0.616,0.478 -1.109,0.693c-0.493,0.216 -1.055,0.393 -1.686,0.532c-0.632,0.138 -1.302,0.254 -2.01,0.346c-0.708,0.092 -1.417,0.139 -2.125,0.139c-2.156,0 -4.004,-0.285 -5.545,-0.855c-1.54,-0.57 -2.802,-1.432 -3.788,-2.587c-0.986,-1.155 -1.702,-2.619 -2.149,-4.39c-0.446,-1.771 -0.669,-3.858 -0.669,-6.26l0,-24.303l-5.822,0c-0.462,0 -0.832,-0.246 -1.109,-0.739c-0.277,-0.493 -0.416,-1.293 -0.416,-2.402c0,-0.586 0.039,-1.078 0.116,-1.479c0.077,-0.4 0.177,-0.731 0.3,-0.993c0.123,-0.262 0.285,-0.447 0.485,-0.555c0.2,-0.107 0.424,-0.161 0.67,-0.161l5.776,0l0,-9.888c0,-0.215 0.053,-0.415 0.161,-0.6c0.108,-0.185 0.308,-0.347 0.601,-0.485c0.292,-0.139 0.685,-0.239 1.178,-0.301c0.493,-0.061 1.109,-0.092 1.848,-0.092c0.77,0 1.402,0.031 1.894,0.092c0.493,0.062 0.878,0.162 1.155,0.301c0.278,0.138 0.478,0.3 0.601,0.485c0.123,0.185 0.185,0.385 0.185,0.6l0,9.888l10.673,0c0.246,0 0.462,0.054 0.646,0.161c0.185,0.108 0.347,0.293 0.486,0.555c0.138,0.262 0.238,0.593 0.3,0.993c0.062,0.401 0.092,0.893 0.092,1.479c0,1.109 -0.138,1.909 -0.415,2.402c-0.278,0.493 -0.647,0.739 -1.109,0.739l-10.673,0l0,23.194c0,2.865 0.423,5.028 1.27,6.491c0.848,1.464 2.364,2.195 4.551,2.195c0.709,0 1.34,-0.069 1.895,-0.208c0.554,-0.138 1.047,-0.285 1.478,-0.439c0.431,-0.154 0.801,-0.3 1.109,-0.439c0.308,-0.138 0.585,-0.208 0.832,-0.208c0.154,0 0.3,0.039 0.439,0.116c0.138,0.077 0.246,0.223 0.323,0.439c0.077,0.215 0.146,0.508 0.208,0.878c0.062,0.369 0.092,0.831 0.092,1.386Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1149.21,260.796c0,1.201 -0.301,2.056 -0.904,2.564c-0.604,0.509 -1.292,0.763 -2.066,0.763l-27.385,0c0,2.31 0.233,4.389 0.697,6.237c0.464,1.848 1.238,3.434 2.321,4.759c1.083,1.324 2.492,2.341 4.225,3.049c1.733,0.709 3.854,1.063 6.36,1.063c1.981,0 3.746,-0.162 5.293,-0.485c1.548,-0.324 2.886,-0.686 4.016,-1.086c1.13,-0.4 2.059,-0.762 2.786,-1.086c0.727,-0.323 1.277,-0.485 1.649,-0.485c0.216,0 0.409,0.054 0.58,0.162c0.17,0.108 0.301,0.269 0.394,0.485c0.093,0.216 0.163,0.516 0.209,0.901c0.047,0.385 0.07,0.855 0.07,1.409c0,0.401 -0.016,0.747 -0.046,1.04c-0.031,0.292 -0.07,0.554 -0.116,0.785c-0.046,0.231 -0.123,0.439 -0.231,0.624c-0.108,0.185 -0.246,0.362 -0.416,0.531c-0.169,0.17 -0.67,0.447 -1.501,0.832c-0.832,0.385 -1.91,0.762 -3.235,1.132c-1.324,0.369 -2.856,0.701 -4.597,0.993c-1.74,0.293 -3.596,0.439 -5.567,0.439c-3.419,0 -6.414,-0.477 -8.986,-1.432c-2.572,-0.955 -4.736,-2.372 -6.492,-4.251c-1.756,-1.879 -3.08,-4.235 -3.973,-7.069c-0.894,-2.834 -1.34,-6.129 -1.34,-9.887c0,-3.573 0.462,-6.784 1.386,-9.633c0.924,-2.849 2.256,-5.267 3.996,-7.254c1.741,-1.987 3.843,-3.511 6.307,-4.574c2.464,-1.063 5.221,-1.594 8.27,-1.594c3.265,0 6.045,0.524 8.34,1.571c2.295,1.047 4.181,2.456 5.66,4.227c1.478,1.771 2.564,3.85 3.257,6.238c0.693,2.387 1.039,4.936 1.039,7.646l0,1.386Zm-7.669,-2.264c0.092,-4.004 -0.799,-7.146 -2.673,-9.425c-1.875,-2.279 -4.656,-3.419 -8.344,-3.419c-1.891,0 -3.549,0.354 -4.974,1.063c-1.426,0.708 -2.619,1.648 -3.58,2.818c-0.961,1.17 -1.705,2.533 -2.231,4.089c-0.527,1.555 -0.821,3.18 -0.884,4.874l22.686,0Z\" style=\"fill:#fff;fill-rule:nonzero;\"/><path d=\"M1196.42,283.389c0,0.247 -0.054,0.462 -0.161,0.647c-0.108,0.185 -0.293,0.331 -0.555,0.439c-0.262,0.108 -0.608,0.192 -1.039,0.254c-0.432,0.062 -0.955,0.092 -1.571,0.092c-0.647,0 -1.186,-0.03 -1.617,-0.092c-0.432,-0.062 -0.786,-0.146 -1.063,-0.254c-0.277,-0.108 -0.477,-0.254 -0.601,-0.439c-0.123,-0.185 -0.184,-0.4 -0.184,-0.647l0,-5.498c-2.187,2.372 -4.459,4.22 -6.815,5.544c-2.357,1.325 -4.936,1.987 -7.739,1.987c-3.05,0 -5.652,-0.593 -7.808,-1.779c-2.157,-1.186 -3.905,-2.787 -5.244,-4.805c-1.34,-2.017 -2.318,-4.389 -2.934,-7.115c-0.616,-2.726 -0.924,-5.598 -0.924,-8.617c0,-3.573 0.385,-6.799 1.155,-9.679c0.77,-2.88 1.909,-5.336 3.419,-7.369c1.509,-2.033 3.38,-3.596 5.613,-4.69c2.233,-1.093 4.813,-1.64 7.739,-1.64c2.434,0 4.659,0.531 6.676,1.594c2.018,1.063 4.012,2.626 5.984,4.689l0,-24.163c0,-0.216 0.054,-0.424 0.161,-0.624c0.108,-0.2 0.316,-0.354 0.624,-0.462c0.308,-0.108 0.701,-0.2 1.178,-0.277c0.478,-0.077 1.086,-0.116 1.825,-0.116c0.77,0 1.402,0.039 1.895,0.116c0.492,0.077 0.877,0.169 1.155,0.277c0.277,0.108 0.485,0.262 0.623,0.462c0.139,0.2 0.208,0.408 0.208,0.624l0,61.541Zm-7.669,-29.246c-2.064,-2.557 -4.058,-4.505 -5.984,-5.845c-1.925,-1.339 -3.934,-2.009 -6.029,-2.009c-1.94,0 -3.588,0.462 -4.944,1.386c-1.355,0.924 -2.456,2.14 -3.303,3.65c-0.847,1.509 -1.463,3.218 -1.848,5.128c-0.385,1.91 -0.578,3.85 -0.578,5.822c0,2.094 0.162,4.142 0.485,6.145c0.324,2.002 0.886,3.78 1.687,5.336c0.801,1.555 1.863,2.803 3.188,3.742c1.324,0.94 2.988,1.41 4.99,1.41c1.016,0 1.994,-0.139 2.934,-0.416c0.939,-0.278 1.902,-0.74 2.887,-1.386c0.986,-0.647 2.018,-1.487 3.096,-2.518c1.078,-1.032 2.217,-2.303 3.419,-3.812l0,-16.633Z\" style=\"fill:#fff;fill-rule:nonzero;\"/></g></svg>\n\n<img src=\"./public/color-wheel.svg\" alt=\"HSV Color Wheel\" width=\"250\"/>",
          "Lists": "Newlines with `<br>`:\n\nLine one<br>\nLine two<br/>\nLine three\n\nNested dotted:\n\n['The PR is complete and ready to merge', 'GitHub checks for the PR are green whenever possible', ['A \"red\" check may be disregarded by maintainers if the items flagged are unrelated to the change proposed in the PR', ['Modifications to existing files should not need to add license headers to pass lint, for instance.', \"If it's not directly related to your PR's functionality, prefer avoiding making a change.\"]]]\n\nNested dashed:\n\n['The PR is complete and ready to merge', 'GitHub checks for the PR are green whenever possible', ['A \"red\" check may be disregarded by maintainers if the items flagged are unrelated to the change proposed in the PR', ['Modifications to existing files should not need to add license headers to pass lint, for instance.', \"If it's not directly related to your PR's functionality, prefer avoiding making a change.\"]]]\n\nNested numbered:\n\n['The PR is complete and ready to merge', 'GitHub checks for the PR are green whenever possible', ['A \"red\" check may be disregarded by maintainers if the items flagged are unrelated to the change proposed in the PR', ['Modifications to existing files should not need to add license headers to pass lint, for instance.', \"If it's not directly related to your PR's functionality, prefer avoiding making a change.\"]]]\n\nNested mixed:\n\n['Add it to the schema in `data/schemas/keyboards.jsonschema`', 'Add a mapping in `data/maps`', '(optional and discouraged) Add code to extract/generate it to:']\n\n['`lib/python/qmk/info.py`', '`lib/python/qmk/cli/generate/config_h.py`', '`lib/python/qmk/cli/generate/rules_mk.py`']",
          "Emoji {#emoji}": {
            "Direct:": " First off, thanks for taking the time to read this and contribute! ",
            "As colon-name-colon:": ":heavy_check_mark: : works and was tested\n\n:o: : does not apply\n\n:x: : not supported by MCU"
          },
          "XML Entities": "[`clueboard`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard)  &larr; This is the organization folder, there's no `rules.mk` file\n\n1&ndash;4\n\nCommand+<code>&#96;</code>"
        },
        "Styling": {
          "CSS-ish": "<b style=\"font-size:150%\">This is 150% of normal sizing, and bold!</b>",
          "Tables": "| Column A | Column B |\n|----------|----------|\n| Left     | Right    |",
          "Indented sections": "['Indent without any sort of marker']\n\n?> Query, this?\n\n!> Notification, damnit!\n\n::: info\nThis is an info box.\n:::\n\n::: tip\nThis is a tip.\n:::\n\n::: warning\nThis is a warning.\n:::\n\n::: danger\nThis is a dangerous warning.\n:::\n\n::: details\nThis is a details block.\n:::",
          "Keyboard keys": "<kbd>,</kbd>\n\n<kbd>Right Alt</kbd>+<kbd>Right Shift</kbd>\n\n['Click <kbd>File</kbd> > <kbd>New</kbd> > <kbd>Makefile Project with Existing Code</kbd>', 'Click <kbd><kbd>File</kbd> > <kbd>Preferences ></kbd> > <kbd>Settings</kbd> </kbd>', 'Hit Ctrl-<code>&#96;</code> (Grave) to bring up the terminal or go to <kbd><kbd>View</kbd> > <kbd>Terminal</kbd></kbd> (command `workbench.action.terminal.toggleTerminal`). A new terminal will be opened if there isnt one already.', \"This should start the terminal in the workspace's folder (so the `qmk_firmware` folder), and then you can compile your keyboard. \"]",
          "Code Blocks": "Inline code with tag: <code>test</code>\n\nInline code with backticks: `test`\n\nThis is preformatted\nIndented by 4 spaces\nThe letters lined up\n\n\n```\nint c_code(void) {\n    return -1;\n}\n```\n\n```\nifeq ($(BUILD),)\n     CHUNDER_REQUIRED = yes\nendif\n```\n\n```\nfrom pathlib import Path\n\np = Path('/path/to/qmk_firmware')\n```\n\n```\n{\n    \"a\": \"b\",\n    \"c\": 4,\n    \"d\": {\n        \"e\": [\n            0, 1, 2, 3\n        ]\n    }\n}\n```\n\n```\n #undef RGBLIGHT_LED_COUNT\n+#undef RGBLIGHT_EFFECT_STATIC_GRADIENT\n+#undef RGBLIGHT_EFFECT_RAINBOW_SWIRL\n #define RGBLIGHT_LED_COUNT 12\n #define RGBLIGHT_HUE_STEP 8\n #define RGBLIGHT_SAT_STEP 8\n```\n\nIndented code as part of a list:\n\n['[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) (recommended GUI)', '[Teensy Loader](https://www.pjrc.com/teensy/loader.html)', '[Teensy Loader Command Line](https://www.pjrc.com/teensy/loader_cli.html) / `:teensy` target in QMK (recommended command line)', '```\\nteensy_loader_cli -v -mmcu=<mcu> <filename>\\n```']",
          "Sub/Superscript": "<sub>This is subscripted, apparently.</sub>\n\n<sup>This is superscripted, apparently.</sup>\n\nI<sup>2</sup>C\n\nT<sub>0H</sub>, T<sub>0L</sub>",
          "Tabs": {
            "** Tab one **": {
              "** Nested one **": "Nested content one",
              "** Nested two **": "Nested content two\n\n<!-- tabs:end -->"
            },
            "** Tab two **": "Content two",
            "** Tab three **": "Content three\n\n<!-- tabs:end -->\n\n::::tabs\n=== tab a\na content 2\n=== tab b\nb content 2\n=== tab c\n:::tabs\n== nested tab a\nnested a content 2\n== nested tab b\nnested b content 2\n:::\n::::"
          }
        },
        "Details sections": "Expandable:\n\n<details>\n<summary>Some summary text that shows up before expanding</summary>\n\n!> Embedded notification!\n\nThis is some inner content.\n</details>",
        "Embed": "[example embed](__capabilities_inc.md ':include')\n\n<!--@include: ./__capabilities_inc.md-->\n\n[1]: https://en.wikipedia.org/wiki/Eclipse_(software)"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 0]"
    },
    {
      "title": "  Capabilities Inc",
      "description": null,
      "content": {
        "root": [
          "Lorem ipsum dolor sit amet."
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 1]"
    },
    {
      "title": "Api Development Environment",
      "description": null,
      "content": {
        "Development Environment Setup": "To setup a development stack head over to the [qmk_web_stack](https://github.com/qmk/qmk_web_stack)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 2]"
    },
    {
      "title": "API Service",
      "description": null,
      "content": {
        "@app.route('/v1/compile', methods=['POST'])": "This is the main entrypoint for the API. A client's interaction starts here. The client POST's a JSON document describing their keyboard, and the API does some (very) basic validation of that JSON before submitting the compile job.",
        "@app.route('/v1/compile/&lt;string:job_id&gt;', methods=['GET'])": "This is the most frequently called endpoint. It pulls the job details from redis, if they're still available, or the cached job details on S3 if they're not.",
        "@app.route('/v1/compile/&lt;string:job_id&gt;/download', methods=['GET'])": "This method allows users to download the compiled firmware file.",
        "@app.route('/v1/compile/&lt;string:job_id&gt;/source', methods=['GET'])": "This method allows users to download the source for their firmware."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 3]"
    },
    {
      "title": "QMK API",
      "description": null,
      "content": {
        "Overview": "This service is an asynchronous API for compiling custom keymaps. You POST some JSON to the API, periodically check the status, and when your firmware has finished compiling you can download the resulting firmware and (if desired) source code for that firmware.\n\nExample JSON Payload:\n\n```\n{\n  \"keyboard\": \"clueboard/66/rev2\",\n  \"keymap\": \"my_awesome_keymap\",\n  \"layout\": \"LAYOUT_all\",\n  \"layers\": [\n    [\"KC_GRV\",\"KC_1\",\"KC_2\",\"KC_3\",\"KC_4\",\"KC_5\",\"KC_6\",\"KC_7\",\"KC_8\",\"KC_9\",\"KC_0\",\"KC_MINS\",\"KC_EQL\",\"KC_GRV\",\"KC_BSPC\",\"KC_PGUP\",\"KC_TAB\",\"KC_Q\",\"KC_W\",\"KC_E\",\"KC_R\",\"KC_T\",\"KC_Y\",\"KC_U\",\"KC_I\",\"KC_O\",\"KC_P\",\"KC_LBRC\",\"KC_RBRC\",\"KC_BSLS\",\"KC_PGDN\",\"KC_CAPS\",\"KC_A\",\"KC_S\",\"KC_D\",\"KC_F\",\"KC_G\",\"KC_H\",\"KC_J\",\"KC_K\",\"KC_L\",\"KC_SCLN\",\"KC_QUOT\",\"KC_NUHS\",\"KC_ENT\",\"KC_LSFT\",\"KC_NUBS\",\"KC_Z\",\"KC_X\",\"KC_C\",\"KC_V\",\"KC_B\",\"KC_N\",\"KC_M\",\"KC_COMM\",\"KC_DOT\",\"KC_SLSH\",\"KC_INT1\",\"KC_RSFT\",\"KC_UP\",\"KC_LCTL\",\"KC_LGUI\",\"KC_LALT\",\"KC_INT5\",\"KC_SPC\",\"KC_SPC\",\"KC_INT4\",\"KC_RALT\",\"KC_RCTL\",\"MO(1)\",\"KC_LEFT\",\"KC_DOWN\",\"KC_RIGHT\"],\n    [\"KC_ESC\",\"KC_F1\",\"KC_F2\",\"KC_F3\",\"KC_F4\",\"KC_F5\",\"KC_F6\",\"KC_F7\",\"KC_F8\",\"KC_F9\",\"KC_F10\",\"KC_F11\",\"KC_F12\",\"KC_TRNS\",\"KC_DEL\",\"BL_STEP\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"_______\",\"KC_TRNS\",\"KC_PSCR\",\"KC_SCRL\",\"KC_PAUS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"MO(2)\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_PGUP\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"MO(1)\",\"KC_LEFT\",\"KC_PGDN\",\"KC_RGHT\"],\n    [\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"QK_BOOT\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"MO(2)\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\",\"MO(1)\",\"KC_TRNS\",\"KC_TRNS\",\"KC_TRNS\"]\n  ]\n}\n```\n\nAs you can see the payload describes all aspects of a keyboard necessary to create and generate a firmware. Each layer is a single list of QMK keycodes the same length as the keyboard's `LAYOUT` macro. If a keyboard supports multiple `LAYOUT` macros you can specify which macro to use.",
        "Submitting a Compile Job": "To compile your keymap into a firmware simply POST your JSON to the `/v1/compile` endpoint. In the following example we've placed the JSON payload into a file named `json_data`.\n\n```\n$ curl -H \"Content-Type: application/json\" -X POST -d \"$(< json_data)\" https://api.qmk.fm/v1/compile\n{\n  \"enqueued\": true,\n  \"job_id\": \"ea1514b3-bdfc-4a7b-9b5c-08752684f7f6\"\n}\n```",
        "Checking The Status": "After submitting your keymap you can check the status using a simple HTTP GET call:\n\n```\n$ curl https://api.qmk.fm/v1/compile/ea1514b3-bdfc-4a7b-9b5c-08752684f7f6\n{\n  \"created_at\": \"Sat, 19 Aug 2017 21:39:12 GMT\",\n  \"enqueued_at\": \"Sat, 19 Aug 2017 21:39:12 GMT\",\n  \"id\": \"f5f9b992-73b4-479b-8236-df1deb37c163\",\n  \"status\": \"running\",\n  \"result\": null\n}\n```\n\nThis shows us that the job has made it through the queue and is currently running. There are 5 possible statuses:\n\n['**failed**: Something about the compiling service has broken.', '**finished**: The compilation is complete and you should check `result` to see the results.', '**queued**: The keymap is waiting for a compilation server to become available.', '**running**: The compilation is in progress and should be complete soon.', '**unknown**: A serious error has occurred and you should [file a bug](https://github.com/qmk/qmk_compiler/issues).']",
        "Examining Finished Results": "Once your compile job has finished you'll check the `result` key. The value of this key is a hash containing several key bits of information:\n\n['`firmware_binary_url`: A list of URLs for the flashable firmware', '`firmware_keymap_url`: A list of URLs for the `keymap.c`', '`firmware_source_url`: A list of URLs for the full firmware source code', '`output`: The stdout and stderr for this compile job. Errors will be found here.']",
        "Constants {#qmk-constants}": "If you're writing a tool that leverages constants used within QMK, the API is used to publish \"locked-in\" versions of those constants in order to ensure that any third-party tooling has a canonical set of information to work with.\n\nThe list of available constants can be retrieved by accessing one of the following endpoints:\n\n```\n$ curl https://keyboards.qmk.fm/v1/constants_metadata.json # For `master`\n{\"last_updated\": \"2022-11-26 00:00:00 GMT\", \"constants\": {\"keycodes\": [\"0.0.1\"]}}\n\n$ curl https://keyboards.develop.qmk.fm/v1/constants_metadata.json # For `develop`\n{\"last_updated\": \"2022-11-26 12:00:00 GMT\", \"constants\": {\"keycodes\": [\"0.0.1\", \"0.0.2\"]}}\n```\n\n::: warning\nVersions exported by the `master` endpoint are locked-in. Any extra versions that exist on the `develop` endpoint which don't exist in `master` are subject to change.\n:::\n\n::: tip\nOnly keycodes are currently published, but over time all other \"externally visible\" IDs are expected to appear on these endpoints.\n:::\n\nTo retrieve the constants associated with a subsystem, the endpoint format is as follows:\n\n```\n# https://keyboards.qmk.fm/v1/constants/{subsystem}_{version}.json\n```\n\nWhich, for the metadata endpoint above results in a request of:\n\n```\n$ curl https://keyboards.qmk.fm/v1/constants/keycodes_0.0.1.json\n{\n    \"ranges\": {\n        \"0x0000/0x00FF\": {\n            \"define\": \"QK_BASIC\"\n        },\n        \"0x0100/0x1EFF\": {\n            \"define\": \"QK_MODS\"\n        },\n        \"0x2000/0x1FFF\": {\n            \"define\": \"QK_MOD_TAP\"\n<snip>\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 4]"
    },
    {
      "title": "QMK API",
      "description": null,
      "content": {
        "App Developers": "If you are an app developer interested in using this API in your application you should head over to [Using The API](api_docs).",
        "Keyboard Maintainers": "If you would like to enhance your keyboard's support in the QMK Compiler API head over to the [Keyboard Support](reference_configurator_support) section.",
        "Backend Developers": "If you are interested in working on the API itself you should start by setting up a [Development Environment](api_development_environment), then check out [Hacking On The API](api_development_overview)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 5]"
    },
    {
      "title": "ARM Debugging using Eclipse",
      "description": null,
      "content": {
        "Installing the software": {
          "The xPack Manager": "This tool is a software package manager and it is used to help us get the necessary dependencies.\n\nXPM runs using Node.js so grab that from [here](https://nodejs.org/en/). After installation, open a terminal and type `npm -v`. A reply with the version number means that the installation was successful.\n\nXPM installation instructions can be found [here](https://www.npmjs.com/package/xpm) and are OS specific. Entering `xpm --version` to your terminal should return the software version.",
          "The ARM Toolchain": "Using XPM it is very easy to install the ARM toolchain. Enter the command `xpm install --global @xpack-dev-tools/arm-none-eabi-gcc`.",
          "Windows build tools": "If you are using windows you need to install this!\n\n`xpm install --global @gnu-mcu-eclipse/windows-build-tools`",
          "Programmer/Debugger Drivers": "Now it's time to install your programmer's drivers. This tutorial was made using an ST-Link v2 which you can get from almost anywhere.\nIf you have an ST-Link the drivers can be found [here](https://www.st.com/en/development-tools/stsw-link009.html) otherwise consult the manufacturer of your tool.",
          "OpenOCD": "This dependency allows SWD access from GDB and it is essential for debugging. Run `xpm install --global @xpack-dev-tools/openocd`.",
          "Java": "Java is needed by Eclipse so please download it from [here](https://www.oracle.com/technetwork/java/javase/downloads/index.html).",
          "GNU MCU Eclipse IDE": "Now its finally time to install the IDE. Use the Release page [here](https://github.com/gnu-mcu-eclipse/org.eclipse.epp.packages/releases/) to get the latest version."
        },
        "Configuring Eclipse": "Open up the Eclipse IDE we just downloaded. To import our QMK directory select File -> Import -> C/C++ -> Existing Code as Makefile Project. Select Next and use Browse to select your QMK folder. In the tool-chain list select ARM Cross GCC and select Finish.\n\nNow you can see the QMK folder on the left hand side. Right click it and select Properties. On the left hand side, expand MCU and select ARM Toolchains Paths. Press xPack and OK. Repeat for OpenOCD Path and if you are on Windows for Build Tools Path. Select Apply and Close.\n\nNow its time to install the necessary MCU packages. Go to Packs perspective by selecting Window -> Perspective -> Open Perspective -> Other... -> Packs. Now select the yellow refresh symbol next to the Packs tab. This will take a long time as it is requesting the MCU definitions from various places. If some of the links fail you can probably select Ignore.\n\nWhen this finishes you must find the MCU which we will be building/debugging for. In this example I will be using the STM32F3 series MCUs. On the left, select STMicroelectronics -> STM32F3 Series. On the middle window we can see the pack. Right click and select Install. Once that is done we can go back to the default perspective, Window -> Perspective -> Open Perspective -> Other... -> C/C++.\n\nWe need to let eclipse know the device we intent to build QMK on. Right click on the QMK folder -> Properties -> C/C++ Build -> Settings. Select the Devices tab and under Devices select the appropriate variant of your MCU. For my example it is STM32F303CC\n\nWhile we are here let's setup the build command as well. Select C/C++ Build and then the Behavior tab. On the Build command, replace `all` with your necessary make command. For example for a rev6 Planck with the default keymap this would be `planck/rev6:default`. Select Apply and Close.",
        "Building": "If you have setup everything correctly pressing the hammer button should build the firmware for you and a .bin file should appear.",
        "Debugging": {
          "Connecting the Debugger": "ARM MCUs use the Single Wire Debug (SWD) protocol which comprises of the clock (SWCLK) signal and the data (SWDIO) signal. Connecting this two wires and ground should be enough to allow full manipulation of the MCU. Here we assume that the keyboard will be powered though USB. The RESET signal is not necessary as we can manually assert it using the reset button. For a more advance setup, the SWO signal can be used which pipes printf and scanf asynchronously to the host but for our setup we will ignore it.\n\nNOTE: Make sure the SWCLK and SWDIO pins are not used in the matrix of your keyboard. If they are you can temporarily switch them for some other pins.",
          "Configuring the Debugger": "Right click on your QMK folder, select Debug As -> Debug Configurations... . Here double click on GDB OpenOCD Debugging. Select the Debugger tab and enter the configuration necessary for your MCU. This might take some fiddling and Googling to find out. The default script for the STM32F3 is called `stm32f3discovery.cfg`. To let OpenOCD know, in the Config options enter `-f board/stm32f3discovery.cfg`.\n\nNOTE: In my case this configuration script requires editing to disable the reset assertion. The locations of the scripts can be found in the actual executable field usually under the path `openocd/version/.content/scripts/board`. Here I edited `reset_config srst_only` to `reset_config none`.\n\nSelect Apply and Close.",
          "Running the Debugger.": "Reset your keyboard.\n\nPress the bug icon and if all goes well you should soon find yourself in the Debug perspective. Here the program counter will pause at the beginning of the main function and wait for you to press Play. Most of the features of all debuggers work on Arm MCUs but for exact details Google is your friend!\n\nHappy debugging!"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 6]"
    },
    {
      "title": "Breaking Changes",
      "description": null,
      "content": {
        "What has been included in past Breaking Changes?": [
          "[2025 May 25](ChangeLog/20250525)",
          "[2025 Feb 23](ChangeLog/20250223)",
          "[2024 Nov 24](ChangeLog/20241124)",
          "[Older Breaking Changes](breaking_changes_history)"
        ],
        "When is the next Breaking Change?": {
          "Important Dates": [
            "2025 May 25 - `develop` is tagged with a new release version. Each push to `master` is subsequently merged to `develop` by GitHub actions.",
            "2025 Aug 3 - `develop` closed to new PRs.",
            "2025 Aug 3 - Call for testers.",
            "2025 Aug 17 - Last day for merges -- after this point `develop` is locked for testing and accepts only bugfixes",
            "2025 Aug 24 - `develop` is locked, only critical bugfix PRs merged.",
            "2025 Aug 29 - `master` is locked, no PRs merged.",
            "2025 Aug 31 - Merge `develop` to `master`.",
            "2025 Aug 31 - `master` is unlocked. PRs can be merged again."
          ]
        },
        "What changes will be included?": "To see a list of breaking changes merge candidates you can look at the [`core` label](https://github.com/qmk/qmk_firmware/pulls?q=is%3Aopen+label%3Acore+is%3Apr). This label is applied whenever a PR is raised or changed, but only if the PR includes changes to core areas of QMK Firmware. A PR with that label applied is not guaranteed to be merged in the current cycle. New changes might be added between now and when `develop` is closed, and it is generally the responsibility of the submitter to handle conflicts. There is also another label used by QMK Collaborators -- `breaking_change_YYYYqN` -- which signifies to maintainers that it is a strong candidate for inclusion, and should be prioritized for review.\n\nIf you want your breaking change to be included in this round you need to create a PR and have it accepted by QMK Collaborators before `develop` closes. After `develop` closes, new submissions will be deferred to the next breaking changes cycle.\n\nThe simpler your PR is, the easier it is for maintainers to review, thus a higher likelihood of a faster merge. Large PRs tend to require a lot of attention, refactoring, and back-and-forth with subsequent reviews -- with other PRs getting merged in the meantime larger unmerged PRs are far more likely to be susceptible to conflicts.\n\nCriteria for acceptance:\n\n['The PR is complete and ready to merge', 'GitHub checks for the PR are green whenever possible', ['A \"red\" check may be disregarded by maintainers if the items flagged are unrelated to the change proposed in the PR', ['Modifications to existing files should not need to add license headers to pass lint, for instance.', \"If it's not directly related to your PR's functionality, prefer avoiding making a change.\"]]]\n\nStrongly suggested:\n\n['The PR has a ChangeLog file describing the changes under `<qmk_firmware>/docs/Changelog/20241124`.', ['This should be in Markdown format, with a name in the format `PR12345.md`, substituting the digits for your PRs ID.', 'One strong recommendation that the ChangeLog document matches the PR description on GitHub, so as to ensure traceability.']]",
        "Checklists": {
          "4 Weeks Before Merge": [
            "`develop` is now closed to new PRs, only fixes for current PRs may be merged",
            "Post call for testers: message `@Breaking Changes Updates` on `#qmk_firmware` in Discord:",
            [
              "`@Breaking Changes Updates -- Hey folks, last day for functional PRs to be raised against qmk_firmware for this breaking changes cycle is today.`"
            ]
          ],
          "2 Weeks Before Merge": [
            "`develop` is now closed to existing PR merges, only bugfixes for previous merges may be included",
            "Post call for testers: message `@Breaking Changes Updates` on `#qmk_firmware` in Discord.",
            [
              "`@Breaking Changes Updates -- Hey folks, last day for functional PRs to be merged into qmk_firmware for this breaking changes cycle is today. After that, we're handling bugfixes only.`"
            ]
          ],
          "1 Week Before Merge": [
            "`develop` is now closed to PR merges, only critical bugfixes may be included",
            "Announce that master will be closed from `<2 Days Before>` to `<Day of Merge>` -- message `@Breaking Changes Updates` on `#qmk_firmware` in Discord:",
            [
              "`@Breaking Changes Updates -- Hey folks, last day for functional PRs to be merged into qmk_firmware for this breaking changes cycle is today. After that, we're handling bugfixes only.`"
            ]
          ],
          "2 Days Before Merge": [
            "`master` is now closed to PR merges",
            "Announce that master is closed for 2 days",
            [
              "`@Breaking Changes Updates -- Hey folks, the master branch of qmk_firmware is now locked for the next couple of days while we prepare to merge the newest batch of changes from develop.`"
            ]
          ],
          "Day Of Merge": [
            "`qmk_firmware` git commands",
            [
              "`git checkout develop`",
              "`git pull --ff-only`",
              "Edit `readme.md`",
              [
                "Remove the notes about `develop`"
              ],
              "Roll up the ChangeLog into one file.",
              "`git commit -m 'Merge point for <DATE> Breaking Change'`",
              "`git push upstream develop`"
            ],
            "GitHub Actions",
            [
              "Create a PR for `develop`",
              "**Turn off 'Automatically delete head branches' for the repository** -- confirm with @qmk/directors that it is done before continuing"
            ],
            "`qmk_firmware` git commands",
            [
              "`git checkout master`",
              "`git pull --ff-only`",
              "`git merge --no-ff develop`",
              "`git tag <next_version>` # Prevent the breakpoint tag from confusing version incrementing",
              "`git push upstream <next_version>`",
              "`git push upstream master`"
            ]
          ]
        },
        "Post-merge operations": {
          "Updating the `develop` branch": "This happens immediately after the previous `develop` branch is merged to `master`.\n\n['`qmk_firmware` git commands', ['`git checkout master`', '`git pull --ff-only`', '`git checkout develop`', '`git pull --ff-only`', '`git merge --no-ff master`', 'Edit `readme.md`', ['Add a big notice at the top that this is a testing branch. See previous revisions of the `develop` branch.', 'Include a link to this document'], \"`git commit -m 'Branch point for <DATE> Breaking Change'`\", '`git tag breakpoint_<YYYY>_<MM>_<DD>`', '`git push upstream breakpoint_<YYYY>_<MM>_<DD>`', '`git push upstream develop`'], 'All submodules under `lib` now need to be checked against their QMK-based forks:', ['`git submodule foreach git log -n1`', 'Validate each submodule SHA1 matches the qmk fork, e.g. for ChibiOS:', ['Go to [qmk/ChibiOS](https://github.com/qmk/ChibiOS)', 'Compare the commit hash in the above output to the commit hash in the repository', \"If there's a mismatch, that repository needs to have its `qmk-master` branch updated to match (otherwise Configurator won't work):\", ['`cd lib/chibios`', '`git fetch --all`', '`git checkout qmk-master`', '`git reset --hard <commit hash>`', '`git push origin qmk-master --force-with-lease`']]], 'Announce that both `master` and `develop` are now unlocked -- message `@Breaking Changes Updates` on `#qmk_firmware` in Discord:', ['`@Breaking Changes Updates -- Hey folks, develop has now been merged into master -- newest batch of changes are now available for everyone to use!`'], '(Optional) [update ChibiOS + ChibiOS-Contrib on `develop`](chibios_upgrade_instructions)']",
          "Set up Discord events for the next cycle": [
            "Update this file with the new dates: `docs/breaking_changes.md`",
            "Create Events on the QMK Discord - \"Somewhere Else\" => \"GitHub\":",
            [
              "Event #1:\n| Field       | Value                                                                                                                                                                                                                 |\n|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Topic       | Last `develop` functionality PRs to be raised                                                                                                                                                                         |\n| Start Date  | ((5 weeks before merge)), 12:00am                                                                                                                                                                                     |\n| End Date    | ((4 weeks before merge)), 12:00am                                                                                                                                                                                     |\n| Description | This is the last window for functional PRs to be raised against `develop` for the current breaking changes cycle. After ((4 weeks before merge)), any new PRs targeting `develop` will be deferred to the next cycle. |",
              "Event #2:\n| Field       | Value                                                                                                                                                                                                            |\n|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Topic       | Last `develop` functionality PRs to be merged                                                                                                                                                                    |\n| Start Date  | ((4 weeks before merge)), 12:00am                                                                                                                                                                                |\n| End Date    | ((2 weeks before merge)), 12:00am                                                                                                                                                                                |\n| Description | This is the last window for functional PRs to be merged into `develop` for the current breaking changes cycle. After ((2 weeks before merge)), only bugfix PRs targeting `develop` will be considered for merge. |",
              "Event #3:\n| Field       | Value                                                                                                                                                                                                                           |\n|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Topic       | `develop` closed for merges                                                                                                                                                                                                     |\n| Start Date  | ((2 weeks before merge)), 12:00am                                                                                                                                                                                               |\n| End Date    | ((day of merge)), 12:00am                                                                                                                                                                                                       |\n| Description | This is the deadline for functionality bugfix PRs to be merged into `develop` for the current breaking changes cycle. After ((1 week before merge)), only critical bugfix PRs targeting `develop` will be considered for merge. |",
              "Event #4:\n| Field       | Value                                                                                                                |\n|-------------|----------------------------------------------------------------------------------------------------------------------|\n| Topic       | `master` closed for merges                                                                                           |\n| Start Date  | ((2 days before merge)), 12:00am                                                                                     |\n| End Date    | ((day of merge)), 12:00am                                                                                            |\n| Description | This is the period that no PRs are to be merged to `master`, so that the merge of `develop` into `master` is stable. |",
              "Event #5:\n| Field       | Value                                                                                                                                      |\n|-------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Topic       | `develop` merges to `master`                                                                                                               |\n| Start Date  | ((day of merge)), 12:00am                                                                                                                  |\n| End Date    | ((day of merge)), 11:45pm                                                                                                                  |\n| Description | At some point, QMK will merge `develop` into `master` and everyone will be able to reap the benefits of the newest batch of functionality. |"
            ]
          ]
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 7]"
    },
    {
      "title": "Breaking Changes History",
      "description": null,
      "content": {
        "Past Breaking Changes": "This page links to all previous changelogs from the QMK Breaking Changes process.\n\n['[2025 May 25](ChangeLog/20250525) - version 0.29.0', '[2025 Feb 23](ChangeLog/20250223) - version 0.28.0', '[2024 Nov 24](ChangeLog/20241124) - version 0.27.0', '[2024 Aug 25](ChangeLog/20240825) - version 0.26.0', '[2024 May 26](ChangeLog/20240526) - version 0.25.0', '[2024 Feb 25](ChangeLog/20240225) - version 0.24.0', '[2023 Nov 26](ChangeLog/20231126) - version 0.23.0', '[2023 Aug 27](ChangeLog/20230827) - version 0.22.0', '[2023 May 28](ChangeLog/20230528) - version 0.21.0', '[2023 Feb 26](ChangeLog/20230226) - version 0.20.0', '[2022 Nov 26](ChangeLog/20221126) - version 0.19.0', '[2022 Aug 27](ChangeLog/20220827) - version 0.18.0', '[2022 May 28](ChangeLog/20220528) - version 0.17.0', '[2022 Feb 26](ChangeLog/20220226) - version 0.16.0', '[2021 Nov 27](ChangeLog/20211127) - version 0.15.0', '[2021 Aug 28](ChangeLog/20210828) - version 0.14.0', '[2021 May 29](ChangeLog/20210529) - version 0.13.0', '[2021 Feb 27](ChangeLog/20210227) - version 0.12.0', '[2020 Nov 28](ChangeLog/20201128) - version 0.11.0', '[2020 Aug 29](ChangeLog/20200829) - version 0.10.0', '[2020 May 30](ChangeLog/20200530) - version 0.9.0', '[2020 Feb 29](ChangeLog/20200229) - version 0.8.0', '[2019 Aug 30](ChangeLog/20190830) - version 0.7.0']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 8]"
    },
    {
      "title": "Breaking Changes: My Pull Request Was Flagged",
      "description": null,
      "content": {
        "What Do I Do?": {
          "Consider Splitting Up Your PR": "If you are contributing core code, and the only reason it needs to go through breaking changes is that you are updating keymaps to match your change, consider whether you can submit your feature in a way that the old keymaps continue to work. Then submit a separate PR that goes through the breaking changes process to remove the old code.",
          "Document Your Changes": "Understanding the purpose for your submission, and possible implications or actions it will require can make the review process more straightforward. A changelog may suffice for this purpose, but more extensive changes may require a level of detail that is ill-suited for a changelog.\n\nCommenting on your pull request and being responsive to questions, comments, and change requests is much appreciated.",
          "Ask for Help": "Having your submission flagged may have caught you off guard. If you find yourself intimidated or overwhelmed, let us know. Comment on your pull request, or [reach out to the QMK team on Discord](https://discord.gg/qmk)."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 9]"
    },
    {
      "title": "ChibiOS Upgrade Procedure",
      "description": null,
      "content": {
        "Getting ChibiOS": [
          "`svn` Initialization:",
          [
            "Only needed to be done once",
            "You might need to separately install `git-svn` package in your OS's package manager",
            "`git svn init --stdlayout --prefix='svn/' http://svn.osdn.net/svnroot/chibios/`",
            "`git remote add qmk git@github.com:qmk/ChibiOS.git`"
          ],
          "Updating:",
          [
            "`git svn fetch`",
            "First time around this will take several hours",
            "Subsequent updates will be incremental only"
          ],
          "Tagging example (work out which version first!):",
          [
            "`git tag -a ver20.3.4 -m ver20.3.4 svn/tags/ver20.3.4`",
            "`git push qmk ver20.3.4`",
            "`git tag -a develop_YYYY_qN -m develop_YYYY_qN svn/tags/ver20.3.4`",
            "`git push qmk develop_YYYY_qN`"
          ]
        ],
        "Getting ChibiOS-Contrib": [
          "`git` Initialization:",
          [
            "`git clone git@github.com:qmk/ChibiOS-Contrib`",
            "`git remote add upstream https://github.com/ChibiOS/ChibiOS-Contrib`",
            "`git checkout -b chibios-20.3.x upstream/chibios-20.3.x`"
          ],
          "Updating:",
          [
            "`git fetch --all --tags --prune`",
            "`git checkout chibios-20.3.x`",
            "`git pull --ff-only`",
            "`git push origin chibios-20.3.x`",
            "`git tag -a develop_YYYY_qN -m develop_YYYY_qN chibios-20.3.x`",
            "`git push origin develop_YYYY_qN`"
          ]
        ],
        "Updating submodules": [
          "Update the submodules",
          [
            "`cd $QMK_FIRMWARE`",
            "`git checkout develop`",
            "`git pull --ff-only`",
            "`git checkout -b chibios-version-bump`",
            "`cd lib/chibios`",
            "`git fetch --all --tags --prune`",
            "`git checkout develop_YYYY_qN`",
            "`cd ../chibios-contrib`",
            "`git fetch --all --tags --prune`",
            "`git checkout develop_YYYY_qN`"
          ],
          "Update ChibiOS configs within QMK",
          [
            "`cd $QMK_FIRMWARE`",
            "`./util/chibios_conf_updater.sh`"
          ],
          "Build everything",
          [
            "`cd $QMK_FIRMWARE`",
            "`qmk mass-compile -j 4`",
            "Make sure there are no errors"
          ],
          "Push to the repo",
          [
            "`git commit -am 'Update ChibiOS to 99.9.9'`",
            "`git push --set-upstream origin chibios-version-bump`"
          ],
          "Make a PR to qmk_firmware with the new branch"
        ],
        "When merging a PR containing an upgrade of ChibiOS/ChibiOS-Contrib:": [
          "Update the target branch if the merge target was `master`:",
          [
            "`git checkout qmk-master`",
            "`git reset --hard develop_YYYY_qN`",
            "`git push origin qmk-master --force-with-lease`"
          ],
          "Update the target branch if the merge target was `develop`:",
          [
            "`git checkout qmk-develop`",
            "`git reset --hard develop_YYYY_qN`",
            "`git push origin qmk-develop --force-with-lease`"
          ]
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 10]"
    },
    {
      "title": "QMK CLI {#qmk-cli}",
      "description": null,
      "content": {
        "Overview {#overview}": {
          "Requirements {#requirements}": "QMK requires Python 3.9 or greater. We try to keep the number of requirements small but you will also need to install the packages listed in [`requirements.txt`](https://github.com/qmk/qmk_firmware/blob/master/requirements.txt). These are installed automatically when you install the QMK CLI.",
          "Install Using Homebrew (macOS, some Linux) {#install-using-homebrew}": "If you have installed [Homebrew](https://brew.sh) you can tap and install QMK:\n\n```\nbrew install qmk/qmk/qmk\nexport QMK_HOME='~/qmk_firmware' # Optional, set the location for `qmk_firmware`\nqmk setup  # This will clone `qmk/qmk_firmware` and optionally set up your build environment\n```",
          "Install Using uv {#install-using-uv}": "If you have installed [uv](https://docs.astral.sh/uv/), the QMK CLI can be installed and managed as a uv tool:\n\n```\nuv tool install qmk\nexport QMK_HOME='~/qmk_firmware' # Optional, set the location for `qmk_firmware`\nqmk setup  # This will clone `qmk/qmk_firmware` and optionally set up your build environment\n```\n\nThis installation can be updated via `uv tool upgrade qmk`. See [Upgrading tools](https://docs.astral.sh/uv/guides/tools/#upgrading-tools) for more information.",
          "Install Using pip {#install-using-easy_install-or-pip}": "If your system is not listed above you can install QMK manually. First ensure that you have Python 3.9 (or later) installed and have installed pip. Then install QMK with this command:\n\n```\npython3 -m pip install qmk\nexport QMK_HOME='~/qmk_firmware' # Optional, set the location for `qmk_firmware`\nqmk setup  # This will clone `qmk/qmk_firmware` and optionally set up your build environment\n```",
          "Packaging For Other Operating Systems {#packaging-for-other-operating-systems}": "We are looking for people to create and maintain a `qmk` package for more operating systems. If you would like to create a package for your OS please follow these guidelines:\n\n['Follow best practices for your OS when they conflict with these guidelines', ['Document why in a comment when you do deviate'], 'Install using a virtualenv', 'Instruct the user to set the environment variable `QMK_HOME` to have the firmware source checked out somewhere other than `~/qmk_firmware`.']"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 11]"
    },
    {
      "title": "User Commands",
      "description": null,
      "content": {
        "`qmk compile`": "This command allows you to compile firmware from any directory. You can compile JSON exports from <https://config.qmk.fm>, compile keymaps in the repo, or compile the keyboard in the current working directory.\n\nThis command is directory aware. It will automatically fill in KEYBOARD and/or KEYMAP if you are in a keyboard or keymap directory.\n\n**Usage for Configurator Exports**:\n\n```\nqmk compile [-c] <configuratorExport.json>\n```\n\n**Usage for Keymaps**:\n\n```\nqmk compile [-c] [-e <var>=<value>] [-j <num_jobs>] [--compiledb] -kb <keyboard> -km <keymap>\n```\n\n**Usage in Keyboard Directory**:\n\nMust be in keyboard directory with a default keymap, or in keymap directory for keyboard, or supply one with `--keymap <keymap>`\n\n```\nqmk compile\n```\n\n**Usage for building all keyboards that support a specific keymap**:\n\n```\nqmk compile -kb all -km <keymap>\n```\n\n**Example**:\n\n```\n$ qmk config compile.keymap=default\n$ cd ~/qmk_firmware/keyboards/planck/rev6\n$ qmk compile\n Compiling keymap with make planck/rev6:default\n...\n```\n\nor with optional keymap argument\n\n```\n$ cd ~/qmk_firmware/keyboards/clueboard/66/rev4\n$ qmk compile -km 66_iso\n Compiling keymap with make clueboard/66/rev4:66_iso\n...\n```\n\nor in keymap directory\n\n```\n$ cd ~/qmk_firmware/keyboards/gh60/satan/keymaps/colemak\n$ qmk compile\n Compiling keymap with make gh60/satan:colemak\n...\n```\n\n**Usage in Layout Directory**:\n\nMust be under `qmk_firmware/layouts/`, and in a keymap folder.\n\n```\nqmk compile -kb <keyboard>\n```\n\n**Example**:\n\n```\n$ cd ~/qmk_firmware/layouts/community/60_ansi/mechmerlin-ansi\n$ qmk compile -kb dz60\n Compiling keymap with make dz60:mechmerlin-ansi\n...\n```\n\n**Parallel Compilation**:\n\nIt is possible to speed up compilation by adding the `-j`/`--parallel` flag.\n\n```\nqmk compile -j <num_jobs> -kb <keyboard>\n```\n\nThe `num_jobs` argument determines the maximum number of jobs that can be used. Setting it to zero will enable parallel compilation without limiting the maximum number of jobs.\n\n```\nqmk compile -j 0 -kb <keyboard>\n```\n\n**Compilation Database**:\n\nCreates a `compile_commands.json` file.\n\nDoes your IDE/editor use a language server but doesn't _quite_ find all the necessary include files? Do you hate red squigglies? Do you wish your editor could figure out `#include QMK_KEYBOARD_H`? You might need a [compilation database](https://clang.llvm.org/docs/JSONCompilationDatabase.html)! Compiling using this argument can create this for you.\n\n**Example:**\n\n```\n$ cd ~/qmk_firmware/keyboards/gh60/satan/keymaps/colemak\n$ qmk compile --compiledb\n Making clean\n Gathering build instructions from make ........\n Found 63 compile commands\n Writing build database to /Users/you/src/qmk_firmware/compile_commands.json\n Compiling keymap with make ........\n... build log continues ...\n```",
        "`qmk flash`": "This command is similar to `qmk compile`, but can also target a bootloader. The bootloader is optional, and is set to `:flash` by default. To specify a different bootloader, use `-bl <bootloader>`. Visit the [Flashing Firmware](flashing) guide for more details of the available bootloaders.\n\nThis command is directory aware. It will automatically fill in KEYBOARD and/or KEYMAP if you are in a keyboard or keymap directory.\n\nThis command can also flash binary firmware files (hex or bin) such as the ones produced by [Configurator](https://config.qmk.fm).\n\n**Usage for Configurator Exports**:\n\n```\nqmk flash [-bl <bootloader>] [-c] [-e <var>=<value>] [-j <num_jobs>] <configuratorExport.json>\n```\n\n**Usage for Keymaps**:\n\n```\nqmk flash -kb <keyboard> -km <keymap_name> [-bl <bootloader>] [-c] [-e <var>=<value>] [-j <num_jobs>]\n```\n\n**Usage for pre-compiled firmwares**:\n\n**Note**: The microcontroller needs to be specified (`-m` argument) for keyboards with the following bootloaders:\n\n['HalfKay', 'QMK HID', 'USBaspLoader']\n\nISP flashing is also supported with the following flashers and require the microcontroller to be specified:\n\n['USBasp', 'USBtinyISP']\n\n```\nqmk flash [-m <microcontroller>] <compiledFirmware.[bin|hex]>\n```\n\n**Listing the Bootloaders**\n\n```\nqmk flash -b\n```",
        "`qmk config`": "This command lets you configure the behavior of QMK. For the full `qmk config` documentation see [CLI Configuration](cli_configuration).\n\n**Usage**:\n\n```\nqmk config [-ro] [config_token1] [config_token2] [...] [config_tokenN]\n```",
        "`qmk cd`": "This command opens a new shell in your `qmk_firmware` directory.\n\nNote that if you are already somewhere within `QMK_HOME` (for example, the `keyboards/` folder), nothing will happen.\n\nTo exit out into the parent shell, simply type `exit`.\n\n**Usage**:\n\n```\nqmk cd\n```",
        "`qmk find`": "This command allows for searching through keyboard/keymap targets, filtering by specific criteria. `info.json` and `rules.mk` files contribute to the search data, as well as keymap configurations, and the results can be filtered using \"dotty\" syntax matching the overall `info.json` file format.\n\nFor example, one could search for all keyboards powered by the STM32F411 microcontroller:\n\n```\nqmk find -f 'processor==STM32F411'\n```\n\nThe list can be further constrained by passing additional filter expressions:\n\n```\nqmk find -f 'processor==STM32F411' -f 'features.rgb_matrix==true'\n```\n\nThe following filter expressions are supported:\n\n['`key == value`: Match targets where `key` is equal to `value`. May include wildcards such as `*` and `?`.', '`key != value`: Match targets where `key` is not `value`. May include wildcards such as `*` and `?`.', '`key < value`: Match targets where `key` is a number less than `value`.', '`key > value`: Match targets where `key` is a number greater than `value`.', '`key <= value`: Match targets where `key` is a number less than or equal to `value`.', '`key >= value`: Match targets where `key` is a number greater than or equal to `value`.', '`exists(key)`: Match targets where `key` is present.', '`absent(key)`: Match targets where `key` is not present.', '`contains(key, value)`: Match targets where `key` contains `value`. Can be used for strings, arrays and object keys.', '`length(key, value)`: Match targets where the length of `key` is `value`. Can be used for strings, arrays and objects.']\n\nYou can also list arbitrary values for each matched target with `--print`:\n\n```\nqmk find -f 'processor==STM32F411' -p 'keyboard_name' -p 'features.rgb_matrix'\n```\n\n**Usage**:\n\n```\nqmk find [-h] [-km KEYMAP] [-p PRINT] [-f FILTER]\n\noptions:\n  -km KEYMAP, --keymap KEYMAP\n                        The keymap name to build. Default is 'default'.\n  -p PRINT, --print PRINT\n                        For each matched target, print the value of the supplied info.json key. May be passed multiple times.\n  -f FILTER, --filter FILTER\n                        Filter the list of keyboards based on their info.json data. Accepts the formats key=value, function(key), or function(key,value), eg. 'features.rgblight=true'. Valid functions are 'absent', 'contains', 'exists' and 'length'. May be passed multiple times; all filters need to match. Value may include wildcards such as '*' and '?'.\n```",
        "`qmk console`": "This command lets you connect to keyboard consoles to get debugging messages. It only works if your keyboard firmware has been compiled with `CONSOLE_ENABLE=yes`.\n\n**Usage**:\n\n```\nqmk console [-d <pid>:<vid>[:<index>]] [-l] [-n] [-t] [-w <seconds>]\n```\n\n**Examples**:\n\nConnect to all available keyboards and show their console messages:\n\n```\nqmk console\n```\n\nList all devices:\n\n```\nqmk console -l\n```\n\nShow only messages from clueboard/66/rev3 keyboards:\n\n```\nqmk console -d C1ED:2370\n```\n\nShow only messages from the second clueboard/66/rev3:\n\n```\nqmk console -d C1ED:2370:2\n```\n\nShow timestamps and VID:PID instead of names:\n\n```\nqmk console -n -t\n```\n\nDisable bootloader messages:\n\n```\nqmk console --no-bootloaders\n```",
        "`qmk doctor`": "This command examines your environment and alerts you to potential build or flash problems. It can fix many of them if you want it to.\n\n**Usage**:\n\n```\nqmk doctor [-y] [-n]\n```\n\n**Examples**:\n\nCheck your environment for problems and prompt to fix them:\n\n```\nqmk doctor\n```\n\nCheck your environment and automatically fix any problems found:\n\n```\nqmk doctor -y\n```\n\nCheck your environment and report problems only:\n\n```\nqmk doctor -n\n```",
        "`qmk format-json`": "Formats a JSON file in a (mostly) human-friendly way. Will usually correctly detect the format of the JSON (info.json or keymap.json) but you can override this with `--format` if necessary.\n\n**Usage**:\n\n```\nqmk format-json [-f FORMAT] <json_file>\n```",
        "`qmk info`": "Displays information about keyboards and keymaps in QMK. You can use this to get information about a keyboard, show the layouts, display the underlying key matrix, or to pretty-print JSON keymaps.\n\n**Usage**:\n\n```\nqmk info [-f FORMAT] [-m] [-l] [-km KEYMAP] [-kb KEYBOARD]\n```\n\nThis command is directory aware. It will automatically fill in KEYBOARD and/or KEYMAP if you are in a keyboard or keymap directory.\n\n**Examples**:\n\nShow basic information for a keyboard:\n\n```\nqmk info -kb planck/rev5\n```\n\nShow the matrix for a keyboard:\n\n```\nqmk info -kb ergodox_ez -m\n```\n\nShow a JSON keymap for a keyboard:\n\n```\nqmk info -kb clueboard/california -km default\n```",
        "`qmk json2c`": "Creates a keymap.c from a QMK Configurator export.\n\n**Usage**:\n\n```\nqmk json2c [-o OUTPUT] filename\n```",
        "`qmk c2json`": "Creates a keymap.json from a keymap.c.\n\n**Note:** Parsing C source files is not easy, therefore this subcommand may not work with your keymap. In some cases not using the C pre-processor helps.\n\n**Usage**:\n\n```\nqmk c2json -km KEYMAP -kb KEYBOARD [-q] [--no-cpp] [-o OUTPUT] filename\n```\n\n**Examples**:\n\n```\nqmk c2json -km default -kb handwired/dactyl_promicro\n```\n\nor with filename:\n\n```\nqmk c2json keyboards/handwired/dactyl_promicro/keymaps/default/keymap.c\n```",
        "`qmk lint`": "Checks over a keyboard and/or keymap and highlights common errors, problems, and anti-patterns.\n\n**Usage**:\n\n```\nqmk lint [-km KEYMAP] [-kb KEYBOARD] [--strict]\n```\n\nThis command is directory aware. It will automatically fill in KEYBOARD and/or KEYMAP if you are in a keyboard or keymap directory.\n\n**Examples**:\n\nDo a basic lint check:\n\n```\nqmk lint -kb rominronin/katana60/rev2\n```",
        "`qmk list-keyboards`": "This command lists all the keyboards currently defined in `qmk_firmware`\n\n**Usage**:\n\n```\nqmk list-keyboards\n```",
        "`qmk list-keymaps`": "This command lists all the keymaps for a specified keyboard (and revision).\n\nThis command is directory aware. It will automatically fill in KEYBOARD if you are in a keyboard directory.\n\n**Usage**:\n\n```\nqmk list-keymaps -kb planck/ez\n```",
        "`qmk migrate`": "This command searches for legacy code that can be converted to the new `info.json` format and adds it to the specified keyboard's `info.json`.\n\n**Usage**:\n\n```\nqmk migrate [-h] -kb KEYBOARD [-f FILTER]\n```",
        "`qmk new-keyboard`": "This command creates a new keyboard based on available templates.\n\nAny arguments that are not provided will prompt for input. If `-u` is not passed and `user.name` is set in .gitconfig, it will be used as the default username in the prompt.\n\n**Usage**:\n\n```\nqmk new-keyboard [-kb KEYBOARD] [-t {atmega32u4,STM32F303,etc}] [-l {60_ansi,75_iso,etc}] -u USERNAME\n```",
        "`qmk new-keymap`": "This command creates a new keymap based on a keyboard's existing default keymap.\n\nThis command is directory aware. It will automatically fill in KEYBOARD and/or KEYMAP if you are in a keyboard or keymap directory.\n\n**Usage**:\n\n```\nqmk new-keymap [-kb KEYBOARD] [-km KEYMAP]\n```",
        "`qmk clean`": "This command cleans up the `.build` folder. If `--all` is passed, any .hex or .bin files present in the `qmk_firmware` directory will also be deleted.\n\n**Usage**:\n\n```\nqmk clean [-a]\n```",
        "`qmk via2json`": "This command an generate a keymap.json from a VIA keymap backup. Both the layers and the macros are converted, enabling users to easily move away from a VIA-enabled firmware without writing any code or reimplementing their keymaps in QMK Configurator.\n\n**Usage**:\n\n```\nqmk via2json -kb KEYBOARD [-l LAYOUT] [-km KEYMAP] [-o OUTPUT] filename\n```\n\n**Example:**\n\n```\n$ qmk via2json -kb ai03/polaris -o polaris_keymap.json polaris_via_backup.json\n Wrote keymap to /home/you/qmk_firmware/polaris_keymap.json\n```",
        "`qmk import-keyboard`": "This command imports a data-driven `info.json` keyboard into the repo.\n\n**Usage**:\n\n```\nusage: qmk import-keyboard [-h] filename\n```\n\n**Example:**\n\n```\n$ qmk import-keyboard ~/Downloads/forever60.json\n Importing forever60.json.\n\n Imported a new keyboard named forever60.\n To start working on things, `cd` into keyboards/forever60,\n or open the directory in your preferred text editor.\n And build with qmk compile -kb forever60 -km default.\n```",
        "`qmk import-keymap`": "This command imports a data-driven `keymap.json` keymap into the repo.\n\n**Usage**:\n\n```\nusage: qmk import-keymap [-h] filename\n```\n\n**Example:**\n\n```\nqmk import-keymap ~/Downloads/asdf2.json\n Importing asdf2.json.\n\n Imported a new keymap named asdf2.\n To start working on things, `cd` into keyboards/takashicompany/dogtag/keymaps/asdf2,\n or open the directory in your preferred text editor.\n And build with qmk compile -kb takashicompany/dogtag -km asdf2.\n```",
        "`qmk import-kbfirmware`": "This command creates a new keyboard based on a [Keyboard Firmware Builder](https://kbfirmware.com/) export.\n\n**Usage**:\n\n```\nusage: qmk import-kbfirmware [-h] filename\n```\n\n**Example:**\n\n```\n$ qmk import-kbfirmware ~/Downloads/gh62.json\n Importing gh62.json.\n\n Support here is basic - Consider using 'qmk new-keyboard' instead\n Imported a new keyboard named gh62.\n To start working on things, `cd` into keyboards/gh62,\n or open the directory in your preferred text editor.\n And build with qmk compile -kb gh62 -km default.\n```\n\n[]"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 12]"
    },
    {
      "title": "Introduction",
      "description": null,
      "content": {
        "Simple Example": "As an example let's look at the command `qmk compile --keyboard clueboard/66/rev4 --keymap default`.\n\nThere are two command line arguments that could be read from configuration instead:\n\n['`compile.keyboard`', '`compile.keymap`']\n\nLet's set these now:\n\n```\n$ qmk config compile.keyboard=clueboard/66/rev4 compile.keymap=default\ncompile.keyboard: None -> clueboard/66/rev4\ncompile.keymap: None -> default\n Wrote configuration to '/Users/example/Library/Application Support/qmk/qmk.ini'\n```\n\nNow I can run `qmk compile` without specifying my keyboard and keymap each time.",
        "Setting User Defaults": "Sometimes you want to share a setting between multiple commands. For example, multiple commands take the argument `--keyboard`. Rather than setting this value for every command you can set a user value which will be used by any command that takes that argument.\n\nExample:\n\n```\n$ qmk config user.keyboard=clueboard/66/rev4 user.keymap=default\nuser.keyboard: None -> clueboard/66/rev4\nuser.keymap: None -> default\n Wrote configuration to '/Users/example/Library/Application Support/qmk/qmk.ini'\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 13]"
    },
    {
      "title": "Overview",
      "description": null,
      "content": {
        "Developer mode:": "If you intend to maintain keyboards and/or contribute to QMK, you can enable the CLI's \"Developer\" mode:\n\n`qmk config user.developer=True`\n\nThis will allow you to see all available subcommands.  \n**Note:** You will have to install additional requirements:  \n\n```\npython3 -m pip install -r requirements-dev.txt\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 14]"
    },
    {
      "title": "Tab Completion for QMK",
      "description": null,
      "content": {
        "Setup": {
          "For Your User Only": "Add this to the end of your `.profile` or `.bashrc`:\n\n```\nsource ~/qmk_firmware/util/qmk_tab_complete.sh\n```\n\nIf you put `qmk_firmware` into another location you will need to adjust this path.\n\nZsh users will need to load `bashcompinit`. The following can be added to `~/.zshrc` file:\n\n```\nautoload -Uz bashcompinit && bashcompinit\n```",
          "System Wide Symlink": "If you want the tab completion available to all users of the system you can add a symlink to the `qmk_tab_complete.sh` script:\n\n```\nln -s ~/qmk_firmware/util/qmk_tab_complete.sh /etc/profile.d/qmk_tab_complete.sh\n```",
          "System Wide Copy": "In some cases a symlink may not work. Instead you can copy the file directly into place. Be aware that updates to the tab complete script may happen from time to time, you will want to recopy the file periodically.\n\n```\ncp util/qmk_tab_complete.sh /etc/profile.d\n```"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 15]"
    },
    {
      "title": "Coding Conventions C",
      "description": null,
      "content": {
        "Coding Conventions (C)": "Most of our style is pretty easy to pick up on, but right now it's not entirely consistent. You should match the style of the code surrounding your change, but if that code is inconsistent or unclear use the following guidelines:\n\n['We indent using four (4) spaces (soft tabs)', 'We use a modified One True Brace Style', ['Opening Brace: At the end of the same line as the statement that opens the block', 'Closing Brace: Lined up with the first character of the statement that opens the block', 'Else If: Place the closing brace at the beginning of the line and the next opening brace at the end of the same line.', 'Optional Braces: Always include optional braces.', ['Good: `if (condition) { return false; }`', 'Bad: `if (condition) return false;`']], 'We encourage use of C style comments: `/* */`', ['Think of them as a story describing the feature', 'Use them liberally to explain why particular decisions were made.', 'Do not write obvious comments', \"If you're not sure if a comment is obvious, go ahead and include it.\"], \"In general we don't wrap lines, they can be as long as needed. If you do choose to wrap lines please do not wrap any wider than 76 columns.\", 'We use `#pragma once` at the start of header files rather than old-style include guards (`#ifndef THIS_FILE_H`, `#define THIS_FILE_H`, ..., `#endif`)', \"We accept both forms of preprocessor if's: `#ifdef DEFINED` and `#if defined(DEFINED)`\", ['If you are not sure which to prefer use the `#if defined(DEFINED)` form.', 'Do not change existing code from one style to the other, except when moving to a multiple condition `#if`.'], 'When deciding how (or if) to indent preprocessor directives, keep these points in mind:', ['Readability is more important than consistency.', \"Follow the file's existing style. If the file is mixed, follow the style that makes sense for the section you are modifying.\", 'When indenting, keep the hash at the start of the line and add whitespace between `#` and `if`, starting with 4 spaces after the `#`.', 'You can follow the indentation level of the surrounding C code, or preprocessor directives can have their own indentation levels. Choose the style that best communicates the intent of your code.']]\n\nHere is an example for easy reference:\n\n```\n/* Enums for foo */\nenum foo_state {\n    FOO_BAR,\n    FOO_BAZ,\n};\n\n/* Returns a value */\nint foo(void) {\n    if (some_condition) {\n        return FOO_BAR;\n    } else {\n        return -1;\n    }\n}\n```",
        "Auto-formatting with clang-format": "[Clang-format](https://clang.llvm.org/docs/ClangFormat.html) is part of LLVM and can automatically format your code for you, because ain't nobody got time to do it manually. We supply a configuration file for it that applies most of the coding conventions listed above. It will only change whitespace and newlines, so you will still have to remember to include optional braces yourself.\n\nUse the [full LLVM installer](https://llvm.org/builds/) to get clang-format on Windows, or use `sudo apt install clang-format` on Ubuntu.\n\nIf you run it from the command-line, pass `-style=file` as an option and it will automatically find the .clang-format configuration file in the QMK root directory.\n\nIf you use VSCode, the standard C/C++ plugin supports clang-format, alternatively there is a [separate extension](https://marketplace.visualstudio.com/items?itemName=LLVMExtensions.ClangFormat) for it.\n\nSome things (like LAYOUT macros) are destroyed by clang-format, so either don't run it on those files, or wrap the sensitive code in `// clang-format off` and `// clang-format on`."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 16]"
    },
    {
      "title": "Imports",
      "description": null,
      "content": {
        "Import Examples": "Good:\n\n```\nfrom qmk import effects\n\neffects.echo()\n```\n\nBad:\n\n```\nfrom qmk.effects import echo\n\necho()  # It's unclear where echo comes from\n```\n\nGood:\n\n```\nfrom qmk.keymap import compile_firmware\n\ncompile_firmware()\n```\n\nOK, but the above is better:\n\n```\nimport qmk.keymap\n\nqmk.keymap.compile_firmware()\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 17]"
    },
    {
      "title": "Compatible Microcontrollers",
      "description": null,
      "content": {
        "Atmel AVR": "The following use [LUFA](https://www.fourwalledcubicle.com/LUFA.php) as the USB stack:\n\n['[ATmega16U2](https://www.microchip.com/wwwproducts/en/ATmega16U2) / [ATmega32U2](https://www.microchip.com/wwwproducts/en/ATmega32U2)', '[ATmega16U4](https://www.microchip.com/wwwproducts/en/ATmega16U4) / [ATmega32U4](https://www.microchip.com/wwwproducts/en/ATmega32U4)', ['SparkFun Pro Micro (and clones)', 'PJRC Teensy 2.0', 'Adafruit Feather 32U4'], '[AT90USB64](https://www.microchip.com/wwwproducts/en/AT90USB646) / [AT90USB128](https://www.microchip.com/wwwproducts/en/AT90USB1286)', ['PJRC Teensy++ 2.0'], '[AT90USB162](https://www.microchip.com/wwwproducts/en/AT90USB162)']\n\nCertain MCUs which do not have native USB will use [V-USB](https://www.obdev.at/products/vusb/index.html) instead:\n\n['[ATmega32A](https://www.microchip.com/wwwproducts/en/ATmega32A)', '[ATmega328P](https://www.microchip.com/wwwproducts/en/ATmega328P)', '[ATmega328](https://www.microchip.com/wwwproducts/en/ATmega328)']",
        "ARM": {
          "STMicroelectronics (STM32)": [
            "[STM32F0x2](https://www.st.com/en/microcontrollers-microprocessors/stm32f0x2.html)",
            "[STM32F103](https://www.st.com/en/microcontrollers-microprocessors/stm32f103.html)",
            [
              "Bluepill (with STM32duino bootloader)"
            ],
            "[STM32F303](https://www.st.com/en/microcontrollers-microprocessors/stm32f303.html)",
            [
              "QMK Proton-C"
            ],
            "[STM32F401](https://www.st.com/en/microcontrollers-microprocessors/stm32f401.html)",
            [
              "WeAct Blackpill"
            ],
            "[STM32F405](https://www.st.com/en/microcontrollers-microprocessors/stm32f405-415.html)",
            "[STM32F407](https://www.st.com/en/microcontrollers-microprocessors/stm32f407-417.html)",
            "[STM32F411](https://www.st.com/en/microcontrollers-microprocessors/stm32f411.html)",
            [
              "WeAct Blackpill"
            ],
            "[STM32F446](https://www.st.com/en/microcontrollers-microprocessors/stm32f446.html)",
            "[STM32G431](https://www.st.com/en/microcontrollers-microprocessors/stm32g4x1.html)",
            "[STM32G474](https://www.st.com/en/microcontrollers-microprocessors/stm32g4x4.html)",
            "[STM32H723](https://www.st.com/en/microcontrollers-microprocessors/stm32h723-733.html)",
            "[STM32H733](https://www.st.com/en/microcontrollers-microprocessors/stm32h723-733.html)",
            "[STM32L412](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x2.html)",
            "[STM32L422](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x2.html)",
            "[STM32L432](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x2.html)",
            "[STM32L433](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x3.html)",
            "[STM32L442](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x2.html)",
            "[STM32L443](https://www.st.com/en/microcontrollers-microprocessors/stm32l4x3.html)"
          ],
          "WestBerryTech (WB32)": [
            "[WB32F3G71xx](http://www.westberrytech.com)",
            "[WB32FQ95xx](http://www.westberrytech.com)"
          ],
          "Artery (AT32)": [
            "[AT32F415](https://www.arterychip.com/en/product/AT32F415.jsp)"
          ],
          "NXP (Kinetis)": [
            "[MKL26Z64](https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers/general-purpose-mcus/kl-series-cortex-m0-plus/kinetis-kl2x-72-96-mhz-usb-ultra-low-power-microcontrollers-mcus-based-on-arm-cortex-m0-plus-core:KL2x)",
            [
              "PJRC Teensy LC"
            ],
            "[MK20DX128](https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers/general-purpose-mcus/k-series-cortex-m4/k2x-usb/kinetis-k20-50-mhz-full-speed-usb-mixed-signal-integration-microcontrollers-based-on-arm-cortex-m4-core:K20_50)",
            "[MK20DX256](https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers/general-purpose-mcus/k-series-cortex-m4/k2x-usb/kinetis-k20-72-mhz-full-speed-usb-mixed-signal-integration-microcontrollers-mcus-based-on-arm-cortex-m4-core:K20_72)",
            [
              "PJRC Teensy 3.2"
            ],
            "[MK64FX512](https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers/general-purpose-mcus/k-series-cortex-m4/k6x-ethernet/kinetis-k64-120-mhz-256-kb-sram-microcontrollers-mcus-based-on-arm-cortex-m4-core:K64_120)",
            [
              "PJRC Teensy 3.5"
            ],
            "[MK66FX1M0](https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers/general-purpose-mcus/k-series-cortex-m4/k6x-ethernet/kinetis-k66-180-mhz-dual-high-speed-full-speed-usbs-2mb-flash-microcontrollers-mcus-based-on-arm-cortex-m4-core:K66_180)",
            [
              "PJRC Teensy 3.6"
            ]
          ],
          "Raspberry Pi": [
            "[RP2040](https://www.raspberrypi.com/documentation/microcontrollers/rp2040.html)"
          ]
        },
        "RISC-V": {
          "GigaDevice": "[ChibiOS-Contrib](https://github.com/ChibiOS/ChibiOS-Contrib) has support for the GigaDevice [GD32VF103 series](https://www.gigadevice.com/products/microcontrollers/gd32/risc-v/mainstream-line/gd32vf103-series/) microcontrollers and provides configurations for the [SiPeed Longan Nano](https://longan.sipeed.com/en/) development board that uses this microcontroller. It is largely pin and feature compatible with STM32F103 and STM32F303 microcontrollers."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 18]"
    },
    {
      "title": "Configuring QMK",
      "description": null,
      "content": {
        "QMK Default": "Every available setting in QMK has a default. If that setting is not set at the Keyboard, Folder, or Keymap level this is the setting that will be used.",
        "Keyboard": "This level contains config options that should apply to the whole keyboard. Some settings won't change in revisions, or most keymaps. Other settings are merely defaults for this keyboard and can be overridden by folders and/or keymaps.",
        "Folders": "Some keyboards have folders and sub-folders to allow for different hardware configurations. Most keyboards only go 1 folder deep, but QMK supports structures up to 5 folders deep. Each folder can have its own `config.h` and `rules.mk` files that are incorporated into the final configuration.",
        "Keymap": "This level contains all of the options for that particular keymap. If you wish to override a previous declaration, you can use `#undef <variable>` to undefine it, where you can then redefine it without an error."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 19]"
    },
    {
      "title": "Detailed Description",
      "description": null,
      "content": {
        "Configurator Frontend": "Address: <https://config.qmk.fm>\n\nThe [Configurator Frontend](https://config.qmk.fm) is compiled into a set of static files that are served by Github Pages. This action happens every time a commit is pushed to the [qmk_configurator `master`](https://github.com/qmk/qmk_configurator) branch. You can view the status of these jobs on the [qmk_configurator actions tab](https://github.com/qmk/qmk_configurator/actions/workflows/build.yml).",
        "Keyboard Metadata": "Address: <https://keyboards.qmk.fm>\n\nThe Keyboard Metadata is generated every time a keyboard in [qmk_firmware](https://github.com/qmk/qmk_firmware) changes. The resulting JSON files are uploaded to Spaces and used by Configurator to generate UI for each keyboard. You can view the status of this job on the [qmk_firmware actions tab](https://github.com/qmk/qmk_firmware/actions/workflows/api.yml). If you are a QMK Collaborator you can manually run this job using the `workflow_dispatch` event trigger.",
        "QMK API": {
          "Compile Job Queued": "This status indicates that the job has not yet been picked up by a [QMK Compiler](#qmk-compiler) node. Configurator shows this status as \"Waiting for an oven\".",
          "Compile Job Running": "This status indicates that the job has started compiling. Configurator shows this status as \"Baking\".",
          "Compile Job Finished": "This status indicates that the job has completed. There will be keys in the status JSON for source and binary downloads."
        },
        "Redis/RQ": "QMK API uses RQ to distribute jobs to the available [QMK Compiler](#qmk-compiler) nodes. When a `keymap.json` is received it's put into the RQ queue, where a `qmk_compiler` node will pick it up from.",
        "QMK Compiler": "[QMK Compiler](https://github.com/qmk/qmk_compiler) is what actually performs the compilation of the `keymap.json`. It does so by checking out the requested `qmk_firmware` branch, running `qmk compile keymap.json`, and then uploading the resulting source and binary to Digital Ocean Spaces. \n\nWhen users download their source/binary, API will redirect them to the authenticated Spaces download URL."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 20]"
    },
    {
      "title": "Adding Default Keymaps to QMK Configurator {#adding-default-keymaps}",
      "description": null,
      "content": {
        "Technical Information {#technical-information}": "QMK Configurator uses JSON as its native file format for keymaps. As much as possible, these should be kept such that they behave the same as running `make <keyboard>:default` from `qmk_firmware`.\n\nKeymaps in this directory require four key-value pairs:\n\n['`keyboard` (string)', ['This is the name of the keyboard, the same as would be used when running a compile job through `make` (e.g. `make 1upkeyboards/1up60rgb:default`).'], '`keymap` (string)', ['Should be set to `default`.'], '`layout` (string)', ['This is the layout macro used by the default keymap.'], '`layers` (array)', ['The keymap itself. This key should contain one array per layer, which themselves should contain the keycodes that make up that layer.']]\n\nAdditionally, most keymaps contain a `commit` key. This key is not consumed by the API that back-stops QMK Configurator, but is used by Configurator's maintainers to tell which version of a keymap was used to create the JSON keymap in this repository. The value is the SHA of the last commit to modify a board's default `keymap.c` in the `qmk_firmware` repository. The SHA is found by checking out [the `master` branch of the `qmk/qmk_firmware` repository](https://github.com/qmk/qmk_firmware/tree/master/) and running `git log -1 --pretty=oneline -- keyboards/<keyboard>/keymaps/default/keymap.c` (use `keymap.json` if the keyboard in question has this file instead), which should return something similar to:\n\n```\nf14629ed1cd7c7ec9089604d64f29a99981558e8 Remove/migrate action_get_macro()s from default keymaps (#5625)\n```\n\nIn this example, `f14629ed1cd7c7ec9089604d64f29a99981558e8` is the value that should be used for `commit`.",
        "Example {#example}": "If one wished to add a default keymap for the H87a by Hineybush, one would run the `git log` command above against the H87a's default keymap in `qmk_firmware`:\n\n```\nuser ~/qmk_firmware (master)\n$ git log -1 --pretty=oneline master -- keyboards/hineybush/h87a/keymaps/default/keymap.c\nef8878fba5d3786e3f9c66436da63a560cd36ac9 Hineybush h87a lock indicators (#8237)\n```\n\nNow that we have the commit hash, we need the keymap (edited for readability):\n\n```\n...\n#include QMK_KEYBOARD_H\n\nconst uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n\n  [0] = LAYOUT_all(\n    KC_ESC,           KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,   KC_F7,   KC_F8,   KC_F9,   KC_F10,  KC_F11,  KC_F12,              KC_PSCR, KC_SCRL, KC_PAUS,\n    KC_GRV,  KC_1,    KC_2,    KC_3,    KC_4,    KC_5,    KC_6,    KC_7,    KC_8,    KC_9,    KC_0,    KC_MINS, KC_EQL,  KC_BSPC, KC_BSPC,    KC_INS,  KC_HOME, KC_PGUP,\n    KC_TAB,  KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,    KC_LBRC, KC_RBRC, KC_BSLS,             KC_DEL,  KC_END,  KC_PGDN,\n    KC_CAPS, KC_A,    KC_S,    KC_D,    KC_F,    KC_G,    KC_H,    KC_J,    KC_K,    KC_L,    KC_SCLN, KC_QUOT, KC_NUHS, KC_ENT,\n    KC_LSFT, KC_NUBS, KC_Z,    KC_X,    KC_C,    KC_V,    KC_B,    KC_N,    KC_M,    KC_COMM, KC_DOT,  KC_SLSH, KC_RSFT, KC_TRNS,                      KC_UP,\n    KC_LCTL, KC_LGUI, KC_LALT,                            KC_SPC,                             KC_RALT, MO(1),   KC_RGUI, KC_RCTL,             KC_LEFT, KC_DOWN, KC_RGHT),\n\n  [1] = LAYOUT_all(\n    KC_TRNS,          KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, UG_TOGG, UG_NEXT, UG_HUED, UG_HUEU,          UG_SATD, UG_SATU, UG_VALD, UG_VALU,    BL_TOGG, BL_DOWN, BL_UP, \n    KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS,    KC_TRNS, KC_TRNS, KC_VOLU,\n    KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, QK_BOOT, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS,             KC_MPLY, KC_MNXT, KC_VOLD,\n    KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS,\n    KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS,                      KC_TRNS,\n    KC_TRNS, KC_TRNS, KC_TRNS,                            KC_TRNS,                            KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS,             KC_TRNS, KC_TRNS, KC_TRNS),\n\n};\n```\n\nThe default keymap uses the `LAYOUT_all` macro, so that will be the value of the `layout` key. Compiled to a QMK Configurator JSON keymap, our resulting file should be:\n\n```\n{\n  \"keyboard\": \"hineybush/h87a\",\n  \"keymap\": \"default\",\n  \"commit\": \"ef8878fba5d3786e3f9c66436da63a560cd36ac9\",\n  \"layout\": \"LAYOUT_all\",\n  \"layers\": [\n    [\n      \"KC_ESC\",             \"KC_F1\",   \"KC_F2\",   \"KC_F3\",   \"KC_F4\",   \"KC_F5\",   \"KC_F6\",   \"KC_F7\",   \"KC_F8\",   \"KC_F9\",   \"KC_F10\",  \"KC_F11\",  \"KC_F12\",                \"KC_PSCR\", \"KC_SCRL\", \"KC_PAUS\",\n      \"KC_GRV\",  \"KC_1\",    \"KC_2\",    \"KC_3\",    \"KC_4\",    \"KC_5\",    \"KC_6\",    \"KC_7\",    \"KC_8\",    \"KC_9\",    \"KC_0\",    \"KC_MINS\", \"KC_EQL\",  \"KC_BSPC\", \"KC_BSPC\",    \"KC_INS\",  \"KC_HOME\", \"KC_PGUP\",\n      \"KC_TAB\",  \"KC_Q\",    \"KC_W\",    \"KC_E\",    \"KC_R\",    \"KC_T\",    \"KC_Y\",    \"KC_U\",    \"KC_I\",    \"KC_O\",    \"KC_P\",    \"KC_LBRC\", \"KC_RBRC\", \"KC_BSLS\",               \"KC_DEL\",  \"KC_END\",  \"KC_PGDN\",\n      \"KC_CAPS\", \"KC_A\",    \"KC_S\",    \"KC_D\",    \"KC_F\",    \"KC_G\",    \"KC_H\",    \"KC_J\",    \"KC_K\",    \"KC_L\",    \"KC_SCLN\", \"KC_QUOT\", \"KC_NUHS\", \"KC_ENT\",\n      \"KC_LSFT\", \"KC_NUBS\", \"KC_Z\",    \"KC_X\",    \"KC_C\",    \"KC_V\",    \"KC_B\",    \"KC_N\",    \"KC_M\",    \"KC_COMM\", \"KC_DOT\",  \"KC_SLSH\", \"KC_RSFT\", \"KC_TRNS\",                          \"KC_UP\",\n      \"KC_LCTL\", \"KC_LGUI\", \"KC_LALT\",                                  \"KC_SPC\",                                   \"KC_RALT\", \"MO(1)\",   \"KC_RGUI\", \"KC_RCTL\",               \"KC_LEFT\", \"KC_DOWN\", \"KC_RGHT\"\n    ],\n    [\n      \"KC_TRNS\",            \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"UG_TOGG\", \"UG_NEXT\", \"UG_HUED\", \"UG_HUEU\", \"UG_SATD\", \"UG_SATU\", \"UG_VALD\", \"UG_VALU\",               \"BL_TOGG\", \"BL_DOWN\", \"BL_UP\",\n      \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",    \"KC_TRNS\", \"KC_TRNS\", \"KC_VOLU\",\n      \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"QK_BOOT\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",               \"KC_MPLY\", \"KC_MNXT\", \"KC_VOLD\",\n      \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",\n      \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",                          \"KC_TRNS\",\n      \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",                                  \"KC_TRNS\",                                  \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\",               \"KC_TRNS\", \"KC_TRNS\", \"KC_TRNS\"\n    ]\n  ]\n}\n```\n\nThe white space in the `layers` arrays have no effect on the functionality of the keymap, but are used to make these files easier for humans to read.",
        "Caveats {#caveats}": {
          "Layers can only be referenced by number {#layer-references}": "A common QMK convention is to name layers using a series of `#define`s, or an `enum` statement:\n\n```\nenum layer_names {\n    _BASE,\n    _MEDIA,\n    _FN\n};\n```\n\nThis works in C, but for Configurator, you *must* use the layer's numeric index  `MO(_FN)` would need to be `MO(2)` in the above example.",
          "No support for custom code of any kind {#custom-code}": "Features that require adding functions to the keymap.c file, such as Tap Dance or Unicode, can not be compiled in Configurator **at all**. Even setting `TAP_DANCE_ENABLE = yes` in the `qmk_firmware` repository at the keyboard level will prevent Configurator from compiling **any** firmware for that keyboard. This is limited both by the API and the current spec of our JSON keymap format.",
          "Limited Support for Custom keycodes {#custom-keycodes}": "There is a way to support custom keycodes: if the logic for a custom keycode is implemented at the keyboard level instead of the keymap level in qmk_firmware, that keycode *can* be used in Configurator and it *will* compile and work. Instead of using the following in your `keymap.c`:\n\n```\nenum custom_keycodes {\n    CUSTOM_1 = SAFE_RANGE,\n    CUSTOM_2,\n    CUSTOM_3\n};\n...\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case CUSTOM_1:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #1.\");\n            }\n            return false;\n        case CUSTOM_2:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #2.\");\n            }\n            return false;\n        case CUSTOM_3:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #3.\");\n            }\n            return false;\n    }\n    return true;\n};\n```\n\n... add the keycode `enum` block to your keyboard's header file (`<keyboard>.h`) as follows (note that the `enum` is named `keyboard_keycodes` here):\n\n```\nenum keyboard_keycodes {\n    CUSTOM_1 = QK_KB_0,\n    CUSTOM_2,\n    CUSTOM_3,\n};\n```\n\n... then the logic to your `<keyboard>.c` through `process_record_kb()`:\n\n```\nbool process_record_kb(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case CUSTOM_1:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #1.\");\n            }\n            return false;\n        case CUSTOM_2:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #2.\");\n            }\n            return false;\n        case CUSTOM_3:\n            if (record->event.pressed) {\n                SEND_STRING(\"This is custom keycode #3.\");\n            }\n            return false;\n    }\n    return process_record_user(keycode, record);\n};\n```\n\nNote the call to `process_record_user()` at the end."
        },
        "Additional Reading {#additional-reading}": "For QMK Configurator to support your keyboard, your keyboard must be present in the `master` branch of the `qmk_firmware` repository. For instructions on this, please see [Supporting Your Keyboard in QMK Configurator](reference_configurator_support)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 21]"
    },
    {
      "title": "QMK Configurator: Step by Step",
      "description": null,
      "content": {
        "Step 1: Select Your Keyboard": "Click the drop down box and select the keyboard you want to create a keymap for.\n\n::: tip\nIf your keyboard has several versions, make sure you select the correct one.\n:::\n\nI'll say that again because it's important:\n\n::: warning\n**MAKE SURE YOU SELECT THE RIGHT VERSION!**\n:::\n\nUnfortunately if your keyboard has been advertised to be powered by QMK but is not in the list, you will **not** be able to use Configurator to customize your keyboard.\n\nChances are a developer hasn't gotten round to adding support or we haven't had a chance to merge it in yet. If there is no active [Pull Request](https://github.com/qmk/qmk_firmware/pulls?q=is%3Aopen+is%3Apr+label%3Akeyboard), contact the manufacturer and encourage them to add support.",
        "Step 2: Select Your Keyboard Layout": "Choose the layout that best represents the keymap you want to create. Some keyboards do not have enough layouts or correct layouts defined yet. They will be supported in the future.\n\n::: warning\nSometimes there isn't a layout that supports your exact build. In that case select `LAYOUT_all`.\n:::",
        "Step 3: Name Your Keymap": "Call this keymap what you want.\n\n::: tip\nIf you are running into issues when compiling, it may be worth changing this name, as it may already exist in the QMK Firmware repo.\n:::",
        "Step 4: Define Your Keymap": "Keycode Entry is accomplished in one of 3 ways:\n\n['Drag and drop', 'Clicking on an empty spot on the layout, then clicking the keycode you desire', 'Clicking on an empty spot on the layout, then pressing the physical key on your keyboard']\n\n::: tip\nHover your mouse over a key and a short blurb will tell you what that keycode does. For a more verbose description please see:\n:::\n\n['[Basic Keycode Reference](keycodes_basic)', '[Advanced Keycode Reference](feature_advanced_keycodes)']\n\n::: warning\nIf your selected layout doesn't match your physical build leave the unused keys blank. If you're not sure which key is in use, for example you have a one backspace key but `LAYOUT_all` has 2 keys, put the same keycode in both locations.\n:::",
        "Step 5: Save Your Keymap for Future Changes": "When you're satisfied with your keymap or just want to work on it later, press the `Download this QMK Keymap JSON File` button. It will save your keymap to your computer. You can then load this .json file in the future by pressing the `Upload a QMK Keymap JSON File` button.\n\n::: warning\n**CAUTION:** This is not the same type of .json file used for kbfirmware.com or any other tool. If you try to use this for those tools, or the .json from those tools with QMK Configurator, you will encounter problems.\n:::",
        "Step 6: Compile Your Firmware File": "Press the green `Compile` button.\n\nWhen the compilation is done, you will be able to press the green `Download Firmware` button.",
        "Next steps: Flashing Your Keyboard": "Please refer to [Flashing Firmware](newbs_flashing)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 22]"
    },
    {
      "title": "Configurator Troubleshooting",
      "description": null,
      "content": {
        "My .json file is not working": "If the .json file was generated with QMK Configurator, congratulations you have stumbled upon a bug. File an issue at [qmk_configurator](https://github.com/qmk/qmk_configurator/issues).\n\nIf not... how did you miss the big bold message at the top saying not to use other .json files?",
        "There are extra spaces in my layout? What do I do?": "If you're referring to having three spots for space bar, the best course of action is to just fill them all with Space. The same can be done for Backspace and Shift keys.",
        "What is the keycode for...": "Please see:\n\n['[Basic Keycode Reference](keycodes_basic)', '[Advanced Keycode Reference](feature_advanced_keycodes)']",
        "It won't compile": "Please double check the other layers of your keymap to make sure there are no random keys present.",
        "Problems and Bugs": "We are always accepting customer requests and bug reports. Please file them at [qmk_configurator](https://github.com/qmk/qmk_configurator/issues)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 23]"
    },
    {
      "title": "How to Contribute",
      "description": null,
      "content": {
        "I Don't Want to Read This Whole Thing! I Just Have a Question!": "If you'd like to ask questions about QMK you can do so on the [OLKB Subreddit](https://reddit.com/r/olkb) or on [Discord](https://discord.gg/qmk).\n\nPlease keep these things in mind:\n\n['It may take several hours for someone to respond to your question. Please be patient!', \"Everyone involved with QMK is donating their time and energy. We don't get paid to work on or answer questions about QMK.\", \"Try to ask your question so it's as easy to answer as possible. If you're not sure how to do that these are some good guides:\", ['https://opensource.com/life/16/10/how-ask-technical-questions', 'http://www.catb.org/esr/faqs/smart-questions.html']]"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 24]"
    },
    {
      "title": "Custom Matrix",
      "description": null,
      "content": {
        "Prerequisites": "Implementing custom matrix usually involves compilation of an additional source file. It is recommended that for consistency, this file is called `matrix.c`.\n\nAdd a new file to your keyboard directory:\n\n```\nkeyboards/<keyboard>/matrix.c\n```\n\nAnd to configure compilation for the new file, add this to your `rules.mk`:\n\n```\nSRC += matrix.c\n```",
        "'lite'": "Provides a default implementation for various scanning functions, reducing the boilerplate code when implementing custom matrix.\nTo configure it, add this to your `rules.mk`:\n\n```\nCUSTOM_MATRIX = lite\n```\n\nAnd implement the following functions in a `matrix.c` file in your keyboard folder:\n\n```\nvoid matrix_init_custom(void) {\n    // TODO: initialize hardware here\n}\n\nbool matrix_scan_custom(matrix_row_t current_matrix[]) {\n    bool matrix_has_changed = false;\n\n    // TODO: add matrix scanning routine here\n\n    return matrix_has_changed;\n}\n```",
        "Full Replacement": "When more control over the scanning routine is required, you can choose to implement the full scanning routine.\nTo configure it, add this to your rules.mk:\n\n```\nCUSTOM_MATRIX = yes\n```\n\nAnd implement the following functions in a `matrix.c` file in your keyboard folder:\n\n```\nmatrix_row_t matrix_get_row(uint8_t row) {\n    // TODO: return the requested row data\n}\n\nvoid matrix_print(void) {\n    // TODO: use print() to dump the current matrix state to console\n}\n\nvoid matrix_init(void) {\n    // TODO: initialize hardware and global matrix state here\n\n    // Unless hardware debouncing - Init the configured debounce routine\n    debounce_init(MATRIX_ROWS);\n\n    // This *must* be called for correct keyboard behavior\n    matrix_init_kb();\n}\n\nuint8_t matrix_scan(void) {\n    bool changed = false;\n\n    // TODO: add matrix scanning routine here\n\n    // Unless hardware debouncing - use the configured debounce routine\n    changed = debounce(raw_matrix, matrix, MATRIX_ROWS, changed);\n\n    // This *must* be called for correct keyboard behavior\n    matrix_scan_kb();\n\n    return changed;\n}\n```\n\nAnd also provide defaults for the following callbacks:\n\n```\n__attribute__((weak)) void matrix_init_kb(void) { matrix_init_user(); }\n\n__attribute__((weak)) void matrix_scan_kb(void) { matrix_scan_user(); }\n\n__attribute__((weak)) void matrix_init_user(void) {}\n\n__attribute__((weak)) void matrix_scan_user(void) {}\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 25]"
    },
    {
      "title": "How to Customize Your Keyboard's Behavior",
      "description": null,
      "content": {
        "A Word on Core vs Keyboards vs Keymap {#a-word-on-core-vs-keyboards-vs-keymap}": "We have structured QMK as a hierarchy:\n\n['Core (`_quantum`)', ['Community Module (`_<module>`)', ['Community Module -> Keyboard/Revision (`_<module>_kb`)', ['Community Module -> Keymap (`_<module>_user`)']], 'Keyboard/Revision (`_kb`)', ['Keymap (`_user`)']]]\n\nEach of the functions described below can be defined with a `_kb()` suffix or a `_user()` suffix. We intend for you to use the `_kb()` suffix at the Keyboard/Revision level, while the `_user()` suffix should be used at the Keymap level.\n\nWhen defining functions at the Keyboard/Revision level it is important that your `_kb()` implementation call `_user()` at an appropriate location, otherwise the keymap level function will never be called.\n\nFunctions at the `_<module>_xxx()` level are intended to allow keyboards or keymaps to override or enhance the processing associated with a [community module](/features/community_modules).\n\nWhen defining module overrides such as `process_record_<module>()`, the same pattern should be used; the module must invoke `process_record_<module>_kb()` as appropriate."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 26]"
    },
    {
      "title": "Data Driven Configuration",
      "description": null,
      "content": {
        "History": "Historically QMK has been configured through a combination of two mechanisms- `rules.mk` and `config.h`. While this worked well when QMK was only a handful of keyboards we've grown to encompass nearly 4000 supported keyboards. That extrapolates out to 6000 configuration files under `keyboards/` alone! The freeform nature of these files and the unique patterns people have used to avoid duplication have made ongoing maintenance a challenge, and a large number of our keyboards follow patterns that are outdated and sometimes harder to understand.\n\nWe have also been working on bringing the power of QMK to people who aren't comformable with a CLI, and other projects such as VIA are working to make using QMK as easy as installing a program. These tools need information about how a keyboard is laid out or what pins and features are available so that users can take full advantage of QMK. We introduced `info.json` as a first step towards this. The QMK API is an effort to combine these 3 sources of information- `config.h`, `rules.mk`, and `info.json`- into a single source of truth that end-user tools can use.\n\nNow we have support for generating `rules.mk` and `config.h` values from `info.json`, allowing us to have a single source of truth. This will allow us to use automated tooling to maintain keyboards saving a lot of time and maintenance work.",
        "Overview": "On the C side of things nothing changes. When you need to create a new rule or define you follow the same process:\n\n['Add it to `docs/config_options.md`', 'Set a default in the appropriate core file', 'Add your ifdef statements as needed']\n\nYou will then need to add support for your new configuration to `info.json`. The basic process is:\n\n['Add it to the schema in `data/schemas/keyboards.jsonschema`', 'Add a mapping in `data/maps`', '(optional and discouraged) Add code to extract/generate it to:']\n\n['`lib/python/qmk/info.py`', '`lib/python/qmk/cli/generate/config_h.py`', '`lib/python/qmk/cli/generate/rules_mk.py`']",
        "Adding an option to info.json": {
          "Add it to the schema": "QMK maintains [jsonschema](https://json-schema.org/) files in `data/schemas`. The values that go into keyboard-specific `info.json` files are kept in `keyboard.jsonschema`. Any value you want to make available to end users to edit must go in here.\n\nIn some cases you can simply add a new top-level key. Some examples to follow are `keyboard_name`, `maintainer`, `processor`, and `url`. This is appropriate when your option is self-contained and not directly related to other options.\n\nIn other cases you should group like options together in an `object`. This is particularly true when adding support for a feature. Some examples to follow for this are `indicators`, `matrix_pins`, and `rgblight`. If you are not sure how to integrate your new option(s) [open an issue](https://github.com/qmk/qmk_firmware/issues/new?assignees=&labels=cli%2C+python&template=other_issues.md&title=) or [join #cli on Discord](https://discord.gg/heQPAgy) and start a conversation there.",
          "Add a mapping": {
            "Info Key": "We use JSON dot notation to address variables within info.json. For example, to access `info_json[\"rgblight\"][\"split_count\"]` I would specify `rgblight.split_count`. This allows you to address deeply nested keys with a simple string.\n\nUnder the hood we use [Dotty Dict](https://dotty-dict.readthedocs.io/en/latest/), you can refer to that documentation for how these strings are converted to object access.",
            "Value Types": "By default we treat all values as unquoted \"raw\" data. If your value is more complex you can use one of these types to intelligently parse the data:\n\n['`array`: A comma separated array of strings', '`array.int`: A comma separated array of integers', '`int`: An integer', '`hex`: A number formatted as hex', '`list`: A space separate array of strings', '`mapping`: A hash of key/value pairs', '`str`: A quoted string literal']"
          },
          "Add code to extract it": "Most use cases can be solved by the mapping files described above. If yours can't you can instead write code to extract your config values.\n\nWhenever QMK generates a complete `info.json` it extracts information from `config.h` and `rules.mk`. You will need to add code for your new config value to `lib/python/qmk/info.py`. Typically this means adding a new `_extract_<feature>()` function and then calling your function in either `_extract_config_h()` or `_extract_rules_mk()`.\n\nIf you are not sure how to edit this file or are not comfortable with Python [open an issue](https://github.com/qmk/qmk_firmware/issues/new?assignees=&labels=cli%2C+python&template=other_issues.md&title=) or [join #cli on Discord](https://discord.gg/heQPAgy) and someone can help you with this part.",
          "Add code to generate it {#add-code-to-generate-it}": "The final piece of the puzzle is providing your new option to the build system. This is done by generating two files:\n\n['`.build/obj_<keyboard>_<keymap>/src/info_config.h`', '`.build/obj_<keyboard>_<keymap>/src/rules.mk`']\n\nThese two files are generated by the code here:\n\n['`lib/python/qmk/cli/generate/config_h.py`', '`lib/python/qmk/cli/generate/rules_mk.py`']\n\nFor `config.h` values you'll need to write a function for your rule(s) and call that function in `generate_config_h()`.\n\nIf you have a new top-level `info.json` key for `rules.mk` you can simply add your keys to `info_to_rules` at the top of `lib/python/qmk/cli/generate/rules_mk.py`. Otherwise you'll need to create a new if block for your feature in `generate_rules_mk()`."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 27]"
    },
    {
      "title": "Documentation Best Practices",
      "description": null,
      "content": {
        "Documentation Best Practices": "This page exists to document best practices when writing documentation for QMK. Following these guidelines will help to keep a consistent tone and style, which will in turn help other people more easily understand QMK.",
        "Page Opening": "Your documentation page should generally start with an H1 heading, followed by a 1 paragraph description of what the user will find on this page. Keep in mind that this heading and paragraph will sit next to the Table of Contents, so keep the heading short and avoid long strings with no whitespace.\n\nExample:\n\n```\n# My Page Title\n\nThis page covers my super cool feature. You can use this feature to make coffee, squeeze fresh oj, and have an egg mcmuffin and hashbrowns delivered from your local macca's by drone.\n```",
        "Headings": "Your page should generally have multiple \"H1\" headings. Only H1 and H2 headings will included in the Table of Contents, so plan them out appropriately. Excess width should be avoided in H1 and H2 headings to prevent the Table of Contents from getting too wide.",
        "Styled Hint Blocks": "You can have styled hint blocks drawn around text to draw attention to it.\n\nImportant\n\n```\n::: warning\nThis is important\n:::\n```\n\nRenders as:\n\n::: warning\nThis is important\n:::\n\nGeneral Tips\n\n```\n::: tip\nThis is a helpful tip.\n:::\n```\n\nRenders as:\n\n::: tip\nThis is a helpful tip.\n:::",
        "Documenting Features": "If you create a new feature for QMK, create a documentation page for it. It doesn't have to be very long, a few sentences describing your feature and a table listing any relevant keycodes is enough. Here is a basic template:\n\n```\n# My Cool Feature\n\nThis page describes my cool feature. You can use my cool feature to make coffee and order cream and sugar to be delivered via drone.\n\n## My Cool Feature Keycodes\n\n|Long Name|Short Name|Description|\n|---------|----------|-----------|\n|KC_COFFEE||Make Coffee|\n|KC_CREAM||Order Cream|\n|KC_SUGAR||Order Sugar|\n```\n\nPlace your documentation into `docs/features/<my_cool_feature>.md`, and add that file to the appropriate place in `docs/_sidebar.json`. If you have added any keycodes be sure to add them to `docs/keycodes.md` with a link back to your feature page."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 28]"
    },
    {
      "title": "Documentation Templates",
      "description": null,
      "content": {
        "Keymap `readme.md` Template {#keyboard-readmemd-template}": "Most keymaps have an image depicting the layout. You can use [Keyboard Layout Editor](http://keyboard-layout-editor.com) to create an image. Upload it to [Imgur](https://imgur.com) or another hosting service, please do not include images in your Pull Request.\n\nBelow the image you should write a short description to help people understand your keymap.\n\n```\n![Clueboard Layout Image](https://i.imgur.com/7Capi8W.png)\n\n# Default Clueboard Layout\n\nThis is the default layout that comes flashed on every Clueboard. For the most\npart it's a straightforward and easy to follow layout. The only unusual key is\nthe key in the upper left, which sends Escape normally, but Grave when any of\nthe Ctrl, Alt, or GUI modifiers are held down.\n```",
        "Keyboard `readme.md` Template": "```\n# Planck\n\n![Planck](https://i.imgur.com/q2M3uEU.jpg)\n\nA compact 40% (12x4) ortholinear keyboard kit made and sold by OLKB and Massdrop. [More info on qmk.fm](https://qmk.fm/planck/)\n\n* Keyboard Maintainer: [Jack Humbert](https://github.com/jackhumbert)\n* Hardware Supported: Planck PCB rev1, rev2, rev3, rev4, Teensy 2.0\n* Hardware Availability: [OLKB.com](https://olkb.com), [Massdrop](https://www.massdrop.com/buy/planck-mechanical-keyboard?mode=guest_open)\n\nMake example for this keyboard (after setting up your build environment):\n\n    make planck/rev4:default\n\nFlashing example for this keyboard:\n\n    make planck/rev4:default:flash\n\nSee the [build environment setup](getting_started_build_tools) and the [make instructions](getting_started_make_guide) for more information. Brand new to QMK? Start with our [Complete Newbs Guide](newbs).\n\n## Bootloader\n\nEnter the bootloader in 3 ways:\n\n* **Bootmagic reset**: Hold down the key at (0,0) in the matrix (usually the top left key or Escape) and plug in the keyboard\n* **Physical reset button**: Briefly press the button on the back of the PCB - some may have pads you must short instead\n* **Keycode in layout**: Press the key mapped to `QK_BOOT` if it is available\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 29]"
    },
    {
      "title": "Bootloader Driver Installation with Zadig",
      "description": null,
      "content": {
        "Installation": "Put your keyboard into bootloader mode, either by hitting the `QK_BOOT` keycode (which may be on a different layer), or by pressing the reset switch that's usually located on the underside of the board. If your keyboard has neither, try holding Escape or Space+`B` as you plug it in (see the [Bootmagic](features/bootmagic) docs for more details). Some boards use [Command](features/command) instead of Bootmagic; in this case, you can enter bootloader mode by hitting Left Shift+Right Shift+`B` or Left Shift+Right Shift+Escape at any point while the keyboard is plugged in.\nSome keyboards may have specific instructions for entering the bootloader. For example, the [Bootmagic](features/bootmagic) key (default: Escape) might be on a different key, e.g. Left Control; or the magic combination for Command (default: Left Shift+Right Shift) might require you to hold something else, e.g. Left Control+Right Control. Refer to the board's README file if you are unsure.\n\nTo put a device in bootloader mode with USBaspLoader, tap the `RESET` button while holding down the `BOOT` button.\nAlternatively, hold `BOOT` while inserting the USB cable.\n\nZadig should automatically detect the bootloader device, but you may sometimes need to check **Options  List All Devices** and select the device from the dropdown instead.\n\n::: warning\nIf Zadig lists one or more devices with the `HidUsb` driver, your keyboard is probably not in bootloader mode. The arrow will be colored orange and you will be asked to confirm modifying a system driver. **Do not** proceed if this is the case!\n:::\n\nIf the arrow appears green, select the driver, and click **Install Driver**. See the [list of known bootloaders](#list-of-known-bootloaders) for the correct driver to install.\n\n![Zadig with a bootloader driver correctly installed](https://i.imgur.com/b8VgXzx.png)\n\nFinally, unplug and replug the keyboard to make sure the new driver has been loaded. If you are using the QMK Toolbox to flash, exit and restart it too, as it can sometimes fail to recognize the driver change.",
        "Recovering from Installation to Wrong Device": "If you find that you can no longer type with the keyboard, you may have accidentally replaced the driver for the keyboard itself instead of for the bootloader. This can happen when the keyboard is not in the bootloader mode. You can easily confirm this in Zadig - a healthy keyboard has the `HidUsb` driver installed on all of its interfaces:\n\n![A healthy keyboard as seen by Zadig](https://i.imgur.com/Hx0E5kC.png)\n\nOpen the Device Manager, select **View  Devices by container**, and look for an entry with your keyboard's name.\n\n![The board with the wrong driver installed, in Device Manager](https://i.imgur.com/o7WLvBl.png)\n\nRight-click each entry and hit **Uninstall device**. Make sure to tick **Delete the driver software for this device** first if it appears.\n\n![The Device Uninstall dialog, with the \"delete driver\" checkbox ticked](https://i.imgur.com/aEs2RuA.png)\n\nClick **Action  Scan for hardware changes**. At this point, you should be able to type again. Double check in Zadig that the keyboard device(s) are using the `HidUsb` driver. If so, you're all done, and your board should be functional again! Otherwise, repeat this process until Zadig reports the correct driver.\n\n::: tip\nA full reboot of your computer may sometimes be necessary at this point, to get Windows to pick up the new driver.\n:::",
        "Uninstallation": "Uninstallation of bootloader devices is a little more involved than installation.\n\nOpen the Device Manager, select **View  Devices by container**, and look for the bootloader device. Match up the USB VID and PID in Zadig with one from [the table below](#list-of-known-bootloaders).\n\nFind the `Inf name` value in the Details tab of the device properties. This should generally be something like `oemXX.inf`:\n\n![Device properties showing the Inf name value](https://i.imgur.com/Bu4mk9m.png)\n\nThen, open a new Command Prompt window as an Administrator (type in `cmd` into the Start menu and press Ctrl+Shift+Enter). Run `pnputil /enum-drivers` to verify the `Inf name` matches the `Published Name` field of one of the entries:\n\n![pnputil output with matching driver highlighted](https://i.imgur.com/3RrSjzW.png)\n\nRun `pnputil /delete-driver oemXX.inf /uninstall`. This will delete the driver and remove it from any devices using it. Note that this will not uninstall the device itself.\n\nAs with the previous section, this process may need to be repeated multiple times, as multiple drivers can be applicable to the same device.\n\n::: warning\nBe *extremely careful* when doing this! You could potentially uninstall the driver for some other critical device. If you are unsure, double check the output of `/enum-drivers`, and omit the `/uninstall` flag when running `/delete-driver`.\n:::",
        "List of Known Bootloaders": "This is a list of known bootloader devices and their USB vendor and product IDs, as well as the correct driver to assign for flashing with QMK. Note that the usbser and HidUsb drivers are built in to Windows, and cannot be assigned with Zadig - if your device has an incorrect driver, you must use the Device Manager to uninstall it as described in the previous section.\n\nThe device name here is the name that appears in Zadig, and may not be what the Device Manager or QMK Toolbox displays.\n\n|Bootloader    |Device Name                   |VID/PID       |Driver |\n|--------------|------------------------------|--------------|-------|\n|`atmel-dfu`   |ATmega16u2 DFU                |`03EB:2FEF`   |WinUSB |\n|`atmel-dfu`   |ATmega32U2 DFU                |`03EB:2FF0`   |WinUSB |\n|`atmel-dfu`   |ATm16U4 DFU V1.0.2            |`03EB:2FF3`   |WinUSB |\n|`atmel-dfu`   |ATm32U4DFU                    |`03EB:2FF4`   |WinUSB |\n|`atmel-dfu`   |*none* (AT90USB64)            |`03EB:2FF9`   |WinUSB |\n|`atmel-dfu`   |AT90USB128 DFU                |`03EB:2FFB`   |WinUSB |\n|`qmk-dfu`     |(keyboard name) Bootloader    |As `atmel-dfu`|WinUSB |\n|`halfkay`     |*none*                        |`16C0:0478`   |HidUsb |\n|`caterina`    |Pro Micro 3.3V                |`1B4F:9203`   |usbser |\n|`caterina`    |Pro Micro 5V                  |`1B4F:9205`   |usbser |\n|`caterina`    |LilyPadUSB                    |`1B4F:9207`   |usbser |\n|`caterina`    |Pololu A-Star 32U4 Bootloader |`1FFB:0101`   |usbser |\n|`caterina`    |Arduino Leonardo              |`2341:0036`   |usbser |\n|`caterina`    |Arduino Micro                 |`2341:0037`   |usbser |\n|`caterina`    |Adafruit Feather 32u4         |`239A:000C`   |usbser |\n|`caterina`    |Adafruit ItsyBitsy 32u4 3V    |`239A:000D`   |usbser |\n|`caterina`    |Adafruit ItsyBitsy 32u4 5V    |`239A:000E`   |usbser |\n|`caterina`    |Arduino Leonardo              |`2A03:0036`   |usbser |\n|`caterina`    |Arduino Micro                 |`2A03:0037`   |usbser |\n|`bootloadhid` |HIDBoot                       |`16C0:05DF`   |HidUsb |\n|`usbasploader`|USBasp                        |`16C0:05DC`   |libusbK|\n|`apm32-dfu`   |APM32 DFU ISP Mode            |`314B:0106`   |WinUSB |\n|`at32-dfu`    |AT32 Bootloader DFU           |`2E3C:DF11`   |WinUSB |\n|`stm32-dfu`   |STM32 BOOTLOADER              |`0483:DF11`   |WinUSB |\n|`gd32v-dfu`   |GD32V BOOTLOADER              |`28E9:0189`   |WinUSB |\n|`kiibohd`     |Kiibohd DFU Bootloader        |`1C11:B007`   |WinUSB |\n|`stm32duino`  |Maple 003                     |`1EAF:0003`   |WinUSB |\n|`qmk-hid`     |(keyboard name) Bootloader    |`03EB:2067`   |HidUsb |"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 30]"
    },
    {
      "title": "Easy Maker - Build One-Off Projects In Configurator",
      "description": null,
      "content": {
        "Quickstart": "The easiest way to get started is with the Direct Pin boards. This will assign a single key to each pin and you can short that pin to ground to activate it. Select your MCU from the Keyboard dropdown here:\n\n['<https://config.qmk.fm/#/?filter=ez_maker/direct>']\n\nFor more details see the [Direct Pin](#direct-pin) section."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 31]"
    },
    {
      "title": "Frequently Asked Build Questions",
      "description": null,
      "content": {
        "Can't Program on Linux": {
          "Linux `udev` Rules {#linux-udev-rules}": "On Linux, you'll need proper privileges to communicate with the bootloader device. You can either use `sudo` when flashing firmware (not recommended), or place [this file](https://github.com/qmk/qmk_firmware/tree/master/util/udev/50-qmk.rules) into `/etc/udev/rules.d/`.\n\nOnce added, run the following:\n\n```\nsudo udevadm control --reload-rules\nsudo udevadm trigger\n```\n\n**Note:** With older versions of ModemManager (< 1.12), filtering only works when not in strict mode. The following commands can update that setting:\n\n```\nprintf '[Service]\\nExecStart=\\nExecStart=/usr/sbin/ModemManager --filter-policy=default' | sudo tee /etc/systemd/system/ModemManager.service.d/policy.conf\nsudo systemctl daemon-reload\nsudo systemctl restart ModemManager\n```",
          "Serial device is not detected in bootloader mode on Linux": "Make sure your kernel has appropriate support for your device. If your device uses USB ACM, such as\nPro Micro (Atmega32u4), make sure to include `CONFIG_USB_ACM=y`. Other devices may require `USB_SERIAL` and any of its sub options."
        },
        "Unknown Device for DFU Bootloader": "Issues encountered when flashing keyboards on Windows are most often due to having the wrong drivers installed for the bootloader, or none at all.\n\nRe-running the QMK installation script (`./util/qmk_install.sh` from the `qmk_firmware` directory in MSYS2 or WSL) or reinstalling the QMK Toolbox may fix the issue. Alternatively, you can download and run the [`qmk_driver_installer`](https://github.com/qmk/qmk_driver_installer) package manually.\n\nIf that doesn't work, then you may need to download and run Zadig. See [Bootloader Driver Installation with Zadig](driver_installation_zadig) for more detailed information.",
        "USB VID and PID": {
          "I just flashed my keyboard and it does nothing/keypresses don't register - it's also ARM (rev6 planck, clueboard 60, hs60v2, etc...) (Feb 2019)": "Due to how EEPROM works on ARM based chips, saved settings may no longer be valid.  This affects the default layers, and *may*, under certain circumstances we are still figuring out, make the keyboard unusable.  Resetting the EEPROM will correct this.\n\n[Planck rev6 reset EEPROM](https://cdn.discordapp.com/attachments/473506116718952450/539284620861243409/planck_rev6_default.bin) can be used to force an eeprom reset. After flashing this image, flash your normal firmware again which should restore your keyboard to _normal_ working order.\n[Preonic rev3 reset EEPROM](https://cdn.discordapp.com/attachments/473506116718952450/537849497313738762/preonic_rev3_default.bin)\n\nIf bootmagic is enabled in any form, you should be able to do this too (see [Bootmagic docs](features/bootmagic) and keyboard info for specifics on how to do this)."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 32]"
    },
    {
      "title": "Debugging FAQ",
      "description": null,
      "content": {
        "Debugging {#debugging}": "Your keyboard will output debug information if you have `CONSOLE_ENABLE = yes` in your `rules.mk`. By default the output is very limited, but you can turn on debug mode to increase the amount of debug output. Use the `DB_TOGG` keycode in your keymap, use the [Command](features/command) feature to enable debug mode, or add the following code to your keymap.\n\n```\nvoid keyboard_post_init_user(void) {\n  // Customise these values to desired behaviour\n  debug_enable=true;\n  debug_matrix=true;\n  //debug_keyboard=true;\n  //debug_mouse=true;\n}\n```",
        "Debugging Tools": {
          "Debugging With QMK Toolbox": "For compatible platforms, [QMK Toolbox](https://github.com/qmk/qmk_toolbox) can be used to display debug messages from your keyboard.",
          "Debugging with QMK CLI": "Prefer a terminal based solution? The [QMK CLI console command](cli_commands#qmk-console) can be used to display debug messages from your keyboard.",
          "Debugging With hid_listen": "Something stand-alone? [hid_listen](https://www.pjrc.com/teensy/hid_listen.html), provided by PJRC, can also be used to display debug messages. Prebuilt binaries for Windows,Linux,and MacOS are available."
        },
        "Sending Your Own Debug Messages {#debug-api}": "Sometimes it's useful to print debug messages from within your [custom code](custom_quantum_functions). Doing so is pretty simple. Start by including `print.h` at the top of your file:\n\n```\n#include \"print.h\"\n```\n\nAfter that you can use a few different print functions:\n\n['`print(\"string\")`: Print a simple string.', '`uprintf(\"%s string\", var)`: Print a formatted string', '`dprint(\"string\")` Print a simple string, but only when debug mode is enabled', '`dprintf(\"%s string\", var)`: Print a formatted string, but only when debug mode is enabled']",
        "Debug Examples": {
          "Which matrix position is this keypress?": "When porting, or when attempting to diagnose pcb issues, it can be useful to know if a keypress is scanned correctly. To enable logging for this scenario, add the following code to your keymaps `keymap.c`\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  // If console is enabled, it will print the matrix position and status of each key pressed\n#ifdef CONSOLE_ENABLE\n    uprintf(\"KL: kc: 0x%04X, col: %2u, row: %2u, pressed: %u, time: %5u, int: %u, count: %u\\n\", keycode, record->event.key.col, record->event.key.row, record->event.pressed, record->event.time, record->tap.interrupted, record->tap.count);\n#endif \n  return true;\n}\n```\n\nExample output\n\n```\nWaiting for device:.......\nListening:\nKL: kc: 169, col: 0, row: 0, pressed: 1, time: 15505, int: 0, count: 0\nKL: kc: 169, col: 0, row: 0, pressed: 0, time: 15510, int: 0, count: 0\nKL: kc: 174, col: 1, row: 0, pressed: 1, time: 15703, int: 0, count: 0\nKL: kc: 174, col: 1, row: 0, pressed: 0, time: 15843, int: 0, count: 0\nKL: kc: 172, col: 2, row: 0, pressed: 1, time: 16303, int: 0, count: 0\nKL: kc: 172, col: 2, row: 0, pressed: 0, time: 16411, int: 0, count: 0\n```",
          "Which keycode is this keypress?": "Keycodes are logged in the example above as numerical codes, which may be difficult to interpret. For more readable logging, add `KEYCODE_STRING_ENABLE = yes` in your `rules.mk` and use `get_keycode_string(kc)`. For example:\n\n```\nuprintf(\"kc: %s\\n\", get_keycode_string(keycode));\n```\n\nThis logs the keycode as a human-readable string like \"`LT(2,KC_D)`\" rather than a numerical code like \"`0x4207`.\" See the [Keycode String](unit_testing#keycode-string) section of the Unit Testing page for more information.",
          "How long did it take to scan for a keypress?": "When testing performance issues, it can be useful to know the frequency at which the switch matrix is being scanned. To enable logging for this scenario, add the following code to your keymaps `config.h`\n\n```\n#define DEBUG_MATRIX_SCAN_RATE\n```\n\nExample output\n\n```\n  > matrix scan frequency: 315\n  > matrix scan frequency: 313\n  > matrix scan frequency: 316\n  > matrix scan frequency: 316\n  > matrix scan frequency: 316\n  > matrix scan frequency: 316\n```"
        },
        "`hid_listen` Can't Recognize Device": "When debug console of your device is not ready you will see like this:\n\n```\nWaiting for device:.........\n```\n\nOnce the device is plugged in then *hid_listen* finds it you will get this message:\n\n```\nWaiting for new device:.........................\nListening:\n```\n\nIf you can't get this 'Listening:' message try building with `CONSOLE_ENABLE=yes` in [Makefile]\n\nYou may need privileges to access the device an OS like Linux. Try `sudo hid_listen`.\n\nOn many Linux distros you can avoid having to run hid_listen as root\nby creating a file called `/etc/udev/rules.d/70-hid-listen.rules` with\nthe following content:\n\n```\nSUBSYSTEM==\"hidraw\", ATTRS{idVendor}==\"abcd\", ATTRS{idProduct}==\"def1\", TAG+=\"uaccess\", RUN{builtin}+=\"uaccess\"\n```\n\nReplace abcd and def1 with your keyboard's vendor and product id,\nletters must be lowercase. The `RUN{builtin}+=\"uaccess\"` part is only\nneeded for older distros.",
        "Can't Get Message on Console": "Check:\n\n['*hid_listen* finds your device. See above.', 'Enable debug by pressing **Magic**+d. See [Magic Commands](https://github.com/tmk/tmk_keyboard/wiki#magic-commands-for-debug).', 'Set `debug_enable=true`. See [Debugging](#debugging)', 'Try using `print` function instead of debug print. See **common/print.h**.', 'Disconnect other devices with console function. See [Issue #97](https://github.com/tmk/tmk_keyboard/issues/97).', 'Ensure all strings end with a newline character (`\\\\n`). QMK Toolbox prints console output on a per-line basis.']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 33]"
    },
    {
      "title": "Frequently Asked Questions",
      "description": null,
      "content": {
        "What is QMK?": "[QMK](https://github.com/qmk), short for Quantum Mechanical Keyboard, is a group of people building tools for custom keyboards. We started with the [QMK firmware](https://github.com/qmk/qmk_firmware), a heavily modified fork of [TMK](https://github.com/tmk/tmk_keyboard).",
        "I don't know where to start!": "If this is the case, then you should start with our [Newbs Guide](newbs). There is a lot of great info there, and that should cover everything you need to get started.\n\nIf that's an issue, hop onto the [QMK Configurator](https://config.qmk.fm), as that will handle a majority of what you need there.",
        "How can I flash the firmware I built?": "First, head to the [Compiling/Flashing FAQ Page](faq_build). There is a good deal of info there, and you'll find a bunch of solutions to common issues there.",
        "What if I have an issue that isn't covered here?": "Okay, that's fine. Then please check the [open issues in our GitHub](https://github.com/qmk/qmk_firmware/issues) to see if somebody is experiencing the same thing (make sure it's not just similar, but actually the same).\n\nIf you can't find anything, then please open a [new issue](https://github.com/qmk/qmk_firmware/issues/new)!",
        "What if I found a bug?": "Then please open an [issue](https://github.com/qmk/qmk_firmware/issues/new), and if you know how to fix it, open up a Pull Request on GitHub with the fix.",
        "But `git` and `GitHub` are intimidating!": "Don't worry, we have some pretty nice [Guidelines](newbs_git_best_practices) on how to start using `git` and GitHub to make things easier to develop.\n\nAdditionally, you can find additional `git` and GitHub related links [here](newbs_learn_more_resources).",
        "I have a Keyboard that I want to add support for": {
          "What if I want to brand it with `QMK`?": "That's amazing! We would love to assist you with that!\n\nIn fact, we have a [whole page](https://qmk.fm/powered/) dedicated to adding QMK Branding to your page and keyboard. This covers pretty much everything you need (knowledge and images) to officially support QMK.\n\nIf you have any questions about this, open an issue or head to [Discord](https://discord.gg/qmk)."
        },
        "What Differences Are There Between QMK and TMK?": "TMK was originally designed and implemented by [Jun Wako](https://github.com/tmk). QMK started as [Jack Humbert](https://github.com/jackhumbert)'s fork of TMK for the Planck. After a while Jack's fork had diverged quite a bit from TMK, and in 2015 Jack decided to rename his fork to QMK.\n\nFrom a technical standpoint QMK builds upon TMK by adding several new features. Most notably QMK has expanded the number of available keycodes and uses these to implement advanced features like `S()`, `LCTL()`, and `MO()`. You can see a complete list of these keycodes in [Keycodes](keycodes).\n\nFrom a project and community management standpoint TMK maintains all the officially supported keyboards by himself, with a bit of community support. Separate community maintained forks exist or can be created for other keyboards. Only a few keymaps are provided by default, so users typically don't share keymaps with each other. QMK encourages sharing of both keyboards and keymaps through a centrally managed repository, accepting all pull requests that follow the quality standards. These are mostly community maintained, but the QMK team also helps when necessary.\n\nBoth approaches have their merits and their drawbacks, and code flows freely between TMK and QMK when it makes sense."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 34]"
    },
    {
      "title": "Keymap FAQ",
      "description": null,
      "content": {
        "What Keycodes Can I Use?": "See [Keycodes](keycodes) for an index of keycodes available to you. These link to more extensive documentation when available.\n\nKeycodes are actually defined in [quantum/keycode.h](https://github.com/qmk/qmk_firmware/blob/master/quantum/keycode.h).",
        "What Are the Default Keycodes?": "There are 3 standard keyboard layouts in use around the world- ANSI, ISO, and JIS. North America primarily uses ANSI, Europe and Africa primarily use ISO, and Japan uses JIS. Regions not mentioned typically use either ANSI or ISO. The keycodes corresponding to these layouts are shown here:\n\n<!-- Source for this image: https://www.keyboard-layout-editor.com/#/gists/bf431647d1001cff5eff20ae55621e9a -->\n![Keyboard Layout Image](https://i.imgur.com/5wsh5wM.png)",
        "How Can I Make Custom Names For Complex Keycodes?": "Sometimes, for readability's sake, it's useful to define custom names for some keycodes. People often define custom names using `#define`. For example:\n\n```\n#define FN_CAPS LT(_FL, KC_CAPS)\n#define ALT_TAB LALT(KC_TAB)\n```\n\nThis will allow you to use `FN_CAPS` and `ALT_TAB` in your keymap, keeping it more readable.",
        "My Keymap Doesn't Update When I Flash It": "This is usually due to VIA, and has to do with how it deals with keymaps.\n\nOn first run, the VIA code in the firmware will copy the keymap from flash memory into EEPROM so that it can be rewritten at runtime by the VIA app. From this point QMK will use the keymap stored in EEPROM instead of flash, and so updates to your `keymap.c` will not be reflected.\n\nThe simple fix for this is to clear the EEPROM. You can do this in several ways:\n\n['Hold the Bootmagic key (usually top left/Escape) while plugging the board in, which will also place the board into bootloader mode; then unplug and replug the board.', 'Press the `QK_CLEAR_EEPROM`/`EE_CLR` keycode if it is accessible on your keymap.', 'Place the board into bootloader mode and hit the \"Clear EEPROM\" button. This may not be available for all bootloaders, and you may need to reflash the board afterwards.']",
        "Some Of My Keys Are Swapped Or Not Working": "QMK has a couple of features which allow you to change the behavior of your keyboard on the fly. This includes, but is not limited to, swapping Ctrl/Caps, disabling GUI, swapping Alt/GUI, swapping Backspace/Backslash, disabling all keys, and other behavioral modifications.\n\nRefer to the EEPROM clearing methods above, which should return those keys to normal operation. If that doesn't work, look here:\n\n['[Magic Keycodes](keycodes_magic)', '[Command](features/command)']",
        "The Menu Key Isn't Working": "The key found on most modern keyboards that is located between `KC_RGUI` and `KC_RCTL` is actually called `KC_APP`. This is because when the key was invented, there was already a key named \"Menu\" in the HID specification, so for whatever reason, Microsoft chose to create a new key and call it \"Application\".",
        "Power Keys Aren't Working": "Somewhat confusingly, there are two \"Power\" keycodes in QMK: `KC_KB_POWER` in the Keyboard/Keypad HID usage page, and `KC_SYSTEM_POWER` (or `KC_PWR`) in the Consumer page.\n\nThe former is only recognized on macOS, while the latter, `KC_SLEP` and `KC_WAKE` are supported by all three major operating systems, so it is recommended to use those instead. Under Windows, these keys take effect immediately, however on macOS they must be held down until a dialog appears.",
        "One Shot Modifier": "Solves my personal 'the' problem. I often got 'the' or 'THe' wrongly instead of 'The'.  One Shot Shift mitigates this for me.\nhttps://github.com/tmk/tmk_keyboard/issues/67",
        "Modifier/Layer Stuck": "Modifier keys or layers can be stuck unless layer switching is configured properly.\nFor Modifier keys and layer actions you have to place `KC_TRNS` on same position of destination layer to  unregister the modifier key or return to previous layer on release event.\n\n['https://github.com/tmk/tmk_core/blob/master/doc/keymap.md#31-momentary-switching', 'https://geekhack.org/index.php?topic=57008.msg1492604#msg1492604', 'https://github.com/tmk/tmk_keyboard/issues/248']",
        "Mechanical Lock Switch Support": "This feature is for *mechanical lock switch* like [this Alps one](https://deskthority.net/wiki/Alps_SKCL_Lock). You can enable it by adding this to your `config.h`:\n\n```\n#define LOCKING_SUPPORT_ENABLE\n#define LOCKING_RESYNC_ENABLE\n```\n\nAfter enabling this feature use keycodes `KC_LCAP`, `KC_LNUM` and `KC_LSCR` in your keymap instead.\n\nOld vintage mechanical keyboards occasionally have lock switches but modern ones don't have. ***You don't need this feature in most case and just use keycodes `KC_CAPS`, `KC_NUM` and `KC_SCRL`.***",
        "Input Special Characters Other Than ASCII like Cdille ''": "See the [Unicode](features/unicode) feature.",
        "`Fn` Key on macOS": "Unlike most Fn keys, the one on Apple keyboards actually has its own keycode... sort of. It takes the place of the sixth keycode in a basic 6KRO HID report -- so an Apple keyboard is in fact only 5KRO.\n\nIt is technically possible to get QMK to send this key. However, doing so requires modification of the report format to add the state of the Fn key.\nEven worse, it is not recognized unless the keyboard's VID and PID match that of a real Apple keyboard. The legal issues that official QMK support for this feature may create mean it is unlikely to happen.\n\nSee [this issue](https://github.com/qmk/qmk_firmware/issues/2179) for detailed information.",
        "Keys Supported in Mac OSX?": "You can know which keycodes are supported in OSX from this source code.\n\n`usb_2_adb_keymap` array maps Keyboard/Keypad Page usages to ADB scancodes(OSX internal keycodes).\n\nhttps://opensource.apple.com/source/IOHIDFamily/IOHIDFamily-606.1.7/IOHIDFamily/Cosmo_USB2ADB.c\n\nAnd `IOHIDConsumer::dispatchConsumerEvent` handles Consumer page usages.\n\nhttps://opensource.apple.com/source/IOHIDFamily/IOHIDFamily-606.1.7/IOHIDFamily/IOHIDConsumer.cpp",
        "JIS Keys in Mac OSX": "Japanese JIS keyboard specific keys like `(Muhenkan)`, `(Henkan)`, `(hiragana)` are not recognized on OSX. You can use **Seil** to enable those keys, try following options.\n\n['Enable NFER Key on PC keyboard', 'Enable XFER Key on PC keyboard', 'Enable KATAKANA Key on PC keyboard']\n\nhttps://pqrs.org/osx/karabiner/seil.html",
        "RN-42 Bluetooth Doesn't Work with Karabiner": "Karabiner - Keymapping tool on Mac OSX - ignores inputs from RN-42 module by default. You have to enable this option to make Karabiner working with your keyboard.\nhttps://github.com/tekezo/Karabiner/issues/403#issuecomment-102559237\n\nSee these for the detail of this problem.\nhttps://github.com/tmk/tmk_keyboard/issues/213\nhttps://github.com/tekezo/Karabiner/issues/403",
        "Esc and <code>&#96;</code> on a Single Key": "See the [Grave Escape](features/grave_esc) feature.",
        "Eject on Mac OSX": "`KC_EJCT` keycode works on OSX. https://github.com/tmk/tmk_keyboard/issues/250\nIt seems Windows 10 ignores the code and Linux/Xorg recognizes but has no mapping by default.\n\nNot sure what keycode Eject is on genuine Apple keyboard actually. HHKB uses `F20` for Eject key(`Fn+F`) on Mac mode but this is not same as Apple Eject keycode probably.",
        "What are \"Real\" and \"Weak\" modifiers?": "Real modifiers refer to the state of the real/physical modifier keys, while weak modifiers are the state of \"virtual\" or temporary modifiers which should not interfere with the internal state of the real modifier keys.\n\nThe real and weak modifier states are ORed together when the keyboard report is sent, so if you release a weak modifier while the same real modifier is still held, the report does not change:\n\n['**Hold down physical Left Shift:** Real mods now contains Left Shift, final state is Left Shift', '**Add weak Left Shift:** Weak mods now contains Left Shift, final state is Left Shift', '**Remove weak Left Shift:** Weak mods now contains nothing, final state is Left Shift', '**Release physical Left Shift:** Real mods now contains nothing, final state is nothing']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 35]"
    },
    {
      "title": "Miscellaneous FAQ",
      "description": null,
      "content": {
        "How do I test my keyboard? {#testing}": "Testing your keyboard is usually pretty straightforward. Press every single key and make sure it sends the keys you expect. You can use [QMK Configurator](https://config.qmk.fm/#/test/)'s test mode to check your keyboard, even if it doesn't run QMK.",
        "Safety Considerations": "You probably don't want to \"brick\" your keyboard, making it impossible\nto rewrite firmware onto it.  Here are some of the parameters to show\nwhat things are (and likely aren't) too risky.\n\n['If your keyboard map does not include QK_BOOT, then, to get into DFU\\nmode, you will need to press the reset button on the PCB, which\\nrequires unscrewing the bottom.', 'Messing with tmk_core / common files might make the keyboard\\ninoperable', 'Too large a .hex file is trouble; `make dfu` will erase the block,\\ntest the size (oops, wrong order!), which errors out, failing to\\nflash the keyboard, leaving it in DFU mode.', ['To this end, note that the maximum .hex file size on e.g. Planck\\nis 7000h (28672 decimal)']]\n\n```\nLinking: .build/planck_rev4_cbbrowne.elf                                                            [OK]\nCreating load file for Flash: .build/planck_rev4_cbbrowne.hex                                       [OK]\n\nSize after:\n   text    data     bss     dec     hex filename\n      0   22396       0   22396    577c planck_rev4_cbbrowne.hex\n```\n\n['The above file is of size 22396/577ch, which is less than\\n28672/7000h', 'As long as you have a suitable alternative .hex file around, you\\ncan retry, loading that one', \"Some of the options you might specify in your keyboard's Makefile\\nconsume extra memory; watch out for BOOTMAGIC_ENABLE,\\nMOUSEKEY_ENABLE, EXTRAKEY_ENABLE, CONSOLE_ENABLE\", 'DFU tools do /not/ allow you to write into the bootloader (unless\\nyou throw in an extra fruit salad of options), so there is little risk\\nthere.', \"EEPROM has around a 100000 (100k) write cycle.  You shouldn't rewrite\\nthe firmware repeatedly and continually; that'll burn the EEPROM\\neventually.\"]",
        "NKRO Doesn't work": "First you have to compile firmware with the build option `NKRO_ENABLE` in **Makefile**.\n\nTry `Magic` **N** command(`LShift+RShift+N` by default) when **NKRO** still doesn't work. You can use this command to toggle between **NKRO** and **6KRO** mode temporarily. In some situations **NKRO** doesn't work and you will need to switch to **6KRO** mode, in particular when you are in BIOS.",
        "TrackPoint Needs Reset Circuit (PS/2 Mouse Support)": "Without reset circuit you will have inconsistent result due to improper initialization of the hardware. See circuit schematic of TPM754:\n\n['https://geekhack.org/index.php?topic=50176.msg1127447#msg1127447', 'https://www.mikrocontroller.net/attachment/52583/tpm754.pdf']",
        "Can't Read Column of Matrix Beyond 16": "Use `1UL<<16` instead of `1<<16` in `read_cols()` in [matrix.h] when your columns goes beyond 16.\n\nIn C `1` means one of [int] type which is [16 bit] in case of AVR, so you can't shift left more than 15. Thus, calculating `1<<16` will unexpectedly equal zero. To work around this, you have to use [unsigned long] type with `1UL`.\n\nhttps://deskthority.net/workshop-f7/rebuilding-and-redesigning-a-classic-thinkpad-keyboard-t6181-60.html#p146279",
        "Special Extra Key Doesn't Work (System, Audio Control Keys)": "You need to define `EXTRAKEY_ENABLE` in `rules.mk` to use them in QMK.\n\n```\nEXTRAKEY_ENABLE = yes          # Audio control and System control\n```",
        "Wake from Sleep Doesn't Work": "In Windows check `Allow this device to wake the computer` setting in **Power Management** property tab of **Device Manager**. Also check your BIOS settings. Pressing any key during sleep should wake host.",
        "Using Arduino?": "**Note that Arduino pin naming is different from actual chip.** For example, Arduino pin `D0` is not `PD0`. Check circuit with its schematics yourself.\n\n['https://arduino.cc/en/uploads/Main/arduino-leonardo-schematic_3b.pdf', 'https://arduino.cc/en/uploads/Main/arduino-micro-schematic.pdf']\n\nArduino Leonardo and micro have **ATMega32U4** and can be used for TMK, though Arduino bootloader may be a problem.",
        "Enabling JTAG": "By default, the JTAG debugging interface is disabled as soon as the keyboard starts up. JTAG-capable MCUs come from the factory with the `JTAGEN` fuse set, and it takes over certain pins of the MCU that the board may be using for the switch matrix, LEDs, etc.\n\nIf you would like to keep JTAG enabled, just add the following to your `config.h`:\n\n```\n#define NO_JTAG_DISABLE\n```",
        "USB 3 Compatibility": "Some problems can be fixed by switching from a USB 3.x port to a USB 2.0 port.",
        "Mac Compatibility": {
          "OS X 10.11 and Hub": "See here: https://geekhack.org/index.php?topic=14290.msg1884034#msg1884034"
        },
        "Problem in BIOS (UEFI) Setup/Resume (Sleep & Wake)/Power Cycles": "Some people reported their keyboard stops working in BIOS and/or after resume(power cycles).\n\nAs of now the root cause is not clear, but some build options seem to be related. In Makefile, try to disable options like `CONSOLE_ENABLE`, `NKRO_ENABLE`, `SLEEP_LED_ENABLE` and/or others.\n\nMore info:\n\n['https://github.com/tmk/tmk_keyboard/issues/266', 'https://geekhack.org/index.php?topic=41989.msg1967778#msg1967778']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 36]"
    },
    {
      "title": "Checking Modifier State {#checking-modifier-state}",
      "description": null,
      "content": {
        "Examples {#examples}": {
          "Alt + Escape for Alt + Tab {#alt-escape-for-alt-tab}": "Simple example where chording Left Alt with `KC_ESC` makes it behave like `KC_TAB` for alt-tabbing between applications. This example strictly checks if only Left Alt is active, meaning you can't do Alt+Shift+Esc to switch between applications in reverse order. Also keep in mind that this removes the ability to trigger the actual Alt+Escape keyboard shortcut, though it keeps the ability to do AltGr+Escape.\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n\n    case KC_ESC:\n        // Detect the activation of only Left Alt\n        if (get_mods() == MOD_BIT(KC_LALT)) {\n            if (record->event.pressed) {\n                // No need to register KC_LALT because it's already active.\n                // The Alt modifier will apply on this KC_TAB.\n                register_code(KC_TAB);\n            } else {\n                unregister_code(KC_TAB);\n            }\n            // Do not let QMK process the keycode further\n            return false;\n        }\n        // Else, let QMK process the KC_ESC keycode as usual\n        return true;\n\n    }\n    return true;\n};\n```",
          "Shift + Backspace for Delete {#shift-backspace-for-delete}": "Advanced example where the original behaviour of shift is cancelled when chorded with `KC_BSPC` and is instead fully replaced by `KC_DEL`. Two main variables are created to make this work well: `mod_state` and `delkey_registered`. The first one stores the modifier state and is used to restore it after registering `KC_DEL`. The second variable is a boolean variable (true or false) which keeps track of the status of `KC_DEL` to manage the release of the whole Backspace/Delete key correctly.\n\nAs opposed to the previous example, this doesn't use strict modifier checking. Pressing `KC_BSPC` while one or two shifts are active is enough to trigger this custom code, regardless of the state of other modifiers. That approach offers some perks: Ctrl+Shift+Backspace lets us delete the next word (Ctrl+Delete) and Ctrl+Alt+Shift+Backspace lets us execute the Ctrl+Alt+Del keyboard shortcut.\n\n```\n// Initialize variable holding the binary\n// representation of active modifiers.\nuint8_t mod_state;\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    // Store the current modifier state in the variable for later reference\n    mod_state = get_mods();\n    switch (keycode) {\n\n    case KC_BSPC:\n        {\n        // Initialize a boolean variable that keeps track\n        // of the delete key status: registered or not?\n        static bool delkey_registered;\n        if (record->event.pressed) {\n            // Detect the activation of either shift keys\n            if (mod_state & MOD_MASK_SHIFT) {\n                // First temporarily canceling both shifts so that\n                // shift isn't applied to the KC_DEL keycode\n                del_mods(MOD_MASK_SHIFT);\n                register_code(KC_DEL);\n                // Update the boolean variable to reflect the status of KC_DEL\n                delkey_registered = true;\n                // Reapplying modifier state so that the held shift key(s)\n                // still work even after having tapped the Backspace/Delete key.\n                set_mods(mod_state);\n                return false;\n            }\n        } else { // on release of KC_BSPC\n            // In case KC_DEL is still being sent even after the release of KC_BSPC\n            if (delkey_registered) {\n                unregister_code(KC_DEL);\n                delkey_registered = false;\n                return false;\n            }\n        }\n        // Let QMK process the KC_BSPC keycode as usual outside of shift\n        return true;\n    }\n\n    }\n    return true;\n};\n```\n\nAlternatively, this can be done with [Key Overrides](features/key_overrides#simple-example)."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 37]"
    },
    {
      "title": "Converters",
      "description": null,
      "content": {
        "Supported Converters": "The following converters are available at this time:\n\n| From       | To                |\n|------------|-------------------|\n| `promicro` | `proton_c`        |\n| `promicro` | `kb2040`          |\n| `promicro` | `sparkfun_pm2040` |\n| `promicro` | `blok`            |\n| `promicro` | `bit_c_pro`       |\n| `promicro` | `stemcell`        |\n| `promicro` | `bonsai_c4`       |\n| `promicro` | `rp2040_ce`       |\n| `promicro` | `elite_pi`        |\n| `promicro` | `helios`          |\n| `promicro` | `liatris`         |\n| `promicro` | `imera`           |\n| `promicro` | `michi`           |\n| `promicro` | `svlinky`         |\n| `elite_c`  | `stemcell`        |\n| `elite_c`  | `rp2040_ce`       |\n| `elite_c`  | `elite_pi`        |\n| `elite_c`  | `helios`          |\n| `elite_c`  | `liatris`         |",
        "Overview": {
          "Conditional Configuration": "Once a converter is enabled, it exposes the `CONVERT_TO_<target_uppercase>` flag that you can use in your code with `#ifdef`s, For example:\n\n```\n#ifdef CONVERT_TO_PROTON_C\n    // Proton C code\n#else\n    // Pro Micro code\n#endif\n```",
          "Pin Compatibility": "To ensure compatibility, provide validation, and enable future workflows, a keyboard should declare its `pin compatibility`. For legacy reasons, this is currently assumed to be `promicro`. The following pin compatibility interfaces are currently defined:\n\n| Pin Compatibility | Notes                             |\n|-------------------|-----------------------------------|\n| `promicro`        | Includes RX/TX LEDs               |\n| `elite_c`         | Includes bottom row pins, no LEDs |\n\nTo declare the base for conversions, add this line to your keyboard's `rules.mk`:\n\n```\nPIN_COMPATIBLE = elite_c\n```"
        },
        "Pro Micro": {
          "Proton C {#proton_c}": "The Proton C only has one on-board LED (C13), and by default, the TXLED (D5) is mapped to it. If you want the RXLED (B0) mapped to it instead, add this line to your `config.h`:\n\n```\n#define CONVERT_TO_PROTON_C_RXLED\n```\n\nThe following defaults are based on what has been implemented for STM32 boards.\n\n| Feature                                      | Notes                                                                                                            |\n|----------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n| [Audio](features/audio)                    | Enabled                                                                                                          |\n| [RGB Lighting](features/rgblight)          | Disabled                                                                                                         |\n| [Backlight](features/backlight)            | Forces [task driven PWM](features/backlight#software-pwm-driver) until ARM can provide automatic configuration |\n| USB Host (e.g. USB-USB converter)            | Not supported (USB host code is AVR specific and is not currently supported on ARM)                              |\n| [Split keyboards](features/split_keyboard) | Partial - heavily dependent on enabled features                                                                  |",
          "Adafruit KB2040 {#kb2040}": "The following defaults are based on what has been implemented for [RP2040](platformdev_rp2040) boards.\n\n| Feature                                      | Notes                                                                                                            |\n|----------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n| [RGB Lighting](features/rgblight)          | Enabled via `PIO` vendor driver                                                                                  |\n| [Backlight](features/backlight)            | Forces [task driven PWM](features/backlight#software-pwm-driver) until ARM can provide automatic configuration |\n| USB Host (e.g. USB-USB converter)            | Not supported (USB host code is AVR specific and is not currently supported on ARM)                              |\n| [Split keyboards](features/split_keyboard) | Partial via `PIO` vendor driver - heavily dependent on enabled features                                          |",
          "SparkFun Pro Micro - RP2040, Blok, Bit-C PRO and Michi {#sparkfun_pm2040 }": "Feature set is identical to [Adafruit KB2040](#kb2040).",
          "STeMCell {#stemcell}": "Feature set currently identical to [Proton C](#proton_c).\nThere are two versions of STeMCell available, with different pinouts:\n\n['v1.0.0', 'v2.0.0 (pre-release v1.0.1, v1.0.2)\\nDefault official firmware only supports v2.0.0 STeMCell.']\n\nSTeMCell has support to swap UART and I2C pins to enable single-wire uart communication in STM chips. The following additional flags has to be used while compiling, based on the pin used for split communication:\n\n| Split Pin | Compile flags |\n|-----------|---------------|\n| D3        | -e STMC_US=yes|\n| D2        | Not needed    |\n| D1        | -e STMC_IS=yes|\n| D0        | Not needed    |",
          "Bonsai C4 {#bonsai_c4}": "The Bonsai C4 only has one on-board LED (B2), and by default, both the Pro Micro TXLED (D5) and RXLED (B0) are mapped to it. If you want only one of them mapped, you can undefine one and redefine it to another pin by adding these line to your `config.h`:\n\n```\n#undef B0\n// If VBUS detection is unused, we can send RXLED to the Vbus detect pin instead\n#define B0 PAL_LINE(GPIOA, 9)\n```",
          "RP2040 Community Edition - Elite-Pi, Helios, and Liatris {#rp2040_ce}": "Feature set is identical to [Adafruit KB2040](#kb2040). VBUS detection is enabled by default for superior split keyboard support. For more information, refer to the [Community Edition pinout](platformdev_rp2040#rp2040_ce) docs.",
          "Svlinky {#svlinky}": "Feature set is a pro micro equivalent of the [RP2040 Community Edition](#rp2040_ce), except that two of the analog GPIO have been replaced with digital only GPIO. These two were moved to the FPC connector to support the [VIK specification](https://github.com/sadekbaroudi/vik). This means that if you are expecting analog support on all 4 pins as provided on a RP2040 Community Edition pinout, you will not have that. Please see the [Svlinky github page](https://github.com/sadekbaroudi/svlinky) for more details."
        },
        "Elite-C": {
          "STeMCell {#stemcell}_elite": "Identical to [Pro Micro - STeMCell](#stemcell) with support for the additional bottom row of pins.",
          "RP2040 Community Edition {#rp2040_ce_elite}": "Identical to [Pro Micro - RP2040 Community Edition](#rp2040_ce) with support for the additional bottom row of pins."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 38]"
    },
    {
      "title": "Contact bounce / contact chatter",
      "description": null,
      "content": {
        "Types of debounce algorithms": [
          "Unit of time: Timestamp (milliseconds) vs Cycles (scans)",
          [
            "Debounce algorithms often have a 'debounce time' parameter, that specifies the maximum settling time of the switch contacts.\nThis time might be measured in various units:",
            [
              "Cycles-based debouncing waits n cycles (scans), decreasing count by one each matrix_scan",
              "Timestamp-based debouncing stores the millisecond timestamp a change occurred, and does substraction to figure out time elapsed."
            ],
            "Timestamp-based debouncing is usually superior, especially in the case of noise-resistant devices because settling times of physical\nswitches is specified in units of time, and should not depend on the matrix scan-rate of the keyboard.",
            "Cycles-based debouncing is sometimes considered inferior, because the settling time that it is able to compensate for depends on the\nperformance of the matrix scanning code. If you use cycles-based debouncing, and you significantly improve the performance of your scanning\ncode, you might end up with less effective debouncing. A situation in which cycles-based debouncing might be preferable is when\nnoise is present, and the scanning algorithm is slow, or variable speed. Even if your debounce algorithm is fundamentally noise-resistant,\nif the scanning is slow, and you are using a timestamp-based algorithm, you might end up making a debouncing decision based on only two\nsampled values, which will limit the noise-resistance of the algorithm.",
            "Currently all built-in debounce algorithms support timestamp-based debouncing only. In the future we might\nimplement cycles-based debouncing, and it will be selectable via a `config.h` macro."
          ],
          "Symmetric vs Asymmetric",
          [
            "Symmetric - apply the same debouncing algorithm, to both key-up and key-down events.",
            [
              "Recommended naming convention: `sym_*`"
            ],
            "Asymmetric - apply different debouncing algorithms to key-down and key-up events. E.g. Eager key-down, Defer key-up.",
            [
              "Recommended naming convention: `asym_*` followed by details of the type of algorithm in use, in order, for key-down and then key-up"
            ]
          ],
          "Eager vs Defer",
          [
            "Eager - any key change is reported immediately. All further inputs for DEBOUNCE ms are ignored.",
            [
              "Eager algorithms are not noise-resistant.",
              "Recommended naming conventions:",
              [
                "`sym_eager_*`",
                "`asym_eager_*_*`: key-down is using eager algorithm",
                "`asym_*_eager_*`: key-up is using eager algorithm"
              ]
            ],
            "Defer - wait for no changes for DEBOUNCE ms before reporting change.",
            [
              "Defer algorithms are noise-resistant",
              "Recommended naming conventions:",
              [
                "`sym_defer_*`",
                "`asym_defer_*_*`: key-down is using defer algorithm",
                "`asym_*_defer_*`: key-up is using defer algorithm"
              ]
            ]
          ],
          "Global vs Per-Key vs Per-Row",
          [
            "Global - one timer for all keys. Any key change state affects global timer",
            [
              "Recommended naming convention: `*_g`"
            ],
            "Per-key - one timer per key",
            [
              "Recommended naming convention: `*_pk`"
            ],
            "Per-row - one timer per row",
            [
              "Recommended naming convention: `*_pr`"
            ],
            "Per-key and per-row algorithms consume more resources (in terms of performance,\nand ram usage), but fast typists might prefer them over global."
          ]
        ],
        "Supported Debounce Algorithms": {
          "Debounce Time": "Default debounce time is 5 milliseconds and it can be changed with the following line in `config.h`:\n\n```\n#define DEBOUNCE 10\n```\n\n::: tip\nSetting `DEBOUNCE` to `0` will disable this feature.\n:::",
          "Debounce Method": "Keyboards may select one of the core debounce methods by adding the following line into `rules.mk`:\n\n```\nDEBOUNCE_TYPE = <name of algorithm>\n```\n\nName of algorithm is one of:\n\n| Algorithm             | Description |\n| --------------------- | ----------- |\n| `sym_defer_g`         | Debouncing per keyboard. On any state change, a global timer is set. When `DEBOUNCE` milliseconds of no changes has occurred, all input changes are pushed. This is the highest performance algorithm with lowest memory usage and is noise-resistant. |\n| `sym_defer_pr`        | Debouncing per row. On any state change, a per-row timer is set. When `DEBOUNCE` milliseconds of no changes have occurred on that row, the entire row is pushed. This can improve responsiveness over `sym_defer_g` while being less susceptible to noise than per-key algorithm. |\n| `sym_defer_pk`        | Debouncing per key. On any state change, a per-key timer is set. When `DEBOUNCE` milliseconds of no changes have occurred on that key, the key status change is pushed. |\n| `sym_eager_pr`        | Debouncing per row. On any state change, response is immediate, followed by `DEBOUNCE` milliseconds of no further input for that row. |\n| `sym_eager_pk`        | Debouncing per key. On any state change, response is immediate, followed by `DEBOUNCE` milliseconds of no further input for that key. |\n| `asym_eager_defer_pk` | Debouncing per key. On a key-down state change, response is immediate, followed by `DEBOUNCE` milliseconds of no further input for that key. On a key-up state change, a per-key timer is set. When `DEBOUNCE` milliseconds of no changes have occurred on that key, the key-up status change is pushed. |\n\n::: tip\n`sym_defer_g` is the default if `DEBOUNCE_TYPE` is undefined.\n:::\n\n::: tip\n`sym_eager_pr` is suitable for use in keyboards where refreshing `NUM_KEYS` 8-bit counters is computationally expensive or has low scan rate while fingers usually hit one row at a time. This could be appropriate for the ErgoDox models where the matrix is rotated 90. Hence its \"rows\" are really columns and each finger only hits a single \"row\" at a time with normal usage.\n:::",
          "Implementing your own debouncing code": "You have the option to implement you own debouncing algorithm with the following steps:\n\n['Set `DEBOUNCE_TYPE = custom` in `rules.mk`.', 'Add `SRC += debounce.c` in `rules.mk`', 'Implement your own `debounce.c`. See `quantum/debounce` for examples.', 'Debouncing occurs after every raw matrix scan.', 'Use num_rows instead of MATRIX_ROWS to support split keyboards correctly.', 'If your custom algorithm is applicable to other keyboards, please consider making a pull request.']"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 39]"
    },
    {
      "title": "Persistent Configuration (EEPROM)",
      "description": null,
      "content": {
        "Example Implementation": "This is an example of how to add settings, and read and write it. We're using the user keymap for the example here.  This is a complex function, and has a lot going on.  In fact, it uses a lot of the above functions to work!\n\nIn your keymap.c file, add this to the top:\n\n```\ntypedef union {\n  uint32_t raw;\n  struct {\n    bool     rgb_layer_change :1;\n  };\n} user_config_t;\n\nuser_config_t user_config;\n```\n\nThis sets up a 32 bit structure that we can store settings with in memory, and write to the EEPROM. Using this removes the need to define variables, since they're defined in this structure. Remember that `bool` (boolean) values use 1 bit, `uint8_t` uses 8 bits, `uint16_t` uses up 16 bits.  You can mix and match, but changing the order can cause issues, as it will change the values that are read and written.\n\nWe're using `rgb_layer_change`, for the `layer_state_set_*` function, and use `keyboard_post_init_user` and `process_record_user` to configure everything.\n\nNow, using the `keyboard_post_init_user` code above, you want to add `eeconfig_read_user()` to it, to populate the structure you've just created. And you can then immediately use this structure to control functionality in your keymap.  And It should look like:\n\n```\nvoid keyboard_post_init_user(void) {\n  // Call the keymap level matrix init.\n\n  // Read the user config from EEPROM\n  user_config.raw = eeconfig_read_user();\n\n  // Set default layer, if enabled\n  if (user_config.rgb_layer_change) {\n    rgblight_enable_noeeprom();\n    rgblight_sethsv_noeeprom(HSV_CYAN);\n    rgblight_mode_noeeprom(1);\n  }\n}\n```\n\nThe above function will use the EEPROM config immediately after reading it, to set the default layer's RGB color. The \"raw\" value of it is converted in a usable structure based on the \"union\" that you created above.\n\n```\nlayer_state_t layer_state_set_user(layer_state_t state) {\n    switch (get_highest_layer(state)) {\n    case _RAISE:\n        if (user_config.rgb_layer_change) { rgblight_sethsv_noeeprom(HSV_MAGENTA); rgblight_mode_noeeprom(1); }\n        break;\n    case _LOWER:\n        if (user_config.rgb_layer_change) { rgblight_sethsv_noeeprom(HSV_RED); rgblight_mode_noeeprom(1); }\n        break;\n    case _PLOVER:\n        if (user_config.rgb_layer_change) { rgblight_sethsv_noeeprom(HSV_GREEN); rgblight_mode_noeeprom(1); }\n        break;\n    case _ADJUST:\n        if (user_config.rgb_layer_change) { rgblight_sethsv_noeeprom(HSV_WHITE); rgblight_mode_noeeprom(1); }\n        break;\n    default: //  for any other layers, or the default layer\n        if (user_config.rgb_layer_change) { rgblight_sethsv_noeeprom(HSV_CYAN); rgblight_mode_noeeprom(1); }\n        break;\n    }\n  return state;\n}\n```\n\nThis will cause the RGB underglow to be changed ONLY if the value was enabled.  Now to configure this value, create a new keycode for `process_record_user` called `RGB_LYR`. Additionally, we want to make sure that if you use the normal RGB codes, that it turns off  Using the example above, make it look this:\n\n```\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case FOO:\n      if (record->event.pressed) {\n        // Do something when pressed\n      } else {\n        // Do something else when release\n      }\n      return false; // Skip all further processing of this key\n    case KC_ENTER:\n        // Play a tone when enter is pressed\n        if (record->event.pressed) {\n            PLAY_SONG(tone_qwerty);\n        }\n        return true; // Let QMK send the enter press/release events\n    case RGB_LYR:  // This allows me to use underglow as layer indication, or as normal\n        if (record->event.pressed) {\n            user_config.rgb_layer_change ^= 1; // Toggles the status\n            eeconfig_update_user(user_config.raw); // Writes the new status to EEPROM\n            if (user_config.rgb_layer_change) { // if layer state indication is enabled,\n                layer_state_set(layer_state);   // then immediately update the layer color\n            }\n        }\n        return false;\n    case RGB_MODE_FORWARD ... RGB_MODE_GRADIENT: // For any of the RGB codes (see quantum_keycodes.h, L400 for reference)\n        if (record->event.pressed) { //This disables layer indication, as it's assumed that if you're changing this ... you want that disabled\n            if (user_config.rgb_layer_change) {        // only if this is enabled\n                user_config.rgb_layer_change = false;  // disable it, and\n                eeconfig_update_user(user_config.raw); // write the setings to EEPROM\n            }\n        }\n        return true; break;\n    default:\n      return true; // Process all other keycodes normally\n  }\n}\n```\n\nAnd lastly, you want to add the `eeconfig_init_user` function, so that when the EEPROM is reset, you can specify default values, and even custom actions. To force an EEPROM reset, use the `EE_CLR` keycode or [Bootmagic](features/bootmagic) functionallity. For example, if you want to set rgb layer indication by default, and save the default valued.\n\n```\nvoid eeconfig_init_user(void) {  // EEPROM is getting reset!\n  user_config.raw = 0;\n  user_config.rgb_layer_change = true; // We want this enabled by default\n  eeconfig_update_user(user_config.raw); // Write default value to EEPROM now\n\n  // use the non noeeprom versions, to write these values to EEPROM too\n  rgblight_enable(); // Enable RGB by default\n  rgblight_sethsv(HSV_CYAN);  // Set it to CYAN by default\n  rgblight_mode(1); // set to solid by default\n}\n```\n\nAnd you're done.  The RGB layer indication will only work if you want it to. And it will be saved, even after unplugging the board. And if you use any of the RGB codes, it will disable the layer indication, so that it stays on the mode and color that you set it to.",
        "'EECONFIG' Function Documentation": [
          "Keyboard/Revision: `void eeconfig_init_kb(void)`, `uint32_t eeconfig_read_kb(void)` and `void eeconfig_update_kb(uint32_t val)`",
          "Keymap: `void eeconfig_init_user(void)`, `uint32_t eeconfig_read_user(void)` and `void eeconfig_update_user(uint32_t val)`"
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 40]"
    },
    {
      "title": "Layers {#layers}",
      "description": null,
      "content": {
        "Switching and Toggling Layers {#switching-and-toggling-layers}": {
          "Caveats {#caveats}": "Currently, the `layer` argument of `LT()` is limited to layers 0-15, and the `kc` argument to the [Basic Keycode set](keycodes_basic), meaning you can't use keycodes like `LCTL()`, `KC_TILD`, or anything greater than `0xFF`. This is because QMK uses 16-bit keycodes, of which 4 bits are used for the function identifier and 4 bits for the layer, leaving only 8 bits for the keycode.\n\nFor a similar reason, the `layer` argument of `LM()` is also limited to layers 0-15 and the `mod` argument must fit within 5 bits. As a consequence, although left and right modifiers are supported by `LM()`, it is impossible to mix and match left and right modifiers. Specifying at least one right-hand modifier in a combination such as `MOD_RALT|MOD_LSFT` will convert *all* the listed modifiers to their right-hand counterpart. So, using the aforementionned mod-mask will actually send <kbd>Right Alt</kbd>+<kbd>Right Shift</kbd>. Make sure to use the `MOD_xxx` constants over alternative ways of specifying modifiers when defining your layer-mod key.\n\n| `LM(1,KC_LSFT)` | `LM(1,MOD_MASK_SHIFT)` | `LM(1,MOD_BIT(KC_LSFT))` | `LM(1,MOD_LSFT)` |\n|:---------------:|:----------------------:|:------------------------:|:----------------:|\n|               |                      |                        |                |\n\nExpanding this would be complicated, at best. Moving to a 32-bit keycode would solve a lot of this, but would double the amount of space that the keymap matrix uses. And it could potentially cause issues, too. If you need to apply modifiers to your tapped keycode, [Tap Dance](features/tap_dance#example-5-using-tap-dance-for-advanced-mod-tap-and-layer-tap-keys) can be used to accomplish this."
        },
        "Working with Layers {#working-with-layers}": {
          "Beginners {#beginners}": "If you are just getting started with QMK you will want to keep everything simple. Follow these guidelines when setting up your layers:\n\n['Setup layer 0 as your default, \"base\" layer. This is your normal typing layer, and could be whatever layout you want (qwerty, dvorak, colemak, etc.). It\\'s important to set this as the lowest layer since it will typically have most or all of the keyboard\\'s keys defined, so would block other layers from having any effect if it were above them (i.e., had a higher layer number).', 'Arrange your layers in a \"tree\" layout, with layer 0 as the root. Do not try to enter the same layer from more than one other layer.', \"In a layer's keymap, only reference higher-numbered layers. Because layers are processed from the highest-numbered (topmost) active layer down, modifying the state of lower layers can be tricky and error-prone.\"]",
          "Intermediate Users {#intermediate-users}": "Sometimes you need more than one base layer. For example, if you want to switch between QWERTY and Dvorak, switch between layouts for different countries, or switch your layout for different videogames. Your base layers should always be the lowest numbered layers. When you have multiple base layers you should always treat them as mutually exclusive. When one base layer is on the others are off.",
          "Advanced Users {#advanced-users}": "Once you have a good feel for how layers work and what you can do, you can get more creative. The rules listed in the beginner section will help you be successful by avoiding some of the tricker details but they can be constraining, especially for ultra-compact keyboard users. Understanding how layers work will allow you to use them in more advanced ways.\n\nLayers stack on top of each other in numerical order. When determining what a keypress does, QMK scans the layers from the top down, stopping when it reaches the first active layer that is not set to `KC_TRNS`. As a result if you activate a layer that is numerically lower than your current layer, and your current layer (or another layer that is active and higher than your target layer) has something other than `KC_TRNS`, that is the key that will be sent, not the key on the layer you just activated. This is the cause of most people's \"why doesn't my layer get switched\" problem.\n\nSometimes, you might want to switch between layers in a macro or as part of a tap dance routine. `layer_on` activates a layer, and `layer_off` deactivates it. More layer-related functions can be found in [action_layer.h](https://github.com/qmk/qmk_firmware/blob/master/quantum/action_layer.h)."
        },
        "Functions {#functions}": "There are a number of functions (and variables) related to how you can use or manipulate the layers.\n\n|Function                                      |Description                                                                                              |\n|----------------------------------------------|---------------------------------------------------------------------------------------------------------|\n| `layer_state_set(layer_mask)`                | Directly sets the layer state (avoid unless you know what you are doing).                               |\n| `layer_clear()`                              | Clears all layers (turns them all off).                                                                 |\n| `layer_move(layer)`                          | Turns specified layer on, and all other layers off.                                                     |\n| `layer_on(layer)`                            | Turns specified layer on, leaves all other layers in existing state.                                    |\n| `layer_off(layer)`                           | Turns specified layer off, leaves all other layers in existing state.                                   |\n| `layer_invert(layer)`                        | Inverts/toggles the state of the specified layer                                                        |\n| `layer_or(layer_mask)`                       | Turns on layers based on matching bits between specifed layer and existing layer state.                 |\n| `layer_and(layer_mask)`                      | Turns on layers based on matching enabled bits between specifed layer and existing layer state.         |\n| `layer_xor(layer_mask)`                      | Turns on layers based on non-matching bits between specifed layer and existing layer state.             |\n| `layer_debug(layer_mask)`                    | Prints out the current bit mask and highest active layer to debugger console.                           |\n| `default_layer_set(layer_mask)`              | Directly sets the default layer state (avoid unless you know what you are doing).                       |\n| `default_layer_or(layer_mask)`               | Turns on layers based on matching bits between specifed layer and existing default layer state.         |\n| `default_layer_and(layer_mask)`              | Turns on layers based on matching enabled bits between specifed layer and existing default layer state. |\n| `default_layer_xor(layer_mask)`              | Turns on layers based on non-matching bits between specifed layer and existing default layer state.     |\n| `default_layer_debug(layer_mask)`            | Prints out the current bit mask and highest active default layer to debugger console.                   |\n| [`set_single_default_layer(layer)`](ref_functions.md#setting-the-persistent-default-layer)            | Sets the default layer, but does _not_ write it to persistent memory (EEPROM). | \n| [`set_single_persistent_default_layer(layer)`](ref_functions.md#setting-the-persistent-default-layer) | Sets the default layer and writes it to persistent memory (EEPROM).  |\n| [`update_tri_layer(x, y, z)`](ref_functions.md#update_tri_layerx-y-z) | Checks if layers `x` and `y` are both on, and sets `z` based on that (on if both on, otherwise off). |\n| [`update_tri_layer_state(state, x, y, z)`](ref_functions.md#update_tri_layer_statestate-x-y-z) | Does the same as `update_tri_layer(x, y, z)`, but from `layer_state_set_*` functions. |\n\nIn addition to the functions that you can call, there are a number of callback functions that get called every time the layer changes. This passes the layer state to the function, where it can be read or modified.\n\n|Callback                                             |Description                                                                             |\n|-----------------------------------------------------|----------------------------------------------------------------------------------------|\n| `layer_state_set_kb(layer_state_t state)`           | Callback for layer functions, for keyboard.                                            |\n| `layer_state_set_user(layer_state_t state)`         | Callback for layer functions, for users.                                               |\n| `default_layer_state_set_kb(layer_state_t state)`   | Callback for default layer functions, for keyboard. Called on keyboard initialization. |\n| `default_layer_state_set_user(layer_state_t state)` | Callback for default layer functions, for users. Called on keyboard initialization.    |\n\n::: tip\nFor additional details on how you can use these callbacks, check out the [Layer Change Code](custom_quantum_functions#layer-change-code) document.\n:::\n\nIt is also possible to check the state of a particular layer using the following functions and macros.\n\n|Function                         |Description                                                                                      |Aliases\n|---------------------------------|-------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n| `layer_state_is(layer)`         | Checks if the specified `layer` is enabled globally.                                            | `IS_LAYER_ON(layer)`, `IS_LAYER_OFF(layer)`                           |\n| `layer_state_cmp(state, layer)` | Checks `state` to see if the specified `layer` is enabled. Intended for use in layer callbacks. | `IS_LAYER_ON_STATE(state, layer)`, `IS_LAYER_OFF_STATE(state, layer)` |",
        "Layer Change Code {#layer-change-code}": {
          "Example `layer_state_set_*` Implementation": "This example shows how to set the [RGB Underglow](features/rgblight) lights based on the layer, using the Planck as an example.\n\n```\nlayer_state_t layer_state_set_user(layer_state_t state) {\n    switch (get_highest_layer(state)) {\n    case _RAISE:\n        rgblight_setrgb (0x00,  0x00, 0xFF);\n        break;\n    case _LOWER:\n        rgblight_setrgb (0xFF,  0x00, 0x00);\n        break;\n    case _PLOVER:\n        rgblight_setrgb (0x00,  0xFF, 0x00);\n        break;\n    case _ADJUST:\n        rgblight_setrgb (0x7A,  0x00, 0xFF);\n        break;\n    default: //  for any other layers, or the default layer\n        rgblight_setrgb (0x00,  0xFF, 0xFF);\n        break;\n    }\n  return state;\n}\n```",
          "Example: Keycode to cycle through layers": "This example shows how to implement a custom keycode to cycle through a range of layers.\n\n```\n// Define the keycode, `QK_USER` avoids collisions with existing keycodes\nenum keycodes {\n  KC_CYCLE_LAYERS = QK_USER,\n};\n\n// 1st layer on the cycle\n#define LAYER_CYCLE_START 0\n// Last layer on the cycle\n#define LAYER_CYCLE_END   4\n\n// Add the behaviour of this new keycode\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case KC_CYCLE_LAYERS:\n      // Our logic will happen on presses, nothing is done on releases\n      if (!record->event.pressed) { \n        // We've already handled the keycode (doing nothing), let QMK know so no further code is run unnecessarily\n        return false;\n      }\n\n      uint8_t current_layer = get_highest_layer(layer_state);\n\n      // Check if we are within the range, if not quit\n      if (current_layer > LAYER_CYCLE_END || current_layer < LAYER_CYCLE_START) {\n        return false;\n      }\n\n      uint8_t next_layer = current_layer + 1;\n      if (next_layer > LAYER_CYCLE_END) {\n          next_layer = LAYER_CYCLE_START;\n      }\n      layer_move(next_layer);\n      return false;\n\n    // Process other keycodes normally\n    default:\n      return true;\n  }\n}\n\n// Place `KC_CYCLE_LAYERS` as a keycode in your keymap\n```\n\nUse the `IS_LAYER_ON_STATE(state, layer)` and `IS_LAYER_OFF_STATE(state, layer)` macros to check the status of a particular layer.\n\nOutside of `layer_state_set_*` functions, you can use the `IS_LAYER_ON(layer)` and `IS_LAYER_OFF(layer)` macros to check global layer state.",
          "`layer_state_set_*` Function Documentation": [
            "Keyboard/Revision: `layer_state_t layer_state_set_kb(layer_state_t state)`",
            "Keymap: `layer_state_t layer_state_set_user(layer_state_t state)`"
          ]
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 41]"
    },
    {
      "title": "Layouts: Using a Keymap with Multiple Keyboards",
      "description": null,
      "content": {
        "Supporting a Layout": "For a keyboard to support a layout, the variable must be defined in it's `<keyboard>.h`, and match the number of arguments/keys (and preferably the physical layout):\n\n```\n#define LAYOUT_60_ansi KEYMAP_ANSI\n```\n\nThe name of the layout must match this regex: `[a-z0-9_]+`\n\nThe folder name must be added to the keyboard's `rules.mk`:\n\n```\nLAYOUTS = 60_ansi\n```\n\n`LAYOUTS` can be set in any keyboard folder level's `rules.mk`:\n\n```\nLAYOUTS = 60_iso\n```\n\nbut the `LAYOUT_<layout>` variable must be defined in `<folder>.h` as well.",
        "Building a Keymap": {
          "Conflicting layouts": "When a keyboard supports multiple layout options,\n\n```\nLAYOUTS = ortho_4x4 ortho_4x12\n```\n\nAnd a layout exists for both options,\n\n```\nlayouts/\n+ community/\n| + ortho_4x4/\n| | + <layout>/\n| | | + ...\n| + ortho_4x12/\n| | + <layout>/\n| | | + ...\n| + ...\n```\n\nThe FORCE_LAYOUT argument can be used to specify which layout to build\n\n```\nmake <keyboard>:<layout> FORCE_LAYOUT=ortho_4x4\nmake <keyboard>:<layout> FORCE_LAYOUT=ortho_4x12\n```"
        },
        "Tips for Making Layouts Keyboard-Agnostic": {
          "Includes": "Instead of using `#include \"planck.h\"`, you can use this line to include whatever `<keyboard>.h` (`<folder>.h` should not be included here) file that is being compiled:\n\n```\n#include QMK_KEYBOARD_H\n```\n\nIf you want to keep some keyboard-specific code, you can use these variables to escape it with an `#ifdef` statement:\n\n['`KEYBOARD_<folder1>_<folder2>`']\n\nFor example:\n\n```\n#ifdef KEYBOARD_planck\n    #ifdef KEYBOARD_planck_rev4\n        planck_rev4_function();\n    #endif\n#endif\n```\n\nNote that the names are lowercase and match the folder/file names for the keyboard/revision exactly.",
          "Keymaps": "In order to support both split and non-split keyboards with the same layout, you need to use the keyboard agnostic `LAYOUT_<layout name>` macro in your keymap. For instance, in order for a Let's Split and Planck to share the same layout file, you need to use `LAYOUT_ortho_4x12` instead of `LAYOUT_planck_grid` or just `{}` for a C array."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 42]"
    },
    {
      "title": "Macros",
      "description": null,
      "content": {
        "Using Macros In JSON Keymaps": {
          "Selecting Your Host Keyboard Layout": "If you type in a language other than English, or use a non-QWERTY layout like Colemak, Dvorak, or Workman, you may have set your computer's input language to match this layout. This presents a challenge when creating macros  you may need to type different keys to get the same letters! To address this you can use [language-specific keycodes](reference_keymap_extras).",
          "Macro Basics": {
            "Object Format": "All objects have one required key: `action`. This tells QMK what the object does. There are currently 5 actions: beep, delay, down, tap, up\n\nOnly basic keycodes (prefixed by `KC_`) are supported. Do not include the `KC_` prefix when listing keycodes.\n\n['`beep`', ['Play a bell if the keyboard has [audio enabled](features/audio).', 'Example: `{\"action\": \"beep\"}`'], '`delay`', ['Pause macro playback. Duration is specified in milliseconds (ms).', 'Example: `{\"action\": \"delay\", \"duration\": 500}`'], '`down`', ['Send a key down event for one or more keycodes.', 'Example, single key: `{\"action\":\"down\", \"keycodes\": [\"LSFT\"]}`', 'Example, multiple keys: `{\"action\":\"down\", \"keycodes\": [\"CTRL\", \"LSFT\"]}`'], '`tap`', ['Type a chord, which sends a down event for each key followed by an up event for each key.', 'Example, single key: `{\"action\":\"tap\", \"keycodes\": [\"F13\"]}`', 'Example, multiple keys: `{\"action\":\"tap\", \"keycodes\": [\"CTRL\", \"LALT\", \"DEL\"]}`'], '`up`', ['Send a key up event for one or more keycodes.', 'Example, single key: `{\"action\":\"up\", \"keycodes\": [\"LSFT\"]}`', 'Example, multiple keys: `{\"action\":\"up\", \"keycodes\": [\"CTRL\", \"LSFT\"]}`']]"
          }
        },
        "Using Macros in C Keymaps": {
          "`SEND_STRING()` & `process_record_user`": {
            "Advanced Macros": "In addition to the `process_record_user()` function, is the `post_process_record_user()` function. This runs after `process_record` and can be used to do things after a keystroke has been sent.  This is useful if you want to have a key pressed before and released after a normal key, for instance.\n\nIn this example, we modify most normal keypresses so that `F22` is pressed before the keystroke is normally sent, and release it __only after__ it's been released.\n\n```\nstatic uint8_t f22_tracker;\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case KC_A ... KC_F21: //notice how it skips over F22\n    case KC_F23 ... KC_EXSEL: //exsel is the last one before the modifier keys\n      if (record->event.pressed) {\n        register_code(KC_F22); //this means to send F22 down\n        f22_tracker++;\n        register_code(keycode);\n        return false;\n      }\n      break;\n  }\n  return true;\n}\n\nvoid post_process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case KC_A ... KC_F21: //notice how it skips over F22\n    case KC_F23 ... KC_EXSL: //exsel is the last one before the modifier keys\n      if (!record->event.pressed) {\n        f22_tracker--;\n        if (!f22_tracker) {\n            unregister_code(KC_F22); //this means to send F22 up\n        }\n      }\n      break;\n  }\n}\n```",
            "TAP, DOWN and UP": "You may want to use keys in your macros that you can't write down, such as `Ctrl` or `Home`.\nYou can send arbitrary keycodes by wrapping them in:\n\n['`SS_TAP()` presses and releases a key.', '`SS_DOWN()` presses (but does not release) a key.', '`SS_UP()` releases a key.']\n\nFor example:\n\n```\nSEND_STRING(SS_TAP(X_HOME));\n```\n\nWould tap `KC_HOME` - note how the prefix is now `X_`, and not `KC_`. You can also combine this with other strings, like this:\n\n```\nSEND_STRING(\"VE\"SS_TAP(X_HOME)\"LO\");\n```\n\nWhich would send \"VE\" followed by a `KC_HOME` tap, and \"LO\" (spelling \"LOVE\" if on a newline).\n\nDelays can be also added to the string:\n\n['`SS_DELAY(msecs)` will delay for the specified number of milliseconds.']\n\nFor example:\n\n```\nSEND_STRING(\"VE\" SS_DELAY(1000) SS_TAP(X_HOME) \"LO\");\n```\n\nWhich would send \"VE\" followed by a 1-second delay, then a `KC_HOME` tap, and \"LO\" (spelling \"LOVE\" if on a newline, but delayed in the middle).\n\nThere's also a couple of mod shortcuts you can use:\n\n['`SS_LCTL(string)`', '`SS_LSFT(string)`', '`SS_LALT(string)` or `SS_LOPT(string)`', '`SS_LGUI(string)`, `SS_LCMD(string)` or `SS_LWIN(string)`', '`SS_RCTL(string)`', '`SS_RSFT(string)`', '`SS_RALT(string)`, `SS_ROPT(string)` or `SS_ALGR(string)`', '`SS_RGUI(string)`, `SS_RCMD(string)` or `SS_RWIN(string)`']\n\nThese press the respective modifier, send the supplied string and then release the modifier.\nThey can be used like this:\n\n```\nSEND_STRING(SS_LCTL(\"a\"));\n```\n\nWhich would send Left Control+`a` (Left Control down, `a`, Left Control up) - notice that they take strings (eg `\"k\"`), and not the `X_K` keycodes.",
            "Alternative Keymaps": "By default, it assumes a US keymap with a QWERTY layout; if you want to change that (e.g. if your OS uses software Colemak), include this somewhere in your keymap:\n\n```\n#include \"sendstring_colemak.h\"\n```",
            "Strings in Memory": "If for some reason you're manipulating strings and need to print out something you just generated (instead of being a literal, constant string), you can use `send_string()`, like this:\n\n```\nchar my_str[4] = \"ok.\";\nsend_string(my_str);\n```\n\nThe shortcuts defined above won't work with `send_string()`, but you can separate things out to different lines if needed:\n\n```\nchar my_str[4] = \"ok.\";\nSEND_STRING(\"I said: \");\nsend_string(my_str);\nSEND_STRING(\"..\"SS_TAP(X_END));\n```"
          },
          "Advanced Macro Functions": {
            "`record->event.pressed`": "This is a boolean value that can be tested to see if the switch is being pressed or released. An example of this is\n\n```\n    if (record->event.pressed) {\n        // on keydown\n    } else {\n        // on keyup\n    }\n```",
            "`register_code(<kc>);`": "This sends the `<kc>` keydown event to the computer. Some examples would be `KC_ESC`, `KC_C`, `KC_4`, and even modifiers such as `KC_LSFT` and `KC_LGUI`.",
            "`unregister_code(<kc>);`": "Parallel to `register_code` function, this sends the `<kc>` keyup event to the computer. If you don't use this, the key will be held down until it's sent.",
            "`tap_code(<kc>);`": "Sends `register_code(<kc>)` and then `unregister_code(<kc>)`. This is useful if you want to send both the press and release events (\"tap\" the key, rather than hold it).\n\nIf `TAP_CODE_DELAY` is defined (default 0), this function waits that many milliseconds before calling `unregister_code(<kc>)`. This can be useful when you are having issues with taps (un)registering.\n\nIf the keycode is `KC_CAPS`, it waits `TAP_HOLD_CAPS_DELAY` milliseconds instead (default 80), as macOS prevents accidental Caps Lock activation by waiting for the key to be held for a certain amount of time.",
            "`tap_code_delay(<kc>, <delay>);`": "Like `tap_code(<kc>)`, but with a `delay` parameter for specifying arbitrary intervals before sending the unregister event.",
            "`register_code16(<kc>);`, `unregister_code16(<kc>);`, `tap_code16(<kc>);` and `tap_code16_delay(<kc>, <delay>);`": "These functions work similar to their regular counterparts, but allow you to use modded keycodes (with Shift, Alt, Control, and/or GUI applied to them).\n\nEg, you could use `register_code16(S(KC_5));` instead of registering the mod, then registering the keycode.",
            "`clear_keyboard();`": "This will clear all mods and keys currently pressed.",
            "`clear_mods();`": "This will clear all mods currently pressed.",
            "`clear_keyboard_but_mods();`": "This will clear all keys besides the mods currently pressed."
          },
          "Advanced Example:": {
            "Super ALTTAB": "This macro will register `KC_LALT` and tap `KC_TAB`, then wait for 1000ms. If the key is tapped again, it will send another `KC_TAB`; if there is no tap, `KC_LALT` will be unregistered, thus allowing you to cycle through windows.\n\n```\nbool is_alt_tab_active = false; // ADD this near the beginning of keymap.c\nuint16_t alt_tab_timer = 0;     // we will be using them soon.\n\nenum custom_keycodes {          // Make sure have the awesome keycode ready\n  ALT_TAB = SAFE_RANGE,\n};\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) { // This will do most of the grunt work with the keycodes.\n    case ALT_TAB:\n      if (record->event.pressed) {\n        if (!is_alt_tab_active) {\n          is_alt_tab_active = true;\n          register_code(KC_LALT);\n        }\n        alt_tab_timer = timer_read();\n        register_code(KC_TAB);\n      } else {\n        unregister_code(KC_TAB);\n      }\n      break;\n  }\n  return true;\n}\n\nvoid matrix_scan_user(void) { // The very important timer.\n  if (is_alt_tab_active) {\n    if (timer_elapsed(alt_tab_timer) > 1000) {\n      unregister_code(KC_LALT);\n      is_alt_tab_active = false;\n    }\n  }\n}\n```"
          }
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 43]"
    },
    {
      "title": "Userspace: Sharing Code Between Keymaps",
      "description": null,
      "content": {
        "`Rules.mk`": {
          "Override default userspace": "By default the userspace used will be the same as the keymap name. In some situations this isn't desirable. For instance, if you use the [layout](feature_layouts) feature you can't use the same name for different keymaps (e.g. ANSI and ISO). You can name your layouts `mylayout-ansi` and `mylayout-iso` and add the following line to your layout's `rules.mk`:\n\n```\nUSER_NAME := mylayout\n```\n\nThis is also useful if you have multiple different keyboards with different features physically present on the board (such as one with RGB Lights, and one with Audio, or different number of LEDs, or connected to a different PIN on the controller)."
        },
        "Configuration Options (`config.h`)": "Additionally, `config.h` here will be processed like the same file in your keymap folder.  This is handled separately from the `<name>.h` file.\n\nThe reason for this, is that `<name>.h` won't be added in time to add settings (such as `#define TAPPING_TERM 100`), and including the `<name.h>` file in any `config.h` files will result in compile issues.\n\n::: warning\nYou should use the `config.h` for [configuration options](config_options), and the `<name>.h` file for user or keymap specific settings (such as the enum for layer or keycodes)\n:::",
        "Readme (`readme.md`)": "Please include authorship (your name, GitHub username, email), and optionally [a license that's GPL compatible](https://www.gnu.org/licenses/license-list.html#GPLCompatibleLicenses).\n\nYou can use this as a template: \n\n```\nCopyright <year> <name> <email> @<github_username>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 2 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n```\n\nYou'd want to replace the year, name, email and GitHub username with your info. \n\nAdditionally, this is a good place to document your code, if you wish to share it with others. ",
        "Build All Keyboards That Support a Specific Keymap": "Want to check all your keymaps build in a single command? You can run:\n\nmake all:<name>\n\n\nFor example,\n\nmake all:jack\n\n\nThis is ideal for when you want ensure everything compiles successfully when preparing a [_Pull request_](https://github.com/qmk/qmk_firmware/pulls).",
        "Examples": {
          "Customized Functions": "QMK has a bunch of [functions](custom_quantum_functions) that have [`_quantum`, `_kb`, and `_user` versions](custom_quantum_functions#a-word-on-core-vs-keyboards-vs-keymap) that you can use.  You will pretty much always want to use the user version of these functions.  But the problem is that if you use them in your userspace, then you don't have a version that you can use in your keymap. \n\nHowever, you can actually add support for keymap version, so that you can use it in both your userspace and your keymap! \n\nFor instance, let's look at the `layer_state_set_user()` function.  You can enable the [Tri Layer State](ref_functions#olkb-tri-layers) functionality on all of your boards, while also retaining the Tri Layer functionality in your `keymap.c` files. \n\nIn your `<name.c>` file, you'd want to add this: \n\n```\n__attribute__ ((weak))\nlayer_state_t layer_state_set_keymap (layer_state_t state) {\n  return state;\n}\n\nlayer_state_t layer_state_set_user (layer_state_t state) {\n  state = update_tri_layer_state(state, 2, 3, 5);\n  return layer_state_set_keymap (state);\n}\n```\n\nThe `__attribute__ ((weak))` part tells the compiler that this is a placeholder function that can then be replaced by a version in your `keymap.c`.  That way, you don't need to add it to your `keymap.c`, but if you do, you won't get any conflicts because the function is the same name. \n\nThe `_keymap` part here doesn't matter, it just needs to be something other than `_quantum`, `_kb`, or `_user`, since those are already in use. So you could use `layer_state_set_mine`, `layer_state_set_fn`, or anything else.\n\nYou can see a list of this and other common functions in [`template.c`](https://github.com/qmk/qmk_firmware/blob/master/users/drashna/template.c) in [`users/drashna`](https://github.com/qmk/qmk_firmware/tree/master/users/drashna).",
          "Custom Features": "Since the Userspace feature can support a staggering number of boards, you may have boards that you want to enable certain functionality for, but not for others. And you can actually create \"features\" that you can enable or disable in your own userspace.  \n\nFor instance, if you wanted to have a bunch of macros available, but only on certain boards (to save space), you could \"hide\" them being a `#ifdef MACROS_ENABLED`, and then enable it per board.  To do this, add this to your rules.mk\n\n```\nifeq ($(strip $(MACROS_ENABLED)), yes)\n    OPT_DEFS += -DMACROS_ENABLED\nendif\n```\n\nThe `OPT_DEFS` setting causes `MACROS_ENABLED` to be defined for your keyboards (note the `-D` in front of the name), and you could use `#ifdef MACROS_ENABLED` to check the status in your c/h files, and handle that code based on that. \n\nThen you add `MACROS_ENABLED = yes` to the `rules.mk` for you keymap to enable this feature and the code in your userspace.\n\nAnd in your `process_record_user` function, you'd do something like this: \n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n#ifdef MACROS_ENABLED\n  case MACRO1:\n    if (!record->event.pressed) {\n      SEND_STRING(\"This is macro 1!\");\n    }\n    break;\n  case MACRO2:\n    if (!record->event.pressed) {\n      SEND_STRING(\"This is macro 2!\");\n    }\n    break;\n#endif\n  }\n  return true;\n}\n```",
          "Consolidated Macros": "If you wanted to consolidate macros and other functions into your userspace for all of your keymaps, you can do that.  This builds upon the [Customized Functions](#customized-functions) example above. This lets you maintain a bunch of macros that are shared between the different keyboards, and allow for keyboard specific macros, too. \n\nFirst, you'd want to go through all of your `keymap.c` files and replace `process_record_user` with `process_record_keymap` instead.   This way, you can still use keyboard specific codes on those boards, and use your custom \"global\" keycodes as well.   You'll also want to replace `SAFE_RANGE` with `NEW_SAFE_RANGE` so that you wont have any overlapping keycodes\n\nThen add `#include \"<name>.h\"` to all of your keymap.c files.  This allows you to use these new keycodes without having to redefine them in each keymap.\n\nOnce you've done that, you'll want to set the keycode definitions that you need to the `<name>.h`  file. For instance:\n\n```\n#pragma once\n\n#include \"quantum.h\"\n#include \"action.h\"\n#include \"version.h\"\n\n// Define all of\nenum custom_keycodes {\n  KC_MAKE = SAFE_RANGE,\n  NEW_SAFE_RANGE  //use \"NEW_SAFE_RANGE\" for keymap specific codes\n};\n```\n\nNow you want to create the `<name>.c` file, and add this content to it:\n\n```\n#include \"<name>.h\"\n\n__attribute__ ((weak))\nbool process_record_keymap(uint16_t keycode, keyrecord_t *record) {\n  return true;\n}\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case KC_MAKE:  // Compiles the firmware, and adds the flash command based on keyboard bootloader\n            if (!record->event.pressed) {\n            uint8_t temp_mod = get_mods();\n            uint8_t temp_osm = get_oneshot_mods();\n            clear_mods(); clear_oneshot_mods();\n            SEND_STRING(\"make \" QMK_KEYBOARD \":\" QMK_KEYMAP);\n    #ifndef FLASH_BOOTLOADER\n            if ((temp_mod | temp_osm) & MOD_MASK_SHIFT)\n    #endif\n            {\n                SEND_STRING(\":flash\");\n            }\n            if ((temp_mod | temp_osm) & MOD_MASK_CTRL) {\n                SEND_STRING(\" -j8 --output-sync\");\n            }\n            tap_code(KC_ENT);\n            set_mods(temp_mod);\n        }\n        break;\n\n  }\n  return process_record_keymap(keycode, record);\n}\n```\n\nFor boards that may not have a shift button (such as on a macro pad), we need a way to always include the bootloader option.  To do that, add the following to the `rules.mk` in your userspace folder: \n\n```\nifeq ($(strip $(FLASH_BOOTLOADER)), yes)\n    OPT_DEFS += -DFLASH_BOOTLOADER\nendif\n```\n\nThis will add a new `KC_MAKE` keycode that can be used in any of your keymaps.  And this keycode will output `make <keyboard>:<keymap>`, making frequent compiling easier.  And this will work with any keyboard and any keymap as it will output the current boards info, so that you don't have to type this out every time.\n\nAlso, holding Shift will add the flash target (`:flash`) to the command.  Holding Control will add some commands that will speed up compiling time by processing multiple files at once. \n\nAnd for the boards that lack a shift key, or that you want to always attempt the flashing part, you can add `FLASH_BOOTLOADER = yes` to the `rules.mk` of that keymap.\n\n::: tip\nThis should flash the newly compiled firmware automatically, using the correct utility, based on the bootloader settings (or default to just generating the HEX file). However, it should be noted that this may not work on all systems. AVRDUDE doesn't work on WSL, namely.\n:::"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 44]"
    },
    {
      "title": "Flashing Instructions and Bootloader Information",
      "description": null,
      "content": {
        "Atmel DFU": {
          "QMK DFU": "QMK maintains [a fork of the LUFA DFU bootloader](https://github.com/qmk/lufa/tree/master/Bootloaders/DFU) that additionally performs a simple matrix scan for exiting the bootloader and returning to the application, as well as flashing an LED/making a ticking noise with a speaker when things are happening. To enable these features, add the following defines to your `config.h`:\n\n```\n#define QMK_ESC_OUTPUT F1  // COL pin if COL2ROW\n#define QMK_ESC_INPUT  D5  // ROW pin if COL2ROW\n// Optional:\n//#define QMK_LED E6\n//#define QMK_SPEAKER C6\n```\n\nCurrently we do not recommend making `QMK_ESC` the same key as the one designated for [Bootmagic](features/bootmagic), as holding it down will cause the MCU to loop back and forth between entering and exiting the bootloader.\n\nThe manufacturer and product strings are automatically pulled from `config.h`, with \" Bootloader\" appended to the product string.\n\nTo generate this bootloader, use the `bootloader` target, eg. `make planck/rev4:default:bootloader`. To generate a production-ready .hex file (combining QMK and the bootloader), use the `production` target, eg. `make planck/rev4:default:production`.",
          "`make` Targets": [
            "`:dfu`: Checks every 5 seconds until a DFU device is available, and then flashes the firmware.",
            "`:dfu-split-left` and `:dfu-split-right`: Flashes the firmware as with `:dfu`, but also sets the handedness setting in EEPROM. This is ideal for Elite-C-based split keyboards."
          ]
        },
        "Caterina": {
          "`make` Targets": [
            "`:avrdude`: Checks every 5 seconds until a Caterina device is available (by detecting a new COM port), and then flashes the firmware.",
            "`:avrdude-loop`: Flashes the firmware as with `:avrdude`, but after each device is flashed, will attempt to flash again. This is useful for bulk flashing. Hit Ctrl+C to escape the loop.",
            "`:avrdude-split-left` and `:avrdude-split-right`: Flashes the firmware as with `:avrdude`, but also sets the handedness setting in EEPROM. This is ideal for Pro Micro-based split keyboards."
          ]
        },
        "HalfKay": "HalfKay is a super-slim bootloader developed by PJRC that presents itself as an HID device (which requires no additional driver), and comes preflashed on all Teensys, namely the 2.0. It is currently closed-source, and thus once overwritten (eg. via ISP flashing another bootloader), cannot be restored.\n\nTo ensure compatibility with the Halfkay bootloader, make sure this block is present in your `rules.mk`:\n\n```\n# Bootloader selection\nBOOTLOADER = halfkay\n```\n\nCompatible flashers:\n\n['[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) (recommended GUI)', '[Teensy Loader](https://www.pjrc.com/teensy/loader.html)', '[Teensy Loader Command Line](https://www.pjrc.com/teensy/loader_cli.html) / `:teensy` target in QMK (recommended command line)', '```\\nteensy_loader_cli -v -mmcu=<mcu> <filename>\\n```']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods (you only have 7 seconds to flash once it enters):', ['Press the `QK_BOOT` keycode', 'Press the `RESET` button on the Teensy or PCB if available', 'short RST to GND quickly'], 'Wait for the OS to detect the device', 'Flash a .hex file', 'Reset the device into application mode (may be done automatically)']",
        "USBasploader": "USBasploader is a bootloader originally by [Objective Development](https://www.obdev.at/products/vusb/usbasploader.html). It emulates a USBasp ISP programmer and is used in some non-USB AVR chips such as the ATmega328P, which run V-USB.\n\nTo ensure compatibility with the USBasploader bootloader, make sure this block is present in your `rules.mk`:\n\n```\n# Bootloader selection\nBOOTLOADER = usbasploader\n```\n\nCompatible flashers:\n\n['[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) (recommended GUI)', '[AVRDUDESS](https://github.com/zkemble/AVRDUDESS)', '[avrdude](https://www.nongnu.org/avrdude/) with the `usbasp` programmer / `:usbasp` target in QMK (recommended command line)', '```\\navrdude -p <mcu> -c usbasp -U flash:w:<filename>:i\\n```']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Press the `QK_BOOT` keycode', 'Keep the `BOOT` button held while quickly tapping the `RESET` button on the PCB'], 'Wait for the OS to detect the device', 'Flash a .hex file', 'Press the `RESET` button on the PCB or short RST to GND']",
        "BootloadHID": {
          "QMK HID": "QMK maintains [a fork of the LUFA HID bootloader](https://github.com/qmk/lufa/tree/master/Bootloaders/HID), which uses a USB HID Endpoint for flashing in the way that the PJRC's Teensy Loader flasher and HalfKay bootloader work. Additionally, it performs a simple matrix scan for exiting the bootloader and returning to the application, as well as flashing an LED/making a ticking noise with a speaker when things are happening.\n\nTo ensure compatibility with the QMK HID bootloader, make sure this block is present in your `rules.mk`:\n\n```\n# Bootloader selection\nBOOTLOADER = qmk-hid\n```\n\nTo enable the additional features, add the following defines to your `config.h`:\n\n```\n#define QMK_ESC_OUTPUT F1  // COL pin if COL2ROW\n#define QMK_ESC_INPUT  D5  // ROW pin if COL2ROW\n// Optional:\n//#define QMK_LED E6\n//#define QMK_SPEAKER C6\n```\n\nCurrently we do not recommend making `QMK_ESC` the same key as the one designated for [Bootmagic](features/bootmagic), as holding it down will cause the MCU to loop back and forth between entering and exiting the bootloader.\n\nThe manufacturer and product strings are automatically pulled from `config.h`, with \" Bootloader\" appended to the product string.\n\nTo generate this bootloader, use the `bootloader` target, eg. `make planck/rev4:default:bootloader`. To generate a production-ready .hex file (combining QMK and the bootloader), use the `production` target, eg. `make planck/rev4:default:production`.\n\nCompatible flashers:\n\n['TBD', ['Currently, you need to either use the [Python script](https://github.com/qmk/lufa/tree/master/Bootloaders/HID/HostLoaderApp_python), or compile [`hid_bootloader_cli`](https://github.com/qmk/lufa/tree/master/Bootloaders/HID/HostLoaderApp), from the LUFA repo. Homebrew may (will) have support for this directly (via `brew install qmk/qmk/hid_bootloader_cli`).']]\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Press the `QK_BOOT` keycode', 'Press the `RESET` button on the PCB if available', 'short RST to GND quickly'], 'Wait for the OS to detect the device', 'Flash a .hex file', 'Reset the device into application mode (may be done automatically)']",
          "`make` Targets": [
            "`:qmk-hid`: Checks every 5 seconds until a DFU device is available, and then flashes the firmware."
          ]
        },
        "STM32/APM32 DFU": {
          "`make` Targets": [
            "`:dfu-util`: Waits until an STM32 bootloader device is available, and then flashes the firmware.",
            "`:dfu-util-split-left` and `:dfu-util-split-right`: Flashes the firmware as with `:dfu-util`, but also sets the handedness setting in EEPROM. This is ideal for Proton-C-based split keyboards.",
            "`:st-link-cli`: Allows you to flash the firmware via the ST-Link CLI utility, rather than dfu-util. Requires an ST-Link dongle.",
            "`:st-flash`: Allows you to flash the firmware via the `st-flash` utility from [STLink Tools](https://github.com/stlink-org/stlink), rather than dfu-util. Requires an ST-Link dongle."
          ]
        },
        "STM32duino": "This bootloader is used almost exclusively for STM32F103 boards, as they do not come with a USB DFU bootloader. The source code and prebuilt binaries can be found [here](https://github.com/rogerclarkmelbourne/STM32duino-bootloader).\n\nTo ensure compatibility with the STM32duino bootloader, make sure this block is present in your `rules.mk`:\n\n```\n# Bootloader selection\nBOOTLOADER = stm32duino\n```\n\nCompatible flashers:\n\n['[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) (recommended GUI)', '[dfu-util](https://dfu-util.sourceforge.net/) / `:dfu-util` target in QMK (recommended command line)', '```\\ndfu-util -a 2 -d 1EAF:0003 -D <filename>\\n```']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Tap the `QK_BOOT` keycode', 'If a reset circuit is present, tap the `RESET` button on the PCB', 'Otherwise, you need to bridge `BOOT0` to VCC (via `BOOT0` button or jumper), short `RESET` to GND (via `RESET` button or jumper), and then let go of the `BOOT0` bridge'], 'Wait for the OS to detect the device', 'Flash a .bin file', 'Reset the device into application mode (may be done automatically)']",
        "Kiibohd DFU": "Keyboards produced by Input Club use NXP Kinetis microcontrollers rather than STM32, and come with their own [custom bootloader](https://github.com/kiibohd/controller/tree/master/Bootloader), however the process and protocol is largely the same.\n\nThe `rules.mk` setting for this bootloader is `kiibohd`, but since this bootloader is limited to Input Club boards, it should not be necessary to set at keymap or user level.\n\nCompatible flashers:\n\n['[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) (recommended GUI)', '[dfu-util](https://dfu-util.sourceforge.net/) / `:dfu-util` target in QMK (recommended command line)', '```\\ndfu-util -a 0 -d 1C11:B007 -D <filename>\\n```']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Tap the `QK_BOOT` keycode', 'Press the `RESET` button on the PCB'], 'Wait for the OS to detect the device', 'Flash a .bin file', 'Reset the device into application mode (may be done automatically)']",
        "WB32 DFU": "Some keyboards produced for several commercial brands (GMMK, Akko, MonsGeek, Inland) use this bootloader. The `wb32-dfu-updater` utility is bundled with [QMK MSYS](https://msys.qmk.fm/) and [Glorious's build of QMK Toolbox](https://www.gloriousgaming.com/blogs/guides-resources/gmmk-2-qmk-installation-guide). If neither of these flashing methods is available for your OS, you will likely need to [compile the CLI version from source](https://github.com/WestberryTech/wb32-dfu-updater).\n\nThe `info.json` setting for this bootloader is `wb32-dfu`.\n\nCompatible flashers:\n\n[\"[Glorious's build of QMK Toolbox](https://www.gloriousgaming.com/blogs/guides-resources/gmmk-2-qmk-installation-guide) (recommended GUI)\", '[wb32-dfu-updater_cli](https://github.com/WestberryTech/wb32-dfu-updater) / `:flash` target in QMK (recommended command line)', '```\\nwb32-dfu-updater_cli -t -s 0x8000000 -D <filename>\\n```']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Tap the `QK_BOOT` keycode', 'Press the `RESET` button on the PCB'], 'Wait for the OS to detect the device', 'Flash a .bin file', 'Reset the device into application mode (may be done automatically)']",
        "AT32 DFU": {
          "`make` Targets": [
            "`:dfu-util`: Waits until an AT32 bootloader device is available, and then flashes the firmware.",
            "`:dfu-util-split-left` and `:dfu-util-split-right`: Flashes the firmware as with `:dfu-util`, but also sets the handedness setting in EEPROM."
          ]
        },
        "tinyuf2": {
          "`make` Targets": [
            "`:uf2-split-left` and `:uf2-split-right`: Flashes the firmware but also sets the handedness setting in EEPROM by generating a side specific firmware."
          ]
        },
        "uf2boot": {
          "`make` Targets": [
            "`:uf2-split-left` and `:uf2-split-right`: Flashes the firmware but also sets the handedness setting in EEPROM by generating a side specific firmware."
          ]
        },
        "Raspberry Pi RP2040 UF2": "The `rules.mk` setting for this bootloader is `rp2040`, and can be specified at the keymap or user level.\n\nTo ensure compatibility with the rp2040 bootloader, make sure this block is present in your `rules.mk`:\n\n```\n# Bootloader selection\nBOOTLOADER = rp2040\n```\n\nCompatible flashers:\n\n['Any application able to copy a file from one place to another, such as _macOS Finder_ or _Windows Explorer_.']\n\nFlashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Tap the `QK_BOOT` keycode', 'Hold the `BOOTSEL` button on the PCB while plugin in the usb cable.', 'Double-tap the `RESET` button on the PCB<sup>1</sup>.'], 'Wait for the OS to detect the device', 'Copy the .uf2 file to the new USB disk', 'Wait for the keyboard to become available']\n\nor\n\nCLI Flashing sequence:\n\n['Enter the bootloader using any of the following methods:', ['Tap the `QK_BOOT` keycode', 'Hold the `BOOTSEL` button on the PCB while plugin in the usb cable.', 'Double-tap the `RESET` button on the PCB<sup>1</sup>.'], 'Wait for the OS to detect the device', 'Flash via QMK CLI eg. `qmk flash --keyboard handwired/onekey/rpi_pico --keymap default`', 'Wait for the keyboard to become available']\n\n<sup>1</sup>: This works only if the controller has been flashed with QMK Firmware with `RP2040_BOOTLOADER_DOUBLE_TAP_RESET` defined."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 45]"
    },
    {
      "title": "Docker Quick Start",
      "description": null,
      "content": {
        "Requirements": "The main prerequisite is a working `docker` or `podman` install.\n\n['[Docker CE](https://docs.docker.com/install/#supported-platforms)', '[Podman](https://podman.io/getting-started/installation)']",
        "Usage": "Acquire a local copy of the QMK's repository (including submodules):\n\n```\ngit clone --recurse-submodules https://github.com/qmk/qmk_firmware.git\ncd qmk_firmware\n```\n\nRun the following command to build a keymap:\n\n```\nutil/docker_build.sh <keyboard>:<keymap>\n# For example: util/docker_build.sh planck/rev6:default\n```\n\nThis will compile the desired keyboard/keymap and leave the resulting `.hex` or `.bin` file in the QMK directory for you to flash. If `:keymap` is omitted, all keymaps are used. Note that the parameter format is the same as when building with `make`.\n\nThere is also support for building _and_ flashing the keyboard straight from Docker by specifying the `target` as well:\n\n```\nutil/docker_build.sh keyboard:keymap:target\n# For example: util/docker_build.sh planck/rev6:default:flash\n```\n\nNote that mass storage bootloaders are not supported by the `flash` target. In this case you will have to manually copy the firmware file to the keyboard.\n\nYou can also start the script without any parameters, in which case it will ask you to input the build parameters one by one, which you may find easier to use:\n\n```\nutil/docker_build.sh\n# Reads parameters as input (leave blank for all keyboards/keymaps)\n```\n\nYou can manually set which container runtime you want to use by setting the `RUNTIME` environment variable to it's name or path.\nBy default docker or podman are automatically detected and docker is preferred over podman.\n\n```\nRUNTIME=\"podman\" util/docker_build.sh keyboard:keymap:target\n```\n\nIf flashing is not required, it's possible to run the container as unprivileged (on Linux), and without docker-machine (on Windows/macOS):\n\n```\nSKIP_FLASHING_SUPPORT=1 util/docker_build.sh keyboard:keymap:target\n```",
        "FAQ": {
          "Why can't I flash on Windows/macOS": "On Windows and macOS, it requires [Docker Machine](http://gw.tnode.com/docker/docker-machine-with-usb-support-on-windows-macos/) to be running. This is tedious to set up, so it's not recommended; use [QMK Toolbox](https://github.com/qmk/qmk_toolbox) instead.\n\n::: warning\nDocker for Windows requires [Hyper-V](https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v) to be enabled. This means that it cannot work on versions of Windows which don't have Hyper-V, such as Windows 7, Windows 8 and **Windows 10 Home**.\n:::"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 46]"
    },
    {
      "title": "Getting Started Github",
      "description": null,
      "content": {
        "How to Use GitHub with QMK": "GitHub can be a little tricky to those that aren't familiar with it - this guide will walk through each step of forking, cloning, and submitting a pull request with QMK.\n\n::: tip\nThis guide assumes you're somewhat comfortable with running things at the command line, and have git installed on your system.\n:::\n\nStart on the [QMK GitHub page](https://github.com/qmk/qmk_firmware), and you'll see a button in the upper right that says \"Fork\":\n\n![Fork on GitHub](https://i.imgur.com/8Toomz4.jpg)\n\nIf you're a part of an organization, you'll need to choose which account to fork it to. In most circumstances, you'll want to fork it to your personal account. Once your fork is completed (sometimes this takes a little while), click the \"Clone or Download\" button:\n\n![Download from GitHub](https://i.imgur.com/N1NYcSz.jpg)\n\nAnd be sure to select \"HTTPS\", and select the link and copy it:\n\n![HTTPS link](https://i.imgur.com/eGO0ohO.jpg)\n\nFrom here, enter `git clone --recurse-submodules ` into the command line, and then paste your link:\n\n```\nuser@computer:~$ git clone --recurse-submodules https://github.com/whoeveryouare/qmk_firmware.git\nCloning into 'qmk_firmware'...\nremote: Enumerating objects: 9, done.\nremote: Counting objects: 100% (9/9), done.\nremote: Compressing objects: 100% (5/5), done.\nremote: Total 183883 (delta 5), reused 4 (delta 4), pack-reused 183874\nReceiving objects: 100% (183883/183883), 132.90 MiB | 9.57 MiB/s, done.\nResolving deltas: 100% (119972/119972), done.\n...\nSubmodule path 'lib/chibios': checked out '587968d6cbc2b0e1c7147540872f2a67e59ca18b'\nSubmodule path 'lib/chibios-contrib': checked out 'ede48346eee4b8d6847c19bc01420bee76a5e486'\nSubmodule path 'lib/googletest': checked out 'ec44c6c1675c25b9827aacd08c02433cccde7780'\nSubmodule path 'lib/lufa': checked out 'ce10f7642b0459e409839b23cc91498945119b4d'\n```\n\nYou now have your QMK fork on your local machine, and you can add your keymap, compile it and flash it to your board. Once you're happy with your changes, you can add, commit, and push them to your fork like this:\n\n```\nuser@computer:~$ git add .\nuser@computer:~$ git commit -m \"adding my keymap\"\n[master cccb1608] adding my keymap\n 1 file changed, 1 insertion(+)\n create mode 100644 keyboards/planck/keymaps/mine/keymap.c\nuser@computer:~$ git push\nCounting objects: 1, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (1/1), done.\nWriting objects: 100% (1/1), 1.64 KiB | 0 bytes/s, done.\nTotal 1 (delta 1), reused 0 (delta 0)\nremote: Resolving deltas: 100% (1/1), completed with 1 local objects.\nTo https://github.com/whoeveryouare/qmk_firmware.git\n + 20043e64...7da94ac5 master -> master\n```\n\nYour changes now exist on your fork on GitHub - if you go back there (`https://github.com/<whoeveryouare>/qmk_firmware`), you can create a \"New Pull Request\" by clicking this button:\n\n![New Pull Request](https://i.imgur.com/DxMHpJ8.jpg)\n\nHere you'll be able to see exactly what you've committed - if it all looks good, you can finalize it by clicking \"Create Pull Request\":\n\n![Create Pull Request](https://i.imgur.com/Ojydlaj.jpg)\n\nAfter submitting, we may talk to you about your changes, ask that you make changes, and eventually accept it! Thanks for contributing to QMK :)"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 47]"
    },
    {
      "title": "Introduction",
      "description": null,
      "content": {
        "Basic QMK Structure": {
          "Userspace Structure": "Within the folder `users` is a directory for each user. This is a place for users to put code that they might use between keyboards. See the docs for [Userspace feature](feature_userspace) for more information.",
          "Keyboard Project Structure": "Within the folder `keyboards`, its subfolder `handwired` and its vendor and manufacture subdirectories e.g. `clueboard` is a directory for each keyboard project, for example `qmk_firmware/keyboards/clueboard/2x1800`. Within it, you'll find the following structure:\n\n['`keymaps/`: Different keymaps that can be built', '`rules.mk`: The file that sets the default \"make\" options. Do not edit this file directly, instead use a keymap specific `rules.mk`.', '`config.h`: The file that sets the default compile time options. Do not edit this file directly, instead use a keymap specific `config.h`.', '`info.json`: The file used for setting layout for QMK Configurator. See [Configurator Support](reference_configurator_support) for more information.', '`readme.md`: A brief overview of the keyboard.', \"`<keyboard>.h`: This file is where the keyboard layout is defined against the keyboard's switch matrix.\", '`<keyboard>.c`: This file is where you can find custom code for the keyboard.  ']\n\nFor more information on project structure, see [QMK Keyboard Guidelines](hardware_keyboard_guidelines).",
          "Keymap Structure": "In every keymap folder, the following files may be found. Only `keymap.c` is required, and if the rest of the files are not found the default options will be chosen.\n\n['`config.h`: the options to configure your keymap', '`keymap.c`: all of your keymap code, required', '`rules.mk`: the features of QMK that are enabled', '`readme.md`: a description of your keymap, how others might use it, and explanations of features. Please upload images to a service like imgur.']"
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 48]"
    },
    {
      "title": "More Detailed `make` Instructions",
      "description": null,
      "content": {
        "`rules.mk` Options": "Set these variables to `no` to disable them, and `yes` to enable them.\n\n`BOOTMAGIC_ENABLE`\n\nThis allows you to hold a key (usually Escape by default) to reset the EEPROM settings that persist over power loss and ready your keyboard to accept new firmware.\n\n`MOUSEKEY_ENABLE`\n\nThis gives you control over cursor movements and clicks via keycodes/custom functions.\n\n`EXTRAKEY_ENABLE`\n\nThis allows you to use the system and audio control key codes.\n\n`CONSOLE_ENABLE`\n\nThis allows you to print messages that can be read using [`hid_listen`](https://www.pjrc.com/teensy/hid_listen.html).\n\nBy default, all debug (*dprint*) print (*print*, *xprintf*), and user print (*uprint*) messages will be enabled. This will eat up a significant portion of the flash and may make the keyboard .hex file too big to program.\n\nTo disable debug messages (*dprint*) and reduce the .hex file size, include `#define NO_DEBUG` in your `config.h` file.\n\nTo disable print messages (*print*, *xprintf*) and user print messages (*uprint*) and reduce the .hex file size, include `#define NO_PRINT` in your `config.h` file.\n\nTo disable print messages (*print*, *xprintf*) and **KEEP** user print messages (*uprint*), include `#define USER_PRINT` in your `config.h` file (do not also include `#define NO_PRINT` in this case).\n\nTo see the text, open `hid_listen` and enjoy looking at your printed messages.\n\n**NOTE:** Do not include *uprint* messages in anything other than your keymap code. It must not be used within the QMK system framework. Otherwise, you will bloat other people's .hex files.\n\n`COMMAND_ENABLE`\n\nThis enables magic commands, typically fired with the default magic key combo `LSHIFT+RSHIFT+KEY`. Magic commands include turning on debugging messages (`MAGIC+D`) or temporarily toggling NKRO (`MAGIC+N`).\n\n`SLEEP_LED_ENABLE`\n\nEnables your LED to breath while your computer is sleeping. Timer1 is being used here. This feature is largely unused and untested, and needs updating/abstracting.\n\n`NKRO_ENABLE`\n\nThis allows the keyboard to tell the host OS that up to 248 keys are held down at once (default without NKRO is 6). NKRO is off by default, even if `NKRO_ENABLE` is set. NKRO can be forced by adding `#define FORCE_NKRO` to your config.h or by binding `MAGIC_TOGGLE_NKRO` to a key and then hitting the key.\n\n`BACKLIGHT_ENABLE`\n\nThis enables the in-switch LED backlighting. You can specify the backlight pin by putting this in your `config.h`:\n\n#define BACKLIGHT_PIN B7\n\n\n`MIDI_ENABLE`\n\nThis enables MIDI sending and receiving with your keyboard. To enter MIDI send mode, you can use the keycode `MI_ON`, and `MI_OFF` to turn it off. This is a largely untested feature, but more information can be found in the `quantum/quantum.c` file.\n\n`UNICODE_ENABLE`\n\nThis allows you to send Unicode characters using `UC(<code point>)` in your keymap. Code points up to `0x7FFF` are supported. This covers characters for most modern languages, as well as symbols, but it doesn't cover emoji.\n\n`UNICODEMAP_ENABLE`\n\nThis allows you to send Unicode characters using `UM(<map index>)` in your keymap. You will need to maintain a mapping table in your keymap file. All possible code points (up to `0x10FFFF`) are supported.\n\n`UCIS_ENABLE`\n\nThis allows you to send Unicode characters by inputting a mnemonic corresponding to the character you want to send. You will need to maintain a mapping table in your keymap file. All possible code points (up to `0x10FFFF`) are supported.\n\nFor further details, as well as limitations, see the [Unicode page](features/unicode).\n\n`AUDIO_ENABLE`\n\nThis allows you output audio on the C6 pin (needs abstracting). See the [audio page](features/audio) for more information.\n\n`VARIABLE_TRACE`\n\nUse this to debug changes to variable values, see the [tracing variables](unit_testing#tracing-variables) section of the Unit Testing page for more information.\n\n`KEY_LOCK_ENABLE`\n\nThis enables [key lock](features/key_lock).\n\n`SPLIT_KEYBOARD`\n\nThis enables split keyboard support (dual MCU like the let's split and bakingpy's boards) and includes all necessary files located at quantum/split_common\n\n`SPLIT_TRANSPORT`\n\nAs there is no standard split communication driver for ARM-based split keyboards yet, `SPLIT_TRANSPORT = custom` must be used for these. It will prevent the standard split keyboard communication code (which is AVR-specific) from being included, allowing a custom implementation to be used.\n\n`CUSTOM_MATRIX`\n\nLets you replace the default matrix scanning routine with your own code. For further details, see the [Custom Matrix page](custom_matrix).\n\n`DEBOUNCE_TYPE`\n\nLets you replace the default key debouncing routine with an alternative one. If `custom` you will need to provide your own implementation.\n\n`DEFERRED_EXEC_ENABLE`\n\nEnables deferred executor support -- timed delays before callbacks are invoked. See [deferred execution](custom_quantum_functions#deferred-execution) for more information.",
        "Customizing Makefile Options on a Per-Keymap Basis": "If your keymap directory has a file called `rules.mk` any options you set in that file will take precedence over other `rules.mk` options for your particular keyboard.\n\nSo let's say your keyboard's `rules.mk` has `BACKLIGHT_ENABLE = yes`. You want your particular keyboard to not have the backlight, so you make a file called `rules.mk` and specify `BACKLIGHT_ENABLE = no`."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 49]"
    },
    {
      "title": "Hand-Wiring Guide",
      "description": null,
      "content": {
        "Parts list": "You will need: (where *x* is the number of keys on your planned keyboard)\n\n['QMK compatible microcontroller board (Teensy, Pro-Micro, QMK Proton C etc.)', '*x* keyswitches (MX, Matias, Gateron, etc)', '*x* through hole diodes', 'Keyboard plate and plate mount stabilisers', 'Wire', 'Soldering iron', 'Rosin-cored solder', 'Adequate ventilation/a fan', 'Wire cutters/snippers']\n\nOptional but useful:\n\n['Wire strippers/a sharp knife', 'Tweezers and/or small needle nose pliers', 'Soldering station/Helping hands']",
        "Starting the build": "There are many ways to hand wire a PCB matrix, this guide will describe the fundamentals as well as some recommended ways to go about it.\n\nAs we are dealing with hand wiring, it is assumed that you already have a plate.  If you are planning a completely custom layout, tools such as [ai03 Plate Generator](https://kbplate.ai03.me/) and [Swillkb Plate & Case Builder](http://builder.swillkb.com/) can help when designing one.\n\nStart by installing the switches and stabilisers in the plate. Depending on the thickness and material this may also involve hot gluing it in place.",
        "Planning the matrix": {
          "Common Microcontroller Boards": "| Board         | Controller    | # I/O  | Pinout |\n| :------------ |:-------------:| ------:| ------ |\n| Pro Micro*    | ATmega32u4    |     20 | [link](https://learn.sparkfun.com/tutorials/pro-micro--fio-v3-hookup-guide/hardware-overview-pro-micro#Teensy++_2.0)       |\n| Teensy 2.0    | ATmega32u4    |     25 | [link](https://www.pjrc.com/teensy/pinout.html)       |\n| [QMK Proton C](https://qmk.fm/proton-c/)      | STM32F303xC   |     36 | [link 1](https://i.imgur.com/RhtrAlc.png), [2](https://deskthority.net/wiki/QMK_Proton_C)       |\n| Teensy++ 2.0  | AT90USB1286   |     46 | [link](https://www.pjrc.com/teensy/pinout.html#Teensy_2.0)       |\n\n*Elite C is essentially the same as a Pro Micro with a USB-C instead of Micro-USB\n\nThere are also a number of boards designed specifically for handwiring that mount directly to a small number of switches and offer pinouts for the rest.  Though these are generally more expensive and may be more difficult to get hold of.\n\n<img src=\"https://i.imgur.com/QiA3ta6.jpg\" alt=\"Postage board mini mounted in place\" width=\"500\"/>\n\n| Board         | Controller    | # I/O  |\n| :------------ |:-------------:| ------:|\n| [Swiss helper](https://www.reddit.com/r/MechanicalKeyboards/comments/8jg5d6/hand_wiring_this_might_help/) |  ATmega32u4 | 20 |\n| [Postage board](https://github.com/LifeIsOnTheWire/Postage-Board/)| ATmega32u4| 25 |\n| [Postage board mini](https://geekhack.org/index.php?topic=101460.0)| ATmega32u4| 25 |"
        },
        "Wiring the matrix": {
          "A note on split keyboards": "If you are planning a split keyboard (e.g. Dactyl) each half will require a controller and a means of communicating between them (like a TRRS or hardwired cable).  Further information can be found in the [QMK split keyboard documentation.](features/split_keyboard)",
          "Soldering": {
            "Soldering the Diodes": "Starting at the top-left switch, place the diode (with tweezers if you have them) on the switch so that the diode itself is vertically aligned, and the black line is facing toward you. Make sure the diodes are soldered in parallel (diode outputs shouldn't connect to diode inputs). The input lead of the diode should be touching the left contact on the switch, and the bent, output end should be facing to the right and resting on the switch there, like this:\n\n![soldering-diodes-01.png](https://raw.githubusercontent.com/noroadsleft/qmk_images/master/docs/hand_wire/soldering-diodes-01.png)\n\nLetting the diode rest, grab your solder, and touch both it and the soldering iron to the left contact at the same time - the rosin in the solder should make it easy for the solder to flow over both the diode and the keyswitch contact. The diode may move a little, and if it does, carefully position it back it place by grabbing the bent end of the diode - the other end will become hot very quickly. If you find that it's moving too much, using needle-nose pliers of some sort may help to keep the diode still when soldering.\n\nThe smoke that the rosin releases is harmful, so be careful not to breath it or get it in your eyes/face.\n\nAfter soldering things in place, it may be helpful to blow on the joint to push the smoke away from your face, and cool the solder quicker. You should see the solder develop a matte (not shiny) surface as it solidifies. Keep in mind that it will still be very hot afterwards, and will take a couple minutes to be cool to touch. Blowing on it will accelerate this process.\n\nWhen the first diode is complete, the next one will need to be soldered to both the keyswitch, and the previous diode at the new elbow. That will look something like this:\n\n![soldering-diodes-02.png](https://raw.githubusercontent.com/noroadsleft/qmk_images/master/docs/hand_wire/soldering-diodes-02.png)\n\nAfter completing a row, use the wire cutters to trim the excess wire from the tops of the diodes, and from the right side on the final switch. This process will need to completed for each row you have.\n\nWhen all of the diodes are completely soldered, it's a good idea to quickly inspect each one to ensure that your solder joints are solid and sturdy - repairing things after this is possible, but more difficult.",
            "Soldering the Columns": "You'll have some options in the next process - it's a good idea to insulate the column wires (since the diodes aren't), but if you're careful enough, you can use exposed wires for the columns - it's not recommended, though. If you're using single-cored wire, stripping the plastic off of the whole wire and feeding it back on is probably the best option, but can be difficult depending on the size and materials. You'll want to leave parts of the wire exposed where you're going to be solder it onto the keyswitch.\n\nIf you're using stranded wire, it's probably easiest to just use a lot of small wires to connect each keyswitch along the column. It's possible to use one and melt through the insulation, but this isn't recommended, will produce even more harmful fumes, and can ruin your soldering iron.\n\nBefore beginning to solder, it helps to have your wire pre-bent (if using single-cored), or at least have an idea of how you're going to route the column (especially if you're making a staggered board). Where you go in particular doesn't matter too much, as we'll be basing our keymap definitions on how it was wired - just make sure every key in a particular row is in a unique column, and that they're in order from left to right.\n\nIf you're not using any insulation, you can try to keep the column wires elevated, and solder them near the tips of the keyswitch contacts - if the wires are sturdy enough, they won't short out to the row wiring an diodes."
          }
        },
        "Wiring up the controller": {
          "Specific instructions for the Teensy 2.0": "There are some pins on the Teensy that are special, like D6 (the LED on the chip), or some of the UART, SPI, I2C, or PWM channels, but only avoid those if you're planning something in addition to a keyboard. If you're unsure about wanting to add something later, you should have enough pins in total to avoid a couple.\n\nThe pins you'll absolutely have to avoid, as with any controller, are: GND, VCC, AREF, and RST - all the others are usable and accessible in the firmware.\n\n[]\n\nCut wires to the length of the distance from the a point on each column/row to the controller.  You can solder anywhere along the row, as long as it's after the diode - soldering before the diode (on the keyswitch side) will cause that row not to work.\n\nRibbon cable can be used to keep this extra tidy.  You may also want to consider routing the wires beneath the exisiting columns/rows.\n\n<img src=\"https://i.imgur.com/z2QlKfB.jpg\" alt=\"Ribbon Cable\" width=\"350\"/>\n\nAs you solder the wires to the controller make a note of which row/column is going to which pin on the controller as we'll use this data to setup the matrix when we create the firmware.\n\nAs you move along, be sure that the controller is staying in place - recutting and soldering the wires is a pain!"
        },
        "Getting Some Basic Firmware Set Up": "From here, you should have a working keyboard once you program a firmware.\n\nSimple firmware can be created easily using the [Keyboard Firmware Builder](https://kbfirmware.com/) website.  Recreate your layout using [Keyboard Layout Editor](https://www.keyboard-layout-editor.com), import it and recreate the matrix (if not already done as part of [planning the matrix](#planning-the-matrix)).\n\nGo through the rest of the tabs, assigning keys until you get to the last one where you can compile and download your firmware.  The .hex file can be flashed straight onto your keyboard, or for advanced functionality, compiled locally after [Setting up Your Environment](newbs_getting_started).\n\nThe source given by Keyboard Firmware Builder is QMK, but is based on a version of QMK from early 2017. To compile the firmware in a modern version of QMK Firmware, you'll need to export via the `Save Configuration` button, then run:\n\n```\nqmk import-kbfirmware /path/to/export.json\n```\n\nFor example:\n\n```\n$ qmk import-kbfirmware ~/Downloads/gh62.json \n Importing gh62.json.\n\n Support here is basic - Consider using 'qmk new-keyboard' instead\n Imported a new keyboard named gh62.\n To start working on things, `cd` into keyboards/gh62,\n or open the directory in your preferred text editor.\n And build with qmk compile -kb gh62 -km default.\n```",
        "Flashing the Firmware": "Install [QMK Toolbox](https://github.com/qmk/qmk_toolbox).\n\n![QMK Toolbox](https://raw.githubusercontent.com/noroadsleft/qmk_images/master/docs/hand_wire/qmk_toolbox.png \"QMK Toolbox 0.0.16 on Windows 8.1\")\n\nUnder \"Local File\" navigate to your newly created .hex file.  Under \"Microcontroller\", select the corresponding one for your controller board (common ones available [here](#common-microcontroller-boards)).\n\nPlug in your keyboard and press the reset button (or short the Reset and Ground pins if there is no button) and click the \"Flash\" button in QMK toolbox.",
        "Testing Your Firmware": "Use a website such as [QMK Configurator's Keyboard Tester](https://config.qmk.fm/#/test), [Keyboard Tester](https://www.keyboardtester.com/tester.html), or [Keyboard Checker](https://keyboardchecker.com/) or just open a text editor and try typing - you should get the characters that you put into your keymap. Test each key, and make a note of the ones that aren't working. Here's a quick trouble-shooting guide for non-working keys:\n\n[\"Flip the keyboard back over and short the keyswitch's contacts with a piece wire - this will eliminate the possibility of the keyswitch being bad and needing to be replaced.\", \"Check the solder points on the keyswitch - these need to be plump and whole. If you touch it with a moderate amount of force and it comes apart, it's not strong enough.\", 'Check the solder joints on the diode - if the diode is loose, part of your row may register, while the other may not.', 'Check the solder joints on the columns - if your column wiring is loose, part or all of the column may not work.', 'Check the solder joints on both sides of the wires going to/from the Teensy - the wires need to be fully soldered and connect to both sides.', \"Check the `<project_name>.h` file for errors and incorrectly placed `KC_NO`s - if you're unsure where they should be, instead duplicate a k*xy* variable.\", 'Check to make sure you actually compiled the firmware and flashed the Teensy correctly. Unless you got error messages in the terminal, or a pop-up during flashing, you probably did everything correctly.', 'Use a multimeter to check that the switch is actually closing when actuated (completing the circuit when pressed down).']\n\nIf you've done all of these things, keep in mind that sometimes you might have had multiple things affecting the keyswitch, so it doesn't hurt to test the keyswitch by shorting it out at the end.",
        "Finishing up": "Once you have confirmed that the keyboard is working, if you have used a seperate (non handwire specific) controller you will want to secure it in place.  This can be done in many different ways e.g. hot glue, double sided sticky tape, 3D printed caddy, electrical tape.\n\nIf you found this fullfilling you could experiment by adding additional features such as [in switch LEDs](https://geekhack.org/index.php?topic=94258.0), [in switch RGB](https://www.reddit.com/r/MechanicalKeyboards/comments/5s1l5u/photoskeyboard_science_i_made_a_handwired_rgb/), [RGB underglow](https://medium.com/@DavidNZ/hand-wired-custom-keyboard-cdd14429c7b3#.7a1ovebsk) or even an [OLED display!](https://www.reddit.com/r/olkb/comments/5zy7og/adding_ssd1306_oled_display_to_your_build/) \n\nThere are a lot of possibilities inside the firmware - explore [the documentation](/) for a full feature list, and dive into the different keyboards to see how people use all of them. You can always stop by [the OLKB subreddit](https://reddit.com/r/olkb) or [QMK Discord](https://discord.gg/qmk) for help!",
        "Links to Other Guides": [
          "[matt3o's step by step guide (BrownFox build)](https://deskthority.net/viewtopic.php?f=7&t=6050) also his [website](https://matt3o.com/hand-wiring-a-custom-keyboard/) and [video guide](https://www.youtube.com/watch?v=LVzpsjFWPP4)",
          "[Cribbit's \"Modern hand wiring guide - stronger, cleaner, easier\"](https://geekhack.org/index.php?topic=87689.0) ",
          "[Sasha Solomon's \"Building my first Keyboard\"](https://medium.com/@sachee/building-my-first-keyboard-and-you-can-too-512c0f8a4c5f)",
          "[RoastPotatoes' \"How to hand wire a Planck\"](https://blog.roastpotatoes.co/guide/2015/11/04/how-to-handwire-a-planck/)",
          "[Masterzen's \"Handwired keyboard build log\"](https://www.masterzen.fr/2018/12/16/handwired-keyboard-build-log-part-1/)"
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 50]"
    },
    {
      "title": "Available Drivers",
      "description": null,
      "content": {
        "ProMicro (AVR Only)": "Support for addressing pins on the ProMicro by their Arduino name rather than their AVR name. This needs to be better documented, if you are trying to do this and reading the code doesn't help please [open an issue](https://github.com/qmk/qmk_firmware/issues/new) and we can help you through the process.",
        "SSD1306 OLED Driver": "Support for SSD1306 based OLED displays. For more information see the [OLED Driver Feature](features/oled_driver) page.",
        "WS2812": "Support for WS2811/WS2812{a,b,c} LED's. For more information see the [RGB Light](features/rgblight) page.",
        "IS31FL3731": "Support for up to 2 drivers. Each driver impliments 2 charlieplex matrices to individually address LEDs using I2C. This allows up to 144 same color LEDs or 32 RGB LEDs. For more information on how to setup the driver see the [RGB Matrix](features/rgb_matrix) page.",
        "IS31FL3733": "Support for up to a single driver with room for expansion. Each driver can control 192 individual LEDs or 64 RGB LEDs. For more information on how to setup the driver see the [RGB Matrix](features/rgb_matrix) page.",
        "24xx series external I2C EEPROM": "Support for an external I2C-based EEPROM instead of using the on-chip EEPROM. For more information on how to setup the driver see the [EEPROM Driver](drivers/eeprom) page."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 51]"
    },
    {
      "title": "QMK Keyboard Guidelines",
      "description": null,
      "content": {
        "Use QMK Lint": "We have provided a tool, `qmk lint`, which will let you check over your keyboard for problems. We suggest using it frequently while working on your keyboard and keymap. \n\nExample passing check:\n\n```\n$ qmk lint -kb rominronin/katana60/rev2\n Lint check passed!\n```\n\nExample failing check:\n\n```\n$ qmk lint -kb clueboard/66/rev3\n Missing keyboards/clueboard/66/rev3/readme.md\n Lint check failed!\n```",
        "Naming Your Keyboard/Project": "All keyboard names are in lower case, consisting only of letters, numbers, and underscore (`_`). Names may not begin with an underscore. Forward slash (`/`) is used as a sub-folder separation character.\n\nThe names `test`, `keyboard`, and `all` are reserved for make commands and may not be used as a keyboard or subfolder name.\n\nValid Examples:\n\n['`412_64`', '`chimera_ortho`', '`clueboard/66/rev3`', '`planck`', '`v60_type_r`']",
        "Sub-folders": "QMK uses sub-folders both for organization and to share code between revisions of the same keyboard. You can nest folders up to 4 levels deep:\n\n```\nqmk_firmware/keyboards/top_folder/sub_1/sub_2/sub_3/sub_4\n```\n\nIf a sub-folder has a `keyboard.json` file it will be considered a compilable keyboard. It will be available in QMK Configurator and tested with `make all`. If you are using a folder to organize several keyboards from the same maker you should not have a `keyboard.json` file.\n\n::: tip\nWhen configuring a keyboard with multiple revisions (like the `clueboard/66` example below), an `info.json` file at the top keyboard level (eg. `clueboard/66`) should be used for configuration shared between revisions. Then `keyboard.json` in each revision directory containing revision-specific configuration, and indicating a buildable keyboard.\n:::\n\nExample:\n\nClueboard uses sub-folders for both purposes, organization and keyboard revisions.\n\n['[`qmk_firmware`](https://github.com/qmk/qmk_firmware/tree/master)', ['[`keyboards`](https://github.com/qmk/qmk_firmware/tree/master/keyboards)', [\"[`clueboard`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard)  &larr; This is the organization folder, there's no `keyboard.json` file\", ['[`60`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard/60)  &larr; This is a compilable keyboard - it has a `keyboard.json` file', '[`66`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard/66) &larr; This is not a compilable keyboard - a revision must be specified', ['[`rev1`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard/66/rev1) &larr; compilable: `make clueboard/66/rev1`', '[`rev2`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard/66/rev2) &larr; compilable: `make clueboard/66/rev2`', '[`rev3`](https://github.com/qmk/qmk_firmware/tree/master/keyboards/clueboard/66/rev3) &larr; compilable: `make clueboard/66/rev3`']]]]]",
        "Keyboard Folder Structure": {
          "`readme.md`": "All projects need to have a `readme.md` file that explains what the keyboard is, who made it and where it's available. If applicable, it should also contain links to more information, such as the maker's website. Please follow the [published template](documentation_templates#keyboard-readmemd-template).",
          "`keyboard.json`/`info.json`": "The `keyboard.json` file is necessary for your keyboard (or keyboard revision) to be considered a buildable keyboard. The same content is valid in both `info.json` and `keyboard.json`. For the available configuration options of this file, see the [reference page](reference_info_json). This file is also used by the [QMK API](https://github.com/qmk/qmk_api), and by the [QMK Configurator](https://config.qmk.fm/) to display a representation of the available layouts of your keyboard.\n\nAdditionally, this is where layouts available on your keyboard are defined. If you only have a single layout, it should be named `LAYOUT`. When defining multiple layouts, you should have a base layout, named `LAYOUT_all`, that supports all possible switch positions in your matrix, even if that layout is impossible to build physically. This is the layout that should be used in the `default` keymap. You should then have additional keymaps named `default_<layout>` that configure keymaps for the other layouts. Layout macro names are entirely lowercase, except for the prefix of `LAYOUT`.\n\nAs an example, if you have a 60% PCB that supports ANSI and ISO, you might define the following layouts and keymaps:\n\n| Layout Name | Keymap Name  | Description                              |\n|-------------|--------------|------------------------------------------|\n| LAYOUT_all  | default      | A layout that supports both ISO and ANSI |\n| LAYOUT_ansi | default_ansi | An ANSI layout                           |\n| LAYOUT_iso  | default_iso  | An ISO layout                            |\n\n::: tip\nProviding only `LAYOUT_all` is invalid, as is providing a `LAYOUT` when multiple layouts are present.\n:::",
          "`config.h`": "Some projects will need to have a `config.h` that configures parameters that are not possible to be set in `keyboard.json`. This is not a required file.\n\nThe `config.h` files can also be placed in sub-folders, and the order in which they are read is as follows:\n\n['`keyboards/top_folder/config.h`', ['`keyboards/top_folder/sub_1/config.h`', ['`keyboards/top_folder/sub_1/sub_2/config.h`', ['`keyboards/top_folder/sub_1/sub_2/sub_3/config.h`', ['`keyboards/top_folder/sub_1/sub_2/sub_3/sub_4/config.h`', ['[`.build/objs_<keyboard>/src/info_config.h`](data_driven_config#add-code-to-generate-it) see [Data Driven Configuration](data_driven_config)', '`users/a_user_folder/config.h`', '`keyboards/top_folder/keymaps/a_keymap/config.h`'], '`keyboards/top_folder/sub_1/sub_2/sub_3/sub_4/post_config.h`'], '`keyboards/top_folder/sub_1/sub_2/sub_3/post_config.h`'], '`keyboards/top_folder/sub_1/sub_2/post_config.h`'], '`keyboards/top_folder/sub_1/post_config.h`'], '`keyboards/top_folder/post_config.h`']\n\nThe `post_config.h` file can be used for additional post-processing, depending on what is specified in the `config.h` file. For example, if you define the `IOS_DEVICE_ENABLE` macro in your keymap-level `config.h` file as follows, you can configure more detailed settings accordingly in the `post_config.h` file:\n\n['`keyboards/top_folder/keymaps/a_keymap/config.h`', '```\\n#define IOS_DEVICE_ENABLE\\n```', '`keyboards/top_folder/post_config.h`', '```\\n#ifndef IOS_DEVICE_ENABLE\\n  // USB_MAX_POWER_CONSUMPTION value for this keyboard\\n  #define USB_MAX_POWER_CONSUMPTION 400\\n#else\\n  // fix iPhone and iPad power adapter issue\\n  // iOS devices need less than 100\\n  #define USB_MAX_POWER_CONSUMPTION 100\\n#endif\\n\\n#ifdef RGBLIGHT_ENABLE\\n  #ifndef IOS_DEVICE_ENABLE\\n    #define RGBLIGHT_LIMIT_VAL 200\\n    #define RGBLIGHT_VAL_STEP 17\\n  #else\\n    #define RGBLIGHT_LIMIT_VAL 35\\n    #define RGBLIGHT_VAL_STEP 4\\n  #endif\\n  #ifndef RGBLIGHT_HUE_STEP\\n    #define RGBLIGHT_HUE_STEP 10\\n  #endif\\n  #ifndef RGBLIGHT_SAT_STEP\\n    #define RGBLIGHT_SAT_STEP 17\\n  #endif\\n#endif\\n```']\n\n::: tip\nIf you define options using `post_config.h` as in the above example, you should not define the same options in the keyboard- or user-level `config.h`.\n:::",
          "`rules.mk`": "This file is typically used to configure hardware drivers (eg. pointing device), or to include additional C files in compilation. This is not a required file.\n\nThe `rules.mk` file can also be placed in a sub-folder, and its reading order is as follows:\n\n['`keyboards/top_folder/rules.mk`', ['`keyboards/top_folder/sub_1/rules.mk`', ['`keyboards/top_folder/sub_1/sub_2/rules.mk`', ['`keyboards/top_folder/sub_1/sub_2/sub_3/rules.mk`', ['`keyboards/top_folder/sub_1/sub_2/sub_3/sub_4/rules.mk`', ['`keyboards/top_folder/keymaps/a_keymap/rules.mk`', '`users/a_user_folder/rules.mk`'], '`keyboards/top_folder/sub_1/sub_2/sub_3/sub_4/post_rules.mk`'], '`keyboards/top_folder/sub_1/sub_2/sub_3/post_rules.mk`'], '`keyboards/top_folder/sub_1/sub_2/post_rules.mk`'], '`keyboards/top_folder/sub_1/post_rules.mk`'], '`keyboards/top_folder/post_rules.mk`', '`common_features.mk`']\n\nMany of the settings written in the `rules.mk` file are interpreted by `common_features.mk`, which sets the necessary source files and compiler options.\n\nThe `post_rules.mk` file can interpret `features` of a keyboard-level before `common_features.mk`.  For example, when your designed keyboard has the option to implement backlighting or underglow using rgblight.c, writing the following in the `post_rules.mk` makes it easier for the user to configure the `rules.mk`.\n\n['`keyboards/top_folder/keymaps/a_keymap/rules.mk`', '```\\n# Please set the following according to the selection of the hardware implementation option.\\nRGBLED_OPTION_TYPE = backlight   ## none, backlight or underglow\\n```', '`keyboards/top_folder/post_rules.mk`', '```\\nifeq ($(filter $(strip $(RGBLED_OPTION_TYPE))x, nonex backlightx underglowx x),)\\n   $(error unknown RGBLED_OPTION_TYPE value \"$(RGBLED_OPTION_TYPE)\")\\nendif\\n\\nifeq ($(strip $(RGBLED_OPTION_TYPE)),backlight)\\n  RGBLIGHT_ENABLE = yes\\n  OPT_DEFS += -DRGBLIGHT_LED_COUNT=30\\nendif\\nifeq ($(strip $(RGBLED_OPTION_TYPE)),underglow)\\n  RGBLIGHT_ENABLE = yes\\n  OPT_DEFS += -DRGBLIGHT_LED_COUNT=6\\nendif\\n```']\n\n::: tip\nSee `build_keyboard.mk` and `common_features.mk` for more details.\n:::",
          "`<keyboard>.c`": "This file should contain C code required for the functionality of your keyboard, for example hardware initialisation code, OLED display code, and so on. This file should only contain code necessary for the keyboard to work, and *not* things that should be left to the end user to configure in their keymap. This file is automatically included in compilation if it exists. This is not a required file.\n\nThe following functions are typically defined in this file:\n\n['`void matrix_init_kb(void)`', '`void matrix_scan_kb(void)`', '`bool process_record_kb(uint16_t keycode, keyrecord_t *record)`', '`bool led_update_kb(led_t led_state)`']",
          "`<keyboard>.h`": "This file can contain function prototypes for custom functions and other header file code utilised by `<keyboard>.c`. The `<keyboard>.c` file should include this file. This is not a required file."
        },
        "Image/Hardware Files": "In an effort to keep the repo size down we do not accept binary files of any format, with few exceptions. Hosting them elsewhere (such as <https://imgur.com>) and linking them in the `readme.md` is preferred. Hardware files such as plates, cases, and PCBs can be published in a personal repository or elsewhere, and linked to by your keyboard's `readme.md` file.",
        "Keyboard Defaults": {
          "Magic Keycodes and Command": "[Magic Keycodes](keycodes_magic) and [Command](features/command) are two related features that allow a user to control their keyboard in non-obvious ways. We recommend you think long and hard about if you're going to enable either feature, and how you will expose this functionality. Keep in mind that users who want this functionality can enable it in their personal keymaps without affecting all the novice users who may be using your keyboard as their first programmable board.\n\nIf your keyboard does not have 2 shift keys you should provide a working default for `IS_COMMAND`, even when you have set `COMMAND_ENABLE = no`. This will give your users a default to conform to if they do enable Command."
        },
        "Custom Keyboard Programming": "As documented on [Customizing Functionality](custom_quantum_functions) you can define custom functions for your keyboard. Please keep in mind that your users may want to customize that behavior as well, and make it possible for them to do that. If you are providing a custom function, for example `process_record_kb()`, make sure that your function calls the `_user()` version of the call too. You should also take into account the return value of the `_user()` version, and only run your custom code if the user returns `true`.",
        "Non-Production/Handwired Projects": "We're happy to accept any project that uses QMK, including handwired ones, but we have a separate `/keyboards/handwired/` folder for them, so the main `/keyboards/` folder doesn't get overcrowded. If a prototype project becomes a production project at some point in the future, we'd be happy to move it to the main `/keyboards/` folder!",
        "Warnings as Errors": "When developing your keyboard, keep in mind that all warnings will be treated as errors - these small warnings can build-up and cause larger errors down the road (and keeping them is generally a bad practice).",
        "Copyright Blurb": "If you're adapting your keyboard's setup from another project, but not using the same code, be sure to update the copyright header at the top of the files to show your name, in this format:\n\n```\nCopyright 2017 Your Name <your@email.com>\n```\n\nIf you are modifying someone else's code and have made only trivial changes you should leave their name in the copyright statement. If you have done significant work on the file you should add your name to theirs, like so:\n\n```\nCopyright 2017 Their Name <original_author@example.com> Your Name <you@example.com>\n```\n\nThe year should be the first year the file is created. If work was done to that file in later years you can reflect that by appending the second year to the first, like so:\n\n```\nCopyright 2015-2017 Your Name <you@example.com>\n```",
        "License": "The core of QMK is licensed under the [GNU General Public License](https://www.gnu.org/licenses/licenses.en.html). If you are shipping binaries for AVR processors you may choose either [GPLv2](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) or [GPLv3](https://www.gnu.org/licenses/gpl.html). If you are shipping binaries for ARM processors you must choose [GPL Version 3](https://www.gnu.org/licenses/gpl.html) to comply with the [ChibiOS](https://www.chibios.org) GPLv3 license."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 52]"
    },
    {
      "title": "How A Matrix Works",
      "description": null,
      "content": {
        "How a Keyboard Matrix Works": "Keyboard switch matrices are arranged in rows and columns. Without a matrix circuit, each switch would require its own wire directly to the controller.\n\nWhen the circuit is arranged in rows and columns, if a key is pressed, a column wire makes contact with a row wire and completes a circuit. The keyboard controller detects this closed circuit and registers it as a key press.\n\nThe microcontroller will be set up via the firmware to send a logical 1 to the columns, one at a time, and read from the rows, all at once - this process is called matrix scanning. The matrix is a bunch of open switches that, by default, don't allow any current to pass through - the firmware will read this as no keys being pressed. As soon as you press one key down, the logical 1 that was coming from the column the keyswitch is attached to gets passed through the switch and to the corresponding row - check out the following 2x2 example:\n\n```\n        Column 0 being scanned     Column 1 being scanned\n                  x                                   x\n                 col0     col1              col0     col1\n                  |        |                 |        |\n        row0 ---(key0)---(key1)    row0 ---(key0)---(key1)\n                  |        |                 |        |\n        row1 ---(key2)---(key3)    row1 ---(key2)---(key3)\n```\n\nThe `x` represents that the column/row associated has a value of 1, or is HIGH. Here, we see that no keys are being pressed, so no rows get an `x`. For one keyswitch, keep in mind that one side of the contacts is connected to its row, and the other, its column.\n\nWhen we press `key0`, `col0` gets connected to `row0`, so the values that the firmware receives for that row is `0b01` (the `0b` here means that this is a bit value, meaning all of the following digits are bits - 0 or 1 - and represent the keys in that column). We'll use this notation to show when a keyswitch has been pressed, to show that the column and row are being connected:\n\n```\n        Column 0 being scanned     Column 1 being scanned\n                  x                                   x\n                 col0     col1              col0     col1\n                  |        |                 |        |\n      x row0 ---(-+-0)---(key1)    row0 ---(-+-0)---(key1)\n                  |        |                 |        |\n        row1 ---(key2)---(key3)    row1 ---(key2)---(key3)\n```\n\nWe can now see that `row0` has an `x`, so has the value of 1. As a whole, the data the firmware receives when `key0` is pressed is:\n\n```\ncol0: 0b01\ncol1: 0b00\n        row0\n        row1\n```\n\nA problem arises when you start pressing more than one key at a time. Looking at our matrix again, it should become pretty obvious:\n\n```\n        Column 0 being scanned     Column 1 being scanned\n                  x                                   x\n                 col0     col1              col0     col1\n                  |        |                 |        |\n      x row0 ---(-+-0)---(-+-1)  x row0 ---(-+-0)---(-+-1)\n                  |        |                 |        |\n      x row1 ---(key2)---(-+-3)  x row1 ---(key2)---(-+-3)\n\n      Remember that this ^ is still connected to row1\n```\n\nThe data we get from that is:\n\n```\ncol0: 0b11\ncol1: 0b11\n        row0\n        row1\n```\n\nWhich isn't accurate, since we only have 3 keys pressed down, not all 4. This behavior is called ghosting, and only happens in odd scenarios like this, but can be much more common on a bigger keyboard. The way we can get around this is by placing a diode after the keyswitch, but before it connects to its row. A diode only allows current to pass through one way, which will protect our other columns/rows from being activated in the previous example. We'll represent a dioded matrix like this;\n\n```\n        Column 0 being scanned     Column 1 being scanned\n                    x                                   x\n                  col0      col1              col0     col1\n                                             |        \n                 (key0)   (key1)            (key0)   (key1)\n                  !       !                ! |      ! \n        row0       row0  \n                                             |        \n                 (key2)   (key3)            (key2)   (key3)\n                  !        !                 !        !\n        row1        row1 \n```\n\nIn practical applications, the black line of the diode will be placed facing the row, and away from the keyswitch - the `!` in this case is the diode, where the gap represents the black line. A good way to remember this is to think of this symbol: `>|`\n\nNow when we press the three keys, invoking what would be a ghosting scenario:\n\n```\n        Column 0 being scanned     Column 1 being scanned\n                    x                                   x\n                  col0      col1              col0     col1\n                                                     \n                 (0)   (1)            (0)   (1)\n                  !       !                !       ! \n      x row0     x row0  \n                                                     \n                 (key2)   (3)            (key2)   (3)\n                  !        !                 !        !\n        row1      x row1 \n```\n\nThings act as they should! Which will get us the following data:\n\n```\ncol0: 0b01\ncol1: 0b11\n        row0\n        row1\n```\n\nThe firmware can then use this correct data to detect what it should do, and eventually, what signals it needs to send to the OS.\n\nFurther reading:\n\n['[Wikipedia article](https://en.wikipedia.org/wiki/Keyboard_matrix_circuit)', '[Deskthority article](https://deskthority.net/wiki/Keyboard_matrix)', '[Keyboard Matrix Help by Dave Dribin (2000)](https://www.dribin.org/dave/keyboard/one_html/)', '[How Key Matrices Works by PCBheaven](https://pcbheaven.com/wikipages/How_Key_Matrices_Works/) (animated examples)', '[How keyboards work - QMK documentation](how_keyboards_work)']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 53]"
    },
    {
      "title": "How Keys Are Registered, and Interpreted by Computers",
      "description": null,
      "content": {
        "Schematic View": "Whenever you type on 1 particular key, here is the chain of actions taking\nplace:\n\n```\n+------+         +-----+       +----------+      +----------+     +----+\n| User |-------->| Key |------>| Firmware |----->| USB wire |---->| OS |\n+------+         +-----+       +----------+      +----------+     +----+\n```\n\nThis scheme is a very simple view of what's going on, and more details follow\nin the next sections.",
        "1. You Press a Key": "Whenever you press a key, the firmware of your keyboard can register this event.\nIt can register when the key is pressed, held and released.\n\nThis usually happens with a periodic scan of key presses. This speed often is limited by the mechanical key response time, the protocol to transfer those key presses (here USB HID), and by the software it is used in.",
        "2. What the Firmware Sends": "The [HID specification](https://www.usb.org/sites/default/files/documents/hut1_12v2.pdf) tells what a keyboard can actually send through USB to have a chance to be properly recognised. This includes a pre-defined list of scancodes which are simple numbers from `0x00` to `0xE7`. The firmware assigns a scancode to each key of the keyboard.\n\nThe firmware does not send actual letters or characters, but only scancodes.\nThus, by modifying the firmware, you can only modify what scancode is sent over\nUSB for a given key.",
        "3. What the Event Input/Kernel Does": "The *scancode* is mapped to a *keycode* dependent on the keyboard [60-keyboard.hwdb at Main](https://github.com/systemd/systemd/blob/main/hwdb.d/60-keyboard.hwdb). Without this mapping, the operating system will not receive a valid keycode and will be unable to do anything useful with that key press.",
        "4. What the Operating System Does": "Once the keycode reaches the operating system, a piece of software has to have\nit match an actual character thanks to a keyboard layout. For example, if your\nlayout is set to QWERTY, a sample of the matching table is as follows:\n\n| keycode | character |\n|---------|-----------|\n| 0x04 | a/A |\n| 0x05 | b/B |\n| 0x06 | c/C |\n| ... | ... |\n| 0x1C | y/Y |\n| 0x1D | z/Z |\n| ... | ... |",
        "Back to the Firmware": "As the layout is generally fixed (unless you create your own), the firmware can actually call a keycode by its layout name directly to ease things for you. This is exactly what is done here with `KC_A` actually representing `0x04` in QWERTY. The full list can be found in [keycodes](keycodes).",
        "List of Characters You Can Send": "Putting aside shortcuts, having a limited set of keycodes mapped to a limited layout means that **the list of characters you can assign to a given key are only the ones present in the layout**.\n\nFor example, this means that if you have a QWERTY US layout, and you want to assign one key to produce `` (euro currency symbol), you are unable to do so, because the QWERTY US layout does not have such mapping. You could fix that by using a QWERTY UK layout, or a QWERTY US International.\n\nYou may wonder why a keyboard layout containing all of Unicode is not devised then? The limited number of keycodes available through USB simply disallows such a thing.",
        "How to (Maybe) Enter Unicode Characters": "You can have the firmware send *sequences of keys* to use the [software Unicode Input Method](https://en.wikipedia.org/wiki/Unicode_input#Hexadecimal_input) of the target operating system, thus effectively entering characters independently of the layout defined in the OS.\n\nYet, it does come with multiple disadvantages:\n\n['Tied to a specific OS at a time (need recompilation when changing OS);', 'Within a given OS, does not work in all software;', 'Limited to a subset of Unicode on some systems.']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 54]"
    },
    {
      "title": "Quantum Mechanical Keyboard Firmware",
      "description": null,
      "content": {
        "What is QMK Firmware?": "QMK (*Quantum Mechanical Keyboard*) is an open source community centered around developing computer input devices. The community encompasses all sorts of input devices, such as keyboards, mice, and MIDI devices. A core group of collaborators maintains [QMK Firmware](https://github.com/qmk/qmk_firmware), [QMK Configurator](https://config.qmk.fm), [QMK Toolbox](https://github.com/qmk/qmk_toolbox), [qmk.fm](https://qmk.fm), and this documentation with the help of community members like you.",
        "Get Started": "::: tip Basic\n[QMK Configurator](newbs_building_firmware_configurator)\n\nUser friendly graphical interfaces, no programming knowledge required.\n:::\n\n::: warning Advanced\n[Use The Source](newbs)\n\nMore powerful, but harder to use.\n:::",
        "Make It Yours": "QMK has lots of features to explore, and a good deal of reference documentation to dig through. Most features are taken advantage of by modifying your [keymap](keymap), and changing the [keycodes](keycodes).",
        "Need help?": "Check out the [support page](support) to see how you can get help using QMK.",
        "Give Back": "There are a lot of ways you can contribute to the QMK Community. The easiest way to get started is to use it and spread the word to your friends.\n\n['Help people out on our forums and chat rooms:', ['[/r/olkb](https://www.reddit.com/r/olkb/)', '[Discord Server](https://discord.gg/qmk)'], 'Contribute to our documentation by clicking \"Edit This Page\" at the bottom', '[Report a bug](https://github.com/qmk/qmk_firmware/issues/new/choose)', '[Open a Pull Request](contributing)']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 55]"
    },
    {
      "title": "ISP Flashing Guide",
      "description": null,
      "content": {
        "Hardware": {
          "Pro Micro as ISP": {
            "Wiring": "|Pro Micro  |Keyboard|\n|-----------|--------|\n|`VCC`      |`VCC`   |\n|`GND`      |`GND`   |\n|`10` (`B6`)|`RESET` |\n|`15` (`B1`)|`SCLK`  |\n|`16` (`B2`)|`MOSI`  |\n|`14` (`B3`)|`MISO`  |\n\n::: warning\nNote that the `10` pin on the Pro Micro should be wired to the `RESET` pin on the keyboard's controller. ***DO NOT*** connect the `RESET` pin on the Pro Micro to the `RESET` on the keyboard.\n:::"
          },
          "Arduino Uno / Micro as ISP": {
            "Wiring": "|Uno        |Keyboard|\n|-----------|--------|\n|`5V`       |`VCC`   |\n|`GND`      |`GND`   |\n|`10` (`B2`)|`RESET` |\n|`13` (`B5`)|`SCLK`  |\n|`11` (`B3`)|`MOSI`  |\n|`12` (`B4`)|`MISO`  |\n\n|Micro      |Keyboard|\n|-----------|--------|\n|`5V`       |`VCC`   |\n|`GND`      |`GND`   |\n|`10` (`B6`)|`RESET` |\n|`15` (`B1`)|`SCLK`  |\n|`16` (`B2`)|`MOSI`  |\n|`14` (`B3`)|`MISO`  |\n\n::: warning\nNote that the `10` pin on the Uno/Micro should be wired to the `RESET` pin on the keyboard's controller. ***DO NOT*** connect the `RESET` pin on the Uno/Micro to the `RESET` on the keyboard.\n:::"
          },
          "Teensy 2.0 as ISP": {
            "Wiring": "|Teensy|Keyboard|\n|------|--------|\n|`VCC` |`VCC`   |\n|`GND` |`GND`   |\n|`B0`  |`RESET` |\n|`B1`  |`SCLK`  |\n|`B2`  |`MOSI`  |\n|`B3`  |`MISO`  |\n\n::: warning\nNote that the `B0` pin on the Teensy should be wired to the `RESET` pin on the keyboard's controller. ***DO NOT*** connect the `RESET` pin on the Teensy to the `RESET` on the keyboard.\n:::"
          },
          "SparkFun PocketAVR / USBtinyISP": {
            "Wiring": "|ISP      |Keyboard|\n|---------|--------|\n|`VCC`    |`VCC`   |\n|`GND`    |`GND`   |\n|`RST`    |`RESET` |\n|`SCLK`   |`SCLK`  |\n|`MOSI`   |`MOSI`  |\n|`MISO`   |`MISO`  |"
          },
          "USBasp": {
            "Wiring": "|ISP      |Keyboard|\n|---------|--------|\n|`VCC`    |`VCC`   |\n|`GND`    |`GND`   |\n|`RST`    |`RESET` |\n|`SCLK`   |`SCLK`  |\n|`MOSI`   |`MOSI`  |\n|`MISO`   |`MISO`  |"
          },
          "Bus Pirate": {
            "Wiring": "|Bus Pirate|Keyboard|\n|----------|--------|\n|`+5V`     |`VCC`   |\n|`GND`     |`GND`   |\n|`RST`     |`RESET` |\n|`CLK`     |`SCLK`  |\n|`MOSI`    |`MOSI`  |\n|`MISO`    |`MISO`  |"
          }
        },
        "Software": "[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases) supports flashing both the ISP firmware and bootloader, but note that it cannot (currently) set the AVR fuse bytes for the actual ISP flashing step, so you may want to work with `avrdude` directly instead.\n\nSetting up the [QMK environment](newbs) is highly recommended, as it automatically installs `avrdude` along with a host of other tools.",
        "Bootloader Firmware": {
          "Atmel DFU": "These are the [factory default bootloaders](https://www.microchip.com/content/dam/mchp/documents/OTH/ProductDocuments/SoftwareLibraries/Firmware/megaUSB_DFU_Bootloaders.zip) shipped by Atmel (now Microchip). Note that the AT90USB64 and AT90USB128 bootloaders are [slightly modified](https://github.com/qmk/qmk_firmware/pull/14064), due to a bug causing them to not enumerate properly in Windows 8 and later.\n\n|MCU                                                                                               |Low   |High                           |Extended|USB ID     |\n|--------------------------------------------------------------------------------------------------|------|-------------------------------|--------|-----------|\n|[ATmega16U4](https://github.com/qmk/qmk_firmware/blob/master/util/bootloader_atmega16u4_1.0.1.hex)|`0x5E`|`0x99` / `0xD9` (JTAG disabled)|`0xF3`  |`03EB:2FF3`|\n|[ATmega32U4](https://github.com/qmk/qmk_firmware/blob/master/util/bootloader_atmega32u4_1.0.0.hex)|`0x5E`|`0x99` / `0xD9` (JTAG disabled)|`0xF3`  |`03EB:2FF4`|\n|[AT90USB64](https://github.com/qmk/qmk_firmware/blob/master/util/bootloader_at90usb64_1.0.0.hex)  |`0x5E`|`0x9B` / `0xDB` (JTAG disabled)|`0xF3`  |`03EB:2FF9`|\n|[AT90USB128](https://github.com/qmk/qmk_firmware/blob/master/util/bootloader_at90usb128_1.0.1.hex)|`0x5E`|`0x99` / `0xD9` (JTAG disabled)|`0xF3`  |`03EB:2FFB`|",
          "Caterina": "This is the default Arduino-style bootloader derived from the [LUFA CDC bootloader](https://github.com/abcminiuser/lufa/tree/master/Bootloaders/CDC), and is only for the ATmega32U4.\n\nThere are several variants depending on the vendor, but they all mostly work the same way. The SparkFun variants, for example, require the `RESET` pin to be [grounded twice quickly](https://learn.sparkfun.com/tutorials/pro-micro--fio-v3-hookup-guide#ts-reset) in order to stay in bootloader mode for more than 750 ms.\n\n|MCU                                                                                                                                                              |Low   |High  |Extended|USB ID     |\n|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|------|------|--------|-----------|\n|[SparkFun Pro Micro (3V3/8MHz)](https://github.com/sparkfun/Arduino_Boards/blob/master/sparkfun/avr/bootloaders/caterina/Caterina-promicro8.hex)                 |`0xFF`|`0xD8`|`0xFE`  |`1B4F:9203`|\n|[SparkFun Pro Micro (5V/16MHz)](https://github.com/sparkfun/Arduino_Boards/blob/master/sparkfun/avr/bootloaders/caterina/Caterina-promicro16.hex)                |`0xFF`|`0xD8`|`0xFB`  |`1B4F:9205`|\n|[SparkFun LilyPadUSB (and some Pro Micro clones)](https://github.com/sparkfun/Arduino_Boards/blob/main/sparkfun/avr/bootloaders/caterina/Caterina-lilypadusb.hex)|`0xFF`|`0xD8`|`0xFE`  |`1B4F:9207`|\n|[Pololu A-Star 32U4](https://github.com/pololu/a-star/blob/master/bootloaders/caterina/Caterina-A-Star.hex)*                                                     |`0xFF`|`0xD0`|`0xF8`  |`1FFB:0101`|\n|[Adafruit Feather 32U4](https://github.com/adafruit/Caterina-Bootloader/blob/master/Built%20Firmwares/Caterina-Feather32u4.hex)                                  |`0xFF`|`0xD8`|`0xFB`  |`239A:000C`|\n|[Adafruit ItsyBitsy 32U4 (3V3/8MHz)](https://github.com/adafruit/Caterina-Bootloader/blob/master/Caterina_itsybitsy3V.hex)*                                      |`0xFF`|`0xD8`|`0xFB`  |`239A:000D`|\n|[Adafruit ItsyBitsy 32U4 (5V/16MHz)](https://github.com/adafruit/Caterina-Bootloader/blob/master/Caterina_itsybitsy5V.hex)                                       |`0xFF`|`0xD8`|`0xFB`  |`239A:000E`|\n|[Arduino Leonardo](https://github.com/arduino/ArduinoCore-avr/blob/master/bootloaders/caterina/Caterina-Leonardo.hex)*                                           |`0xFF`|`0xD8`|`0xFB`  |`2341:0036`|\n|[Arduino Micro](https://github.com/arduino/ArduinoCore-avr/blob/master/bootloaders/caterina/Caterina-Micro.hex)*                                                 |`0xFF`|`0xD8`|`0xFB`  |`2341:0037`|\n\n::: tip\nFiles marked with a * have combined Arduino sketches, which runs by default and also appears as a serial port. However, this is *not* the bootloader device.\n:::",
          "BootloadHID (PS2AVRGB)": "This bootloader is primarily for keyboards originally designed for the PS2AVRGB firmware and Bootmapper Client. It is not recommended for use in new designs.\n\n|MCU                                                                                                        |Low   |High  |USB ID     |\n|-----------------------------------------------------------------------------------------------------------|------|------|-----------|\n|[ATmega32A](https://github.com/qmk/qmk_firmware/blob/master/util/bootloader_ps2avrgb_bootloadhid_1.0.1.hex)|`0x0F`|`0xD0`|`16C0:05DF`|",
          "USBaspLoader": "USBaspLoader is a bootloader based on V-USB that emulates a hardware USBasp device. It runs on ATmega32A and ATmega328P MCUs.\n\nPrecompiled `.hex` files are generally not available, but you can compile it yourself by setting up the QMK environment and following Coseyfannitutti's guide for the appropriate MCU:\n\n|MCU                                                                                  |Low   |High  |Extended|USB ID     |\n|-------------------------------------------------------------------------------------|------|------|--------|-----------|\n|[ATmega32A](https://github.com/coseyfannitutti/discipline/tree/master/doc/bootloader)|`0x1F`|`0xC0`|*n/a*   |`16C0:05DC`|\n|[ATmega328P](https://github.com/coseyfannitutti/discipad/tree/master/doc/bootloader) |`0xD7`|`0xD0`|`0x04`  |`16C0:05DC`|\n\nNote that some boards may have their own specialized build of this bootloader in a separate repository. This will usually be linked to in the board's readme."
        },
        "Flashing the Bootloader": {
          "Setting the Fuses": "This is a slightly more advanced topic, but may be necessary if you are switching from one bootloader to another (for example, Caterina to Atmel/QMK DFU on a Pro Micro). Fuses control some of the low-level functionality of the AVR microcontroller, such as clock speed, whether JTAG is enabled, and the size of the section of flash memory reserved for the bootloader, among other things. You can find a fuse calculator for many AVR parts [here](https://www.engbedded.com/conffuse/).\n\n::: warning\nSetting incorrect fuse values, in particular the clock-related bits, may render the MCU practically unrecoverable without high voltage programming (not covered here)! Make sure to double check the commands you enter before you execute them.\n:::\n\nTo set the fuses, add the following to the `avrdude` command:\n\n```\n-U lfuse:w:0xXX:m -U hfuse:w:0xXX:m -U efuse:w:0xXX:m\n```\n\nwhere the `lfuse`, `hfuse` and `efuse` arguments represent the low, high and extended fuse bytes as listed in the [Hardware](#hardware) section.\n\n::: tip\nYou may get a warning from `avrdude` that the extended fuse byte does not match what you provided when reading it back. If the second hex digit matches, this can usually be safely ignored, because the top four bits of this fuse do not actually exist on many AVR parts, and may read back as anything.\n:::"
        },
        "Creating a \"Production\" Firmware": "For mass production purposes, it is possible to join the bootloader and QMK firmware together into a single file, due to the way the [Intel Hex format](https://en.wikipedia.org/wiki/Intel_HEX) works:\n\n['Open the QMK firmware and bootloader `.hex` files in a text editor.', 'Remove the last line of the QMK firmware (which should be `:00000001FF` - this is just an \"end of file\" marker).', 'Paste the contents of the bootloader `.hex` file onto a new line at the end of the QMK firmware file, with no empty lines between.', 'Save it as a new file, for example `<keyboard>_<keymap>_production.hex`.']\n\nYou can then ISP flash this combined firmware instead, which allows you to skip the extra step of flashing the QMK firmware over USB.",
        "Flashing STM32Duino Bootloader": {
          "Software": "To communicate with the ST-Link, you must install the following packages:\n\n['**macOS:** `brew install stlink openocd`', '**Windows (MSYS2):** `pacman -S mingw-w64-x86_64-stlink mingw-w64-x86_64-openocd`', '**Linux:** will vary by distribution, but will likely be `stlink` and `openocd` through your particular package manager']\n\nAdditionally, you may need to update the ST-Link's firmware with the [`STSW-LINK007`](https://www.st.com/en/development-tools/stsw-link007.html) application. Note you will be asked to provide your name and email address if you do not have an ST.com account (this does not create one).\n\nFinally, the bootloader binary itself can be downloaded from [here](https://github.com/rogerclarkmelbourne/STM32duino-bootloader/blob/master/bootloader_only_binaries/generic_boot20_pc13.bin).",
          "Wiring": "Connect the four-pin header on the end of the Bluepill to the matching pins on the ST-Link (the pinout will usually be printed on the side):\n\n|ST-Link      |Bluepill|\n|-------------|--------|\n|`GND` (6)    |`GND`   |\n|`SWCLK` (2)  |`DCLK`  |\n|`SWDIO` (4)  |`DIO`   |\n|`3.3V` (8)   |`3.3`   |",
          "Flashing": "Firstly, make sure both jumpers on the Bluepill are set to 0.\n\nCheck that the ST-Link can talk to the Bluepill by running `st-info --probe`:\n\n```\nFound 1 stlink programmers\n  version:    V2J37S7\n  serial:     2C1219002B135937334D4E00\n  flash:      65536 (pagesize: 1024)\n  sram:       20480\n  chipid:     0x0410\n  descr:      F1xx Medium-density\n```\n\nIf the reported `chipid` is `0x0410`, everything is working. If it is `0x0000`, check your wiring, and try swapping the `SWDIO` and `SWCLK` pins, as some ST-Link dongles may have incorrect pinouts.\n\nNext, run the following command:\n\n```\nst-flash --reset --format binary write <path-to-bootloader> 0x08000000\n```\n\nwhere `<path-to-bootloader>` is the path to the bootloader `.bin` file above. You can run this command from the directory you downloaded it to, so that you can simply pass in the filename.\n\nIf all goes well, you should get output similar to the following:\n\n```\nst-flash 1.7.0\n2022-03-08T12:16:30 INFO common.c: F1xx Medium-density: 20 KiB SRAM, 64 KiB flash in at least 1 KiB pages.\nfile generic_boot20_pc13.bin md5 checksum: 333c30605e739ce9bedee5999fdaf81b, stlink checksum: 0x0008e534\n2022-03-08T12:16:30 INFO common.c: Attempting to write 7172 (0x1c04) bytes to stm32 address: 134217728 (0x8000000)\n2022-03-08T12:16:30 INFO common.c: Flash page at addr: 0x08000000 erased\n2022-03-08T12:16:30 INFO common.c: Flash page at addr: 0x08000400 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08000800 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08000c00 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08001000 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08001400 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08001800 erased\n2022-03-08T12:16:31 INFO common.c: Flash page at addr: 0x08001c00 erased\n2022-03-08T12:16:31 INFO common.c: Finished erasing 8 pages of 1024 (0x400) bytes\n2022-03-08T12:16:31 INFO common.c: Starting Flash write for VL/F0/F3/F1_XL\n2022-03-08T12:16:31 INFO flash_loader.c: Successfully loaded flash loader in sram\n2022-03-08T12:16:31 INFO flash_loader.c: Clear DFSR\n  8/  8 pages written\n2022-03-08T12:16:31 INFO common.c: Starting verification of write complete\n2022-03-08T12:16:31 INFO common.c: Flash written and verified! jolly good!\n2022-03-08T12:16:31 WARN common.c: NRST is not connected\n```\n\nOtherwise, if you receive an `Unknown memory region` error, run the following command to unlock the STM32F103:\n\n```\nopenocd -f interface/stlink.cfg -f target/stm32f1x.cfg -c \"init; reset halt; stm32f1x unlock 0; reset halt; exit\"\n```\n\nThen re-plug the ST-Link and try again.\n\nAfter all of this, unplug the Bluepill from the ST-Link and connect it to USB. It should now be ready to flash using dfu-util, the QMK CLI or Toolbox."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 56]"
    },
    {
      "title": "Keycodes Overview",
      "description": null,
      "content": {
        "Basic Keycodes {#basic-keycodes}": "See also: [Basic Keycodes](keycodes_basic)\n\n|Key                     |Aliases                        |Description                            |Windows      |macOS        |Linux<sup>1</sup>|\n|------------------------|-------------------------------|---------------------------------------|-------------|-------------|-----------------|\n|`KC_NO`                 |`XXXXXXX`                      |Ignore this key (NOOP)                 |*N/A*        |*N/A*        |*N/A*            |\n|`KC_TRANSPARENT`        |`KC_TRNS`, `_______`           |Use the next lowest non-transparent key|*N/A*        |*N/A*        |*N/A*            |\n|`KC_A`                  |                               |`a` and `A`                            |            |            |                |\n|`KC_B`                  |                               |`b` and `B`                            |            |            |                |\n|`KC_C`                  |                               |`c` and `C`                            |            |            |                |\n|`KC_D`                  |                               |`d` and `D`                            |            |            |                |\n|`KC_E`                  |                               |`e` and `E`                            |            |            |                |\n|`KC_F`                  |                               |`f` and `F`                            |            |            |                |\n|`KC_G`                  |                               |`g` and `G`                            |            |            |                |\n|`KC_H`                  |                               |`h` and `H`                            |            |            |                |\n|`KC_I`                  |                               |`i` and `I`                            |            |            |                |\n|`KC_J`                  |                               |`j` and `J`                            |            |            |                |\n|`KC_K`                  |                               |`k` and `K`                            |            |            |                |\n|`KC_L`                  |                               |`l` and `L`                            |            |            |                |\n|`KC_M`                  |                               |`m` and `M`                            |            |            |                |\n|`KC_N`                  |                               |`n` and `N`                            |            |            |                |\n|`KC_O`                  |                               |`o` and `O`                            |            |            |                |\n|`KC_P`                  |                               |`p` and `P`                            |            |            |                |\n|`KC_Q`                  |                               |`q` and `Q`                            |            |            |                |\n|`KC_R`                  |                               |`r` and `R`                            |            |            |                |\n|`KC_S`                  |                               |`s` and `S`                            |            |            |                |\n|`KC_T`                  |                               |`t` and `T`                            |            |            |                |\n|`KC_U`                  |                               |`u` and `U`                            |            |            |                |\n|`KC_V`                  |                               |`v` and `V`                            |            |            |                |\n|`KC_W`                  |                               |`w` and `W`                            |            |            |                |\n|`KC_X`                  |                               |`x` and `X`                            |            |            |                |\n|`KC_Y`                  |                               |`y` and `Y`                            |            |            |                |\n|`KC_Z`                  |                               |`z` and `Z`                            |            |            |                |\n|`KC_1`                  |                               |`1` and `!`                            |            |            |                |\n|`KC_2`                  |                               |`2` and `@`                            |            |            |                |\n|`KC_3`                  |                               |`3` and `#`                            |            |            |                |\n|`KC_4`                  |                               |`4` and `$`                            |            |            |                |\n|`KC_5`                  |                               |`5` and `%`                            |            |            |                |\n|`KC_6`                  |                               |`6` and `^`                            |            |            |                |\n|`KC_7`                  |                               |`7` and `&`                            |            |            |                |\n|`KC_8`                  |                               |`8` and `*`                            |            |            |                |\n|`KC_9`                  |                               |`9` and `(`                            |            |            |                |\n|`KC_0`                  |                               |`0` and `)`                            |            |            |                |\n|`KC_ENTER`              |`KC_ENT`                       |Return (Enter)                         |            |            |                |\n|`KC_ESCAPE`             |`KC_ESC`                       |Escape                                 |            |            |                |\n|`KC_BACKSPACE`          |`KC_BSPC`                      |Delete (Backspace)                     |            |            |                |\n|`KC_TAB`                |                               |Tab                                    |            |            |                |\n|`KC_SPACE`              |`KC_SPC`                       |Spacebar                               |            |            |                |\n|`KC_MINUS`              |`KC_MINS`                      |`-` and `_`                            |            |            |                |\n|`KC_EQUAL`              |`KC_EQL`                       |`=` and `+`                            |            |            |                |\n|`KC_LEFT_BRACKET`       |`KC_LBRC`                      |`[` and `{`                            |            |            |                |\n|`KC_RIGHT_BRACKET`      |`KC_RBRC`                      |`]` and `}`                            |            |            |                |\n|`KC_BACKSLASH`          |`KC_BSLS`                      |`\\` and `\\|`                           |            |            |                |\n|`KC_NONUS_HASH`         |`KC_NUHS`                      |Non-US `#` and `~`                     |            |            |                |\n|`KC_SEMICOLON`          |`KC_SCLN`                      |`;` and `:`                            |            |            |                |\n|`KC_QUOTE`              |`KC_QUOT`                      |`'` and `\"`                            |            |            |                |\n|`KC_GRAVE`              |`KC_GRV`                       |<code>&#96;</code> and `~`             |            |            |                |\n|`KC_COMMA`              |`KC_COMM`                      |`,` and `<`                            |            |            |                |\n|`KC_DOT`                |                               |`.` and `>`                            |            |            |                |\n|`KC_SLASH`              |`KC_SLSH`                      |`/` and `?`                            |            |            |                |\n|`KC_CAPS_LOCK`          |`KC_CAPS`                      |Caps Lock                              |            |            |                |\n|`KC_F1`                 |                               |F1                                     |            |            |                |\n|`KC_F2`                 |                               |F2                                     |            |            |                |\n|`KC_F3`                 |                               |F3                                     |            |            |                |\n|`KC_F4`                 |                               |F4                                     |            |            |                |\n|`KC_F5`                 |                               |F5                                     |            |            |                |\n|`KC_F6`                 |                               |F6                                     |            |            |                |\n|`KC_F7`                 |                               |F7                                     |            |            |                |\n|`KC_F8`                 |                               |F8                                     |            |            |                |\n|`KC_F9`                 |                               |F9                                     |            |            |                |\n|`KC_F10`                |                               |F10                                    |            |            |                |\n|`KC_F11`                |                               |F11                                    |            |            |                |\n|`KC_F12`                |                               |F12                                    |            |            |                |\n|`KC_PRINT_SCREEN`       |`KC_PSCR`                      |Print Screen                           |            |<sup>2</sup>|                |\n|`KC_SCROLL_LOCK`        |`KC_SCRL`, `KC_BRMD`           |Scroll Lock, Brightness Down (macOS)   |            |<sup>2</sup>|                |\n|`KC_PAUSE`              |`KC_PAUS`, `KC_BRK`, `KC_BRMU` |Pause, Brightness Up (macOS)           |            |<sup>2</sup>|                |\n|`KC_INSERT`             |`KC_INS`                       |Insert                                 |            |             |                |\n|`KC_HOME`               |                               |Home                                   |            |            |                |\n|`KC_PAGE_UP`            |`KC_PGUP`                      |Page Up                                |            |            |                |\n|`KC_DELETE`             |`KC_DEL`                       |Forward Delete                         |            |            |                |\n|`KC_END`                |                               |End                                    |            |            |                |\n|`KC_PAGE_DOWN`          |`KC_PGDN`                      |Page Down                              |            |            |                |\n|`KC_RIGHT`              |`KC_RGHT`                      |Right Arrow                            |            |            |                |\n|`KC_LEFT`               |                               |Left Arrow                             |            |            |                |\n|`KC_DOWN`               |                               |Down Arrow                             |            |            |                |\n|`KC_UP`                 |                               |Up Arrow                               |            |            |                |\n|`KC_NUM_LOCK`           |`KC_NUM`                       |Keypad Num Lock and Clear              |            |            |                |\n|`KC_KP_SLASH`           |`KC_PSLS`                      |Keypad `/`                             |            |            |                |\n|`KC_KP_ASTERISK`        |`KC_PAST`                      |Keypad `*`                             |            |            |                |\n|`KC_KP_MINUS`           |`KC_PMNS`                      |Keypad `-`                             |            |            |                |\n|`KC_KP_PLUS`            |`KC_PPLS`                      |Keypad `+`                             |            |            |                |\n|`KC_KP_ENTER`           |`KC_PENT`                      |Keypad Enter                           |            |            |                |\n|`KC_KP_1`               |`KC_P1`                        |Keypad `1` and End                     |            |            |                |\n|`KC_KP_2`               |`KC_P2`                        |Keypad `2` and Down Arrow              |            |            |                |\n|`KC_KP_3`               |`KC_P3`                        |Keypad `3` and Page Down               |            |            |                |\n|`KC_KP_4`               |`KC_P4`                        |Keypad `4` and Left Arrow              |            |            |                |\n|`KC_KP_5`               |`KC_P5`                        |Keypad `5`                             |            |            |                |\n|`KC_KP_6`               |`KC_P6`                        |Keypad `6` and Right Arrow             |            |            |                |\n|`KC_KP_7`               |`KC_P7`                        |Keypad `7` and Home                    |            |            |                |\n|`KC_KP_8`               |`KC_P8`                        |Keypad `8` and Up Arrow                |            |            |                |\n|`KC_KP_9`               |`KC_P9`                        |Keypad `9` and Page Up                 |            |            |                |\n|`KC_KP_0`               |`KC_P0`                        |Keypad `0` and Insert                  |            |            |                |\n|`KC_KP_DOT`             |`KC_PDOT`                      |Keypad `.` and Delete                  |            |            |                |\n|`KC_NONUS_BACKSLASH`    |`KC_NUBS`                      |Non-US `\\` and `\\|`                    |            |            |                |\n|`KC_APPLICATION`        |`KC_APP`                       |Application (Windows Context Menu Key) |            |             |                |\n|`KC_KB_POWER`           |                               |System Power                           |             |<sup>3</sup>|                |\n|`KC_KP_EQUAL`           |`KC_PEQL`                      |Keypad `=`                             |            |            |                |\n|`KC_F13`                |                               |F13                                    |            |            |                |\n|`KC_F14`                |                               |F14                                    |            |            |                |\n|`KC_F15`                |                               |F15                                    |            |            |                |\n|`KC_F16`                |                               |F16                                    |            |            |                |\n|`KC_F17`                |                               |F17                                    |            |            |                |\n|`KC_F18`                |                               |F18                                    |            |            |                |\n|`KC_F19`                |                               |F19                                    |            |            |                |\n|`KC_F20`                |                               |F20                                    |            |             |                |\n|`KC_F21`                |                               |F21                                    |            |             |                |\n|`KC_F22`                |                               |F22                                    |            |             |                |\n|`KC_F23`                |                               |F23                                    |            |             |                |\n|`KC_F24`                |                               |F24                                    |            |             |                |\n|`KC_EXECUTE`            |`KC_EXEC`                      |Execute                                |             |             |                |\n|`KC_HELP`               |                               |Help                                   |             |             |                |\n|`KC_MENU`               |                               |Menu                                   |             |             |                |\n|`KC_SELECT`             |`KC_SLCT`                      |Select                                 |             |             |                |\n|`KC_STOP`               |                               |Stop                                   |             |             |                |\n|`KC_AGAIN`              |`KC_AGIN`                      |Again                                  |             |             |                |\n|`KC_UNDO`               |                               |Undo                                   |             |             |                |\n|`KC_CUT`                |                               |Cut                                    |             |             |                |\n|`KC_COPY`               |                               |Copy                                   |             |             |                |\n|`KC_PASTE`              |`KC_PSTE`                      |Paste                                  |             |             |                |\n|`KC_FIND`               |                               |Find                                   |             |             |                |\n|`KC_KB_MUTE`            |                               |Mute                                   |             |            |                |\n|`KC_KB_VOLUME_UP`       |                               |Volume Up                              |             |            |                |\n|`KC_KB_VOLUME_DOWN`     |                               |Volume Down                            |             |            |                |\n|`KC_LOCKING_CAPS_LOCK`  |`KC_LCAP`                      |Locking Caps Lock                      |            |            |                 |\n|`KC_LOCKING_NUM_LOCK`   |`KC_LNUM`                      |Locking Num Lock                       |            |            |                 |\n|`KC_LOCKING_SCROLL_LOCK`|`KC_LSCR`                      |Locking Scroll Lock                    |            |            |                 |\n|`KC_KP_COMMA`           |`KC_PCMM`                      |Keypad `,`                             |             |             |                |\n|`KC_KP_EQUAL_AS400`     |                               |Keypad `=` on AS/400 keyboards         |             |             |                 |\n|`KC_INTERNATIONAL_1`    |`KC_INT1`                      |International 1                        |            |             |                |\n|`KC_INTERNATIONAL_2`    |`KC_INT2`                      |International 2                        |            |             |                |\n|`KC_INTERNATIONAL_3`    |`KC_INT3`                      |International 3                        |            |             |                |\n|`KC_INTERNATIONAL_4`    |`KC_INT4`                      |International 4                        |            |             |                |\n|`KC_INTERNATIONAL_5`    |`KC_INT5`                      |International 5                        |            |             |                |\n|`KC_INTERNATIONAL_6`    |`KC_INT6`                      |International 6                        |             |             |                |\n|`KC_INTERNATIONAL_7`    |`KC_INT7`                      |International 7                        |             |             |                 |\n|`KC_INTERNATIONAL_8`    |`KC_INT8`                      |International 8                        |             |             |                 |\n|`KC_INTERNATIONAL_9`    |`KC_INT9`                      |International 9                        |             |             |                 |\n|`KC_LANGUAGE_1`         |`KC_LNG1`                      |Language 1                             |             |             |                |\n|`KC_LANGUAGE_2`         |`KC_LNG2`                      |Language 2                             |             |             |                |\n|`KC_LANGUAGE_3`         |`KC_LNG3`                      |Language 3                             |             |             |                |\n|`KC_LANGUAGE_4`         |`KC_LNG4`                      |Language 4                             |             |             |                |\n|`KC_LANGUAGE_5`         |`KC_LNG5`                      |Language 5                             |             |             |                |\n|`KC_LANGUAGE_6`         |`KC_LNG6`                      |Language 6                             |             |             |                 |\n|`KC_LANGUAGE_7`         |`KC_LNG7`                      |Language 7                             |             |             |                 |\n|`KC_LANGUAGE_8`         |`KC_LNG8`                      |Language 8                             |             |             |                 |\n|`KC_LANGUAGE_9`         |`KC_LNG9`                      |Language 9                             |             |             |                 |\n|`KC_ALTERNATE_ERASE`    |`KC_ERAS`                      |Alternate Erase                        |             |             |                 |\n|`KC_SYSTEM_REQUEST`     |`KC_SYRQ`                      |SysReq/Attention                       |             |             |                 |\n|`KC_CANCEL`             |`KC_CNCL`                      |Cancel                                 |             |             |                 |\n|`KC_CLEAR`              |`KC_CLR`                       |Clear                                  |             |             |                |\n|`KC_PRIOR`              |`KC_PRIR`                      |Prior                                  |             |             |                 |\n|`KC_RETURN`             |`KC_RETN`                      |Return                                 |             |             |                 |\n|`KC_SEPARATOR`          |`KC_SEPR`                      |Separator                              |             |             |                 |\n|`KC_OUT`                |                               |Out                                    |             |             |                 |\n|`KC_OPER`               |                               |Oper                                   |             |             |                 |\n|`KC_CLEAR_AGAIN`        |`KC_CLAG`                      |Clear/Again                            |             |             |                 |\n|`KC_CRSEL`              |`KC_CRSL`                      |CrSel/Props                            |             |             |                 |\n|`KC_EXSEL`              |`KC_EXSL`                      |ExSel                                  |             |             |                 |\n|`KC_LEFT_CTRL`          |`KC_LCTL`                      |Left Control                           |            |            |                |\n|`KC_LEFT_SHIFT`         |`KC_LSFT`                      |Left Shift                             |            |            |                |\n|`KC_LEFT_ALT`           |`KC_LALT`, `KC_LOPT`           |Left Alt (Option)                      |            |            |                |\n|`KC_LEFT_GUI`           |`KC_LGUI`, `KC_LCMD`, `KC_LWIN`|Left GUI (Windows/Command/Super key)   |            |            |                |\n|`KC_RIGHT_CTRL`         |`KC_RCTL`                      |Right Control                          |            |            |                |\n|`KC_RIGHT_SHIFT`        |`KC_RSFT`                      |Right Shift                            |            |            |                |\n|`KC_RIGHT_ALT`          |`KC_RALT`, `KC_ROPT`, `KC_ALGR`|Right Alt (Option/AltGr)               |            |            |                |\n|`KC_RIGHT_GUI`          |`KC_RGUI`, `KC_RCMD`, `KC_RWIN`|Right GUI (Windows/Command/Super key)  |            |            |                |\n|`KC_SYSTEM_POWER`       |`KC_PWR`                       |System Power Down                      |            |<sup>3</sup>|                |\n|`KC_SYSTEM_SLEEP`       |`KC_SLEP`                      |System Sleep                           |            |<sup>3</sup>|                |\n|`KC_SYSTEM_WAKE`        |`KC_WAKE`                      |System Wake                            |             |<sup>3</sup>|                |\n|`KC_AUDIO_MUTE`         |`KC_MUTE`                      |Mute                                   |            |            |                |\n|`KC_AUDIO_VOL_UP`       |`KC_VOLU`                      |Volume Up                              |            |<sup>4</sup>|                |\n|`KC_AUDIO_VOL_DOWN`     |`KC_VOLD`                      |Volume Down                            |            |<sup>4</sup>|                |\n|`KC_MEDIA_NEXT_TRACK`   |`KC_MNXT`                      |Next Track                             |            |<sup>5</sup>|                |\n|`KC_MEDIA_PREV_TRACK`   |`KC_MPRV`                      |Previous Track                         |            |<sup>5</sup>|                |\n|`KC_MEDIA_STOP`         |`KC_MSTP`                      |Stop Track                             |            |             |                |\n|`KC_MEDIA_PLAY_PAUSE`   |`KC_MPLY`                      |Play/Pause Track                       |            |            |                |\n|`KC_MEDIA_SELECT`       |`KC_MSEL`                      |Launch Media Player                    |            |             |                |\n|`KC_MEDIA_EJECT`        |`KC_EJCT`                      |Eject                                  |             |            |                |\n|`KC_MAIL`               |                               |Launch Mail                            |            |             |                |\n|`KC_CALCULATOR`         |`KC_CALC`                      |Launch Calculator                      |            |             |                |\n|`KC_MY_COMPUTER`        |`KC_MYCM`                      |Launch My Computer                     |            |             |                |\n|`KC_WWW_SEARCH`         |`KC_WSCH`                      |Browser Search                         |            |             |                |\n|`KC_WWW_HOME`           |`KC_WHOM`                      |Browser Home                           |            |             |                |\n|`KC_WWW_BACK`           |`KC_WBAK`                      |Browser Back                           |            |             |                |\n|`KC_WWW_FORWARD`        |`KC_WFWD`                      |Browser Forward                        |            |             |                |\n|`KC_WWW_STOP`           |`KC_WSTP`                      |Browser Stop                           |            |             |                |\n|`KC_WWW_REFRESH`        |`KC_WREF`                      |Browser Refresh                        |            |             |                |\n|`KC_WWW_FAVORITES`      |`KC_WFAV`                      |Browser Favorites                      |            |             |                |\n|`KC_MEDIA_FAST_FORWARD` |`KC_MFFD`                      |Next Track                             |            |<sup>5</sup>|                |\n|`KC_MEDIA_REWIND`       |`KC_MRWD`                      |Previous Track                         |<sup>6</sup>|<sup>5</sup>|                |\n|`KC_BRIGHTNESS_UP`      |`KC_BRIU`                      |Brightness Up                          |            |            |                |\n|`KC_BRIGHTNESS_DOWN`    |`KC_BRID`                      |Brightness Down                        |            |            |                |\n|`KC_CONTROL_PANEL`      |`KC_CPNL`                      |Open Control Panel                     |            |             |                 |\n|`KC_ASSISTANT`          |`KC_ASST`                      |Launch Context-Aware Assistant         |            |             |                 |\n|`KC_MISSION_CONTROL`    |`KC_MCTL`                      |Open Mission Control                   |             |            |                 |\n|`KC_LAUNCHPAD`          |`KC_LPAD`                      |Open Launchpad                         |             |            |                 |\n\n<sup>1. The Linux kernel HID driver recognizes [nearly all keycodes](https://github.com/torvalds/linux/blob/master/drivers/hid/hid-input.c), but the default bindings depend on the DE/WM.</sup><br/>\n<sup>2. Treated as F13-F15.</sup><br/>\n<sup>3. Must be held for about three seconds, and will display a prompt instead.</sup><br/>\n<sup>4. Holding Shift+Option allows for finer control of volume level.</sup><br/>\n<sup>5. Skips the entire track in iTunes when tapped, seeks within the current track when held.</sup><br/>\n<sup>6. WMP does not recognize the Rewind key, but both alter playback speed in VLC.</sup>",
        "Quantum Keycodes {#quantum-keycodes}": "See also: [Quantum Keycodes](quantum_keycodes#qmk-keycodes)\n\n|Key              |Aliases  |Description                                                                                                                                      |\n|-----------------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------|\n|`QK_BOOTLOADER`  |`QK_BOOT`|Put the keyboard into bootloader mode for flashing                                                                                               |\n|`QK_DEBUG_TOGGLE`|`DB_TOGG`|Toggle debug mode                                                                                                                                |\n|`QK_CLEAR_EEPROM`|`EE_CLR` |Reinitializes the keyboard's EEPROM (persistent memory)                                                                                          |\n|`QK_MAKE`        |         |Sends `qmk compile -kb (keyboard) -km (keymap)`, or `qmk flash` if shift is held. Puts keyboard into bootloader mode if shift & control are held |\n|`QK_REBOOT`      |`QK_RBT` |Resets the keyboard. Does not load the bootloader                                                                                                |",
        "Audio Keys {#audio-keys}": "See also: [Audio](features/audio)\n\n|Key                      |Aliases  |Description                                |\n|-------------------------|---------|-------------------------------------------|\n|`QK_AUDIO_ON`            |`AU_ON`  |Turns on Audio Feature                     |\n|`QK_AUDIO_OFF`           |`AU_OFF` |Turns off Audio Feature                    |\n|`QK_AUDIO_TOGGLE`        |`AU_TOGG`|Toggles Audio state                        |\n|`QK_AUDIO_CLICKY_TOGGLE` |`CK_TOGG`|Toggles Audio clicky mode                  |\n|`QK_AUDIO_CLICKY_ON`     |`CK_ON`  |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_OFF`    |`CK_OFF` |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_UP`     |`CK_UP`  |Increases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_DOWN`   |`CK_DOWN`|Decreases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_RESET`  |`CK_RST` |Resets frequency to default                |\n|`QK_MUSIC_ON`            |`MU_ON`  |Turns on Music Mode                        |\n|`QK_MUSIC_OFF`           |`MU_OFF` |Turns off Music Mode                       |\n|`QK_MUSIC_TOGGLE`        |`MU_TOGG`|Toggles Music Mode                         |\n|`QK_MUSIC_MODE_NEXT`     |`MU_NEXT`|Cycles through the music modes             |\n|`QK_AUDIO_VOICE_NEXT`    |`AU_NEXT`|Cycles through the audio voices            |\n|`QK_AUDIO_VOICE_PREVIOUS`|`AU_PREV`|Cycles through the audio voices in reverse |",
        "Auto Shift {#auto-shift}": "See also: [Auto Shift](features/auto_shift)\n\n|Key                   |Aliases  |Description                                 |\n|----------------------|---------|--------------------------------------------|\n|`QK_AUTO_SHIFT_DOWN`  |`AS_DOWN`|Lower the Auto Shift timeout variable (down)|\n|`QK_AUTO_SHIFT_UP`    |`AS_UP`  |Raise the Auto Shift timeout variable (up)  |\n|`QK_AUTO_SHIFT_REPORT`|`AS_RPT` |Report your current Auto Shift timeout value|\n|`QK_AUTO_SHIFT_ON`    |`AS_ON`  |Turns on the Auto Shift Function            |\n|`QK_AUTO_SHIFT_OFF`   |`AS_OFF` |Turns off the Auto Shift Function           |\n|`QK_AUTO_SHIFT_TOGGLE`|`AS_TOGG`|Toggles the state of the Auto Shift feature |",
        "Autocorrect {#autocorrect}": "See also: [Autocorrect](features/autocorrect)\n\n|Key                    |Aliases  |Description                                   |\n|-----------------------|---------|----------------------------------------------|\n|`QK_AUTOCORRECT_ON`    |`AC_ON`  |Turns on the Autocorrect feature.             |\n|`QK_AUTOCORRECT_OFF`   |`AC_OFF` |Turns off the Autocorrect feature.            |\n|`QK_AUTOCORRECT_TOGGLE`|`AC_TOGG`|Toggles the status of the Autocorrect feature.|",
        "Backlighting {#backlighting}": "See also: [Backlighting](features/backlight)\n\n| Key                             | Aliases   | Description                         |\n|---------------------------------|-----------|-------------------------------------|\n| `QK_BACKLIGHT_TOGGLE`           | `BL_TOGG` | Turn the backlight on or off        |\n| `QK_BACKLIGHT_STEP`             | `BL_STEP` | Cycle through backlight levels      |\n| `QK_BACKLIGHT_ON`               | `BL_ON`   | Set the backlight to max brightness |\n| `QK_BACKLIGHT_OFF`              | `BL_OFF`  | Turn the backlight off              |\n| `QK_BACKLIGHT_UP`               | `BL_UP`   | Increase the backlight level        |\n| `QK_BACKLIGHT_DOWN`             | `BL_DOWN` | Decrease the backlight level        |\n| `QK_BACKLIGHT_TOGGLE_BREATHING` | `BL_BRTG` | Toggle backlight breathing          |",
        "Wireless/Bluetooth {#bluetooth}": "See also: [Wireless](features/wireless)\n\n| Key                         | Aliases   | Description                                                                                   |\n|-----------------------------|-----------|-----------------------------------------------------------------------------------------------|\n| `QK_OUTPUT_AUTO`            | `OU_AUTO` | Automatically switch to USB when plugged in, otherwise use wireless                           |\n| `QK_OUTPUT_NEXT`            | `OU_NEXT` | Cycle forwards through USB, Bluetooth, and 2.4GHz (when available) **(not yet implemented)**  |\n| `QK_OUTPUT_PREV`            | `OU_PREV` | Cycle backwards through USB, Bluetooth, and 2.4GHz (when available) **(not yet implemented)** |\n| `QK_OUTPUT_NONE`            | `OU_NONE` | Disable all output **(not yet implemented)**                                                  |\n| `QK_OUTPUT_USB`             | `OU_USB`  | Output to USB only                                                                            |\n| `QK_OUTPUT_2P4GHZ`          | `OU_2P4G` | Output to 2.4GHz only **(not yet implemented)**                                               |\n| `QK_OUTPUT_BLUETOOTH`       | `OU_BT`   | Output to Bluetooth only                                                                      |\n| `QK_BLUETOOTH_PROFILE_NEXT` | `BT_NEXT` | Move to the next Bluetooth profile **(not yet implemented)**                                  |\n| `QK_BLUETOOTH_PROFILE_PREV` | `BT_PREV` | Move to the previous Bluetooth profile **(not yet implemented)**                              |\n| `QK_BLUETOOTH_UNPAIR`       | `BT_UNPR` | Un-pair the current Bluetooth profile **(not yet implemented)**                               |\n| `QK_BLUETOOTH_PROFILE1`     | `BT_PRF1` | Swap to Bluetooth profile #1 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE2`     | `BT_PRF2` | Swap to Bluetooth profile #2 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE3`     | `BT_PRF3` | Swap to Bluetooth profile #3 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE4`     | `BT_PRF4` | Swap to Bluetooth profile #4 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE5`     | `BT_PRF5` | Swap to Bluetooth profile #5 **(not yet implemented)**                                        |",
        "Caps Word {#caps-word}": "See also: [Caps Word](features/caps_word)\n\n|Key                  |Aliases  |Description                   |\n|---------------------|---------|------------------------------|\n|`QK_CAPS_WORD_TOGGLE`|`CW_TOGG`|Toggles Caps Word             |",
        "Dynamic Macros {#dynamic-macros}": "See also: [Dynamic Macros](features/dynamic_macros)\n\n|Key                              |Aliases  |Description                                       |\n|---------------------------------|---------|--------------------------------------------------|\n|`QK_DYNAMIC_MACRO_RECORD_START_1`|`DM_REC1`|Start recording Macro 1                           |\n|`QK_DYNAMIC_MACRO_RECORD_START_2`|`DM_REC2`|Start recording Macro 2                           |\n|`QK_DYNAMIC_MACRO_PLAY_1`        |`DM_PLY1`|Replay Macro 1                                    |\n|`QK_DYNAMIC_MACRO_PLAY_2`        |`DM_PLY2`|Replay Macro 2                                    |\n|`QK_DYNAMIC_MACRO_RECORD_STOP`   |`DM_RSTP`|Finish the macro that is currently being recorded.|",
        "Grave Escape {#grave-escape}": "See also: [Grave Escape](features/grave_esc)\n\n|Key              |Aliases  |Description                                                       |\n|-----------------|---------|------------------------------------------------------------------|\n|`QK_GRAVE_ESCAPE`|`QK_GESC`|Escape when pressed, <code>&#96;</code> when Shift or GUI are held|",
        "Joystick {#joystick}": "See also: [Joystick](features/joystick)\n\n|Key                    |Aliases|Description|\n|-----------------------|-------|-----------|\n|`QK_JOYSTICK_BUTTON_0` |`JS_0` |Button 0   |\n|`QK_JOYSTICK_BUTTON_1` |`JS_1` |Button 1   |\n|`QK_JOYSTICK_BUTTON_2` |`JS_2` |Button 2   |\n|`QK_JOYSTICK_BUTTON_3` |`JS_3` |Button 3   |\n|`QK_JOYSTICK_BUTTON_4` |`JS_4` |Button 4   |\n|`QK_JOYSTICK_BUTTON_5` |`JS_5` |Button 5   |\n|`QK_JOYSTICK_BUTTON_6` |`JS_6` |Button 6   |\n|`QK_JOYSTICK_BUTTON_7` |`JS_7` |Button 7   |\n|`QK_JOYSTICK_BUTTON_8` |`JS_8` |Button 8   |\n|`QK_JOYSTICK_BUTTON_9` |`JS_9` |Button 9   |\n|`QK_JOYSTICK_BUTTON_10`|`JS_10`|Button 10  |\n|`QK_JOYSTICK_BUTTON_11`|`JS_11`|Button 11  |\n|`QK_JOYSTICK_BUTTON_12`|`JS_12`|Button 12  |\n|`QK_JOYSTICK_BUTTON_13`|`JS_13`|Button 13  |\n|`QK_JOYSTICK_BUTTON_14`|`JS_14`|Button 14  |\n|`QK_JOYSTICK_BUTTON_15`|`JS_15`|Button 15  |\n|`QK_JOYSTICK_BUTTON_16`|`JS_16`|Button 16  |\n|`QK_JOYSTICK_BUTTON_17`|`JS_17`|Button 17  |\n|`QK_JOYSTICK_BUTTON_18`|`JS_18`|Button 18  |\n|`QK_JOYSTICK_BUTTON_19`|`JS_19`|Button 19  |\n|`QK_JOYSTICK_BUTTON_20`|`JS_20`|Button 20  |\n|`QK_JOYSTICK_BUTTON_21`|`JS_21`|Button 21  |\n|`QK_JOYSTICK_BUTTON_22`|`JS_22`|Button 22  |\n|`QK_JOYSTICK_BUTTON_23`|`JS_23`|Button 23  |\n|`QK_JOYSTICK_BUTTON_24`|`JS_24`|Button 24  |\n|`QK_JOYSTICK_BUTTON_25`|`JS_25`|Button 25  |\n|`QK_JOYSTICK_BUTTON_26`|`JS_26`|Button 26  |\n|`QK_JOYSTICK_BUTTON_27`|`JS_27`|Button 27  |\n|`QK_JOYSTICK_BUTTON_28`|`JS_28`|Button 28  |\n|`QK_JOYSTICK_BUTTON_29`|`JS_29`|Button 29  |\n|`QK_JOYSTICK_BUTTON_30`|`JS_30`|Button 30  |\n|`QK_JOYSTICK_BUTTON_31`|`JS_31`|Button 31  |",
        "Key Lock {#key-lock}": "See also: [Key Lock](features/key_lock)\n\n|Key      |Description                                                   |\n|---------|--------------------------------------------------------------|\n|`QK_LOCK`|Hold down the next key pressed, until the key is pressed again|",
        "Layer Lock {#layer-lock}": "See also: [Layer Lock](features/layer_lock)\n\n|Key            |Aliases  |Description                       |\n|---------------|---------|----------------------------------|\n|`QK_LAYER_LOCK`|`QK_LLCK`|Locks or unlocks the highest layer|",
        "Layer Switching {#layer-switching}": "See also: [Layer Switching](feature_layers#switching-and-toggling-layers)\n\n|Key             |Description                                                                       |\n|----------------|----------------------------------------------------------------------------------|\n|`DF(layer)`     |Set the base (default) layer until the keyboard loses power                       |\n|`PDF(layer)`    |Set the base (default) layer in EEPROM                                            |\n|`MO(layer)`     |Momentarily turn on `layer` when pressed (requires `KC_TRNS` on destination layer)|\n|`LM(layer, mod)`|Momentarily turn on `layer` (like MO) with `mod` active as well.  Where `mod` is a mods_bit.  Mods can be viewed [here](mod_tap).  Example Implementation: `LM(LAYER_1, MOD_LALT)`|\n|`LT(layer, kc)` |Turn on `layer` when held, `kc` when tapped                                       |\n|`TG(layer)`     |Toggle `layer` on or off                                                          |\n|`TO(layer)`     |Turns on `layer` and turns off all other layers, except the default layer |\n|`TT(layer)`     |Normally acts like MO unless it's tapped multiple times, which toggles `layer` on |",
        "Leader Key {#leader-key}": "See also: [Leader Key](features/leader_key)\n\n|Key      |Description             |\n|---------|------------------------|\n|`QK_LEAD`|Begins a leader sequence|",
        "LED Matrix {#led-matrix}": "See also: [LED Matrix](features/led_matrix)\n\n|Key                            |Aliases  |Description                        |\n|-------------------------------|---------|-----------------------------------|\n|`QK_LED_MATRIX_ON`             |`LM_ON`  |Turn on LED Matrix                 |\n|`QK_LED_MATRIX_OFF`            |`LM_OFF` |Turn off LED Matrix                |\n|`QK_LED_MATRIX_TOGGLE`         |`LM_TOGG`|Toggle LED Matrix on or off        |\n|`QK_LED_MATRIX_MODE_NEXT`      |`LM_NEXT`|Cycle through animations           |\n|`QK_LED_MATRIX_MODE_PREVIOUS`  |`LM_PREV`|Cycle through animations in reverse|\n|`QK_LED_MATRIX_BRIGHTNESS_UP`  |`LM_BRIU`|Increase the brightness level      |\n|`QK_LED_MATRIX_BRIGHTNESS_DOWN`|`LM_BRID`|Decrease the brightness level      |\n|`QK_LED_MATRIX_SPEED_UP`       |`LM_SPDU`|Increase the animation speed       |\n|`QK_LED_MATRIX_SPEED_DOWN`     |`LM_SPDD`|Decrease the animation speed       |",
        "Magic Keycodes {#magic-keycodes}": "See also: [Magic Keycodes](keycodes_magic)\n\n|Key                                  |Aliases  |Description                                                               |\n|-------------------------------------|---------|--------------------------------------------------------------------------|\n|`QK_MAGIC_SWAP_CONTROL_CAPS_LOCK`    |`CL_SWAP`|Swap Caps Lock and Left Control                                           |\n|`QK_MAGIC_UNSWAP_CONTROL_CAPS_LOCK`  |`CL_NORM`|Unswap Caps Lock and Left Control                                         |\n|`QK_MAGIC_TOGGLE_CONTROL_CAPS_LOCK`  |`CL_TOGG`|Toggle Caps Lock and Left Control swap                                    |\n|`QK_MAGIC_CAPS_LOCK_AS_CONTROL_ON`   |`CL_CTRL`|Treat Caps Lock as Control                                                |\n|`QK_MAGIC_CAPS_LOCK_AS_CONTROL_OFF`  |`CL_CAPS`|Stop treating Caps Lock as Control                                        |\n|`QK_MAGIC_SWAP_ESCAPE_CAPS_LOCK`     |`EC_SWAP`|Swap Caps Lock and Escape                                                 |\n|`QK_MAGIC_UNSWAP_ESCAPE_CAPS_LOCK`   |`EC_NORM`|Unswap Caps Lock and Escape                                               |\n|`QK_MAGIC_TOGGLE_ESCAPE_CAPS_LOCK`   |`EC_TOGG`|Toggle Caps Lock and Escape swap                                          |\n|`QK_MAGIC_SWAP_LCTL_LGUI`            |`CG_LSWP`|Swap Left Control and GUI                                                 |\n|`QK_MAGIC_UNSWAP_LCTL_LGUI`          |`CG_LNRM`|Unswap Left Control and GUI                                               |\n|`QK_MAGIC_SWAP_RCTL_RGUI`            |`CG_RSWP`|Swap Right Control and GUI                                                |\n|`QK_MAGIC_UNSWAP_RCTL_RGUI`          |`CG_RNRM`|Unswap Right Control and GUI                                              |\n|`QK_MAGIC_SWAP_CTL_GUI`              |`CG_SWAP`|Swap Control and GUI on both sides                                        |\n|`QK_MAGIC_UNSWAP_CTL_GUI`            |`CG_NORM`|Unswap Control and GUI on both sides                                      |\n|`QK_MAGIC_TOGGLE_CTL_GUI`            |`CG_TOGG`|Toggle Control and GUI swap on both sides                                 |\n|`QK_MAGIC_SWAP_LALT_LGUI`            |`AG_LSWP`|Swap Left Alt and GUI                                                     |\n|`QK_MAGIC_UNSWAP_LALT_LGUI`          |`AG_LNRM`|Unswap Left Alt and GUI                                                   |\n|`QK_MAGIC_SWAP_RALT_RGUI`            |`AG_RSWP`|Swap Right Alt and GUI                                                    |\n|`QK_MAGIC_UNSWAP_RALT_RGUI`          |`AG_RNRM`|Unswap Right Alt and GUI                                                  |\n|`QK_MAGIC_SWAP_ALT_GUI`              |`AG_SWAP`|Swap Alt and GUI on both sides                                            |\n|`QK_MAGIC_UNSWAP_ALT_GUI`            |`AG_NORM`|Unswap Alt and GUI on both sides                                          |\n|`QK_MAGIC_TOGGLE_ALT_GUI`            |`AG_TOGG`|Toggle Alt and GUI swap on both sides                                     |\n|`QK_MAGIC_GUI_OFF`                   |`GU_OFF` |Disable the GUI keys                                                      |\n|`QK_MAGIC_GUI_ON`                    |`GU_ON`  |Enable the GUI keys                                                       |\n|`QK_MAGIC_TOGGLE_GUI`                |`GU_TOGG`|Toggles the status of the GUI keys                                        |\n|`QK_MAGIC_SWAP_GRAVE_ESC`            |`GE_SWAP`|Swap <code>&#96;</code> and Escape                                        |\n|`QK_MAGIC_UNSWAP_GRAVE_ESC`          |`GE_NORM`|Unswap <code>&#96;</code> and Escape                                      |\n|`QK_MAGIC_SWAP_BACKSLASH_BACKSPACE`  |`BS_SWAP`|Swap `\\` and Backspace                                                    |\n|`QK_MAGIC_UNSWAP_BACKSLASH_BACKSPACE`|`BS_NORM`|Unswap `\\` and Backspace                                                  |\n|`QK_MAGIC_TOGGLE_BACKSLASH_BACKSPACE`|`BS_TOGG`|Toggle `\\` and Backspace swap state                                       |\n|`QK_MAGIC_NKRO_ON`                   |`NK_ON`  |Enable N-key rollover                                                     |\n|`QK_MAGIC_NKRO_OFF`                  |`NK_OFF` |Disable N-key rollover                                                    |\n|`QK_MAGIC_TOGGLE_NKRO`               |`NK_TOGG`|Toggle N-key rollover                                                     |\n|`QK_MAGIC_EE_HANDS_LEFT`             |`EH_LEFT`|Set the master half of a split keyboard as the left hand (for `EE_HANDS`) |\n|`QK_MAGIC_EE_HANDS_RIGHT`            |`EH_RGHT`|Set the master half of a split keyboard as the right hand (for `EE_HANDS`)|",
        "MIDI {#midi}": "See also: [MIDI](features/midi)\n\n|Key                            |Aliases           |Description                      |\n|-------------------------------|------------------|---------------------------------|\n|`QK_MIDI_ON`                   |`MI_ON`           |Turn MIDI on                     |\n|`QK_MIDI_OFF`                  |`MI_OFF`          |Turn MIDI off                    |\n|`QK_MIDI_TOGGLE`               |`MI_TOGG`         |Toggle MIDI enabled              |\n|`QK_MIDI_NOTE_C_0`             |`MI_C`            |C octave 0                       |\n|`QK_MIDI_NOTE_C_SHARP_0`       |`MI_Cs`, `MI_Db`  |C/D octave 0                   |\n|`QK_MIDI_NOTE_D_0`             |`MI_D`            |D octave 0                       |\n|`QK_MIDI_NOTE_D_SHARP_0`       |`MI_Ds`, `MI_Eb`  |D/E octave 0                   |\n|`QK_MIDI_NOTE_E_0`             |`MI_E`            |E octave 0                       |\n|`QK_MIDI_NOTE_F_0`             |`MI_F`            |F octave 0                       |\n|`QK_MIDI_NOTE_F_SHARP_0`       |`MI_Fs`, `MI_Gb`  |F/G octave 0                   |\n|`QK_MIDI_NOTE_G_0`             |`MI_G`            |G octave 0                       |\n|`QK_MIDI_NOTE_G_SHARP_0`       |`MI_Gs`, `MI_Ab`  |G/A octave 0                   |\n|`QK_MIDI_NOTE_A_0`             |`MI_A`            |A octave 0                       |\n|`QK_MIDI_NOTE_A_SHARP_0`       |`MI_As`, `MI_Bb`  |A/B octave 0                   |\n|`QK_MIDI_NOTE_B_0`             |`MI_B`            |B octave 0                       |\n|`QK_MIDI_NOTE_C_1`             |`MI_C1`           |C octave 1                       |\n|`QK_MIDI_NOTE_C_SHARP_1`       |`MI_Cs1`, `MI_Db1`|C/D octave 1                   |\n|`QK_MIDI_NOTE_D_1`             |`MI_D1`           |D octave 1                       |\n|`QK_MIDI_NOTE_D_SHARP_1`       |`MI_Ds1`, `MI_Eb1`|D/E octave 1                   |\n|`QK_MIDI_NOTE_E_1`             |`MI_E1`           |E octave 1                       |\n|`QK_MIDI_NOTE_F_1`             |`MI_F1`           |F octave 1                       |\n|`QK_MIDI_NOTE_F_SHARP_1`       |`MI_Fs1`, `MI_Gb1`|F/G octave 1                   |\n|`QK_MIDI_NOTE_G_1`             |`MI_G1`           |G octave 1                       |\n|`QK_MIDI_NOTE_G_SHARP_1`       |`MI_Gs1`, `MI_Ab1`|G/A octave 1                   |\n|`QK_MIDI_NOTE_A_1`             |`MI_A1`           |A octave 1                       |\n|`QK_MIDI_NOTE_A_SHARP_1`       |`MI_As1`, `MI_Bb1`|A/B octave 1                   |\n|`QK_MIDI_NOTE_B_1`             |`MI_B1`           |B octave 1                       |\n|`QK_MIDI_NOTE_C_2`             |`MI_C2`           |C octave 2                       |\n|`QK_MIDI_NOTE_C_SHARP_2`       |`MI_Cs2`, `MI_Db2`|C/D octave 2                   |\n|`QK_MIDI_NOTE_D_2`             |`MI_D2`           |D octave 2                       |\n|`QK_MIDI_NOTE_D_SHARP_2`       |`MI_Ds2`, `MI_Eb2`|D/E octave 2                   |\n|`QK_MIDI_NOTE_E_2`             |`MI_E2`           |E octave 2                       |\n|`QK_MIDI_NOTE_F_2`             |`MI_F2`           |F octave 2                       |\n|`QK_MIDI_NOTE_F_SHARP_2`       |`MI_Fs2`, `MI_Gb2`|F/G octave 2                   |\n|`QK_MIDI_NOTE_G_2`             |`MI_G2`           |G octave 2                       |\n|`QK_MIDI_NOTE_G_SHARP_2`       |`MI_Gs2`, `MI_Ab2`|G/A octave 2                   |\n|`QK_MIDI_NOTE_A_2`             |`MI_A2`           |A octave 2                       |\n|`QK_MIDI_NOTE_A_SHARP_2`       |`MI_As2`, `MI_Bb2`|A/B octave 2                   |\n|`QK_MIDI_NOTE_B_2`             |`MI_B2`           |B octave 2                       |\n|`QK_MIDI_NOTE_C_3`             |`MI_C3`           |C octave 3                       |\n|`QK_MIDI_NOTE_C_SHARP_3`       |`MI_Cs3`, `MI_Db3`|C/D octave 3                   |\n|`QK_MIDI_NOTE_D_3`             |`MI_D3`           |D octave 3                       |\n|`QK_MIDI_NOTE_D_SHARP_3`       |`MI_Ds3`, `MI_Eb3`|D/E octave 3                   |\n|`QK_MIDI_NOTE_E_3`             |`MI_E3`           |E octave 3                       |\n|`QK_MIDI_NOTE_F_3`             |`MI_F3`           |F octave 3                       |\n|`QK_MIDI_NOTE_F_SHARP_3`       |`MI_Fs3`, `MI_Gb3`|F/G octave 3                   |\n|`QK_MIDI_NOTE_G_3`             |`MI_G3`           |G octave 3                       |\n|`QK_MIDI_NOTE_G_SHARP_3`       |`MI_Gs3`, `MI_Ab3`|G/A octave 3                   |\n|`QK_MIDI_NOTE_A_3`             |`MI_A3`           |A octave 3                       |\n|`QK_MIDI_NOTE_A_SHARP_3`       |`MI_As3`, `MI_Bb3`|A/B octave 3                   |\n|`QK_MIDI_NOTE_B_3`             |`MI_B3`           |B octave 3                       |\n|`QK_MIDI_NOTE_C_4`             |`MI_C4`           |C octave 4                       |\n|`QK_MIDI_NOTE_C_SHARP_4`       |`MI_Cs4`, `MI_Db4`|C/D octave 4                   |\n|`QK_MIDI_NOTE_D_4`             |`MI_D4`           |D octave 4                       |\n|`QK_MIDI_NOTE_D_SHARP_4`       |`MI_Ds4`, `MI_Eb4`|D/E octave 4                   |\n|`QK_MIDI_NOTE_E_4`             |`MI_E4`           |E octave 4                       |\n|`QK_MIDI_NOTE_F_4`             |`MI_F4`           |F octave 4                       |\n|`QK_MIDI_NOTE_F_SHARP_4`       |`MI_Fs4`, `MI_Gb4`|F/G octave 4                   |\n|`QK_MIDI_NOTE_G_4`             |`MI_G4`           |G octave 4                       |\n|`QK_MIDI_NOTE_G_SHARP_4`       |`MI_Gs4`, `MI_Ab4`|G/A octave 4                   |\n|`QK_MIDI_NOTE_A_4`             |`MI_A4`           |A octave 4                       |\n|`QK_MIDI_NOTE_A_SHARP_4`       |`MI_As4`, `MI_Bb4`|A/B octave 4                   |\n|`QK_MIDI_NOTE_B_4`             |`MI_B4`           |B octave 4                       |\n|`QK_MIDI_NOTE_C_5`             |`MI_C5`           |C octave 5                       |\n|`QK_MIDI_NOTE_C_SHARP_5`       |`MI_Cs5`, `MI_Db5`|C/D octave 5                   |\n|`QK_MIDI_NOTE_D_5`             |`MI_D5`           |D octave 5                       |\n|`QK_MIDI_NOTE_D_SHARP_5`       |`MI_Ds5`, `MI_Eb5`|D/E octave 5                   |\n|`QK_MIDI_NOTE_E_5`             |`MI_E5`           |E octave 5                       |\n|`QK_MIDI_NOTE_F_5`             |`MI_F5`           |F octave 5                       |\n|`QK_MIDI_NOTE_F_SHARP_5`       |`MI_Fs5`, `MI_Gb5`|F/G octave 5                   |\n|`QK_MIDI_NOTE_G_5`             |`MI_G5`           |G octave 5                       |\n|`QK_MIDI_NOTE_G_SHARP_5`       |`MI_Gs5`, `MI_Ab5`|G/A octave 5                   |\n|`QK_MIDI_NOTE_A_5`             |`MI_A5`           |A octave 5                       |\n|`QK_MIDI_NOTE_A_SHARP_5`       |`MI_As5`, `MI_Bb5`|A/B octave 5                   |\n|`QK_MIDI_NOTE_B_5`             |`MI_B5`           |B octave 5                       |\n|`QK_MIDI_OCTAVE_N2`            |`MI_OCN2`         |Set octave to -2                 |\n|`QK_MIDI_OCTAVE_N1`            |`MI_OCN1`         |Set octave to -1                 |\n|`QK_MIDI_OCTAVE_0`             |`MI_OC0`          |Set octave to 0                  |\n|`QK_MIDI_OCTAVE_1`             |`MI_OC1`          |Set octave to 1                  |\n|`QK_MIDI_OCTAVE_2`             |`MI_OC2`          |Set octave to 2                  |\n|`QK_MIDI_OCTAVE_3`             |`MI_OC3`          |Set octave to 3                  |\n|`QK_MIDI_OCTAVE_4`             |`MI_OC4`          |Set octave to 4                  |\n|`QK_MIDI_OCTAVE_5`             |`MI_OC5`          |Set octave to 5                  |\n|`QK_MIDI_OCTAVE_6`             |`MI_OC6`          |Set octave to 6                  |\n|`QK_MIDI_OCTAVE_7`             |`MI_OC7`          |Set octave to 7                  |\n|`QK_MIDI_OCTAVE_DOWN`          |`MI_OCTD`         |Move down an octave              |\n|`QK_MIDI_OCTAVE_UP`            |`MI_OCTU`         |Move up an octave                |\n|`QK_MIDI_TRANSPOSE_N6`         |`MI_TRN6`         |Set transposition to -6 semitones|\n|`QK_MIDI_TRANSPOSE_N5`         |`MI_TRN5`         |Set transposition to -5 semitones|\n|`QK_MIDI_TRANSPOSE_N4`         |`MI_TRN4`         |Set transposition to -4 semitones|\n|`QK_MIDI_TRANSPOSE_N3`         |`MI_TRN3`         |Set transposition to -3 semitones|\n|`QK_MIDI_TRANSPOSE_N2`         |`MI_TRN2`         |Set transposition to -2 semitones|\n|`QK_MIDI_TRANSPOSE_N1`         |`MI_TRN1`         |Set transposition to -1 semitone |\n|`QK_MIDI_TRANSPOSE_0`          |`MI_TR0`          |No transposition                 |\n|`QK_MIDI_TRANSPOSE_1`          |`MI_TR1`          |Set transposition to +1 semitone |\n|`QK_MIDI_TRANSPOSE_2`          |`MI_TR2`          |Set transposition to +2 semitones|\n|`QK_MIDI_TRANSPOSE_3`          |`MI_TR3`          |Set transposition to +3 semitones|\n|`QK_MIDI_TRANSPOSE_4`          |`MI_TR4`          |Set transposition to +4 semitones|\n|`QK_MIDI_TRANSPOSE_5`          |`MI_TR5`          |Set transposition to +5 semitones|\n|`QK_MIDI_TRANSPOSE_6`          |`MI_TR6`          |Set transposition to +6 semitones|\n|`QK_MIDI_TRANSPOSE_DOWN`       |`MI_TRSD`         |Decrease transposition           |\n|`QK_MIDI_TRANSPOSE_UP`         |`MI_TRSU`         |Increase transposition           |\n|`QK_MIDI_VELOCITY_0`           |`MI_VL0`          |Set velocity to 0                |\n|`QK_MIDI_VELOCITY_1`           |`MI_VL1`          |Set velocity to 12               |\n|`QK_MIDI_VELOCITY_2`           |`MI_VL2`          |Set velocity to 25               |\n|`QK_MIDI_VELOCITY_3`           |`MI_VL3`          |Set velocity to 38               |\n|`QK_MIDI_VELOCITY_4`           |`MI_VL4`          |Set velocity to 51               |\n|`QK_MIDI_VELOCITY_5`           |`MI_VL5`          |Set velocity to 64               |\n|`QK_MIDI_VELOCITY_6`           |`MI_VL6`          |Set velocity to 76               |\n|`QK_MIDI_VELOCITY_7`           |`MI_VL7`          |Set velocity to 89               |\n|`QK_MIDI_VELOCITY_8`           |`MI_VL8`          |Set velocity to 102              |\n|`QK_MIDI_VELOCITY_9`           |`MI_VL9`          |Set velocity to 114              |\n|`QK_MIDI_VELOCITY_10`          |`MI_VL10`         |Set velocity to 127              |\n|`QK_MIDI_VELOCITY_DOWN`        |`MI_VELD`         |Decrease velocity                |\n|`QK_MIDI_VELOCITY_UP`          |`MI_VELU`         |Increase velocity                |\n|`QK_MIDI_CHANNEL_1`            |`MI_CH1`          |Set channel to 1                 |\n|`QK_MIDI_CHANNEL_2`            |`MI_CH2`          |Set channel to 2                 |\n|`QK_MIDI_CHANNEL_3`            |`MI_CH3`          |Set channel to 3                 |\n|`QK_MIDI_CHANNEL_4`            |`MI_CH4`          |Set channel to 4                 |\n|`QK_MIDI_CHANNEL_5`            |`MI_CH5`          |Set channel to 5                 |\n|`QK_MIDI_CHANNEL_6`            |`MI_CH6`          |Set channel to 6                 |\n|`QK_MIDI_CHANNEL_7`            |`MI_CH7`          |Set channel to 7                 |\n|`QK_MIDI_CHANNEL_8`            |`MI_CH8`          |Set channel to 8                 |\n|`QK_MIDI_CHANNEL_9`            |`MI_CH9`          |Set channel to 9                 |\n|`QK_MIDI_CHANNEL_10`           |`MI_CH10`         |Set channel to 10                |\n|`QK_MIDI_CHANNEL_11`           |`MI_CH11`         |Set channel to 11                |\n|`QK_MIDI_CHANNEL_12`           |`MI_CH12`         |Set channel to 12                |\n|`QK_MIDI_CHANNEL_13`           |`MI_CH13`         |Set channel to 13                |\n|`QK_MIDI_CHANNEL_14`           |`MI_CH14`         |Set channel to 14                |\n|`QK_MIDI_CHANNEL_15`           |`MI_CH15`         |Set channel to 15                |\n|`QK_MIDI_CHANNEL_16`           |`MI_CH16`         |Set channel to 16                |\n|`QK_MIDI_CHANNEL_DOWN`         |`MI_CHND`         |Decrease channel                 |\n|`QK_MIDI_CHANNEL_UP`           |`MI_CHNU`         |Increase channel                 |\n|`QK_MIDI_ALL_NOTES_OFF`        |`MI_AOFF`         |Stop all notes                   |\n|`QK_MIDI_SUSTAIN`              |`MI_SUST`         |Sustain                          |\n|`QK_MIDI_PORTAMENTO`           |`MI_PORT`         |Portmento                        |\n|`QK_MIDI_SOSTENUTO`            |`MI_SOST`         |Sostenuto                        |\n|`QK_MIDI_SOFT`                 |`MI_SOFT`         |Soft Pedal                       |\n|`QK_MIDI_LEGATO`               |`MI_LEG`          |Legato                           |\n|`QK_MIDI_MODULATION`           |`MI_MOD`          |Modulation                       |\n|`QK_MIDI_MODULATION_SPEED_DOWN`|`MI_MODD`         |Decrease modulation speed        |\n|`QK_MIDI_MODULATION_SPEED_UP`  |`MI_MODU`         |Increase modulation speed        |\n|`QK_MIDI_PITCH_BEND_DOWN`      |`MI_BNDD`         |Bend pitch down                  |\n|`QK_MIDI_PITCH_BEND_UP`        |`MI_BNDU`         |Bend pitch up                    |",
        "Mouse Keys {#mouse-keys}": "See also: [Mouse Keys](features/mouse_keys)\n\n|Key                      |Aliases  |Description                |\n|-------------------------|---------|---------------------------|\n|`QK_MOUSE_CURSOR_UP`     |`MS_UP`  |Mouse cursor up            |\n|`QK_MOUSE_CURSOR_DOWN`   |`MS_DOWN`|Mouse cursor down          |\n|`QK_MOUSE_CURSOR_LEFT`   |`MS_LEFT`|Mouse cursor left          |\n|`QK_MOUSE_CURSOR_RIGHT`  |`MS_RGHT`|Mouse cursor right         |\n|`QK_MOUSE_BUTTON_1`      |`MS_BTN1`|Mouse button 1             |\n|`QK_MOUSE_BUTTON_2`      |`MS_BTN2`|Mouse button 2             |\n|`QK_MOUSE_BUTTON_3`      |`MS_BTN3`|Mouse button 3             |\n|`QK_MOUSE_BUTTON_4`      |`MS_BTN4`|Mouse button 4             |\n|`QK_MOUSE_BUTTON_5`      |`MS_BTN5`|Mouse button 5             |\n|`QK_MOUSE_BUTTON_6`      |`MS_BTN6`|Mouse button 6             |\n|`QK_MOUSE_BUTTON_7`      |`MS_BTN7`|Mouse button 7             |\n|`QK_MOUSE_BUTTON_8`      |`MS_BTN8`|Mouse button 8             |\n|`QK_MOUSE_WHEEL_UP`      |`MS_WHLU`|Mouse wheel up             |\n|`QK_MOUSE_WHEEL_DOWN`    |`MS_WHLD`|Mouse wheel down           |\n|`QK_MOUSE_WHEEL_LEFT`    |`MS_WHLL`|Mouse wheel left           |\n|`QK_MOUSE_WHEEL_RIGHT`   |`MS_WHLR`|Mouse wheel right          |\n|`QK_MOUSE_ACCELERATION_0`|`MS_ACL0`|Set mouse acceleration to 0|\n|`QK_MOUSE_ACCELERATION_1`|`MS_ACL1`|Set mouse acceleration to 1|\n|`QK_MOUSE_ACCELERATION_2`|`MS_ACL2`|Set mouse acceleration to 2|",
        "Modifiers {#modifiers}": "See also: [Modifier Keys](feature_advanced_keycodes#modifier-keys)\n\n|Key       |Aliases                           |Description                                                        |\n|----------|----------------------------------|-------------------------------------------------------------------|\n|`LCTL(kc)`|`C(kc)`                           |Hold Left Control and press `kc`                                   |\n|`LSFT(kc)`|`S(kc)`                           |Hold Left Shift and press `kc`                                     |\n|`LALT(kc)`|`A(kc)`, `LOPT(kc)`               |Hold Left Alt and press `kc`                                       |\n|`LGUI(kc)`|`G(kc)`, `LCMD(kc)`, `LWIN(kc)`   |Hold Left GUI and press `kc`                                       |\n|`LCS(kc)` |                                  |Hold Left Control and Left Shift and press `kc`                    |\n|`LCA(kc)` |                                  |Hold Left Control and Left Alt and press `kc`                      |\n|`LCG(kc)` |                                  |Hold Left Control and Left GUI and press `kc`                      |\n|`LSA(kc)` |                                  |Hold Left Shift and Left Alt and press `kc`                        |\n|`LSG(kc)` |`SGUI(kc)`, `SCMD(kc)`, `SWIN(kc)`|Hold Left Shift and Left GUI and press `kc`                        |\n|`LAG(kc)` |                                  |Hold Left Alt and Left GUI and press `kc`                          |\n|`LCSG(kc)`|                                  |Hold Left Control, Left Shift and Left GUI and press `kc`          |\n|`LCAG(kc)`|                                  |Hold Left Control, Left Alt and Left GUI and press `kc`            |\n|`LSAG(kc)`|                                  |Hold Left Shift, Left Alt and Left GUI and press `kc`              |\n|`RCTL(kc)`|                                  |Hold Right Control and press `kc`                                  |\n|`RSFT(kc)`|                                  |Hold Right Shift and press `kc`                                    |\n|`RALT(kc)`|`ROPT(kc)`, `ALGR(kc)`            |Hold Right Alt and press `kc`                                      |\n|`RGUI(kc)`|`RCMD(kc)`, `RWIN(kc)`            |Hold Right GUI and press `kc`                                      |\n|`RCS(kc)` |                                  |Hold Right Control and Right Shift and press `kc`                  |\n|`RCA(kc)` |                                  |Hold Right Control and Right Alt and press `kc`                    |\n|`RCG(kc)` |                                  |Hold Right Control and Right GUI and press `kc`                    |\n|`RSA(kc)` |`SAGR(kc)`                        |Hold Right Shift and Right Alt and press `kc`                      |\n|`RSG(kc)` |                                  |Hold Right Shift and Right GUI and press `kc`                      |\n|`RAG(kc)` |                                  |Hold Right Alt and Right GUI and press `kc`                        |\n|`RCSG(kc)`|                                  |Hold Right Control, Right Shift and Right GUI and press `kc`       |\n|`RCAG(kc)`|                                  |Hold Right Control, Right Alt and Right GUI and press `kc`         |\n|`RSAG(kc)`|                                  |Hold Right Shift, Right Alt and Right GUI and press `kc`           |\n|`MEH(kc)` |                                  |Hold Left Control, Left Shift and Left Alt and press `kc`          |\n|`HYPR(kc)`|                                  |Hold Left Control, Left Shift, Left Alt and Left GUI and press `kc`|\n|`KC_MEH`  |                                  |Left Control, Left Shift and Left Alt                              |\n|`KC_HYPR` |                                  |Left Control, Left Shift, Left Alt and Left GUI                    |",
        "Mod-Tap Keys {#mod-tap-keys}": "See also: [Mod-Tap](mod_tap)\n\n|Key          |Aliases                                                          |Description                                                                |\n|-------------|-----------------------------------------------------------------|---------------------------------------------------------------------------|\n|`MT(mod, kc)`|                                                                 |`mod` when held, `kc` when tapped                                          |\n|`LCTL_T(kc)` |`CTL_T(kc)`                                                      |Left Control when held, `kc` when tapped                                   |\n|`LSFT_T(kc)` |`SFT_T(kc)`                                                      |Left Shift when held, `kc` when tapped                                     |\n|`LALT_T(kc)` |`ALT_T(kc)`, `LOPT_T(kc)`, `OPT_T(kc)`                           |Left Alt when held, `kc` when tapped                                       |\n|`LGUI_T(kc)` |`GUI_T(kc)`, `LCMD_T(kc)`, `LWIN_T(kc)`, `CMD_T(kc)`, `WIN_T(kc)`|Left GUI when held, `kc` when tapped                                       |\n|`LCS_T(kc)`  |                                                                 |Left Control and Left Shift when held, `kc` when tapped                    |\n|`LCA_T(kc)`  |                                                                 |Left Control and Left Alt when held, `kc` when tapped                      |\n|`LCG_T(kc)`  |                                                                 |Left Control and Left GUI when held, `kc` when tapped                      |\n|`LSA_T(kc)`  |                                                                 |Left Shift and Left Alt when held, `kc` when tapped                        |\n|`LSG_T(kc)`  |`SGUI_T(kc)`, `SCMD_T(kc)`, `SWIN_T(kc)`                         |Left Shift and Left GUI when held, `kc` when tapped                        |\n|`LAG_T(kc)`  |                                                                 |Left Alt and Left GUI when held, `kc` when tapped                          |\n|`LCSG_T(kc)` |                                                                 |Left Control, Left Shift and Left GUI when held, `kc` when tapped          |\n|`LCAG_T(kc)` |                                                                 |Left Control, Left Alt and Left GUI when held, `kc` when tapped            |\n|`LSAG_T(kc)` |                                                                 |Left Shift, Left Alt and Left GUI when held, `kc` when tapped              |\n|`RCTL_T(kc)` |                                                                 |Right Control when held, `kc` when tapped                                  |\n|`RSFT_T(kc)` |                                                                 |Right Shift when held, `kc` when tapped                                    |\n|`RALT_T(kc)` |`ROPT_T(kc)`, `ALGR_T(kc)`                                       |Right Alt when held, `kc` when tapped                                      |\n|`RGUI_T(kc)` |`RCMD_T(kc)`, `RWIN_T(kc)`                                       |Right GUI when held, `kc` when tapped                                      |\n|`RCS_T(kc)`  |                                                                 |Right Control and Right Shift when held, `kc` when tapped                  |\n|`RCA_T(kc)`  |                                                                 |Right Control and Right Alt when held, `kc` when tapped                    |\n|`RCG_T(kc)`  |                                                                 |Right Control and Right GUI when held, `kc` when tapped                    |\n|`RSA_T(kc)`  |`SAGR_T(kc)`                                                     |Right Shift and Right Alt when held, `kc` when tapped                      |\n|`RSG_T(kc)`  |                                                                 |Right Shift and Right GUI when held, `kc` when tapped                      |\n|`RAG_T(kc)`  |                                                                 |Right Alt and Right GUI when held, `kc` when tapped                        |\n|`RCSG_T(kc)` |                                                                 |Right Control, Right Shift and Right GUI when held, `kc` when tapped       |\n|`RCAG_T(kc)` |                                                                 |Right Control, Right Alt and Right GUI when held, `kc` when tapped         |\n|`RSAG_T(kc)` |                                                                 |Right Shift, Right Alt and Right GUI when held, `kc` when tapped           |\n|`MEH_T(kc)`  |                                                                 |Left Control, Left Shift and Left Alt when held, `kc` when tapped          |\n|`HYPR_T(kc)` |`ALL_T(kc)`                                                      |Left Control, Left Shift, Left Alt and Left GUI when held, `kc` when tapped|",
        "Tapping Term Keys {#tapping-term-keys}": "See also: [Dynamic Tapping Term](tap_hold#dynamic-tapping-term)\n\n| Key                           | Aliases | Description                                                                               |\n|-------------------------------|---------|-------------------------------------------------------------------------------------------|\n|`QK_DYNAMIC_TAPPING_TERM_PRINT`|`DT_PRNT`| Types the current tapping term, in milliseconds                                           |\n|`QK_DYNAMIC_TAPPING_TERM_UP`   |`DT_UP`  | Increases the current tapping term by `DYNAMIC_TAPPING_TERM_INCREMENT`ms (5ms by default) |\n|`QK_DYNAMIC_TAPPING_TERM_DOWN` |`DT_DOWN`| Decreases the current tapping term by `DYNAMIC_TAPPING_TERM_INCREMENT`ms (5ms by default) |",
        "RGB Lighting {#rgb-lighting}": "See also: [RGB Lighting](features/rgblight)\n\n|Key                           |Aliases   |Description                                                          |\n|------------------------------|----------|---------------------------------------------------------------------|\n|`QK_UNDERGLOW_TOGGLE`         |`UG_TOGG` |Toggle RGB lighting on or off                                        |\n|`QK_UNDERGLOW_MODE_NEXT`      |`UG_NEXT` |Cycle through modes, reverse direction when Shift is held            |\n|`QK_UNDERGLOW_MODE_PREVIOUS`  |`UG_PREV` |Cycle through modes in reverse, forward direction when Shift is held |\n|`QK_UNDERGLOW_HUE_UP`         |`UG_HUEU` |Increase hue, decrease hue when Shift is held                        |\n|`QK_UNDERGLOW_HUE_DOWN`       |`UG_HUED` |Decrease hue, increase hue when Shift is held                        |\n|`QK_UNDERGLOW_SATURATION_UP`  |`UG_SATU` |Increase saturation, decrease saturation when Shift is held          |\n|`QK_UNDERGLOW_SATURATION_DOWN`|`UG_SATD` |Decrease saturation, increase saturation when Shift is held          |\n|`QK_UNDERGLOW_VALUE_UP`       |`UG_VALU` |Increase value (brightness), decrease value when Shift is held       |\n|`QK_UNDERGLOW_VALUE_DOWN`     |`UG_VALD` |Decrease value (brightness), increase value when Shift is held       |\n|`QK_UNDERGLOW_SPEED_UP`       |`UG_SPDU` |Increase effect speed (brightness), decrease speed when Shift is held|\n|`QK_UNDERGLOW_SPEED_DOWN`     |`UG_SPDD` |Decrease effect speed (brightness), increase speed when Shift is held|\n|`RGB_MODE_PLAIN`              |`RGB_M_P `|Static (no animation) mode (deprecated)                              |\n|`RGB_MODE_BREATHE`            |`RGB_M_B` |Breathing animation mode (deprecated)                                |\n|`RGB_MODE_RAINBOW`            |`RGB_M_R` |Rainbow animation mode (deprecated)                                  |\n|`RGB_MODE_SWIRL`              |`RGB_M_SW`|Swirl animation mode (deprecated)                                    |\n|`RGB_MODE_SNAKE`              |`RGB_M_SN`|Snake animation mode (deprecated)                                    |\n|`RGB_MODE_KNIGHT`             |`RGB_M_K` |\"Knight Rider\" animation mode (deprecated)                           |\n|`RGB_MODE_XMAS`               |`RGB_M_X` |Christmas animation mode (deprecated)                                |\n|`RGB_MODE_GRADIENT`           |`RGB_M_G` |Static gradient animation mode (deprecated)                          |\n|`RGB_MODE_RGBTEST`            |`RGB_M_T` |Red, Green, Blue test animation mode (deprecated)                    |\n|`RGB_MODE_TWINKLE`            |`RGB_M_TW`|Twinkle animation mode (deprecated)                                  |",
        "RGB Matrix {#rgb-matrix}": "See also: [RGB Matrix](features/rgb_matrix)\n\n|Key                            |Aliases  |Description                        |\n|-------------------------------|---------|-----------------------------------|\n|`QK_RGB_MATRIX_ON`             |`RM_ON`  |Turn on RGB Matrix                 |\n|`QK_RGB_MATRIX_OFF`            |`RM_OFF` |Turn off RGB Matrix                |\n|`QK_RGB_MATRIX_TOGGLE`         |`RM_TOGG`|Toggle RGB Matrix on or off        |\n|`QK_RGB_MATRIX_MODE_NEXT`      |`RM_NEXT`|Cycle through animations           |\n|`QK_RGB_MATRIX_MODE_PREVIOUS`  |`RM_PREV`|Cycle through animations in reverse|\n|`QK_RGB_MATRIX_HUE_UP`         |`RM_HUEU`|Cycle through hue                  |\n|`QK_RGB_MATRIX_HUE_DOWN`       |`RM_HUED`|Cycle through hue in reverse       |\n|`QK_RGB_MATRIX_SATURATION_UP`  |`RM_SATU`|Increase the saturation            |\n|`QK_RGB_MATRIX_SATURATION_DOWN`|`RM_SATD`|Decrease the saturation            |\n|`QK_RGB_MATRIX_VALUE_UP`       |`RM_VALU`|Increase the brightness level      |\n|`QK_RGB_MATRIX_VALUE_DOWN`     |`RM_VALD`|Decrease the brightness level      |\n|`QK_RGB_MATRIX_SPEED_UP`       |`RM_SPDU`|Increase the animation speed       |\n|`QK_RGB_MATRIX_SPEED_DOWN`     |`RM_SPDD`|Decrease the animation speed       |",
        "US ANSI Shifted Symbols {#us-ansi-shifted-symbols}": "See also: [US ANSI Shifted Symbols](keycodes_us_ansi_shifted)\n\n|Key                     |Aliases            |Description|\n|------------------------|-------------------|-----------|\n|`KC_TILDE`              |`KC_TILD`          |`~`        |\n|`KC_EXCLAIM`            |`KC_EXLM`          |`!`        |\n|`KC_AT`                 |                   |`@`        |\n|`KC_HASH`               |                   |`#`        |\n|`KC_DOLLAR`             |`KC_DLR`           |`$`        |\n|`KC_PERCENT`            |`KC_PERC`          |`%`        |\n|`KC_CIRCUMFLEX`         |`KC_CIRC`          |`^`        |\n|`KC_AMPERSAND`          |`KC_AMPR`          |`&`        |\n|`KC_ASTERISK`           |`KC_ASTR`          |`*`        |\n|`KC_LEFT_PAREN`         |`KC_LPRN`          |`(`        |\n|`KC_RIGHT_PAREN`        |`KC_RPRN`          |`)`        |\n|`KC_UNDERSCORE`         |`KC_UNDS`          |`_`        |\n|`KC_PLUS`               |                   |`+`        |\n|`KC_LEFT_CURLY_BRACE`   |`KC_LCBR`          |`{`        |\n|`KC_RIGHT_CURLY_BRACE`  |`KC_RCBR`          |`}`        |\n|`KC_PIPE`               |                   |`\\|`       |\n|`KC_COLON`              |`KC_COLN`          |`:`        |\n|`KC_DOUBLE_QUOTE`       |`KC_DQUO`, `KC_DQT`|`\"`        |\n|`KC_LEFT_ANGLE_BRACKET` |`KC_LABK`, `KC_LT` |`<`        |\n|`KC_RIGHT_ANGLE_BRACKET`|`KC_RABK`, `KC_GT` |`>`        |\n|`KC_QUESTION`           |`KC_QUES`          |`?`        |",
        "One Shot Keys {#one-shot-keys}": "See also: [One Shot Keys](one_shot_keys)\n\n|Key                 |Aliases  |Description                                                          |\n|--------------------|---------|---------------------------------------------------------------------|\n|`QK_ONE_SHOT_TOGGLE`|`OS_TOGG`|Toggles One Shot keys status                                         |\n|`QK_ONE_SHOT_ON`    |`OS_ON`  |Turns One Shot keys on                                               |\n|`QK_ONE_SHOT_OFF`   |`OS_OFF` |Turns One Shot keys off                                              |\n|`OSL(layer)`        |         |Switch to `layer` for one keypress                                   |\n|`OSM(mod)`          |         |Hold `mod` for one keypress                                          |\n|`OS_LCTL`           |         |Hold Left Control for one keypress                                   |\n|`OS_LSFT`           |         |Hold Left Shift for one keypress                                     |\n|`OS_LALT`           |         |Hold Left Alt for one keypress                                       |\n|`OS_LGUI`           |         |Hold Left GUI for one keypress                                       |\n|`OS_LCS`            |         |Hold Left Control and Left Shift for one keypress                    |\n|`OS_LCA`            |         |Hold Left Control and left Alt for one keypress                      |\n|`OS_LCG`            |         |Hold Left Control and Left GUI for one keypress                      |\n|`OS_LSA`            |         |Hold Left Shift and Left Alt for one keypress                        |\n|`OS_LSG`            |         |Hold Left Shift and Left GUI for one keypress                        |\n|`OS_LAG`            |         |Hold Left Alt and Left GUI for one keypress                          |\n|`OS_LCSG`           |         |Hold Left Control, Left Shift and Left GUI for one keypress          |\n|`OS_LCAG`           |         |Hold Left Control, Left Alt and Left GUI for one keypress            |\n|`OS_LSAG`           |         |Hold Left Shift, Left Alt and Left GUI for one keypress              |\n|`OS_RCTL`           |         |Hold Right Control for one keypress                                  |\n|`OS_RSFT`           |         |Hold Right Shift for one keypress                                    |\n|`OS_RALT`           |         |Hold Right Alt for one keypress                                      |\n|`OS_RGUI`           |         |Hold Right GUI for one keypress                                      |\n|`OS_RCS`            |         |Hold Right Control and Right Shift for one keypress                  |\n|`OS_RCA`            |         |Hold Right Control and Right Alt for one keypress                    |\n|`OS_RCG`            |         |Hold Right Control and Right GUI for one keypress                    |\n|`OS_RSA`            |         |Hold Right Shift and Right Alt for one keypress                      |\n|`OS_RSG`            |         |Hold Right Shift and Right GUI for one keypress                      |\n|`OS_RAG`            |         |Hold Right Alt and Right GUI for one keypress                        |\n|`OS_RCSG`           |         |Hold Right Control, Right Shift and Right GUI for one keypress       |\n|`OS_RCAG`           |         |Hold Right Control, Right Alt and Right GUI for one keypress         |\n|`OS_RSAG`           |         |Hold Right Shift, Right Alt and Right GUI for one keypress           |\n|`OS_MEH`            |         |Hold Left Control, Left Shift and Left Alt for one keypress          |\n|`OS_HYPR`           |         |Hold Left Control, Left Shift, Left Alt and Left GUI for one keypress|",
        "Programmable Button Support {#programmable-button}": "See also: [Programmable Button](features/programmable_button)\n\n|Key                        |Aliases|Description           |\n|---------------------------|-------|----------------------|\n|`QK_PROGRAMMABLE_BUTTON_1` |`PB_1` |Programmable button 1 |\n|`QK_PROGRAMMABLE_BUTTON_2` |`PB_2` |Programmable button 2 |\n|`QK_PROGRAMMABLE_BUTTON_3` |`PB_3` |Programmable button 3 |\n|`QK_PROGRAMMABLE_BUTTON_4` |`PB_4` |Programmable button 4 |\n|`QK_PROGRAMMABLE_BUTTON_5` |`PB_5` |Programmable button 5 |\n|`QK_PROGRAMMABLE_BUTTON_6` |`PB_6` |Programmable button 6 |\n|`QK_PROGRAMMABLE_BUTTON_7` |`PB_7` |Programmable button 7 |\n|`QK_PROGRAMMABLE_BUTTON_8` |`PB_8` |Programmable button 8 |\n|`QK_PROGRAMMABLE_BUTTON_9` |`PB_9` |Programmable button 9 |\n|`QK_PROGRAMMABLE_BUTTON_10`|`PB_10`|Programmable button 10|\n|`QK_PROGRAMMABLE_BUTTON_11`|`PB_11`|Programmable button 11|\n|`QK_PROGRAMMABLE_BUTTON_12`|`PB_12`|Programmable button 12|\n|`QK_PROGRAMMABLE_BUTTON_13`|`PB_13`|Programmable button 13|\n|`QK_PROGRAMMABLE_BUTTON_14`|`PB_14`|Programmable button 14|\n|`QK_PROGRAMMABLE_BUTTON_15`|`PB_15`|Programmable button 15|\n|`QK_PROGRAMMABLE_BUTTON_16`|`PB_16`|Programmable button 16|\n|`QK_PROGRAMMABLE_BUTTON_17`|`PB_17`|Programmable button 17|\n|`QK_PROGRAMMABLE_BUTTON_18`|`PB_18`|Programmable button 18|\n|`QK_PROGRAMMABLE_BUTTON_19`|`PB_19`|Programmable button 19|\n|`QK_PROGRAMMABLE_BUTTON_20`|`PB_20`|Programmable button 20|\n|`QK_PROGRAMMABLE_BUTTON_21`|`PB_21`|Programmable button 21|\n|`QK_PROGRAMMABLE_BUTTON_22`|`PB_22`|Programmable button 22|\n|`QK_PROGRAMMABLE_BUTTON_23`|`PB_23`|Programmable button 23|\n|`QK_PROGRAMMABLE_BUTTON_24`|`PB_24`|Programmable button 24|\n|`QK_PROGRAMMABLE_BUTTON_25`|`PB_25`|Programmable button 25|\n|`QK_PROGRAMMABLE_BUTTON_26`|`PB_26`|Programmable button 26|\n|`QK_PROGRAMMABLE_BUTTON_27`|`PB_27`|Programmable button 27|\n|`QK_PROGRAMMABLE_BUTTON_28`|`PB_28`|Programmable button 28|\n|`QK_PROGRAMMABLE_BUTTON_29`|`PB_29`|Programmable button 29|\n|`QK_PROGRAMMABLE_BUTTON_30`|`PB_30`|Programmable button 30|\n|`QK_PROGRAMMABLE_BUTTON_31`|`PB_31`|Programmable button 31|\n|`QK_PROGRAMMABLE_BUTTON_32`|`PB_32`|Programmable button 32|",
        "Repeat Key {#repeat-key}": "See also: [Repeat Key](features/repeat_key)\n\n|Keycode                |Aliases  |Description                          |\n|-----------------------|---------|-------------------------------------|\n|`QK_REPEAT_KEY`        |`QK_REP` |Repeat the last pressed key          |\n|`QK_ALT_REPEAT_KEY`    |`QK_AREP`|Perform alternate of the last key    |",
        "Space Cadet {#space-cadet}": "See also: [Space Cadet](features/space_cadet)\n\n|Key                                           |Aliases  |Description                             |\n|----------------------------------------------|---------|----------------------------------------|\n|`QK_SPACE_CADET_LEFT_CTRL_PARENTHESIS_OPEN`   |`SC_LCPO`|Left Control when held, `(` when tapped |\n|`QK_SPACE_CADET_RIGHT_CTRL_PARENTHESIS_CLOSE` |`SC_RCPC`|Right Control when held, `)` when tapped|\n|`QK_SPACE_CADET_LEFT_SHIFT_PARENTHESIS_OPEN`  |`SC_LSPO`|Left Shift when held, `(` when tapped   |\n|`QK_SPACE_CADET_RIGHT_SHIFT_PARENTHESIS_CLOSE`|`SC_RSPC`|Right Shift when held, `)` when tapped  |\n|`QK_SPACE_CADET_LEFT_ALT_PARENTHESIS_OPEN`    |`SC_LAPO`|Left Alt when held, `(` when tapped     |\n|`QK_SPACE_CADET_RIGHT_ALT_PARENTHESIS_CLOSE`  |`SC_RAPC`|Right Alt when held, `)` when tapped    |\n|`QK_SPACE_CADET_RIGHT_SHIFT_ENTER`            |`SC_SENT`|Right Shift when held, Enter when tapped|",
        "Swap Hands {#swap-hands}": "See also: [Swap Hands](features/swap_hands)\n\n|Key                          |Aliases  |Description                                         |\n|-----------------------------|---------|----------------------------------------------------|\n|`SH_T(kc)`                   |         |Momentary swap when held, `kc` when tapped          |\n|`QK_SWAP_HANDS_ON`           |`SH_ON`  |Turn on hand swap                                   |\n|`QK_SWAP_HANDS_OFF`          |`SH_OFF` |Turn off hand swap                                  |\n|`QK_SWAP_HANDS_MOMENTARY_ON` |`SH_MON` |Turn on hand swap while held                        |\n|`QK_SWAP_HANDS_MOMENTARY_OFF`|`SH_MOFF`|Turn off hand swap while held                       |\n|`QK_SWAP_HANDS_TOGGLE`       |`SH_TOGG`|Toggle hand swap                                    |\n|`QK_SWAP_HANDS_TAP_TOGGLE`   |`SH_TT`  |Momentary swap when held, toggle when tapped        |\n|`QK_SWAP_HANDS_ONE_SHOT`     |`SH_OS`  |Turn on hand swap while held or until next key press|",
        "Unicode Support {#unicode-support}": "See also: [Unicode Support](features/unicode)\n\n|Key                         |Aliases  |Description                                                     |\n|----------------------------|---------|----------------------------------------------------------------|\n|`UC(c)`                     |         |Send Unicode code point `c`, up to `0x7FFF`                     |\n|`UM(i)`                     |         |Send Unicode code point at index `i` in `unicode_map`           |\n|`UP(i, j)`                  |         |Send Unicode code point at index `i`, or `j` if Shift/Caps is on|\n|`QK_UNICODE_MODE_NEXT`      |`UC_NEXT`|Cycle through selected input modes                              |\n|`QK_UNICODE_MODE_PREVIOUS`  |`UC_PREV`|Cycle through selected input modes in reverse                   |\n|`QK_UNICODE_MODE_MACOS`     |`UC_MAC` |Switch to macOS input                                           |\n|`QK_UNICODE_MODE_LINUX`     |`UC_LINX`|Switch to Linux input                                           |\n|`QK_UNICODE_MODE_WINDOWS`   |`UC_WIN` |Switch to Windows input                                         |\n|`QK_UNICODE_MODE_BSD`       |`UC_BSD` |Switch to BSD input (not implemented)                           |\n|`QK_UNICODE_MODE_WINCOMPOSE`|`UC_WINC`|Switch to Windows input using WinCompose                        |\n|`QK_UNICODE_MODE_EMACS`     |`UC_EMAC`|Switch to emacs (`C-x-8 RET`)                                   |"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 57]"
    },
    {
      "title": "Basic Keycodes",
      "description": null,
      "content": {
        "Letters and Numbers": "|Key   |Description|\n|------|-----------|\n|`KC_A`|`a` and `A`|\n|`KC_B`|`b` and `B`|\n|`KC_C`|`c` and `C`|\n|`KC_D`|`d` and `D`|\n|`KC_E`|`e` and `E`|\n|`KC_F`|`f` and `F`|\n|`KC_G`|`g` and `G`|\n|`KC_H`|`h` and `H`|\n|`KC_I`|`i` and `I`|\n|`KC_J`|`j` and `J`|\n|`KC_K`|`k` and `K`|\n|`KC_L`|`l` and `L`|\n|`KC_M`|`m` and `M`|\n|`KC_N`|`n` and `N`|\n|`KC_O`|`o` and `O`|\n|`KC_P`|`p` and `P`|\n|`KC_Q`|`q` and `Q`|\n|`KC_R`|`r` and `R`|\n|`KC_S`|`s` and `S`|\n|`KC_T`|`t` and `T`|\n|`KC_U`|`u` and `U`|\n|`KC_V`|`v` and `V`|\n|`KC_W`|`w` and `W`|\n|`KC_X`|`x` and `X`|\n|`KC_Y`|`y` and `Y`|\n|`KC_Z`|`z` and `Z`|\n|`KC_1`|`1` and `!`|\n|`KC_2`|`2` and `@`|\n|`KC_3`|`3` and `#`|\n|`KC_4`|`4` and `$`|\n|`KC_5`|`5` and `%`|\n|`KC_6`|`6` and `^`|\n|`KC_7`|`7` and `&`|\n|`KC_8`|`8` and `*`|\n|`KC_9`|`9` and `(`|\n|`KC_0`|`0` and `)`|",
        "F Keys": "|Key     |Description|\n|--------|-----------|\n|`KC_F1` |F1         |\n|`KC_F2` |F2         |\n|`KC_F3` |F3         |\n|`KC_F4` |F4         |\n|`KC_F5` |F5         |\n|`KC_F6` |F6         |\n|`KC_F7` |F7         |\n|`KC_F8` |F8         |\n|`KC_F9` |F9         |\n|`KC_F10`|F10        |\n|`KC_F11`|F11        |\n|`KC_F12`|F12        |\n|`KC_F13`|F13        |\n|`KC_F14`|F14        |\n|`KC_F15`|F15        |\n|`KC_F16`|F16        |\n|`KC_F17`|F17        |\n|`KC_F18`|F18        |\n|`KC_F19`|F19        |\n|`KC_F20`|F20        |\n|`KC_F21`|F21        |\n|`KC_F22`|F22        |\n|`KC_F23`|F23        |\n|`KC_F24`|F24        |",
        "Punctuation": "|Key                 |Aliases  |Description               |\n|--------------------|---------|--------------------------|\n|`KC_ENTER`          |`KC_ENT` |Return (Enter)            |\n|`KC_ESCAPE`         |`KC_ESC` |Escape                    |\n|`KC_BACKSPACE`      |`KC_BSPC`|Delete (Backspace)        |\n|`KC_TAB`            |         |Tab                       |\n|`KC_SPACE`          |`KC_SPC` |Spacebar                  |\n|`KC_MINUS`          |`KC_MINS`|`-` and `_`               |\n|`KC_EQUAL`          |`KC_EQL` |`=` and `+`               |\n|`KC_LEFT_BRACKET`   |`KC_LBRC`|`[` and `{`               |\n|`KC_RIGHT_BRACKET`  |`KC_RBRC`|`]` and `}`               |\n|`KC_BACKSLASH`      |`KC_BSLS`|`\\` and `\\|`              |\n|`KC_NONUS_HASH`     |`KC_NUHS`|Non-US `#` and `~`        |\n|`KC_SEMICOLON`      |`KC_SCLN`|`;` and `:`               |\n|`KC_QUOTE`          |`KC_QUOT`|`'` and `\"`               |\n|`KC_GRAVE`          |`KC_GRV` |<code>&#96;</code> and `~`|\n|`KC_COMMA`          |`KC_COMM`|`,` and `<`               |\n|`KC_DOT`            |         |`.` and `>`               |\n|`KC_SLASH`          |`KC_SLSH`|`/` and `?`               |\n|`KC_NONUS_BACKSLASH`|`KC_NUBS`|Non-US `\\` and `\\|`       |",
        "Lock Keys": "|Key                     |Aliases             |Description                         |\n|------------------------|--------------------|------------------------------------|\n|`KC_CAPS_LOCK`          |`KC_CAPS`           |Caps Lock                           |\n|`KC_SCROLL_LOCK`        |`KC_SCRL`, `KC_BRMD`|Scroll Lock, Brightness Down (macOS)|\n|`KC_NUM_LOCK`           |`KC_NUM`            |Keypad Num Lock and Clear           |\n|`KC_LOCKING_CAPS_LOCK`  |`KC_LCAP`           |Locking Caps Lock                   |\n|`KC_LOCKING_NUM_LOCK`   |`KC_LNUM`           |Locking Num Lock                    |\n|`KC_LOCKING_SCROLL_LOCK`|`KC_LSCR`           |Locking Scroll Lock                 |",
        "Modifiers": "|Key             |Aliases                        |Description                          |\n|----------------|-------------------------------|-------------------------------------|\n|`KC_LEFT_CTRL`  |`KC_LCTL`                      |Left Control                         |\n|`KC_LEFT_SHIFT` |`KC_LSFT`                      |Left Shift                           |\n|`KC_LEFT_ALT`   |`KC_LALT`, `KC_LOPT`           |Left Alt (Option)                    |\n|`KC_LEFT_GUI`   |`KC_LGUI`, `KC_LCMD`, `KC_LWIN`|Left GUI (Windows/Command/Super key) |\n|`KC_RIGHT_CTRL` |`KC_RCTL`                      |Right Control                        |\n|`KC_RIGHT_SHIFT`|`KC_RSFT`                      |Right Shift                          |\n|`KC_RIGHT_ALT`  |`KC_RALT`, `KC_ROPT`, `KC_ALGR`|Right Alt (Option/AltGr)             |\n|`KC_RIGHT_GUI`  |`KC_RGUI`, `KC_RCMD`, `KC_RWIN`|Right GUI (Windows/Command/Super key)|",
        "International": "|Key                 |Aliases  |Description          |\n|--------------------|---------|---------------------|\n|`KC_INTERNATIONAL_1`|`KC_INT1`|JIS `\\` and `_`      |\n|`KC_INTERNATIONAL_2`|`KC_INT2`|JIS Katakana/Hiragana|\n|`KC_INTERNATIONAL_3`|`KC_INT3`|JIS `` and `\\|`     |\n|`KC_INTERNATIONAL_4`|`KC_INT4`|JIS Henkan           |\n|`KC_INTERNATIONAL_5`|`KC_INT5`|JIS Muhenkan         |\n|`KC_INTERNATIONAL_6`|`KC_INT6`|JIS Numpad `,`       |\n|`KC_INTERNATIONAL_7`|`KC_INT7`|International 7      |\n|`KC_INTERNATIONAL_8`|`KC_INT8`|International 8      |\n|`KC_INTERNATIONAL_9`|`KC_INT9`|International 9      |\n|`KC_LANGUAGE_1`     |`KC_LNG1`|Hangul/English       |\n|`KC_LANGUAGE_2`     |`KC_LNG2`|Hanja                |\n|`KC_LANGUAGE_3`     |`KC_LNG3`|JIS Katakana         |\n|`KC_LANGUAGE_4`     |`KC_LNG4`|JIS Hiragana         |\n|`KC_LANGUAGE_5`     |`KC_LNG5`|JIS Zenkaku/Hankaku  |\n|`KC_LANGUAGE_6`     |`KC_LNG6`|Language 6           |\n|`KC_LANGUAGE_7`     |`KC_LNG7`|Language 7           |\n|`KC_LANGUAGE_8`     |`KC_LNG8`|Language 8           |\n|`KC_LANGUAGE_9`     |`KC_LNG9`|Language 9           |",
        "Commands": "|Key                 |Aliases                       |Description                           |\n|--------------------|------------------------------|--------------------------------------|\n|`KC_PRINT_SCREEN`   |`KC_PSCR`                     |Print Screen                          |\n|`KC_PAUSE`          |`KC_PAUS`, `KC_BRK`, `KC_BRMU`|Pause, Brightness Up (macOS)          |\n|`KC_INSERT`         |`KC_INS`                      |Insert                                |\n|`KC_HOME`           |                              |Home                                  |\n|`KC_PAGE_UP`        |`KC_PGUP`                     |Page Up                               |\n|`KC_DELETE`         |`KC_DEL`                      |Forward Delete                        |\n|`KC_END`            |                              |End                                   |\n|`KC_PAGE_DOWN`      |`KC_PGDN`                     |Page Down                             |\n|`KC_RIGHT`          |`KC_RGHT`                     |Right Arrow                           |\n|`KC_LEFT`           |                              |Left Arrow                            |\n|`KC_DOWN`           |                              |Down Arrow                            |\n|`KC_UP`             |                              |Up Arrow                              |\n|`KC_APPLICATION`    |`KC_APP`                      |Application (Windows Context Menu Key)|\n|`KC_KB_POWER`       |                              |System Power                          |\n|`KC_EXECUTE`        |`KC_EXEC`                     |Execute                               |\n|`KC_HELP`           |                              |Help                                  |\n|`KC_MENU`           |                              |Menu                                  |\n|`KC_SELECT`         |`KC_SLCT`                     |Select                                |\n|`KC_STOP`           |                              |Stop                                  |\n|`KC_AGAIN`          |`KC_AGIN`                     |Again                                 |\n|`KC_UNDO`           |                              |Undo                                  |\n|`KC_CUT`            |                              |Cut                                   |\n|`KC_COPY`           |                              |Copy                                  |\n|`KC_PASTE`          |`KC_PSTE`                     |Paste                                 |\n|`KC_FIND`           |                              |Find                                  |\n|`KC_KB_MUTE`        |                              |Mute                                  |\n|`KC_KB_VOLUME_UP`   |                              |Volume Up                             |\n|`KC_KB_VOLUME_DOWN` |                              |Volume Down                           |\n|`KC_ALTERNATE_ERASE`|`KC_ERAS`                     |Alternate Erase                       |\n|`KC_SYSTEM_REQUEST` |`KC_SYRQ`                     |SysReq/Attention                      |\n|`KC_CANCEL`         |`KC_CNCL`                     |Cancel                                |\n|`KC_CLEAR`          |`KC_CLR`                      |Clear                                 |\n|`KC_PRIOR`          |`KC_PRIR`                     |Prior                                 |\n|`KC_RETURN`         |`KC_RETN`                     |Return                                |\n|`KC_SEPARATOR`      |`KC_SEPR`                     |Separator                             |\n|`KC_OUT`            |                              |Out                                   |\n|`KC_OPER`           |                              |Oper                                  |\n|`KC_CLEAR_AGAIN`    |`KC_CLAG`                     |Clear/Again                           |\n|`KC_CRSEL`          |`KC_CRSL`                     |CrSel/Props                           |\n|`KC_EXSEL`          |`KC_EXSL`                     |ExSel                                 |",
        "Media Keys": "These keycodes are not part of the Keyboard/Keypad usage page. The `SYSTEM_` keycodes are found in the Generic Desktop page, and the rest are located in the Consumer page.\n\n::: tip\nSome of these keycodes may behave differently depending on the OS. For example, on macOS, the keycodes `KC_MEDIA_FAST_FORWARD`, `KC_MEDIA_REWIND`, `KC_MEDIA_NEXT_TRACK` and `KC_MEDIA_PREV_TRACK` skip within the current track when held, but skip the entire track when tapped.\n:::\n\n|Key                    |Aliases  |Description         |\n|-----------------------|---------|--------------------|\n|`KC_SYSTEM_POWER`      |`KC_PWR` |System Power Down   |\n|`KC_SYSTEM_SLEEP`      |`KC_SLEP`|System Sleep        |\n|`KC_SYSTEM_WAKE`       |`KC_WAKE`|System Wake         |\n|`KC_AUDIO_MUTE`        |`KC_MUTE`|Mute                |\n|`KC_AUDIO_VOL_UP`      |`KC_VOLU`|Volume Up           |\n|`KC_AUDIO_VOL_DOWN`    |`KC_VOLD`|Volume Down         |\n|`KC_MEDIA_NEXT_TRACK`  |`KC_MNXT`|Next Track          |\n|`KC_MEDIA_PREV_TRACK`  |`KC_MPRV`|Previous Track      |\n|`KC_MEDIA_STOP`        |`KC_MSTP`|Stop Track          |\n|`KC_MEDIA_PLAY_PAUSE`  |`KC_MPLY`|Play/Pause Track    |\n|`KC_MEDIA_SELECT`      |`KC_MSEL`|Launch Media Player |\n|`KC_MEDIA_EJECT`       |`KC_EJCT`|Eject               |\n|`KC_MAIL`              |         |Launch Mail         |\n|`KC_CALCULATOR`        |`KC_CALC`|Launch Calculator   |\n|`KC_MY_COMPUTER`       |`KC_MYCM`|Launch My Computer  |\n|`KC_WWW_SEARCH`        |`KC_WSCH`|Browser Search      |\n|`KC_WWW_HOME`          |`KC_WHOM`|Browser Home        |\n|`KC_WWW_BACK`          |`KC_WBAK`|Browser Back        |\n|`KC_WWW_FORWARD`       |`KC_WFWD`|Browser Forward     |\n|`KC_WWW_STOP`          |`KC_WSTP`|Browser Stop        |\n|`KC_WWW_REFRESH`       |`KC_WREF`|Browser Refresh     |\n|`KC_WWW_FAVORITES`     |`KC_WFAV`|Browser Favorites   |\n|`KC_MEDIA_FAST_FORWARD`|`KC_MFFD`|Next Track          |\n|`KC_MEDIA_REWIND`      |`KC_MRWD`|Previous Track      |\n|`KC_BRIGHTNESS_UP`     |`KC_BRIU`|Brightness Up       |\n|`KC_BRIGHTNESS_DOWN`   |`KC_BRID`|Brightness Down     |\n|`KC_CONTROL_PANEL`     |`KC_CPNL`|Open Control Panel  |\n|`KC_ASSISTANT`         |`KC_ASST`|Launch Assistant    |\n|`KC_MISSION_CONTROL`   |`KC_MCTL`|Open Mission Control|\n|`KC_LAUNCHPAD`         |`KC_LPAD`|Open Launchpad      |",
        "Number Pad": "|Key                |Aliases  |Description                   |\n|-------------------|---------|------------------------------|\n|`KC_KP_SLASH`      |`KC_PSLS`|Keypad `/`                    |\n|`KC_KP_ASTERISK`   |`KC_PAST`|Keypad `*`                    |\n|`KC_KP_MINUS`      |`KC_PMNS`|Keypad `-`                    |\n|`KC_KP_PLUS`       |`KC_PPLS`|Keypad `+`                    |\n|`KC_KP_ENTER`      |`KC_PENT`|Keypad Enter                  |\n|`KC_KP_1`          |`KC_P1`  |Keypad `1` and End            |\n|`KC_KP_2`          |`KC_P2`  |Keypad `2` and Down Arrow     |\n|`KC_KP_3`          |`KC_P3`  |Keypad `3` and Page Down      |\n|`KC_KP_4`          |`KC_P4`  |Keypad `4` and Left Arrow     |\n|`KC_KP_5`          |`KC_P5`  |Keypad `5`                    |\n|`KC_KP_6`          |`KC_P6`  |Keypad `6` and Right Arrow    |\n|`KC_KP_7`          |`KC_P7`  |Keypad `7` and Home           |\n|`KC_KP_8`          |`KC_P8`  |Keypad `8` and Up Arrow       |\n|`KC_KP_9`          |`KC_P9`  |Keypad `9` and Page Up        |\n|`KC_KP_0`          |`KC_P0`  |Keypad `0` and Insert         |\n|`KC_KP_DOT`        |`KC_PDOT`|Keypad `.` and Delete         |\n|`KC_KP_EQUAL`      |`KC_PEQL`|Keypad `=`                    |\n|`KC_KP_COMMA`      |`KC_PCMM`|Keypad `,`                    |\n|`KC_KP_EQUAL_AS400`|         |Keypad `=` on AS/400 keyboards|",
        "Special Keys": "In addition to these, keycodes in the range of `0xA5-DF` are reserved for internal use.\n\n|Key             |Aliases             |Description                            |\n|----------------|--------------------|---------------------------------------|\n|`KC_NO`         |`XXXXXXX`           |Ignore this key (NOOP)                 |\n|`KC_TRANSPARENT`|`KC_TRNS`, `_______`|Use the next lowest non-transparent key|"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 58]"
    },
    {
      "title": "Keycodes Magic",
      "description": null,
      "content": {
        "Magic Keycodes {#magic-keycodes}": "**Magic Keycodes** are prefixed with `MAGIC_`, and allow you to access the functionality of the deprecated Bootmagic feature *after* your keyboard has initialized. To use the keycodes, assign them to your keymap as you would any other keycode.\n\n|Key                                  |Aliases  |Description                                                               |\n|-------------------------------------|---------|--------------------------------------------------------------------------|\n|`QK_MAGIC_SWAP_CONTROL_CAPS_LOCK`    |`CL_SWAP`|Swap Caps Lock and Left Control                                           |\n|`QK_MAGIC_UNSWAP_CONTROL_CAPS_LOCK`  |`CL_NORM`|Unswap Caps Lock and Left Control                                         |\n|`QK_MAGIC_TOGGLE_CONTROL_CAPS_LOCK`  |`CL_TOGG`|Toggle Caps Lock and Left Control swap                                    |\n|`QK_MAGIC_CAPS_LOCK_AS_CONTROL_ON`   |`CL_CTRL`|Treat Caps Lock as Control                                                |\n|`QK_MAGIC_CAPS_LOCK_AS_CONTROL_OFF`  |`CL_CAPS`|Stop treating Caps Lock as Control                                        |\n|`QK_MAGIC_SWAP_ESCAPE_CAPS_LOCK`     |`EC_SWAP`|Swap Caps Lock and Escape                                                 |\n|`QK_MAGIC_UNSWAP_ESCAPE_CAPS_LOCK`   |`EC_NORM`|Unswap Caps Lock and Escape                                               |\n|`QK_MAGIC_TOGGLE_ESCAPE_CAPS_LOCK`   |`EC_TOGG`|Toggle Caps Lock and Escape swap                                          |\n|`QK_MAGIC_SWAP_LCTL_LGUI`            |`CG_LSWP`|Swap Left Control and GUI                                                 |\n|`QK_MAGIC_UNSWAP_LCTL_LGUI`          |`CG_LNRM`|Unswap Left Control and GUI                                               |\n|`QK_MAGIC_SWAP_RCTL_RGUI`            |`CG_RSWP`|Swap Right Control and GUI                                                |\n|`QK_MAGIC_UNSWAP_RCTL_RGUI`          |`CG_RNRM`|Unswap Right Control and GUI                                              |\n|`QK_MAGIC_SWAP_CTL_GUI`              |`CG_SWAP`|Swap Control and GUI on both sides                                        |\n|`QK_MAGIC_UNSWAP_CTL_GUI`            |`CG_NORM`|Unswap Control and GUI on both sides                                      |\n|`QK_MAGIC_TOGGLE_CTL_GUI`            |`CG_TOGG`|Toggle Control and GUI swap on both sides                                 |\n|`QK_MAGIC_SWAP_LALT_LGUI`            |`AG_LSWP`|Swap Left Alt and GUI                                                     |\n|`QK_MAGIC_UNSWAP_LALT_LGUI`          |`AG_LNRM`|Unswap Left Alt and GUI                                                   |\n|`QK_MAGIC_SWAP_RALT_RGUI`            |`AG_RSWP`|Swap Right Alt and GUI                                                    |\n|`QK_MAGIC_UNSWAP_RALT_RGUI`          |`AG_RNRM`|Unswap Right Alt and GUI                                                  |\n|`QK_MAGIC_SWAP_ALT_GUI`              |`AG_SWAP`|Swap Alt and GUI on both sides                                            |\n|`QK_MAGIC_UNSWAP_ALT_GUI`            |`AG_NORM`|Unswap Alt and GUI on both sides                                          |\n|`QK_MAGIC_TOGGLE_ALT_GUI`            |`AG_TOGG`|Toggle Alt and GUI swap on both sides                                     |\n|`QK_MAGIC_GUI_OFF`                   |`GU_OFF` |Disable the GUI keys                                                      |\n|`QK_MAGIC_GUI_ON`                    |`GU_ON`  |Enable the GUI keys                                                       |\n|`QK_MAGIC_TOGGLE_GUI`                |`GU_TOGG`|Toggles the status of the GUI keys                                        |\n|`QK_MAGIC_SWAP_GRAVE_ESC`            |`GE_SWAP`|Swap <code>&#96;</code> and Escape                                        |\n|`QK_MAGIC_UNSWAP_GRAVE_ESC`          |`GE_NORM`|Unswap <code>&#96;</code> and Escape                                      |\n|`QK_MAGIC_SWAP_BACKSLASH_BACKSPACE`  |`BS_SWAP`|Swap `\\` and Backspace                                                    |\n|`QK_MAGIC_UNSWAP_BACKSLASH_BACKSPACE`|`BS_NORM`|Unswap `\\` and Backspace                                                  |\n|`QK_MAGIC_TOGGLE_BACKSLASH_BACKSPACE`|`BS_TOGG`|Toggle `\\` and Backspace swap state                                       |\n|`QK_MAGIC_NKRO_ON`                   |`NK_ON`  |Enable N-key rollover                                                     |\n|`QK_MAGIC_NKRO_OFF`                  |`NK_OFF` |Disable N-key rollover                                                    |\n|`QK_MAGIC_TOGGLE_NKRO`               |`NK_TOGG`|Toggle N-key rollover                                                     |\n|`QK_MAGIC_EE_HANDS_LEFT`             |`EH_LEFT`|Set the master half of a split keyboard as the left hand (for `EE_HANDS`) |\n|`QK_MAGIC_EE_HANDS_RIGHT`            |`EH_RGHT`|Set the master half of a split keyboard as the right hand (for `EE_HANDS`)|"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 59]"
    },
    {
      "title": "US ANSI Shifted Symbols",
      "description": null,
      "content": {
        "Caveats": "Unfortunately, these keycodes cannot be used in Mod-Taps or Layer-Taps, since any modifiers specified in the keycode are ignored.\n\nAdditionally, you may run into issues when using Remote Desktop Connection on Windows. Because these codes send shift very fast, Remote Desktop may miss the codes.\n\nTo fix this, open Remote Desktop Connection, click on \"Show Options\", open the \"Local Resources\" tab. In the keyboard section, change the drop down to \"On this Computer\". This will fix the issue, and allow the characters to work correctly.",
        "Keycodes": "|Key                     |Aliases            |Description|\n|------------------------|-------------------|-----------|\n|`KC_TILDE`              |`KC_TILD`          |`~`        |\n|`KC_EXCLAIM`            |`KC_EXLM`          |`!`        |\n|`KC_AT`                 |                   |`@`        |\n|`KC_HASH`               |                   |`#`        |\n|`KC_DOLLAR`             |`KC_DLR`           |`$`        |\n|`KC_PERCENT`            |`KC_PERC`          |`%`        |\n|`KC_CIRCUMFLEX`         |`KC_CIRC`          |`^`        |\n|`KC_AMPERSAND`          |`KC_AMPR`          |`&`        |\n|`KC_ASTERISK`           |`KC_ASTR`          |`*`        |\n|`KC_LEFT_PAREN`         |`KC_LPRN`          |`(`        |\n|`KC_RIGHT_PAREN`        |`KC_RPRN`          |`)`        |\n|`KC_UNDERSCORE`         |`KC_UNDS`          |`_`        |\n|`KC_PLUS`               |                   |`+`        |\n|`KC_LEFT_CURLY_BRACE`   |`KC_LCBR`          |`{`        |\n|`KC_RIGHT_CURLY_BRACE`  |`KC_RCBR`          |`}`        |\n|`KC_PIPE`               |                   |`\\|`       |\n|`KC_COLON`              |`KC_COLN`          |`:`        |\n|`KC_DOUBLE_QUOTE`       |`KC_DQUO`, `KC_DQT`|`\"`        |\n|`KC_LEFT_ANGLE_BRACKET` |`KC_LABK`, `KC_LT` |`<`        |\n|`KC_RIGHT_ANGLE_BRACKET`|`KC_RABK`, `KC_GT` |`>`        |\n|`KC_QUESTION`           |`KC_QUES`          |`?`        |"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 60]"
    },
    {
      "title": "Keymap Overview",
      "description": null,
      "content": {
        "Keymap and Layers {#keymap-and-layers}": {
          "Keymap Layer Status {#keymap-layer-status}": "The state of the Keymap layer is determined by two 32 bit parameters:\n\n['**`default_layer_state`** indicates a base keymap layer (0-31) which is always valid and to be referred (the default layer).', '**`layer_state`** has current on/off status of each layer in its bits.']\n\nKeymap layer '0' is usually the `default_layer`, with other layers initially off after booting up the firmware, although this can configured differently in `config.h`. It is useful to change `default_layer` when you completely switch a key layout, for example, if you want to switch to Colemak instead of Qwerty.\n\n```\nInitial state of Keymap          Change base layout\n-----------------------          ------------------\n\n  31                               31\n  30                               30\n  29                               29\n   :                                :\n   :                                :   ____________\n   2   ____________                 2  /           /\n   1  /           /              ,->1 /___________/\n,->0 /___________/               |  0\n|                                |\n`--- default_layer = 0           `--- default_layer = 1\n     layer_state   = 0x00000001       layer_state   = 0x00000002\n```\n\nOn the other hand, you can change `layer_state` to overlay the base layer with other layers for features such as navigation keys, function keys (F1-F12), media keys, and/or special actions.\n\n```\nOverlay feature layer\n---------------------      bit|status\n       ____________        ---+------\n  31  /           /        31 |   0\n  30 /___________// -----> 30 |   1\n  29 /___________/  -----> 29 |   1\n   :                        : |   :\n   :   ____________         : |   :\n   2  /           /         2 |   0\n,->1 /___________/  ----->  1 |   1\n|  0                        0 |   0\n|                                 +\n`--- default_layer = 1            |\n     layer_state   = 0x60000002 <-'\n```",
          "Layer Precedence and Transparency": "Note that ***higher layers have higher priority within the stack of layers***. The firmware works its way down from the highest active layers to look up keycodes. Once the firmware locates a keycode other than `KC_TRNS` (transparent) on an active layer, it stops searching, and lower layers aren't referenced.\n\n```\n   ____________\n  /           /  <--- Higher layer\n /  KC_TRNS  //\n/___________//   <--- Lower layer (KC_A)\n/___________/\n```\n\nIn the above scenario, the non-transparent keys on the higher layer would be usable, but whenever `KC_TRNS` (or equivalent) is defined, the keycode (`KC_A`) on the lower level would be used.\n\n**Note:** Valid ways to denote transparency on a given layer:\n\n['`KC_TRANSPARENT`', '`KC_TRNS` (alias)', '`_______` (alias)']\n\nThese keycodes allow the processing to fall through to lower layers in search of a non-transparent keycode to process."
        },
        "Anatomy of a `keymap.c`": {
          "Definitions": "At the top of the file you'll find this:\n\n```\n#include QMK_KEYBOARD_H\n\n// Helpful defines\n#define GRAVE_MODS  (MOD_BIT(KC_LSFT)|MOD_BIT(KC_RSFT)|MOD_BIT(KC_LGUI)|MOD_BIT(KC_RGUI)|MOD_BIT(KC_LALT)|MOD_BIT(KC_RALT))\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * \n    *  You can use _______ in place for KC_TRNS (transparent)   *\n    *  Or you can use XXXXXXX for KC_NO (NOOP)                  *\n    * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n// Each layer gets a name for readability.\n// The underscores don't mean anything - you can\n// have a layer called STUFF or any other name.\n// Layer names don't all need to be of the same\n// length, and you can also skip them entirely\n// and just use numbers.\nenum layer_names {\n    _BL,\n    _FL,\n    _CL,\n};\n```\n\nThese are some handy definitions we can use when building our keymap and our custom function. The `GRAVE_MODS` definition will be used later in our custom function, and the following `_BL`, `_FL`, and `_CL` defines make it easier to refer to each of our layers.\n\nNote: You may also find some older keymap files may also have a define(s) for `_______` and/or `XXXXXXX`. These can be used in place for `KC_TRNS` and `KC_NO` respectively, making it easier to see what keys a layer is overriding. These definitions are now unnecessary, as they are included by default.",
          "Layers and Keymaps": {
            "Base Layer": "Here is an example of the Clueboard's base layer:\n\n```\n[_BL] = LAYOUT(\n    F(0),    KC_1,    KC_2,   KC_3,   KC_4,   KC_5,   KC_6,   KC_7,   KC_8,   KC_9,    KC_0,     KC_MINS,  KC_EQL,   KC_GRV,  KC_BSPC,          KC_PGUP,\n    KC_TAB,  KC_Q,    KC_W,   KC_E,   KC_R,   KC_T,   KC_Y,   KC_U,   KC_I,   KC_O,    KC_P,     KC_LBRC,  KC_RBRC,  KC_BSLS,                   KC_PGDN,\n    KC_CAPS, KC_A,    KC_S,   KC_D,   KC_F,   KC_G,   KC_H,   KC_J,   KC_K,   KC_L,    KC_SCLN,  KC_QUOT,  KC_NUHS,  KC_ENT,\n    KC_LSFT, KC_NUBS, KC_Z,   KC_X,   KC_C,   KC_V,   KC_B,   KC_N,   KC_M,   KC_COMM, KC_DOT,   KC_SLSH,  KC_INT1,  KC_RSFT,          KC_UP,\n    KC_LCTL, KC_LGUI, KC_LALT, KC_INT5,          KC_SPC,KC_SPC,                        KC_INT4,  KC_RALT,  KC_RCTL,  MO(_FL), KC_LEFT, KC_DOWN, KC_RGHT\n),\n```\n\nSome interesting things to note about this:\n\n[\"The layer is defined using the LAYOUT macro, traditionally defined in the keyboard's `.h` file.\", 'The LAYOUT macro takes a single list of keycodes, but we have written it in the C source using embedded whitespace and newlines to visualize where each key is on the physical device.', \"The LAYOUT macro hides and handles the mapping to the hardware's key scan matrix.\", 'Plain keyboard scancodes are prefixed with KC_, while \"special\" keys are not.', 'The upper left key activates custom function 0 (`F(0)`)', 'The \"Fn\" key is defined with `MO(_FL)`, which moves to the `_FL` layer while that key is being held down.']",
            "Function Overlay Layer": "Our function layer is, from a code point of view, no different from the base layer. Conceptually, however, you will build that layer as an overlay, not a replacement. For many people this distinction does not matter, but as you build more complicated layering setups it matters more and more.\n\n```\n[_FL] = LAYOUT(\n    KC_GRV,  KC_F1,   KC_F2,  KC_F3,  KC_F4,  KC_F5,  KC_F6,  KC_F7,  KC_F8,  KC_F9,   KC_F10,   KC_F11,   KC_F12,   _______, KC_DEL,           BL_STEP,\n    _______, _______, _______,_______,_______,_______,_______,_______,KC_PSCR,KC_SCRL, KC_PAUS,  _______,  _______,  _______,                   _______,\n    _______, _______, MO(_CL),_______,_______,_______,_______,_______,_______,_______, _______,  _______,  _______,  _______,\n    _______, _______, _______,_______,_______,_______,_______,_______,_______,_______, _______,  _______,  _______,  _______,          KC_PGUP,\n    _______, _______, _______, _______,        _______,_______,                        _______,  _______,  _______,  MO(_FL), KC_HOME, KC_PGDN, KC_END\n),\n```\n\nSome interesting things to note:\n\n['We have used our `_______` definition to turn `KC_TRNS` into `_______`. This makes it easier to spot the keys that have changed on this layer.', 'While in this layer if you press one of the `_______` keys it will activate the key in the next lowest active layer.']"
          }
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 61]"
    },
    {
      "title": "License Violations",
      "description": null,
      "content": {
        "Offending Vendors": "The QMK team cannot tell you which boards you should or should not purchase, but please consider the lack of license compliance from the following vendors before making your decision. If you wish to look at the boards upstream QMK Firmware currently supports, you can search [here](https://browse.qmk.fm/).\n\nIf you own a board from one of the following vendors already, consider asking them for the equivalent QMK source code if it's not already available. With enough customers demanding corresponding source code, vendors may start to change their policies.\n\n| Vendor                       | Reason                                                                                                                                                                                                                                                                                                                              |\n|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Ajazz                        | Selling tri-mode boards based on QMK without sources.                                                                                                                                                                                                                                                                               |\n| Alpaca / Apos                | Selling wireless boards with \"open\" source code, but linking against closed-source wireless libraries. Crippled source code already unknowingly merged to QMK.                                                                                                                                                                      |\n| Attack Shark                 | Selling tri-mode boards based on QMK without sources. (Clones of Ajazz?)                                                                                                                                                                                                                                                            |\n| BBB Keyboard                 | Selling tri-mode boards based on QMK without sources, attempted upstreaming crippled firmware without wireless.                                                                                                                                                                                                                     |\n| Chosfox                      | Selling L75 wired/wireless boards based on QMK without sources, just `via.json` provided. Raised on discord over multiple weeks without response.                                                                                                                                                                                   |\n| CIDOO                        | Selling wired boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                        |\n| ColorReco                    | Selling tri-mode boards based on QMK without sources.                                                                                                                                                                                                                                                                               |\n| CrossDIY                     | Selling wired boards based on QMK without sources.                                                                                                                                                                                                                                                                                  |\n| Darmoshark                   | Selling wired boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                        |\n| Epomaker                     | Lots of historical keyboards with `via.json` but no corresponding sources. Wireless code for a small handful provided, pending core cleanup for QMK upstreaming. Most other boards have source nowhere to be seen.                                                                                                                  |\n| Ergokbd (IFKB)               | At least their crkbd clone ships with QMK+Vial, seemingly refuses to disclose sources despite multiple customers requesting them.                                                                                                                                                                                                   |\n| iLovBee                      | Official 30-day copyright source code request issued Sep 11 2024 due to deception on PR, no response received. Ambiguity on PRs -- marketing says wireless, PR author said wired-only, then included wireless code anyway. Seemingly intentionally deceptive.                                                                       |\n| KiiBOOM                      | Seems to use the same OEM as Epomaker, same problems.                                                                                                                                                                                                                                                                               |\n| kprepublic                   | Makes no attempt to release source code, all boards in QMK are reverse-engineered, created, and supported by the community. New board variants magically appear without telling customers they're incompatible with existing QMK versions, in some cases bricking boards or requiring ISP flashing.                                 |\n| Luminkey                     | Selling tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                     |\n| Meletrix                     | Selling tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                     |\n| mmd / Smartmmd / i-game.tech | Ambiguity on PRs -- marketing says wireless, PR author said wired-only, then included wireless code anyway. Seemingly intentionally deceptive.                                                                                                                                                                                      |\n| MyKeyClub                    | Community-supported JRIS75, vendor was contacted by community members and refused to cooperate.                                                                                                                                                                                                                                     |\n| owlab                        | Selling wired based on QMK without sources, just `via.json` provided. Ambiguous as to whether or not wireless firmware is based on QMK, given that their configuration tool looks very similar to VIA.                                                                                                                              |\n| pressplayid                  | Selling wired and tri-mode boards based on QMK without sources, just `via.json` provided                                                                                                                                                                                                                                            |\n| qwertykeys                   | Selling wired and tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                           |\n| Redragon                     | Selling tri-mode boards based on QMK without sources, attempted upstreaming crippled firmware without wireless.                                                                                                                                                                                                                     |\n| Riccks                       | Selling tri-mode boards based on QMK without sources.                                                                                                                                                                                                                                                                               |\n| Royal Kludge                 | PRs for fake boards in order to attain VIA compatibility identified. Lots of other keyboards with `via.json` but no corresponding sources, attempted upstreaming crippled firmware without wireless. Wireless code for some provided, pending core cleanup for QMK upstreaming. PRs including different manufacturer names as well. |\n| Shenzhen Hangsheng           | PR submissions with crippled firmware, debating with maintainers about wireless despite marketing material clearly stating tri-mode.                                                                                                                                                                                                |\n| Tacworks                     | Selling tri-mode boards based on QMK, crippled firmware already merged into QMK without wireless without QMK team realising.                                                                                                                                                                                                        |\n| TKD / Vertex                 | Selling tri-mode boards based on QMK without sources, attempted upstreaming crippled firmware without wireless.                                                                                                                                                                                                                     |\n| WOBKEY                       | Selling tri-mode boards based on QMK without sources, attempted upstreaming crippled firmware without wireless.                                                                                                                                                                                                                     |\n| Weikav                       | Selling tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                     |\n| Womier                       | Selling tri-mode boards based on QMK without sources, attempted upstreaming crippled firmware without wireless.                                                                                                                                                                                                                     |\n| Wuque Studio                 | Selling wired and tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                           |\n| XVX                          | Ambiguity on PRs -- marketing says wireless, PR author said wired-only. Seemingly intentionally deceptive.                                                                                                                                                                                                                          |\n| Yunzii                       | Selling tri-mode boards based on QMK without sources, just `via.json` provided. Refuses to release sources due to proprietary wireless driver, in direct violation of the GPL.                                                                                                                                                      |\n| Zuoya                        | Selling tri-mode boards based on QMK without sources, just `via.json` provided.                                                                                                                                                                                                                                                     |\n\n::: danger Violations\nLinks are not provided above as the QMK team does not wish to inadvertently promote purchases of boards in violation of QMK's license.\n:::",
        "Licensing": "QMK Firmware's license requires full disclosure of source code for any firmware which is based on QMK. This includes any of the following scenarios:\n\n['Use of public QMK Firmware, but with \"closed source\" privately-held board definitions', 'Vendor-customised QMK Firmware, which the vendor keeps private for building their own boards', 'Any other non-QMK firmware which includes portions of QMK Firmware, such as adaptation of `via.c` into any other non-QMK firmware, even if used as a reference when translated to another programming language.']\n\nAs per the GPL license requirements, vendors must provide entire source code for the as-shipped firmware.\n\nQMK has traditionally been lenient with this clause -- providing source code to the QMK community is necessary but reproducing the exact build may not be possible. QMK has required functionally-equivalent source code to be made available. In rare cases exact code may be requested; vendors must keep copies regardless.\n\nAt minimum, vendors must provide the source code through some distribution mechanism. This could potentially be an clearly available downloadable copy of the code online, a fork of QMK Firmware, or even a DVD accompanying the product in the box.\n\nIf sources are unable to be provided in a timely fashion, QMK may revoke the vendor's license, effectively rendering them unable to leverage QMK.\n\nVendors choosing to keep things closed-source because of a desire to have a \"competitive edge\" compared to other vendors is unacceptable to both QMK and the community, and is a breach of the QMK license. There's no reason to do so; any new or interesting vendor-specific feature will be quickly replicated by other vendors or the community anyway.",
        "QMK PR Considerations": "Vendors who submit PRs to QMK Firmware whilst not providing full sources for all of their license-violating boards will be put on hold until source code for all violating boards is provided. Intentional deception may result in boards being removed from QMK and all future PRs for that manufacturer being denied outright.\n\nSubmitting crippled source code in order to attain a merge into QMK Firmware to pave the way for VIA support is unacceptable. This includes submitting a wired-only firmware for a wireless-capable board, or any other PR which does not include key features as-advertised.\n\nReusing the `VID` and `PID` for multiple boards (such as for two variants, wired and wireless) is an unacceptable scenario as this creates confusion for support. Many customers have flashed boards with the wrong firmware, which could have been avoided if vendors were obvious about their board identification mechanisms.\n\nIf there is sufficient ambiguity about a board, supporting evidence will need to be presented to the QMK team. This may include impartial third parties who can demonstrate a board's existence and can confirm its feature set, such as well-known content producers; popular review sites or notable video creators may be leveraged. If such evidence is unavailable, as a last resort the vendor may be required to ship a fully functional board in full retail packaging to QMK maintainers for verification. Engineering samples will not be accepted, as one-off boards have been deceptively used in the past.\n\nPRs submitted to upstream QMK should not expect an instant merge just because source code has been provided -- code from OEMs has historically been of a quality lower than QMK standards, so as per the [PR checklist](pr_checklist) submitters should make the changes as small as possible and be prepared to change their implementation.",
        "Detection": "If the QMK team identifies or is informed of a license violation from a vendor:\n\n['Any current and future PRs for that vendor will be indefinitely put on hold, preventing merge into QMK Firmware, thus preventing any out-of-the-box VIA support', 'Any existing keyboards from the vendor may be removed from QMK Firmware', 'Vendors will be added to the _offending vendors_ list above']\n\nRepeated violations may result in that vendor being disallowed from contributing the QMK in its entirety. In the worst case, the QMK team may choose to revoke a vendor's license to use QMK Firmware outright.",
        "Remediation": "Vendors must provide fully-featured source code for each of their identified violations, matching the feature capabilities of their as-shipped products. This will usually be in their own fork of QMK Firmware while awaiting a merge into upstream.\n\nOnce all identified violations have been remediated, current and future PRs will no longer be on hold and the vendor will be removed from the offending vendors list above."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 62]"
    },
    {
      "title": "Mod-Tap",
      "description": null,
      "content": {
        "Caveats": "Currently, the `kc` argument of `MT()` is limited to the [Basic Keycode set](keycodes_basic), meaning you can't use keycodes like `LCTL()`, `KC_TILD`, or anything greater than `0xFF`. This is because QMK uses 16-bit keycodes, of which 3 bits are used for the function identifier, 1 bit for selecting right or left mods, and 4 bits to tell which mods are used, leaving only 8 bits for the keycode. Additionally, if at least one right-handed modifier is specified in a Mod-Tap, it will cause all modifiers specified to become right-handed, so it is not possible to mix and match the two - for example, Left Control and Right Shift would become Right Control and Right Shift.\n\nExpanding this would be complicated, at best. Moving to a 32-bit keycode would solve a lot of this, but would double the amount of space that the keymap matrix uses. And it could potentially cause issues, too. If you need to apply modifiers to your tapped keycode, [Tap Dance](features/tap_dance#example-5-using-tap-dance-for-advanced-mod-tap-and-layer-tap-keys) can be used to accomplish this.\n\nYou may also run into issues when using Remote Desktop Connection on Windows. Because these keycodes send key events faster than a human, Remote Desktop could miss them.\nTo fix this, open Remote Desktop Connection, click on \"Show Options\", open the \"Local Resources\" tab, and in the keyboard section, change the drop down to \"On this Computer\". This will fix the issue, and allow the characters to work correctly.\nIt can also be mitigated by increasing [`TAP_CODE_DELAY`](config_options#behaviors-that-can-be-configured).",
        "Intercepting Mod-Taps": {
          "Changing tap function": "The basic keycode limitation with Mod-Tap can be worked around by intercepting it in `process_record_user`. For example, shifted keycode `KC_DQUO` cannot be used with `MT()` because it is a 16-bit keycode alias of `LSFT(KC_QUOT)`. Modifiers on `KC_DQUO` will be masked by `MT()`. But the following custom code can be used to intercept the \"tap\" function to manually send `KC_DQUO`:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LCTL_T(KC_DQUO):\n            if (record->tap.count && record->event.pressed) {\n                tap_code16(KC_DQUO); // Send KC_DQUO on tap\n                return false;        // Return false to ignore further processing of key\n            }\n            break;\n    }\n    return true;\n}\n```",
          "Changing hold function": "Likewise, similar custom code can also be used to intercept the hold function to send custom user key code. The following example uses `LT(0, kc)` (layer-tap key with no practical use because layer 0 is always active) to add cut, copy and paste function to X,C and V keys when they are held down:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LT(0,KC_X):\n            if (!record->tap.count && record->event.pressed) {\n                tap_code16(C(KC_X)); // Intercept hold function to send Ctrl-X\n                return false;\n            }\n            return true;             // Return true for normal processing of tap keycode\n        case LT(0,KC_C):\n            if (!record->tap.count && record->event.pressed) {\n                tap_code16(C(KC_C)); // Intercept hold function to send Ctrl-C\n                return false;\n            }\n            return true;             // Return true for normal processing of tap keycode\n        case LT(0,KC_V):\n            if (!record->tap.count && record->event.pressed) {\n                tap_code16(C(KC_V)); // Intercept hold function to send Ctrl-V\n                return false;\n            }\n            return true;             // Return true for normal processing of tap keycode\n    }\n    return true;\n}\n```",
          "Changing both tap and hold": "This last example implements custom tap and hold function with `LT(0,KC_NO)` to create a single copy-on-tap, paste-on-hold key:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LT(0,KC_NO):\n            if (record->tap.count && record->event.pressed) {\n                tap_code16(C(KC_C)); // Intercept tap function to send Ctrl-C\n            } else if (record->event.pressed) {\n                tap_code16(C(KC_V)); // Intercept hold function to send Ctrl-V\n            }\n            return false;\n    }\n    return true;\n}\n```"
        },
        "Other Resources": "See the [Tap-Hold Configuration Options](tap_hold) for additional flags that tweak Mod-Tap behavior."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 63]"
    },
    {
      "title": "The QMK Tutorial",
      "description": null,
      "content": {
        "Overview": "This guide is suitable for everyone who wants to build a keyboard firmware using the source code. If you are already a programmer you will find the process very familiar and easier to follow. There are 3 main sections to this guide:\n\n['[Setup Your Environment](newbs_getting_started)', '[Building Your First Firmware](newbs_building_firmware)', '[Flashing Firmware](newbs_flashing)']\n\nThis guide is focused on helping someone who has never compiled software before. It makes choices and recommendations based on that viewpoint. There are alternative methods for many of these procedures, and we support most of those alternatives. If you have any doubt about how to accomplish a task you can [ask us for guidance](support).",
        "Additional Resources": "Beyond this guide there are several resources you may find helpful while you learn QMK. We've collected them on the [Syllabus](syllabus) and [Learning Resources](newbs_learn_more_resources) pages."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 64]"
    },
    {
      "title": "Building Your First Firmware",
      "description": null,
      "content": {
        "Configure Your Build Environment Defaults (Optional)": "You can configure your build environment to set the defaults and make working with QMK less tedious. Let's do that now!\n\nMost people new to QMK only have 1 keyboard. You can set this keyboard as your default with the `qmk config` command. For example, to set your default keyboard to `clueboard/66/rev4`:\n\n```\nqmk config user.keyboard=clueboard/66/rev4\n```\n\n::: tip\nThe keyboard option is the path relative to the keyboard directory, the above example would be found in `qmk_firmware/keyboards/clueboard/66/rev4`. If you're unsure you can view a full list of supported keyboards with `qmk list-keyboards`.\n:::\n\nYou can also set your default keymap name. Most people use their GitHub username like the keymap name from the previous steps:\n\n```\nqmk config user.keymap=<github_username>\n```",
        "Create a New Keymap": "To create your own keymap you'll want to create a copy of the `default` keymap. If you configured your build environment in the last step you can do that easily with the QMK CLI:\n\n```\nqmk new-keymap\n```\n\nIf you did not configure your environment, or you have multiple keyboards, you can specify a keyboard name:\n\n```\nqmk new-keymap -kb <keyboard>\n```\n\nLook at the output from that command, you should see something like this:\n\n```\n Created a new keymap called <github_username> in: /home/me/qmk_firmware/keyboards/clueboard/66/rev3/keymaps/<github_username>.\n```\n\nThis is the location of your new keymap file. Your keyboards default keymap file may be a `.json` file or a `.c` file.  If your keymap is a `.json` file it can be converted to a `.c` file using QMK's [`json2c`](cli_commands#qmk-json2c) utility. ",
        "Open `keymap.c` In Your Favorite Text Editor": "Open your `keymap.c` file in your text editor. Inside this file you'll find the structure that controls how your keyboard behaves. At the top of `keymap.c` there may be some defines and enums that make the keymap easier to read. Farther down you'll find a line that looks like this:\n\n```\nconst uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n```\n\nThis line indicates where the list of Layers begins. Below that you'll find lines containing `LAYOUT`, and these lines indicate the start of a layer. Below that line is the list of keys that comprise a particular layer.\n\n::: warning\nWhen editing your keymap file be careful not to add or remove any commas. If you do, you will prevent your firmware from compiling and it may not be easy to figure out where the extra, or missing, comma is.\n:::",
        "Customize The Layout To Your Liking": "How to complete this step is entirely up to you. Make the one change that's been bugging you, or completely rework everything. You can remove layers if you don't need all of them, or add layers up to a total of 32. There are a lot of features in QMK, explore the sidebar to the left under \"Using QMK\" to see the full list. To get you started here are a few of the easier to use features:\n\n['[Basic Keycodes](keycodes_basic)', '[Quantum Keycodes](quantum_keycodes)', '[Grave/Escape](features/grave_esc)', '[Mouse keys](features/mouse_keys)']\n\n::: tip\nWhile you get a feel for how keymaps work, keep each change small. Bigger changes make it harder to debug any problems that arise.\n:::",
        "Build Your Firmware {#build-your-firmware}": "When your changes to the keymap are complete you will need to build the firmware. To do so go back to your terminal window and run the compile command:\n\n```\nqmk compile\n```\n\nIf you did not configure defaults for your environment, or you have multiple keyboards, you can specify a keyboard and/or keymap:\n\n```\nqmk compile -kb <keyboard> -km <keymap>\n```\n\nWhile this compiles you will have a lot of output going to the screen informing you of what files are being compiled. It should end with output that looks similar to this:\n\n```\nLinking: .build/planck_rev5_default.elf                                                             [OK]\nCreating load file for flashing: .build/planck_rev5_default.hex                                     [OK]\nCopying planck_rev5_default.hex to qmk_firmware folder                                              [OK]\nChecking file size of planck_rev5_default.hex                                                       [OK]\n * The firmware size is fine - 27312/28672 (95%, 1360 bytes free)\n```",
        "Flash Your Firmware": "Move on to [Flashing Firmware](newbs_flashing) to learn how to write your new firmware to your keyboard."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 65]"
    },
    {
      "title": "Newbs Building Firmware Configurator",
      "description": null,
      "content": {
        "QMK Configurator": "[![QMK Configurator Screenshot](https://i.imgur.com/anw9cOL.png)](https://config.qmk.fm/)\n\nThe [QMK Configurator](https://config.qmk.fm) is an online graphical user interface that generates QMK Firmware `.hex` or `.bin` files.\n\nIt should be noted that Configurator cannot produce firmwares for keyboards using a different controller than they were designed for, i.e. an RP2040 controller on a board designed for pro micro. You will have to use the command line [converters](feature_converters#supported-converters) for this.\n\nWatch the [Video Tutorial](https://www.youtube.com/watch?v=-imgglzDMdY). Many people find that is enough information to start programming their own keyboard.\n\nThe QMK Configurator works best with Chrome or Firefox.\n\n::: warning\n**Note: Files from other tools such as Keyboard Layout Editor (KLE), or kbfirmware will not be compatible with QMK Configurator. Do not load them, do not import them. QMK Configurator is a DIFFERENT tool.**\n:::\n\nPlease refer to [QMK Configurator: Step by Step](configurator_step_by_step)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 66]"
    },
    {
      "title": "Building QMK with GitHub Userspace",
      "description": null,
      "content": {
        "Prerequisites": "The following are required to get started:\n\n['[GitHub Account](https://github.com/new)', ['A working account is required to setup and host your repository for GitHub Actions to build QMK firmware.'], '[Text editor](newbs_learn_more_resources#text-editor-resources)', [\"Youll need a program that can edit and save plain text files. The default editor that comes with many OS's does not save plain text files, so you'll need to make sure that whatever editor you chose does.\"], '[Toolbox](https://github.com/qmk/qmk_toolbox)', ['A graphical program for Windows and macOS that allows you to both program and debug your custom keyboard.']]",
        "Environment Setup": {
          "1. Install Git": "A working Git client is required for your local operating system to commit and push changes to GitHub.\n\n::::tabs\n\n=== Windows\n\nQMK maintains a bundle of MSYS2, the CLI and all necessary dependencies including Git. Install [QMK MSYS](https://msys.qmk.fm/) with the latest release [here](https://github.com/qmk/qmk_distro_msys/releases/latest). Git will be part of the bundle.\n\n=== macOS\n\nInstall Homebrew following the instructions on https://brew.sh. Git will be part of the bundle.\n\n=== Linux/WSL\n\nIt's very likely that you already have Git installed. If not, use one of the following commands:\n\n['Debian / Ubuntu / Devuan: `sudo apt install -y git`', 'Fedora / Red Hat / CentOS: `sudo yum -y install git`', 'Arch / Manjaro: `sudo pacman --needed --noconfirm -S git`', 'Void: `sudo xbps-install -y git`', 'Solus: `sudo eopkg -y install git`', 'Sabayon: `sudo equo install dev-vcs/git`', 'Gentoo: `sudo emerge dev-vcs/git`']\n\n::::",
          "2. GitHub authentication": "If your GitHub account is not configured for [authenticated Git operations](https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/), you will need to setup at least one of the following:\n\n['[Personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)', '[Connecting with SSH](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)']",
          "3. Create a repository": "You will need a personal GitHub repository to host your QMK code. Follow [this guide](https://docs.github.com/en/get-started/quickstart/create-a-repo#create-a-repository) to create one named `qmk_keymap`. Do not proceed to commit any files just yet."
        },
        "Initial Code Commit": {
          "Create template files": "Run the following commands in your computer to create a folder with a few template files:\n\n```\nmkdir -p ~/qmk_keymap/.github/workflows\ntouch ~/qmk_keymap/.github/workflows/build.yml\ntouch ~/qmk_keymap/config.h\necho \"SRC += source.c\" > ~/qmk_keymap/rules.mk\necho \"#include QMK_KEYBOARD_H\" > ~/qmk_keymap/source.c\n```\n\n::: tip\nFor Windows user running MSYS, those commands will create the folder `qmk_keymap/` and its content in the `C:\\Users\\<windows_username>\\qmk_keymap\\` path location.\n:::",
          "Add a JSON keymap": "Visit the [QMK Configurator](https://config.qmk.fm/#/) to create a keymap file:\n\n['Select your keyboard from the drop-down list (and choose a layout if required).', 'Use your GitHub username for the **Keymap Name** field.', 'Customise the key layout according to your preference.', 'Select download next to **KEYMAP.JSON** and save the JSON file into the `~/qmk_keymap/` folder.']\n\n::: warning\n**Important:** Make sure that the GitHub username you use in step 2 is correct. If it is not, the build process will fail to locate your files in the right folder.\n:::",
          "Add a GitHub Action workflow": "Open the file `~/qmk_keymap/.github/workflows/build.yml` with your favorite [text editor](newbs_learn_more_resources#text-editor-resources), paste the following workflow content, and save it:\n\n```\nname: Build QMK firmware\non: [push, workflow_dispatch]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    container: ghcr.io/qmk/qmk_cli\n    strategy:\n      fail-fast: false\n      matrix:\n# List of keymap json files to build\n        file:\n        - username.json\n# End of json file list\n\n    steps:\n\n    - name: Disable git safe directory checks\n      run : git config --global --add safe.directory '*'\n\n    - name: Checkout QMK\n      uses: actions/checkout@v3\n      with:\n        repository: qmk/qmk_firmware\n        submodules: recursive\n\n    - name: Checkout userspace\n      uses: actions/checkout@v3\n      with:\n        path: users/${{ github.actor }}\n\n    - name: Build firmware\n      run: qmk compile \"users/${{ github.actor }}/${{ matrix.file }}\"\n\n    - name: Archive firmware\n      uses: actions/upload-artifact@v3\n      continue-on-error: true\n      with:\n        name: ${{ matrix.file }}_${{ github.actor }}\n        path: |\n          *.hex\n          *.bin\n          *.uf2\n```\n\nReplace `username.json` with the JSON file name that was downloaded from [QMK Configurator](https://config.qmk.fm/#/) in the previous step.\n\n::: warning\nDo note that the `build.yml` file requires ***proper indentation*** for every line. Incorrect spacing will trigger workflow syntax errors.\n:::",
          "Commit files to GitHub": "If you have completed all steps correctly, the folder `qmk_keymap/` will contain the following files:\n\n```\n .github\n  workflows\n      build.yml\n rules.mk\n config.h\n source.c\n username.json\n```\n\nTo commit and push them into GitHub, run the following commands (replacing `gh-username` with your GitHub user name):\n\n```\ncd ~/qmk_keymap\ngit init\ngit add -A\ngit commit -m \"Initial QMK keymap commit\"\ngit branch -M main\ngit remote add origin https://github.com/gh-username/qmk_keymap.git\ngit push -u origin main\n```\n\n::: tip\nUse your GitHub personal access token at the password prompt. If you have setup SSH access, replace `https://github.com/gh-username/qmk_keymap.git` with `git@github.com:gh-username/qmk_keymap.git` in the remote origin command above.\n:::",
          "Review workflow output": "Files committed to GitHub in the previous step will automatically trigger the workflow to build the JSON file listed in `build.yml`. To review its output:\n\n['Visit your \"**qmk_keymap**\" repository page on [GitHub](https://github.com/).', 'Select **Actions** tab to display the \"**Build QMK Firmware**\" workflow.', 'Select that workflow to display its run from the last commit.', 'Successfully compiled firmware will be under the \"**Artifacts**\" section.', 'If there are build errors, review the job log for details.']\n\nDownload and flash the firmware file into your keyboard using [QMK Toolbox](newbs_flashing#flashing-your-keyboard-with-qmk-toolbox)."
        },
        "Customising your keymap": "This setup and workflow relies on the QMK [Userspace](feature_userspace) feature. The build process will copy the QMK source codes and clone your repository into its `users/` folder in a container. You must adhere to the following guidelines when customising your keymaps:\n\n['Keymap layout files must be retained in JSON format and cannot be converted to `keymap.c`.', 'User callback and functions (e.g. `process_record_user()`) can be placed in the `source.c` file.', 'Multiple keymap JSON files can be built in the same workflow. List them under `matrix.file:`, e.g.:']\n\n```\n        file:\n        - planck.json\n        - crkbd.json\n```\n\n['Code changes will require Git commit into GitHub to trigger the build workflow.']\n\n::: tip\nSee [GitHub Actions guide](https://docs.github.com/en/actions/learn-github-actions) to learn more about development workflow.\n:::"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 67]"
    },
    {
      "title": "External QMK Userspace",
      "description": null,
      "content": {
        "Setting up QMK Locally": "If you wish to build on your local machine, you will need to set up QMK locally. This is a one-time process, and is documented in the [newbs setup guide](newbs).\n\n::: warning\nIf you wish to use any QMK CLI commands related to manipulating External Userspace definitions, you will currently need a copy of QMK Firmware as well.\n:::\n\n::: warning\nBuilding locally has a much shorter turnaround time than waiting for GitHub Actions to complete.\n:::",
        "External Userspace Repository Setup (forked on GitHub)": "A basic skeleton External Userspace repository can be found [here](https://github.com/qmk/qmk_userspace). If you wish to keep your keymaps on GitHub (strongly recommended!), you can fork the repository and use it as a base:\n\n![Userspace Fork](https://i.imgur.com/hcegguh.png)\n\nGoing ahead with your fork will copy it to your account, at which point you can clone it to your local machine and begin adding your keymaps:\n\n![Userspace Clone](https://i.imgur.com/CWYmsk8.png)\n\n```\ncd $HOME\ngit clone https://github.com/{myusername}/qmk_userspace.git\nqmk config user.overlay_dir=\"$(realpath qmk_userspace)\"\n```",
        "External Userspace Setup (locally stored only)": "If you don't want to use GitHub and prefer to keep everything local, you can clone a copy of the default External Userspace locally instead:\n\n```\ncd $HOME\ngit clone https://github.com/qmk/qmk_userspace.git\nqmk config user.overlay_dir=\"$(realpath qmk_userspace)\"\n```",
        "Adding a Keymap": "_These instructions assume you have already set up QMK locally, and have a copy of the QMK Firmware repository on your machine._\n\nKeymaps within External Userspace are defined in the same way as they are in the main QMK repository. You can either use the `qmk new-keymap` command to create a new keymap, or manually create a new directory in the `keyboards` directory.\n\nAlternatively, you can use the `layouts` directory to store your keymaps, using the same layout system as the main QMK repository -- if you choose to do so you'll want to use the path `layouts/<layout name>/<keymap name>/keymap.*` to store your keymap files, where `layout name` matches an existing layout in QMK, such as `tkl_ansi`.\n\nAfter creating your new keymap, building the keymap matches normal QMK usage:\n\n```\nqmk compile -kb <keyboard> -km <keymap>\n```\n\n::: warning\nThe `qmk config user.overlay_dir=...` command must have been run when cloning the External Userspace repository for this to work correctly.\n:::",
        "Adding the keymap to External Userspace build targets": "Once you have created your keymap, if you want to use GitHub Actions to build your firmware, you will need to add it to the External Userspace build targets. This is done using the `qmk userspace-add` command:\n\n```\n# for a keyboard/keymap combo:\nqmk userspace-add -kb <keyboard> -km <keymap>\n# or, for a json-based keymap (if kept \"loose\"):\nqmk userspace-add <relative/path/to/my/keymap.json>\n```\n\nThis updates the `qmk.json` file in the root of your External Userspace directory. If you're using a git repository to store your keymaps, now is a great time to commit and push to your own fork.",
        "Compiling External Userspace build targets": "Once you have added your keymaps to the External Userspace build targets, you can compile all of them at once using the `qmk userspace-compile` command:\n\n```\nqmk userspace-compile\n```\n\nAll firmware builds you've added to the External Userspace build targets will be built, and the resulting firmware files will be placed in the root of your External Userspace directory.",
        "Using GitHub Actions": "GitHub Actions can be used to automatically build your keymaps whenever you push changes to your External Userspace repository. If you have set up your list of build targets, this is as simple as enabling workflows in the GitHub repository settings:\n\n![Repo Settings](https://i.imgur.com/EVkxOt1.png)\n\nAny push will result in compilation of all configured builds, and once completed a new release containing the newly-minted firmware files will be created on GitHub, which you can subsequently download and flash to your keyboard:\n\n![Releases](https://i.imgur.com/zmwOL5P.png)"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 68]"
    },
    {
      "title": "Flashing Your Keyboard",
      "description": null,
      "content": {
        "Put Your Keyboard into DFU (Bootloader) Mode": "In order to flash your custom firmware you must first put your keyboard into a special flashing mode. While it is in this mode you will not be able to type or otherwise use your keyboard. It is very important that you do not unplug the keyboard or otherwise interrupt the flashing process while the firmware is being written.\n\nDifferent keyboards have different ways to enter this special mode. If your PCB currently runs QMK, TMK, or PS2AVRGB (Bootmapper Client) and you have not been given specific instructions, try the following, in order:\n\n['Hold down both shift keys and press `Pause`', 'Hold down both shift keys and press `B`', 'Unplug your keyboard, hold down the Spacebar and `B` at the same time, plug in your keyboard and wait a second before releasing the keys', 'Unplug your keyboard, hold down the top or bottom left key (usually Escape or Left Control) and plug in your keyboard', 'Press the physical `RESET` button, usually located on the underside of the PCB', 'Locate header pins on the PCB labeled `RESET` and `GND`, and short them together while plugging your PCB in']\n\nIf you've attempted all of the above to no avail, and the main chip on the board says `STM32` or `RP2-B1` on it, this may be a bit more complicated. Generally your best bet is to ask on [Discord](https://discord.gg/qmk) for assistance. It's likely some photos of the board will be asked for -- if you can get them ready beforehand it'll help move things along!\n\nOtherwise, you should see a message in yellow, similar to this in QMK Toolbox:\n\n```\n*** DFU device connected: Atmel Corp. ATmega32U4 (03EB:2FF4:0000)\n```\n\nand this bootloader device will also be present in Device Manager, System Information.app, or `lsusb`.",
        "Flashing Your Keyboard with QMK Toolbox": {
          "Load the File into QMK Toolbox": "Begin by opening the QMK Toolbox application. You'll want to locate the firmware file in Finder or Explorer. Your keyboard firmware may be in one of two formats- `.hex` or `.bin`. QMK tries to copy the appropriate one for your keyboard into the root `qmk_firmware` directory.\n\nIf you are on Windows or macOS, there are commands you can use to easily open the current folder in Explorer or Finder.\n\n::::tabs\n\n=== Windows\n\n```\nstart .\n```\n\n=== macOS\n\n```\nopen .\n```\n\n::::\n\nThe firmware file always follows this naming format:\n\n```\n<keyboard>_<keymap>.{bin,hex}\n```\n\nFor example, the `planck/rev5` with a `default` keymap will have this filename:\n\n```\nplanck_rev5_default.hex\n```\n\nOnce you have located your firmware file, drag it into the \"Local file\" box in QMK Toolbox, or click \"Open\" and navigate to where your firmware file is stored.",
          "Flash Your Keyboard": "Click the `Flash` button in QMK Toolbox. You will see output similar to the following:\n\n```\n*** DFU device connected: Atmel Corp. ATmega32U4 (03EB:2FF4:0000)\n*** Attempting to flash, please don't remove device\n>>> dfu-programmer.exe atmega32u4 erase --force\n    Erasing flash...  Success\n    Checking memory from 0x0 to 0x6FFF...  Empty.\n>>> dfu-programmer.exe atmega32u4 flash \"D:\\Git\\qmk_firmware\\gh60_satan_default.hex\"\n    Checking memory from 0x0 to 0x3F7F...  Empty.\n    0%                            100%  Programming 0x3F80 bytes...\n    [>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>]  Success\n    0%                            100%  Reading 0x7000 bytes...\n    [>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>]  Success\n    Validating...  Success\n    0x3F80 bytes written into 0x7000 bytes memory (56.70%).\n>>> dfu-programmer.exe atmega32u4 reset\n    \n*** DFU device disconnected: Atmel Corp: ATmega32U4 (03EB:2FF4:0000)\n```"
        },
        "Flash your Keyboard from the Command Line": "This has been made pretty simple compared to what it used to be. When you are ready to compile and flash your firmware, open up your terminal window and run the flash command:\n\n```\nqmk flash\n```\n\nIf you did not configure your keyboard/keymap name in the CLI according to the [Configure your build environment](newbs_getting_started) section, or you have multiple keyboards, you can specify the keyboard and keymap:\n\n```\nqmk flash -kb <my_keyboard> -km <my_keymap>\n```\n\nThis will check the keyboard's configuration, and then attempt to flash it based on the specified bootloader. This means that you don't need to know which bootloader that your keyboard uses. Just run the command, and let the command do the heavy lifting.\n\nHowever, this does rely on the bootloader being set by the keyboard. If this information is not configured, or you're using a board that doesn't have a supported target to flash it, you will see this error:\n\n```\nWARNING: This board's bootloader is not specified or is not supported by the \":flash\" target at this time.\n```\n\nIn this case, you'll have to fall back on specifying the bootloader. See the [Flashing Firmware](flashing) Guide for more details.\n\n::: warning\nIf your bootloader is not detected by `qmk flash`, try running `qmk doctor` for suggestions on how to fix common problems.\n:::",
        "Test It Out!": "Congrats! Your custom firmware has been programmed to your keyboard and you're ready to test it out!\n\nWith a little bit of luck everything will work perfectly, but if not there are steps that will help you figure out what's wrong.\nTesting your keyboard is usually pretty straightforward. Press every single key and make sure it sends the keys you expect. You can use [QMK Configurator](https://config.qmk.fm/#/test/)'s test mode to check your keyboard, even if it doesn't run QMK.\n\nStill not working? Browse the FAQ topics for more information, or [chat with us on Discord](https://discord.gg/qmk)."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 69]"
    },
    {
      "title": "Setting Up Your QMK Environment",
      "description": null,
      "content": {
        "1. Prerequisites": "There are a few pieces of software you'll need to get started.\n\n['[Text editor](newbs_learn_more_resources#text-editor-resources)', [\"Youll need a program that can edit and save plain text files. The default editor that comes with many OS's does not save plain text files, so you'll need to make sure that whatever editor you chose does.\"], '[Toolbox (optional)](https://github.com/qmk/qmk_toolbox)', ['A graphical program for Windows and macOS that allows you to both program and debug your custom keyboard']]\n\n::: tip\nIf you haven't worked with the Linux/Unix command line before, there are a few basic concepts and commands you should learn. [These resources](newbs_learn_more_resources#command-line-resources) will teach you enough to be able to work with QMK.\n:::",
        "2. Prepare Your Build Environment {#set-up-your-environment}": "We've tried to make QMK as easy to set up as possible. You only have to prepare your Linux or Unix environment, then let QMK install the rest.\n\n:::::tabs\n\n==== Windows\n\nQMK maintains a Bundle of MSYS2, the CLI and all necessary dependencies. It also provides a handy `QMK MSYS` terminal shortcut to boot you directly into the correct environment.\n\nPrerequisites\n\nYou will need to install [QMK MSYS](https://msys.qmk.fm/). The latest release is available [here](https://github.com/qmk/qmk_distro_msys/releases/latest).\n\n:::: details Advanced Users\n\n::: danger\n<b style=\"font-size:150%\">This process is not recommended for new users.</b>\n:::\n\nIf you'd like to manually install MSYS2, the following sections will walk you through the process.\n\nPrerequisites\n\nYou will need to install [MSYS2](https://www.msys2.org). Once installed, close any open MSYS terminals (purple icon) and open a new MinGW 64-bit terminal (blue icon) from the Start Menu.\n\n::: warning\n**NOTE:** The MinGW 64-bit terminal is *not* the same as the MSYS terminal that opens when installation is completed. Your prompt should say \"MINGW64\" in purple text, rather than \"MSYS\". See [this page](https://www.msys2.org/wiki/MSYS2-introduction/#subsystems) for more information on the differences.\n:::\n\nInstallation\n\nInstall the QMK CLI by running:\n\n```\npacman --needed --noconfirm --disable-download-timeout -S git mingw-w64-x86_64-python-qmk\n```\n\n::::\n\n==== macOS\n\nQMK maintains a Homebrew tap and formula which will automatically install the CLI and all necessary dependencies.\n\nPrerequisites\n\nYou will need to install Homebrew. Follow the instructions on https://brew.sh.\n\n::: tip\nIf you are using an Apple Silicon machine, the installation process will take significantly longer because GitHub actions do not have native runners to build binary packages for the ARM and AVR toolchains.\n:::\n\nInstallation\n\nInstall the QMK CLI by running:\n\n```\nbrew install qmk/qmk/qmk\n```\n\n==== Linux/WSL\n\n::: tip\n**Note for WSL users**: By default, the installation process will clone the QMK repository into your WSL home directory, but if you have cloned manually, ensure that it is located inside the WSL instance instead of the Windows filesystem (ie. not in `/mnt`), as accessing it is currently [extremely slow](https://github.com/microsoft/WSL/issues/4197).\n:::\n\nPrerequisites\n\nYou will need to install Git and Python. It's very likely that you already have both, but if not, one of the following commands should install them:\n\n['Debian / Ubuntu / Devuan: `sudo apt install -y git python3-pip`', 'Fedora / Red Hat / CentOS: `sudo yum -y install git python3-pip`', 'Arch / Manjaro: `sudo pacman --needed --noconfirm -S git python-pip libffi`', 'Void: `sudo xbps-install -y git python3-pip`', 'Solus: `sudo eopkg -y install git python3`', 'Sabayon: `sudo equo install dev-vcs/git dev-python/pip`', 'Gentoo: `sudo emerge dev-vcs/git dev-python/pip`']\n\nInstallation\n\nInstall the QMK CLI by running:\n\n```\npython3 -m pip install --user qmk\n```\n\nAlternatively, install the QMK CLI as a [uv](https://docs.astral.sh/uv/) managed tool, kept isolated in a virtual environment (requires uv to be installed):\n\n```\nuv tool install qmk\n```\n\nCommunity Packages\n\nThese packages are maintained by community members, so may not be up to date or completely functional. If you encounter problems, please report them to their respective maintainers.\n\nOn Arch-based distros you can install the CLI from the official repositories (NOTE: at the time of writing this package marks some dependencies as optional that should not be):\n\n```\nsudo pacman -S qmk\n```\n\nYou can also try the `qmk-git` package from AUR:\n\n```\nyay -S qmk-git\n```\n\n==== FreeBSD\n\nInstallation\n\nInstall the FreeBSD package for QMK CLI by running:\n\n```\npkg install -g \"py*-qmk\"\n```\n\nNOTE: remember to follow the instructions printed at the end of installation (use `pkg info -Dg \"py*-qmk\"` to show them again).\n\n:::::",
        "3. Run QMK Setup {#set-up-qmk}": "::::tabs\n\n=== Windows\n\nOpen QMK MSYS and run the following command:\n\n```\nqmk setup\n```\n\nIn most situations you will want to answer `y` to all of the prompts.\n\n=== macOS\n\nOpen Terminal and run the following command:\n\n```\nqmk setup\n```\n\nIn most situations you will want to answer `y` to all of the prompts.\n\n=== Linux/WSL\n\nOpen your preferred terminal app and run the following command:\n\n```\nqmk setup\n```\n\nIn most situations you will want to answer `y` to all of the prompts.\n\n::: info Note on Debian, Ubuntu and their derivatives:\nIt's possible, that you will get an error saying something like: `bash: qmk: command not found`.\nThis is due to a [bug](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=839155) Debian introduced with their Bash 4.4 release, which removed `$HOME/.local/bin` from the PATH. This bug was later fixed on Debian and Ubuntu.\nSadly, Ubuntu reintroduced this bug and is [yet to fix it](https://bugs.launchpad.net/ubuntu/+source/bash/+bug/1588562).\nLuckily, the fix is easy. Run this as your user: `echo 'PATH=\"$HOME/.local/bin:$PATH\"' >> $HOME/.bashrc && source $HOME/.bashrc`\n:::\n\n=== FreeBSD\n\nOpen your preferred terminal app and run the following command:\n\n```\nqmk setup\n```\n\nIn most situations you will want to answer `y` to all of the prompts.\n\n::::\n\n::: tip\nThe qmk home folder can be specified at setup with `qmk setup -H <path>`, and modified afterwards using the [cli configuration](cli_configuration#single-key-example) and the variable `user.qmk_home`. For all available options run `qmk setup --help`.\n:::\n\n::: tip\nIf you already know how to use GitHub, [we recommend that you follow these instructions](getting_started_github) and use `qmk setup <github_username>/qmk_firmware` to clone your personal fork. If you don't know what that means you can safely ignore this message.\n:::",
        "4. Test Your Build Environment": "Now that your QMK build environment is set up, you can build a firmware for your keyboard. Start by trying to build the keyboard's default keymap. You should be able to do that with a command in this format:\n\n```\nqmk compile -kb <keyboard> -km default\n```\n\nFor example, to build a firmware for a Clueboard 66% you would use:\n\n```\nqmk compile -kb clueboard/66/rev3 -km default\n```\n\n::: tip\nThe keyboard option is the path relative to the keyboard directory, the above example would be found in `qmk_firmware/keyboards/clueboard/66/rev3`. If you're unsure you can view a full list of supported keyboards with `qmk list-keyboards`.\n:::\n\nWhen it is done you should have a lot of output that ends similar to this:\n\n```\nLinking: .build/clueboard_66_rev3_default.elf                                                       [OK]\nCreating load file for flashing: .build/clueboard_66_rev3_default.hex                               [OK]\nCopying clueboard_66_rev3_default.hex to qmk_firmware folder                                        [OK]\nChecking file size of clueboard_66_rev3_default.hex                                                 [OK]\n * The firmware size is fine - 26356/28672 (2316 bytes free)\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 70]"
    },
    {
      "title": "Best Git Practices for Working with QMK",
      "description": null,
      "content": {
        "Or, \"How I Learned to Stop Worrying and Love Git.\"": "This section aims to instruct novices in the best ways to have a smooth experience in contributing to QMK. We will walk through the process of contributing to QMK, detailing some ways to make this task easier, and then later we'll break some things in order to teach you how to fix them.\n\nThis section assumes a few things:\n\n['You have a GitHub account, and have [forked the qmk_firmware repository](getting_started_github) to your account.', \"You've set up both [your build environment](newbs_getting_started#set-up-your-environment) and [QMK](newbs_getting_started#set-up-qmk).\"]\n\n[]\n\n[\"Part 1: [Your Fork's Master: Update Often, Commit Never](newbs_git_using_your_master_branch)\", 'Part 2: [Resolving Merge Conflicts](newbs_git_resolving_merge_conflicts)', 'Part 3: [Resynchronizing an Out-of-Sync Git Branch](newbs_git_resynchronize_a_branch)']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 71]"
    },
    {
      "title": "Resolving Merge Conflicts",
      "description": null,
      "content": {
        "Rebasing Your Changes": "A *rebase* is Git's way of taking changes that were applied at one point in the commit history, reversing them, and then applying the same changes at another point. In the case of a merge conflict, you can rebase your branch to grab the changes that were made between when you created your branch and the present time.\n\nTo start, run the following:\n\n```\ngit fetch upstream\ngit rev-list --left-right --count HEAD...upstream/master\n```\n\nThe `git rev-list` command entered here returns the number of commits that differ between the current branch and QMK's master branch. We run `git fetch` first to make sure we have the refs that represent the current state of the upstream repo. The output of the `git rev-list` command entered returns two numbers:\n\n```\n$ git rev-list --left-right --count HEAD...upstream/master\n7       35\n```\n\nThe first number represents the number of commits on the current branch since it was created, and the second number is the number of commits made to `upstream/master` since the current branch was created, and thus, the changes that are not recorded in the current branch.\n\nNow that the current states of both the current branch and the upstream repo are known, we can start a rebase operation:\n\n```\ngit rebase upstream/master\n```\n\nThis tells Git to undo the commits on the current branch, and then reapply them against QMK's master branch.\n\n```\n$ git rebase upstream/master\nFirst, rewinding head to replay your work on top of it...\nApplying: Commit #1\nUsing index info to reconstruct a base tree...\nM       conflicting_file_1.txt\nFalling back to patching base and 3-way merge...\nAuto-merging conflicting_file_1.txt\nCONFLICT (content): Merge conflict in conflicting_file_1.txt\nerror: Failed to merge in the changes.\nhint: Use 'git am --show-current-patch' to see the failed patch\nPatch failed at 0001 Commit #1\n\nResolve all conflicts manually, mark them as resolved with\n\"git add/rm <conflicted_files>\", then run \"git rebase --continue\".\nYou can instead skip this commit: run \"git rebase --skip\".\nTo abort and get back to the state before \"git rebase\", run \"git rebase --abort\".\n```\n\nThis tells us that we have a merge conflict, and gives the name of the file with the conflict. Open the conflicting file in your text editor, and somewhere in the file, you'll find something like this:\n\n```\n<<<<<<< HEAD\n<p>For help with any issues, email us at support@webhost.us.</p>\n=======\n<p>Need help? Email support@webhost.us.</p>\n>>>>>>> Commit #1\n```\n\nThe line `<<<<<<< HEAD` marks the beginning of a merge conflict, and the `>>>>>>> Commit #1` line marks the end, with the conflicting sections separated by `=======`. The part on the `HEAD` side is from the QMK master version of the file, and the part marked with the commit message is from the current branch and commit.\n\nBecause Git tracks *changes to files* rather than the contents of the files directly, if Git can't find the text that was in the file previous to the commit that was made, it won't know how to edit the file. Re-editing the file will solve the conflict. Make your changes, and then save the file.\n\n```\n<p>Need help? Email support@webhost.us.</p>\n```\n\nNow run:\n\n```\ngit add conflicting_file_1.txt\ngit rebase --continue\n```\n\nGit logs the changes to the conflicting file, and continues applying the commits from our branch until it reaches the end."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 72]"
    },
    {
      "title": "Resynchronizing an Out-of-Sync Git Branch",
      "description": null,
      "content": {
        "Backing Up the Changes on Your Own Master Branch (Optional)": "No one wants to lose work if it can be helped. If you want to save the changes you've already made to your `master` branch, the simplest way to do so is to simply create a duplicate of your \"dirty\" `master` branch:\n\n```\ngit branch old_master master\n```\n\nNow you have a branch named `old_master` that is a duplicate of your `master` branch.",
        "Resynchronizing Your Branch": "Now it's time to resynchronize your `master` branch. For this step, you'll want to have QMK's repository configured as a remote in Git. To check your configured remotes, run `git remote -v`, which should return something similar to:\n\n```\nQMKuser ~/qmk_firmware (master)\n$ git remote -v\norigin  https://github.com/<your_username>/qmk_firmware.git (fetch)\norigin  https://github.com/<your_username>/qmk_firmware.git (push)\nupstream        https://github.com/qmk/qmk_firmware.git (fetch)\nupstream        https://github.com/qmk/qmk_firmware.git (push)\n```\n\nIf you only see one fork referenced:\n\n```\nQMKuser ~/qmk_firmware (master)\n$ git remote -v\norigin  https://github.com/qmk/qmk_firmware.git (fetch)\norigin  https://github.com/qmk/qmk_firmware.git (push)\n```\n\nadd a new remote with:\n\n```\ngit remote add upstream https://github.com/qmk/qmk_firmware.git\n```\n\nThen, redirect the `origin` remote to your own fork with:\n\n```\ngit remote set-url origin https://github.com/<your_username>/qmk_firmware.git\n```\n\nNow that you have both remotes configured, you need to update the references for the upstream repository, which is QMK's, by running:\n\n```\ngit fetch --recurse-submodules upstream\n```\n\nAt this point, resynchronize your branch to QMK's by running:\n\n```\ngit reset --recurse-submodules --hard upstream/master\n```\n\nThese steps will update the repository on your computer, but your GitHub fork will still be out of sync. To resynchronize your fork on GitHub, you need to push to your fork, instructing Git to override any remote changes that are not reflected in your local repository. To do this, run:\n\n```\ngit push --recurse-submodules=on-demand --force-with-lease\n```\n\n::: warning\n**DO NOT** run `git push --recurse-submodules=on-demand --force-with-lease` on a fork to which other users post commits. This will erase their commits.\n:::\n\nNow your GitHub fork, your local files, and QMK's repository are all the same. From here you can make further needed changes ([use a branch!](newbs_git_using_your_master_branch#making-changes)) and post them as normal."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 73]"
    },
    {
      "title": "Your Fork's Master: Update Often, Commit Never",
      "description": null,
      "content": {
        "Updating your master branch": "To keep your `master` branch updated, it is recommended to add the QMK Firmware repository (\"repo\") as a remote repository in git. To do this, open your Git command line interface and enter:\n\n```\ngit remote add upstream https://github.com/qmk/qmk_firmware.git\n```\n\n::: tip\nThe name `upstream` is arbitrary, but a common convention; you can give the QMK remote any name that suits you. Git's `remote` command uses the syntax `git remote add <name> <url>`, `<name>` being shorthand for the remote repo. This name can be used with many Git commands, including but not limited to `fetch`, `pull` and `push`, to specify the remote repo on which to act.\n:::\n\nTo verify that the repository has been added, run `git remote -v`, which should return the following:\n\n```\n$ git remote -v\norigin  https://github.com/<your_username>/qmk_firmware.git (fetch)\norigin  https://github.com/<your_username>/qmk_firmware.git (push)\nupstream        https://github.com/qmk/qmk_firmware.git (fetch)\nupstream        https://github.com/qmk/qmk_firmware.git (push)\n```\n\nNow that this is done, you can check for updates to the repo by running `git fetch upstream`. This retrieves the branches and tags &mdash; collectively referred to as \"refs\" &mdash; from the QMK repo, which now has the nickname `upstream`. We can now compare the data on our fork `origin` to that held by QMK.\n\nTo update your fork's master, run the following, hitting the Enter key after each line:\n\n```\ngit checkout master\ngit fetch upstream\ngit pull upstream master\ngit push origin master\n```\n\nThis switches you to your `master` branch, retrieves the refs from the QMK repo, downloads the current QMK `master` branch to your computer, and then uploads it to your fork.",
        "Making Changes {#making-changes}": "To make changes, create a new branch by entering:\n\n```\ngit checkout -b dev_branch\ngit push --set-upstream origin dev_branch\n```\n\nThis creates a new branch named `dev_branch`, checks it out, and then saves the new branch to your fork. The `--set-upstream` argument tells git to use your fork and the `dev_branch` branch every time you use `git push` or `git pull` from this branch. It only needs to be used on the first push; after that, you can safely use `git push` or `git pull`, without the rest of the arguments.\n\n::: tip\nWith `git push`, you can use `-u` in place of `--set-upstream` &mdash; `-u` is an alias for `--set-upstream`.\n:::\n\nYou can name your branch nearly anything you want, though it is recommended to name it something related to the changes you are going to make.\n\nBy default `git checkout -b` will base your new branch on the branch that is currently checked out. You can base your new branch on an existing branch that is not checked out by adding the name of the existing branch to the command:\n\n```\ngit checkout -b dev_branch master\n```\n\nNow that you have a development branch, open your text editor and make whatever changes you need to make. It is recommended to make many small commits to your branch; that way, any change that causes issues can be more easily traced and undone if needed. To make your changes, edit and save any files that need to be updated, add them to Git's *staging area*, and then commit them to your branch:\n\n```\ngit add path/to/updated_file\ngit commit -m \"My commit message.\"\n```\n\n`git add` adds files that have been changed to Git's *staging area*, which is Git's \"loading zone.\" This contains the changes that are going to be *committed* by `git commit`, which saves the changes to the repo. Use descriptive commit messages so you can know what was changed at a glance.\n\n::: tip\nIf you've changed multiple files, you can use `git add -- path/to/file1 path/to/file2 ...` to add all your desired files.\n:::",
        "Publishing Your Changes": "The last step is to push your changes to your fork. To do this, enter `git push`. Git will then publish the current state of `dev_branch` to your fork."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 74]"
    },
    {
      "title": "Newbs Learn More Resources",
      "description": null,
      "content": {
        "Learning Resources": "These resources are aimed at giving new members in the QMK community more understanding to the information provided in the Newbs docs.\n\nQMK resources\n\n[\"[Thomas Baart's QMK Basics Blog](https://thomasbaart.nl/category/mechanical-keyboards/firmware/qmk/qmk-basics/)  A user-created blog covering the basics of how to use QMK Firmware, as seen from a new user's perspective.\"]\n\nCommand Line resources\n\n['[Good General Tutorial on Command Line](https://www.codecademy.com/learn/learn-the-command-line)', '[Must Know Linux Commands](https://www.guru99.com/must-know-linux-commands.html)<br>', '[Some Basic Unix Commands](https://www.tjhsst.edu/~dhyatt/superap/unixcmd.html)']\n\nText Editor resources\n\nNot sure which text editor to use?\n\n['[a great introduction to the subject](https://learntocodewith.me/programming/basics/text-editors/)']\n\nEditors specifically made for code:\n\n['[Sublime Text](https://www.sublimetext.com/)', '[VS Code](https://code.visualstudio.com/)']\n\nGit resources\n\n['[Great General Tutorial](https://www.codecademy.com/learn/learn-git)', '[Flight Rules For Git](https://github.com/k88hudson/git-flight-rules)', '[Git Game To Learn From Examples](https://learngitbranching.js.org/)']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 75]"
    },
    {
      "title": "Testing and Debugging",
      "description": null,
      "content": {
        "Testing": "[Moved here](faq_misc#testing)",
        "Debugging {#debugging}": "[Moved here](faq_debug#debugging)"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 76]"
    },
    {
      "title": "One Shot Keys",
      "description": null,
      "content": {
        "Keycodes {#keycodes}": "|Key                 |Aliases  |Description                                                          |\n|--------------------|---------|---------------------------------------------------------------------|\n|`QK_ONE_SHOT_TOGGLE`|`OS_TOGG`|Toggles One Shot keys status                                         |\n|`QK_ONE_SHOT_ON`    |`OS_ON`  |Turns One Shot keys on                                               |\n|`QK_ONE_SHOT_OFF`   |`OS_OFF` |Turns One Shot keys off                                              |\n|`OSL(layer)`        |         |Switch to `layer` for one keypress                                   |\n|`OSM(mod)`          |         |Hold `mod` for one keypress                                          |\n|`OS_LCTL`           |         |Hold Left Control for one keypress                                   |\n|`OS_LSFT`           |         |Hold Left Shift for one keypress                                     |\n|`OS_LALT`           |         |Hold Left Alt for one keypress                                       |\n|`OS_LGUI`           |         |Hold Left GUI for one keypress                                       |\n|`OS_LCS`            |         |Hold Left Control and Left Shift for one keypress                    |\n|`OS_LCA`            |         |Hold Left Control and left Alt for one keypress                      |\n|`OS_LCG`            |         |Hold Left Control and Left GUI for one keypress                      |\n|`OS_LSA`            |         |Hold Left Shift and Left Alt for one keypress                        |\n|`OS_LSG`            |         |Hold Left Shift and Left GUI for one keypress                        |\n|`OS_LAG`            |         |Hold Left Alt and Left GUI for one keypress                          |\n|`OS_LCSG`           |         |Hold Left Control, Left Shift and Left GUI for one keypress          |\n|`OS_LCAG`           |         |Hold Left Control, Left Alt and Left GUI for one keypress            |\n|`OS_LSAG`           |         |Hold Left Shift, Left Alt and Left GUI for one keypress              |\n|`OS_RCTL`           |         |Hold Right Control for one keypress                                  |\n|`OS_RSFT`           |         |Hold Right Shift for one keypress                                    |\n|`OS_RALT`           |         |Hold Right Alt for one keypress                                      |\n|`OS_RGUI`           |         |Hold Right GUI for one keypress                                      |\n|`OS_RCS`            |         |Hold Right Control and Right Shift for one keypress                  |\n|`OS_RCA`            |         |Hold Right Control and Right Alt for one keypress                    |\n|`OS_RCG`            |         |Hold Right Control and Right GUI for one keypress                    |\n|`OS_RSA`            |         |Hold Right Shift and Right Alt for one keypress                      |\n|`OS_RSG`            |         |Hold Right Shift and Right GUI for one keypress                      |\n|`OS_RAG`            |         |Hold Right Alt and Right GUI for one keypress                        |\n|`OS_RCSG`           |         |Hold Right Control, Right Shift and Right GUI for one keypress       |\n|`OS_RCAG`           |         |Hold Right Control, Right Alt and Right GUI for one keypress         |\n|`OS_RSAG`           |         |Hold Right Shift, Right Alt and Right GUI for one keypress           |\n|`OS_MEH`            |         |Hold Left Control, Left Shift and Left Alt for one keypress          |\n|`OS_HYPR`           |         |Hold Left Control, Left Shift, Left Alt and Left GUI for one keypress|\n\nWhen One Shot keys are turned off, `OSM()` and `OSL()` will behave like normal modifier keys and `MO()`, respectively.\n\n::: info\nThe `mod` parameter to the `OSM()` keycode must use the `MOD_*` prefix, rather than `KC_*`, eg. `OSM(MOD_LCTL | MOD_LSFT)`.\n:::\n\nSometimes, you want to activate a one-shot key as part of a macro or tap dance routine.  \n\nFor one shot layers, you need to call `set_oneshot_layer(LAYER, ONESHOT_START)` on key down, and `clear_oneshot_layer_state(ONESHOT_PRESSED)` on key up. If you want to cancel the oneshot, call `reset_oneshot_layer()`.\n\nFor one shot mods, you need to call `set_oneshot_mods(MOD_BIT(KC_*))` to set it, or `clear_oneshot_mods()` to cancel it.\n\n::: warning\nIf you're having issues with OSM translating over Remote Desktop Connection, this can be fixed by opening the settings, going to the \"Local Resources\" tab, and in the keyboard section, change the drop down to \"On this Computer\".  This will fix the issue and allow OSM to function properly over Remote Desktop.\n:::",
        "Callbacks": "When you'd like to perform custom logic when pressing a one shot key, there are several callbacks you can choose to implement. You could indicate changes in one shot keys by flashing an LED or making a sound, for example.\n\nThere is a callback for `OSM(mod)`. It is called whenever the state of any one shot modifier key is changed: when it toggles on, but also when it is toggled off. You can use it like this:\n\n```\nvoid oneshot_mods_changed_user(uint8_t mods) {\n  if (mods & MOD_MASK_SHIFT) {\n    println(\"Oneshot mods SHIFT\");\n  }\n  if (mods & MOD_MASK_CTRL) {\n    println(\"Oneshot mods CTRL\");\n  }\n  if (mods & MOD_MASK_ALT) {\n    println(\"Oneshot mods ALT\");\n  }\n  if (mods & MOD_MASK_GUI) {\n    println(\"Oneshot mods GUI\");\n  }\n  if (!mods) {\n    println(\"Oneshot mods off\");\n  }\n}\n```\n\nThe `mods` argument contains the active mods after the change, so it reflects the current state.\n\nWhen you use One Shot Tap Toggle (by adding `#define ONESHOT_TAP_TOGGLE 2` in your `config.h` file), you may lock a modifier key by pressing it the specified amount of times. There's a callback for that, too:\n\n```\nvoid oneshot_locked_mods_changed_user(uint8_t mods) {\n  if (mods & MOD_MASK_SHIFT) {\n    println(\"Oneshot locked mods SHIFT\");\n  }\n  if (mods & MOD_MASK_CTRL) {\n    println(\"Oneshot locked mods CTRL\");\n  }\n  if (mods & MOD_MASK_ALT) {\n    println(\"Oneshot locked mods ALT\");\n  }\n  if (mods & MOD_MASK_GUI) {\n    println(\"Oneshot locked mods GUI\");\n  }\n  if (!mods) {\n    println(\"Oneshot locked mods off\");\n  }\n}\n```\n\nLast, there is also a callback for the `OSL(layer)` one shot key:\n\n```\nvoid oneshot_layer_changed_user(uint8_t layer) {\n  if (layer == 1) {\n    println(\"Oneshot layer 1 on\");\n  }\n  if (!layer) {\n    println(\"Oneshot layer off\");\n  }\n}\n```\n\nIf any one shot layer is switched off, `layer` will be zero. When you're looking to do something on any layer change instead of one shot layer changes, `layer_state_set_user` is a better callback to use.\n\nIf you are making your own keyboard, there are also `_kb` equivalent functions:\n\n```\nvoid oneshot_locked_mods_changed_kb(uint8_t mods);\nvoid oneshot_mods_changed_kb(uint8_t mods);\nvoid oneshot_layer_changed_kb(uint8_t layer);\n```\n\nAs with any callback, be sure to call the `_user` variant to allow for further customizability."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 77]"
    },
    {
      "title": "Prerequisites",
      "description": null,
      "content": {
        "Build Environment": "Before starting, you must have followed the [Getting Started](newbs_getting_started) section of the Tutorial. In particular, you must have been able to build the firmware with [the `qmk compile` command](newbs_building_firmware#build-your-firmware).",
        "Java": "Eclipse is a Java application, so you will need to install Java 8 or more recent to be able to run it. You may choose between the JRE or the JDK, the latter being useful if you intend to do Java development."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 78]"
    },
    {
      "title": "Set up VS Code",
      "description": null,
      "content": {
        "Windows": {
          "Prerequisites": [
            "[Git for Windows](https://git-scm.com/download/win) (This link will prompt to save/run the installer)",
            [
              "Disable all of the options but `Git LFS (Large File Support)` and `Check daily for Git for Windows updates`. ",
              "Set the default editor to `Use Visual Studio Code as Git's default editor`",
              "Select the `Use Git from Git Bash only` option, since that's the option that you should use here.",
              "For the `Choosing HTTPS transport backend`, either option should be fine.",
              "Select the `Checkout as-is, commit Unix-style line endings` option. QMK Firmware uses Unix style commits.",
              "For the extra options, leave the default options as is. "
            ],
            "This software is needed for Git support in VS Code. It may be possible to not include this, but it is much simpler to just use this. ",
            "[Git Credential Manager for Windows](https://github.com/Microsoft/Git-Credential-Manager-for-Windows/releases) (Optional) ",
            "This software provides better support for Git by providing secure storage for git credentials, MFA and personal access token generation. ",
            "This isn't strictly needed, but we would recommend it. "
          ],
          "Installing VS Code": {
            "MSYS2 Setup": "Now, we will set up the MSYS2 window to show up in VSCode as the integrated terminal.  This has a number of advantages. Mostly, you can control+click on errors and jump to those files.  This makes debugging much easier.  It's also nice, in that you don't have to jump to another window. \n\n['Click <kbd><kbd>File</kbd> > <kbd>Preferences ></kbd> > <kbd>Settings</kbd> </kbd>', 'Click on the <kbd>{}</kbd> button, in the top right to open the `settings.json` file. ', \"Set the file's content to: \", '```\\n{\\n     \"terminal.integrated.profiles.windows\": {\\n         \"QMK_MSYS\": {\\n             \"path\": \"C:/QMK_MSYS/usr/bin/bash.exe\",\\n             \"env\": {\\n                 \"MSYSTEM\": \"MINGW64\",\\n                 \"CHERE_INVOKING\": \"1\"\\n             },\\n             \"args\": [\"--login\"]\\n         }\\n     },\\n\\n     \"terminal.integrated.cursorStyle\": \"line\"\\n }\\n```', 'If there are settings here already, then just add everything between the first and last curly brackets and separate the existing settings with a comma from the newly added ones.']\n\n::: tip\nIf you installed MSYS2 to a different folder, then you'll need to change the path for `terminal.integrated.shell.windows` to the correct path for your system. \n:::\n\n['Hit Ctrl-<code>&#96;</code> (Grave) to bring up the terminal or go to <kbd><kbd>View</kbd> > <kbd>Terminal</kbd></kbd> (command `workbench.action.terminal.toggleTerminal`). A new terminal will be opened if there isnt one already.', \"This should start the terminal in the workspace's folder (so the `qmk_firmware` folder), and then you can compile your keyboard. \"]"
          }
        },
        "Every other Operating System": [
          "Head to [VS Code](https://code.visualstudio.com/) and download the installer",
          "Run the installer",
          "That's it"
        ],
        "Extensions": "There are a number of extensions that you may want to install:\n\n['[Git Extension Pack](https://marketplace.visualstudio.com/items?itemName=donjayamanne.git-extension-pack) - This installs a bunch of Git related tools that may make using Git with QMK Firmware easier.', '[clangd](https://marketplace.visualstudio.com/items?itemName=llvm-vs-code-extensions.vscode-clangd) - _[Optional]_ -  This is the language server for C/C++ that VS Code uses.  It provides IntelliSense and other features.', '[EditorConfig for VS Code](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig) - _[Optional]_ -  Helps to keep the code to the QMK Coding Conventions.', \"[GitHub Markdown Preview](https://marketplace.visualstudio.com/items?itemName=bierner.github-markdown-preview) - _[Optional]_ - Makes the markdown preview in VS Code more like GitHub's.\", \"[VS Live Share Extension Pack](https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare) - _[Optional]_ - This extension allows somebody else to access your workspace (or you to access somebody else's workspace) and help out.  This is great if you're having issues and need some help from somebody.\"]\n\nRestart once you've installed any extensions."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 79]"
    },
    {
      "title": "WeAct Blackpill (STM32F4x1)",
      "description": null,
      "content": {
        "Pin Usage Limitations": {
          "Unusable pins": [
            "Pins `A11` and `A12` are not usable because they're used for USB connection, and cannot be shared.",
            [
              "In theory, these pins can be used.  However, doing so may disable USB connectivity, outright, if used for anything other than a USB port"
            ],
            "Pin `B2` is used by `BOOT1` and cannot be used, without causing problems.",
            "`VBAT` is not a usable pin.",
            "`NRST` is not a usable pin."
          ],
          "Pins to be avoided": [
            "Pin `A9` is meant for VBUS Sense and should not be used, if it can be avoided.  It has an internal pull-down resistor, which may cause issues with usage.  However, a pull-up resistor can work (~5.1k), but should be avoided.",
            "Pin `A10` can be used, but should be avoided.  Any connection on this pin can prevent the bootloader from entering the proper mode for DFU flashing.  A pull-up resistor (~22k) on this pin fixes the bootloader issue."
          ],
          "Shared Usage": [
            "Pin `A0` is shared with the User Key (button) on the controller.  It can be used.",
            "Pin `C13` is shared with the onboard LED indicator, and is connected to +3.3V.  This can be used, but may cause the LED to blink intermittently, depending on activity on the pin.",
            "Pins `A4`, `A5`, `A6` and `A7` are used by the SOI8 footprint on the back of the controller, that can be used for either an SPI Flash chip, or an SPI EEPROM chip.  `A4` is the Chip Select pin, and cannot be shared.  However, `A5`, `A6`, and `A7` are the `SCK`, `MISO`, and `MOSI` pins, respectively, and can be shared with other SPI devices."
          ],
          "Limited Usage": [
            "Pins `C13`, `C14`, and `C15` have limits on output current. They should be used only as input, e.g., they should not be used for row pins in COL2ROW matrix configurations, but can be used as column pins.",
            [
              "This is because the column pins (in COL2ROW) are pulled up (the pull-up strength is independent of the current sourcing limitation) and the ROW is driven low and sinks current, then we check the state of the COLs to look for keypresses."
            ],
            "Pins `A0` and `B5` are not 5V tolerant, and should only be used with 3.3V compatible functionality."
          ]
        },
        "Additional Information": {
          "Bootloader issues": "Due to the use of a 25MHz crystal, the controller may have issues entering the bootloader.  Heating up the controller can help with this issue.\n\nAlso, if pin `A10` is connected to anything at all, it needs to have a pull-up resistor (see [Pins to be avoided](#pins-to-be-avoided), above)",
          "Tiny UF2 Support": "There is [tinyuf2 support for the WeAct Blackpill](https://github.com/adafruit/tinyuf2/tree/master/ports/stm32f4/boards/stm32f411ce_blackpill).  Instructions on how to compile the bootloader can be found [here](https://github.com/adafruit/tinyuf2#build-and-flash).  Setting `BOOTLOADER = tinyuf2` will enable support for this user bootloader, and the correct configuration to prevent it from being overwritten when flashing firmware."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 80]"
    },
    {
      "title": "Arm/ChibiOS Early Initialization {#chibios-early-init}",
      "description": null,
      "content": {
        "`early_hardware_init_pre()` {#early-hardware-init-pre}": "The function `early_hardware_init_pre` is the earliest possible code that can be executed by a keyboard firmware. This is intended as a replacement for the ChibiOS board definition's `__early_init` function, and is the equivalent of executing at the start of the function.\n\nThis is executed before RAM gets cleared, and before clocks or GPIOs are configured; for example, ChibiOS delays are not likely to work at this point. After executing this function, RAM on the MCU may be zero'ed. Assigning values to variables during execution of this function may be overwritten.\n\nAs such, if you wish to override this API consider limiting use to writing to low-level registers. The default implementation of this function can be configured to jump to bootloader if a `QK_BOOT` key was pressed:\n\n| `config.h` override                           | Description                                                                                                                                                                                                                                                                            | Default  |\n|-----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|\n| `#define EARLY_INIT_PERFORM_BOOTLOADER_JUMP`  | Whether or not bootloader is to be executed during the early initialisation code of QMK.                                                                                                                                                                                               | `FALSE`  |\n| `#define STM32_BOOTLOADER_DUAL_BANK`          | Relevant for dual-bank STM32 MCUs, signifies that a GPIO is to be toggled in order to enter bootloader mode.                                                                                                                                                                           | `FALSE`  |\n| `#define STM32_BOOTLOADER_DUAL_BANK_GPIO`     | Relevant for dual-bank STM32 MCUs, the pin to toggle when attempting to enter bootloader mode, e.g. `B8`                                                                                                                                                                               | `<none>` |\n| `#define STM32_BOOTLOADER_DUAL_BANK_POLARITY` | Relevant for dual-bank STM32 MCUs, the value to set the pin to in order to trigger charging of the RC circuit. e.g. `0` or `1`.                                                                                                                                                        | `0`      |\n| `#define STM32_BOOTLOADER_DUAL_BANK_DELAY`    | Relevant for dual-bank STM32 MCUs, an arbitrary measurement of time to delay before resetting the MCU. Increasing number increases the delay.                                                                                                                                          | `100`    |\n\nKinetis MCUs have no configurable options.\n\nAlternatively, to implement your own version of this function, in your keyboard's source files:\n\n```\nvoid early_hardware_init_pre(void) {\n    // do things with registers\n}\n```",
        "`early_hardware_init_post()` {#early-hardware-init-post}": "The function `early_hardware_init_post` is the next earliest possible code that can be executed by a keyboard firmware. This is executed after RAM has been cleared, and clocks and GPIOs are configured. This is intended as a replacement for the ChibiOS board definition's `__early_init` function, and is the equivalent of executing at the end of the function.\n\nMuch like `early_hardware_init_pre`, ChibiOS has not yet been initialized either, so the same restrictions on delays and timing apply.\n\nIf you wish to override this API, consider limiting functionality to register writes, variable initialization, and GPIO toggling. The default implementation of this function is to do nothing.\n\nTo implement your own version of this function, in your keyboard's source files:\n\n```\nvoid early_hardware_init_post(void) {\n    // toggle GPIO pins and write to variables\n}\n```",
        "`board_init()` {#board-init}": "The function `board_init` is executed directly after the ChibiOS initialization routines have completed. At this stage, all normal low-level functionality should be available for use (including timers and delays), with the restriction that USB is not yet connected. This is intended as a replacement for the ChibiOS board definition's `boardInit` function.\n\nThe default implementation of this function is to do nothing.\n\nTo implement your own version of this function, in your keyboard's source files:\n\n```\nvoid board_init(void) {\n    // initialize anything that requires ChibiOS\n}\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 81]"
    },
    {
      "title": "Proton C",
      "description": null,
      "content": {
        "Warnings": "Some of the PCBs compatible with Pro Micro have VCC (3.3V) and RAW (5V) pins connected (shorted) on the pcb. Using the Proton C will short 5V power from USB and regulated 3.3V which is connected directly to the MCU. Shorting those pins may damage the MCU on the Proton C.\n\nSo far, it appears that this is only an issue on the Gherkin PCBs, but other PCBs may be affected in this way.\n\nIn this case, you may want to not hook up the RAW pin at all.",
        "Manual Conversion": "To use the Proton C natively, without having to specify `CONVERT_TO=proton_c`, you need to change the `MCU` line in `rules.mk`:\n\n```\nMCU = STM32F303\nBOARD = QMK_PROTON_C\n```\n\nRemove these variables if they exist:\n\n['`BOOTLOADER`', '`EXTRA_FLAGS`']\n\nFinally convert all pin assignments in `config.h` to the stm32 equivalents.\n\n| Pro Micro Left | Proton C Left | | Proton C Right | Pro Micro Right |\n|-----------|----------|-|----------|-----------|\n| `D3` | `A9` | | 5v | RAW (5v) |\n| `D2` | `A10` | | GND | GND |\n| GND | GND | | FLASH | RESET |\n| GND | GND | | 3.3v | VCC <sup>1</sup> |\n| `D1` | `B7` | | `A2` | `F4` |\n| `D0` | `B6` | | `A1` | `F5` |\n| `D4` | `B5` | | `A0` | `F6` |\n| `C6` | `B4` | | `B8` | `F7` |\n| `D7` | `B3` | | `B13` | `B1` |\n| `E6` | `B2` | | `B14` | `B3` |\n| `B4` | `B1` | | `B15` | `B2` |\n| `B5` | `B0` | | `B9` | `B6` |\n| `B0` (RX LED) | `C13` <sup>2</sup> | | `C13` <sup>2</sup> | `D5` (TX LED) |\n\nYou can also make use of several new pins on the extended portion of the Proton C:\n\n| Left | | Right | \n|------|-|-------|\n| `A4`<sup>3</sup> | | `B10` |\n| `A5`<sup>4</sup> | | `B11` |\n| `A6` | | `B12` |\n| `A7` | | `A14`<sup>5</sup> (SWCLK) |\n| `A8` | | `A13`<sup>5</sup> (SWDIO) |\n| `A15` | | RESET<sup>6</sup> |\n\nNotes:\n\n['On a Pro Micro VCC can be 3.3v or 5v.', 'A Proton C only has one onboard LED, not two like a Pro Micro. The Pro Micro has an RX LED on `D5` and a TX LED on `B0`.', '`A4` is shared with the speaker.', '`A5` is shared with the speaker.', '`A13` and `A14` are used for hardware debugging (SWD). You can also use them for GPIO, but should use them last.', 'Short RESET to 3.3v (pull high) to reboot the MCU. This does not enter bootloader mode like a Pro Micro, it only resets the MCU.']"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 82]"
    },
    {
      "title": "Raspberry Pi RP2040",
      "description": null,
      "content": {
        "GPIO": {
          "Pin nomenclature": "To address individual pins on the RP2040, QMK uses the `GPx` abbreviation -- where the `x` stands for the GPIO number of the pin. This number can likely be found on the official pinout diagram of your board. Note that these GPIO numbers match the RP2040 MCU datasheet, and don't necessarily match the number you see printed on the board. For instance the Raspberry Pi Pico uses numbers from 1 to 40 for their pins, but these are not identical to the RP2040's GPIO numbers. So if you want to use the pin 11 of the Pico for your keyboard, you would refer to it as `GP8` in the config files.",
          "Alternate functions": "The RP2040 features flexible GPIO function multiplexing, this means that every pin can be connected to nearly all the internal peripherals like I2C, SPI, UART or PWM. This allows for flexible PCB designs that are much less restricted in the selection of GPIO pins. To find out which pin can use which peripheral refer to the official [Raspberry PI RP2040 datasheet](https://datasheets.raspberrypi.com/rp2040/rp2040-datasheet.pdf#page=14) section 1.4.3 GPIO functions."
        },
        "Selecting hardware peripherals and drivers": {
          "I2C Driver": "| RP2040 Peripheral | `mcuconf.h` values | `I2C_DRIVER` |\n| ----------------- | ------------------ | ------------ |\n| `I2C0`            | `RP_I2C_USE_I2C0`  | `I2CD0`      |\n| `I2C1`            | `RP_I2C_USE_I2C1`  | `I2CD1`      |\n\nTo configure the I2C driver please read the [ChibiOS/ARM](drivers/i2c#arm-configuration) section.",
          "SPI Driver": "| RP2040 Peripheral | `mcuconf.h` values | `SPI_DRIVER` |\n| ----------------- | ------------------ | ------------ |\n| `SPI0`            | `RP_SPI_USE_SPI0`  | `SPID0`      |\n| `SPI1`            | `RP_SPI_USE_SPI1`  | `SPID1`      |\n\nTo configure the SPI driver please read the [ChibiOS/ARM](drivers/spi#chibiosarm-configuration) section.",
          "UART Driver": "| RP2040 Peripheral | `mcuconf.h` values | `UART_DRIVER` |\n| ----------------- | ------------------ | ------------- |\n| `UART0`           | `RP_SIO_USE_UART0` | `SIOD0`       |\n| `UART1`           | `RP_SIO_USE_UART1` | `SIOD1`       |"
        },
        "Double-tap reset boot-loader entry {#double-tap}": "The double-tap reset mechanism is an alternate way in QMK to enter the embedded mass storage UF2 boot-loader of the RP2040. It enables bootloader entry by a fast double-tap of the reset pin on start up, which is similar to the behavior of AVR Pro Micros. This feature activated by default for the Pro Micro RP2040 board, but has to be configured for other boards. To activate it, add the following options to your keyboards `config.h` file:\n\n```\n#define RP2040_BOOTLOADER_DOUBLE_TAP_RESET // Activates the double-tap behavior\n#define RP2040_BOOTLOADER_DOUBLE_TAP_RESET_TIMEOUT 200U // Timeout window in ms in which the double tap can occur.\n#define RP2040_BOOTLOADER_DOUBLE_TAP_RESET_LED GP17 // Specify a optional status led by GPIO number which blinks when entering the bootloader\n```",
        "Pre-defined RP2040 boards": {
          "Generic Pro Micro RP2040": "This is the default board that is chosen, unless any other RP2040 board is selected in your keyboards `rules.mk` file. It assumes a pin layout for the I2C, SPI and Serial drivers which is identical to the Sparkfun Pro Micro RP2040, however all values can be overwritten by defining them in your keyboards `config.h` file. The [double-tap](#double-tap) reset to enter boot-loader behavior is activated by default.\n\n| Driver configuration define                                                | Value                                |\n| -------------------------------------------------------------------------- | ------------------------------------ |\n| **I2C driver**                                                             |                                      |\n| `I2C_DRIVER`                                                               | `I2CD1`                              |\n| `I2C1_SDA_PIN`                                                             | `GP2`                                |\n| `I2C1_SCL_PIN`                                                             | `GP3`                                |\n| **SPI driver**                                                             |                                      |\n| `SPI_DRIVER`                                                               | `SPID0`                              |\n| `SPI_SCK_PIN`                                                              | `GP18`                               |\n| `SPI_MISO_PIN`                                                             | `GP20`                               |\n| `SPI_MOSI_PIN`                                                             | `GP19`                               |\n| **Serial driver**                                                          |                                      |\n| `SERIAL_USART_DRIVER` ([SIO Driver](drivers/serial#the-sio-driver) only) | `SIOD0`                              |\n| `SOFT_SERIAL_PIN`                                                          | undefined, use `SERIAL_USART_TX_PIN` |\n| `SERIAL_USART_TX_PIN`                                                      | `GP0`                                |\n| `SERIAL_USART_RX_PIN`                                                      | `GP1`                                |\n| **UART driver**                                                            |                                      |\n| `UART_DRIVER`                                                              | `SIOD0`                              |\n| `UART_TX_PIN`                                                              | `GP0`                                |\n| `UART_RX_PIN`                                                              | `GP1`                                |\n\n::: tip\nThe pin-outs of Adafruit's KB2040 and Boardsource's Blok both deviate from the Sparkfun Pro Micro RP2040. Lookup the pin-out of these boards and adjust your keyboards pin definition accordingly if you want to use these boards.\n:::",
          "Generic RP2040 board": "This board can be chosen as a base for RP2040 keyboards which configure all necessary pins and drivers themselves and do not wish to leverage the configuration matching the Generic Pro Micro RP2040 board. Thus it doesn't provide any pre-configured pins or drivers. To select this board add the following line to your keyboards `rules.mk` file.\n\n```\nBOARD = GENERIC_RP_RP2040\n```"
        },
        "Split keyboard support": "Split keyboards are fully supported using the [serial driver](drivers/serial) in both full-duplex and half-duplex configurations. Two driver subsystems are supported by the RP2040, the hardware UART based `SIO` and the Programmable IO based `PIO` driver.\n\n| Feature                       | [SIO Driver](drivers/serial#the-sio-driver) | [PIO Driver](drivers/serial#the-pio-driver) |\n| ----------------------------- | --------------------------------------------- | --------------------------------------------- |\n| Half-Duplex operation         |                                               | :heavy_check_mark:                            |\n| Full-Duplex operation         | :heavy_check_mark:                            | :heavy_check_mark:                            |\n| `TX` and `RX` pin swapping    |                                               | :heavy_check_mark:                            |\n| Any GPIO as `TX` and `RX` pin | Only UART capable pins                        | :heavy_check_mark:                            |\n| Simple configuration          |                                               | :heavy_check_mark:                            |\n\nThe `PIO` driver is much more flexible then the `SIO` driver, the only \"downside\" is the usage of `PIO` resources which in turn are not available for advanced user programs. Under normal circumstances, this resource allocation will be a non-issue.",
        "RP2040 second stage bootloader selection": "As the RP2040 does not have any internal flash memory it depends on an external SPI flash memory chip to store and execute instructions from. To successfully interact with a wide variety of these chips a second stage bootloader that is compatible with the chosen external flash memory has to be supplied with each firmware image. By default an `W25Q080` compatible bootloader is assumed, but others can be chosen by adding one of the defines listed in the table below to your keyboards `config.h` file. \n\n| Compatible with flash chip | Selection                          |\n| :------------------------- | ---------------------------------- |\n| W25Q080                    | Selected by default                |\n| AT25SF128A                 | `#define RP2040_FLASH_AT25SF128A`  |\n| GD25Q64CS                  | `#define RP2040_FLASH_GD25Q64CS`   |\n| W25X10CL                   | `#define RP2040_FLASH_W25X10CL`    |\n| IS25LP080                  | `#define RP2040_FLASH_IS25LP080`   |\n| Generic 03H flash          | `#define RP2040_FLASH_GENERIC_03H` |",
        "RP2040 Community Edition {#rp2040_ce}": "The \"RP2040 Community Edition\" standard is a pinout that was defined by a committee of designers on the BastardKB Discord server.\n\nThese boards are designed to be a drop-in replacement for keyboards wanting an upgrade from ATmega32u4 based pro micros (eg. Elite-C).\n\n| Pinout Compatible Controllers                                                    |\n| -------------------------------------------------------------------------------- |\n| [0xB2 Splinky](https://github.com/plut0nium/0xB2/)                               |\n| [Elite-Pi](https://keeb.io/products/elite-pi-usb-c-pro-micro-replacement-rp2040) |\n| [Sea-Picro EXT](https://github.com/joshajohnson/sea-picro)                       |\n| [0xCB Helios](https://keeb.supply/products/0xcb-helios)                          |\n| [Frood](https://github.com/piit79/Frood)                                         |\n| [Liatris](https://splitkb.com/products/liatris)                                  |"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 83]"
    },
    {
      "title": "Choosing an Arm MCU {#choose-arm-mcu}",
      "description": null,
      "content": {
        "Selecting an already-supported MCU {#selecting-already-supported-mcu}": {
          "STM32 families": "As outlined earlier, STM32 is the preferred option to ensure greatest compatibility with the subsystems already implemented in QMK. Not all subsystems are compatible yet, but for the most widely-used support is already present.\n\nThe simplest solution to determine if an STM32 MCU is compatible is to navigate to the list of supported STM32 ports in QMK's [ChibiOS fork](https://github.com/qmk/ChibiOS/tree/master/os/hal/ports/STM32). Inside this directory, each of the supported STM32 families will be listed, and inside each family a file called `stm32_registry.h` will be present. Scanning through these files will show `#define`s such as the following, which can be used to determine if ChibiOS supports a particular MCU:\n\n```\n#if defined(STM32F303xC) || defined(__DOXYGEN__)\n```\n\nThe example shows that STM32F303xC devices are supported by ChibiOS.\n\nThe next step is to ensure that USB is supported on those devices by ChibiOS -- you can confirm this by checking inside the same section guarded by the `#define` above, specifically for the following to be `TRUE`:\n\n```\n#define STM32_HAS_USB                       TRUE\n```\n\nor one of the following being `TRUE`:\n\n```\n#define STM32_HAS_OTG1                      TRUE\n#define STM32_HAS_OTG2                      TRUE\n```\n\nFor the most part, this is the bare minimum to be able to have a high confidence that QMK will be able to run on your MCU. After that, it's all up to configuration.",
          "Non-STM32 families": "ChibiOS does have support for a handful of non-STM32 devices, and the list can be found in QMK's [ChibiOS fork](https://github.com/qmk/ChibiOS/tree/master/os/hal/ports) and [ChibiOS-Contrib fork](https://github.com/qmk/ChibiOS-Contrib/tree/master/os/hal/ports). Non-STM32 support is likely out of date, and only supports ancient MCUs -- whilst it might be possible to use these, it's not recommended.\n\nDo note that there are sometimes licensing restrictions with respect to redistribution. As an example, binaries built for nRF5 are not able to be redistributed via QMK Configurator, due to the licensing of their board support package."
        },
        "Adding support for a new STM32 MCU (for an existing family) {#add-new-stm32-mcu}": "Usually, one can \"masquerade\" as an existing MCU of the same family, especially if the only difference is RAM or Flash size. As an example, some MCUs within the same family are virtually identical, with the exception of adding a cryptographic peripheral -- STM32L072 vs. STM32L082 for instance. Given the unlikely use of the cryptographic peripheral, L082 chips can actually run as if they're an L072, and can be targeted accordingly.\n\nAdding proper support for new MCUs within an existing STM32 family should ideally be upstreamed to ChibiOS. In general, this will require modifications of the `stm32_registry.h` file, providing correct responses for the same `#define`s provided for the other MCUs in that family.",
        "Adding support for a new STM32 Family {#add-new-stm32-family}": "If this is a requirement, this needs to go through upstream ChibiOS before QMK would consider accepting boards targeting the new family. More information for porting should be sought by approaching ChibiOS directly, rather than through QMK.",
        "Adding support for a new MCU Family {#add-new-mcu-family}": "As stated earlier, in order for a new MCU family to be supported by QMK, it needs to be upstreamed into ChibiOS-Contrib before QMK will consider accepting boards using it. The same principle applies for development -- you're best approaching the ChibiOS-Contrib maintainers to get a bit more of an idea on what's involved with upstreaming your contribution."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 84]"
    },
    {
      "title": "Adding Your Keyboard to QMK",
      "description": null,
      "content": {
        "`readme.md`": "This is where you'll describe your keyboard. Please follow the [Keyboard Readme Template](documentation_templates#keyboard-readmemd-template) when writing your `readme.md`. You're encouraged to place an image at the top of your `readme.md`, please use an external service such as [Imgur](https://imgur.com) to host the images.",
        "`keyboard.json`": {
          "Hardware Configuration": "At the top of the `keyboard.json` you'll find USB related settings. These control how your keyboard appears to the Operating System. If you don't have a good reason to change you should leave the `usb.vid` as `0xFEED`. For the `usb.pid` you should pick a number that is not yet in use.\n\nDo change the `manufacturer` and `keyboard_name` lines to accurately reflect your keyboard.\n\n```\n    \"keyboard_name\": \"my_awesome_keyboard\",\n    \"maintainer\": \"You\",\n    \"usb\": {\n        \"vid\": \"0xFEED\",\n        \"pid\": \"0x0000\",\n        \"device_version\": \"1.0.0\"\n    },\n```\n\n::: tip\nWindows and macOS will display the `manufacturer` and `keyboard_name` in the list of USB devices. `lsusb` on Linux instead prefers the values in the list maintained by the [USB ID Repository](http://www.linux-usb.org/usb-ids.html). By default, it will only use `manufacturer` and `keyboard_name` if the list does not contain that `usb.vid` / `usb.pid`. `sudo lsusb -v` will show the values reported by the device, and they are also present in kernel logs after plugging it in.\n:::",
          "Matrix Configuration": {
            "Diode Matrix": "```\n    \"matrix_pins\": {\n        \"cols\": [\"C1\", \"C2\", \"C3\", \"C4\"],\n        \"rows\": [\"D1\", \"D2\", \"D3\", \"D4\"]\n    },\n```\n\nThe matrix dimensions are inferred from the length of the `matrix_pins.cols` and `matrix_pins.rows` arrays (previously specified explicitly in `config.h` with `MATRIX_ROWS` and `MATRIX_COLS`).\n\nFinally, you can specify the direction your diodes point. This can be `COL2ROW` or `ROW2COL`.\n\n```\n    \"diode_direction\": \"ROW2COL\",\n```",
            "Direct Pin Matrix": "To configure a keyboard where each switch is connected to a separate pin and ground instead of sharing row and column pins, use `matrix_pins.direct`. This overrides the behaviour of `diode_direction`, `matrix_pins.cols` and `matrix_pins.rows`, and they should not be specified together.\n\n```\n    \"matrix_pins\": {\n        \"direct\": [\n            [\"F1\", \"E6\", \"B0\", \"B2\", \"B3\"],\n            [\"F5\", \"F0\", \"B1\", \"B7\", \"D2\"],\n            [\"F6\", \"F7\", \"C7\", \"D5\", \"D3\"],\n            [\"B5\", \"C6\", \"B6\", null, null]\n        ]\n    },\n```\n\nHere, the matrix dimensions are inferred directly from the dimensions of the `matrix_pins.direct` array. Since there are no row or column pins to prescribe the matrix dimensions, you can arrange it however you like. Each \"row\" must contain the same number of \"column\"s; use `null` to fill in blank spaces, but try to minimize them."
          },
          "Layout Macros": "Next is configuring layout macro(s). These define the physical arrangement of keys, and their position within the matrix that switches are connected to. This allows you to have a physical arrangement of keys that differs from the wiring matrix.\n\n```\n    \"layouts\": {\n        \"LAYOUT_ortho_4x4\": {\n            \"layout\": [\n                {\"matrix\": [0, 0], \"x\": 0, \"y\": 0},\n                {\"matrix\": [0, 1], \"x\": 1, \"y\": 0},\n                {\"matrix\": [0, 2], \"x\": 2, \"y\": 0},\n                {\"matrix\": [0, 3], \"x\": 3, \"y\": 0},\n                {\"matrix\": [1, 0], \"x\": 0, \"y\": 1},\n                {\"matrix\": [1, 1], \"x\": 1, \"y\": 1},\n                {\"matrix\": [1, 2], \"x\": 2, \"y\": 1},\n                {\"matrix\": [1, 3], \"x\": 3, \"y\": 1},\n                {\"matrix\": [2, 0], \"x\": 0, \"y\": 2},\n                {\"matrix\": [2, 1], \"x\": 1, \"y\": 2},\n                {\"matrix\": [2, 2], \"x\": 2, \"y\": 2},\n                {\"matrix\": [2, 3], \"x\": 3, \"y\": 2},\n                {\"matrix\": [3, 0], \"x\": 0, \"y\": 3},\n                {\"matrix\": [3, 1], \"x\": 1, \"y\": 3},\n                {\"matrix\": [3, 2], \"x\": 2, \"y\": 3},\n                {\"matrix\": [3, 3], \"x\": 3, \"y\": 3}\n            ]\n        }\n    }\n```\n\nIn the above example,\n\n['`LAYOUT_ortho_4x4` defines the name of the layout macro', ['It must conform to the [layout guidelines](hardware_keyboard_guidelines#keyboard-name-h)'], '`\"matrix\": [0, 0]` defines the matrix row and column that the key is associated with']\n\n::: tip\nSee also: [Split Keyboard Layout Macro](features/split_keyboard#layout-macro) and [Matrix to Physical Layout](understanding_qmk#matrix-to-physical-layout-map).\n:::"
        },
        "Additional Configuration": {
          "Configuration Options": "For available options for `config.h`, you should see the [Config Options](config_options#the-configh-file) page for more details.",
          "Build Options": "For available options for `rules.mk`, see the [Config Options](config_options#feature-options) page for a detailed list and description."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 85]"
    },
    {
      "title": "PR checklists",
      "description": null,
      "content": {
        "Requirements for all PRs": [
          "PR should be submitted using a non-`master` branch on the source repository",
          [
            "this does not mean you target a different branch for your PR, rather that you're not working out of your own master branch",
            "if submitter _does_ use their own `master` branch, they'll be given a link to the [\"how to git\"](newbs_git_using_your_master_branch) page after merging -- (end of this document will contain the contents of the message)",
            "Note, frequently merging upstream with your branch is not needed and is discouraged. Valid reason for updating your branch may be resolving merge conflicts and pulling in new changes relevant to your PR."
          ],
          "PRs should contain the smallest amount of modifications required for a single change to the codebase",
          [
            "multiple keyboards at the same time is not acceptable",
            "**the smaller the PR, the higher likelihood of a quicker review, higher likelihood of quicker merge, and less chance of conflicts**"
          ],
          "newly-added directories and filenames must be lowercase",
          [
            "the lowercase requirement may be relaxed if upstream sources originally had uppercase characters (e.g. LUFA, ChibiOS, or imported files from other repositories etc.)",
            "if there is valid justification (i.e. consistency with existing core files etc.) this can be relaxed",
            [
              "a board designer naming their keyboard with uppercase letters is not enough justification"
            ]
          ],
          "valid license headers on all `*.c` and `*.h` source files",
          [
            "GPL2/GPL3 recommended for consistency",
            "an example GPL2+ license header may be copied (and author modified) from the bottom of this document",
            "other licenses are permitted, however they must be GPL-compatible and must allow for redistribution. Using a different license will almost certainly delay a PR getting merged",
            "missing license headers will prevent PR merge due to ambiguity with license compatibility",
            [
              "simple assignment-only `rules.mk` files should not need a license header - where additional logic is used in an `*.mk` file a license header may be appropriate"
            ]
          ],
          "QMK Codebase \"best practices\" followed",
          [
            "this is not an exhaustive list, and will likely get amended as time goes by",
            "`#pragma once` instead of `#ifndef` include guards in header files",
            "no \"old-school\" or other low-level GPIO/I2C/SPI functions may be used -- must use QMK abstractions unless justifiable (and laziness is not valid justification)",
            "timing abstractions should be followed too:",
            [
              "`wait_ms()` instead of `_delay_ms()` (remove `#include <util/delay.h>` too)",
              "`timer_read()` and `timer_read32()` etc. -- see [timer.h](https://github.com/qmk/qmk_firmware/blob/master/platforms/timer.h) for the timing APIs"
            ],
            "if you think a new abstraction is useful, you're encouraged to:",
            [
              "prototype it in your own keyboard until it's feature-complete",
              "discuss it with QMK Collaborators on Discord",
              "refactor it as a separate core change",
              "remove your specific copy in your board"
            ]
          ],
          "fix all merge conflicts before opening the PR (in case you need help or advice, reach out to QMK Collaborators on Discord)",
          [
            "PR submitters will need to keep up-to-date with their base branch, resolving conflicts along the way"
          ]
        ],
        "Keymap PRs": "::: warning\nNote that personal keymap submissions will no longer be accepted. This section applies to manufacturer-supported keymaps. Please see this [issue](https://github.com/qmk/qmk_firmware/issues/22724) for more information.\n:::\n\n['PRs for vendor specific keymaps will be permitted. The naming convention for these should be `default_${vendor}` i.e. `default_clueboard`.', ['vendor specific keymaps do not necessarily need to be \"vanilla\" and can be more richly featured than `default` stock keymaps.'], '`#include QMK_KEYBOARD_H` preferred to including specific board files', 'prefer layer enums to #defines', 'custom keycode enums must have first entry = `QK_USER`', 'some care with spacing (e.g., alignment on commas or first char of keycodes) makes for a much nicer-looking keymap. Spaces are preferred to tabs', 'keymaps should not enable VIA', ['keymaps targeting VIA support should be submitted to the [VIA QMK Userspace](https://github.com/the-via/qmk_userspace_via) repository']]",
        "Keyboard PRs": "Closed PRs (for inspiration, previous sets of review comments will help you eliminate ping-pong of your own reviews):\nhttps://github.com/qmk/qmk_firmware/pulls?q=is%3Apr+is%3Aclosed+label%3Akeyboard\n\n['keyboard moves within the repository *must* go through the `develop` branch instead of `master`, so as to ensure compatibility for users', ['`data/mappings/keyboard_aliases.hjson` must be updated to reflect the move, so users with pre-created configurator keymap.json files continue to detect the correct keyboard'], 'keyboard updates and refactors (eg. to data driven) *must* go through `develop` to reduce `master` -> `develop` merge conflicts', 'PR submissions from a `kbfirmware` export (or equivalent) will not be accepted unless converted to new QMK standards -- try `qmk import-kbfirmware` first', '`info.json`', ['With the move to [data driven](data_driven_config) keyboard configuration, we encourage contributors to utilise as many features as possible of the info.json [schema](https://github.com/qmk/qmk_firmware/blob/master/data/schemas/keyboard.jsonschema).', 'the mandatory elements for a minimally complete `info.json` at present are:', ['valid URL', 'valid maintainer', 'valid USB VID/PID and device version', 'displays correctly in Configurator (press Ctrl+Shift+I to preview local file, turn on fast input to verify ordering)', '`layout` definitions must include matrix positions, so that `LAYOUT` macros can be generated at build time', ['should use standard definitions if applicable', 'use the Community Layout macro names where they apply (preferred above `LAYOUT`/`LAYOUT_all`)', 'If the keyboard only has a single electrical/switch layout:', ['use `LAYOUT` as your macro name, unless a community layout already exists'], 'If the keyboard has multiple electrical/switch layouts:', ['include a `LAYOUT_all` which specifies all possible layout positions in the electrical matrix', 'use alternate layout names for all other possible layouts, preferring community layout names if an equivalent is available (e.g. `LAYOUT_tkl_ansi`, `LAYOUT_ortho_4x4` etc.)']], 'Microcontroller and bootloader', 'Diode Direction (if not using direct pins)'], 'the following are required to be configured in `info.json` if necessary', ['Direct pin configuration', 'Backlight Configuration (where applicable)', 'Split keyboard configuration (where applicable)', 'Encoder Configuration', 'Bootmagic Configuration', 'LED Indicator Configuration', 'RGB Light Configuration', 'RGB Matrix Configuration'], 'Run `qmk format-json` on this file before submitting your PR. Be sure to append the `-i` flag to directly modify the file, or paste the outputted code into the file. '], '`readme.md`', ['must follow the [template](https://github.com/qmk/qmk_firmware/blob/master/data/templates/keyboard/readme.md)', 'flash command is present, and has `:flash` at end', 'valid hardware availability link (unless handwired) -- private groupbuys are okay, but one-off prototypes will be questioned. If open-source, a link to files should be provided.', 'clear instructions on how to reset the board into bootloader mode', 'a picture about the keyboard and preferably about the PCB, too', ['images are not to be placed in the `qmk_firmware` repository', 'images should be uploaded to an external image hosting service, such as [imgur](https://imgur.com/).', 'image links should link directly to the image, not a \"preview\" -- i.e. [https://imgur.com/vqgE7Ok](https://imgur.com/vqgE7Ok) should be [https://i.imgur.com/vqgE7Ok.jpg](https://i.imgur.com/vqgE7Ok.jpg) when using imgur']], '`rules.mk`', ['removed `MIDI_ENABLE`, `FAUXCLICKY_ENABLE` and `HD44780_ENABLE`', 'modified `# Enable Bluetooth with the Adafruit EZ-Key HID` -> `# Enable Bluetooth`', 'no `(-/+size)` comments related to enabling features', 'remove the list of alternate bootloaders if one has been specified', 'no re-definitions of the default MCU parameters if same value, when compared to the equivalent MCU in [mcu_selection.mk](https://github.com/qmk/qmk_firmware/blob/master/builddefs/mcu_selection.mk)', 'no \"keymap only\" features enabled', ['`COMBO_ENABLE`', '`ENCODER_MAP_ENABLE`']], 'keyboard `config.h`', ['no `#define DESCRIPTION`', 'no Magic Key Options, MIDI Options or HD44780 configuration', 'user preference configurable `#define`s should not be placed at the keyboard level', 'default values should not be redefined, such as `DEBOUNCE`, RGB related settings, etc.', ['feature specific documentation contains most default values', '`grep` or alternative tool can be used to search for default values in core directories (e.g. `grep -r \"define DEBOUNCE\" quantum`)'], 'no copy/pasted comment blocks explaining a feature and/or its caveats -- this is what the docs are for', ['`Force NKRO to be enabled ... toggled again during a power-up`', 'commented-out unused defines, such as RGB effects'], 'no `#include \"config_common.h`', 'no `#define MATRIX_ROWS/COLS`, unless necessary (e.g. a keyboard with a custom matrix)', 'bare minimum required code for a board to boot into QMK should be present', ['initialisation code for the matrix and critical devices', 'mirroring existing functionality of a commercial board (like custom keycodes and special animations etc.) should be handled through non-`default` keymaps'], 'Vial-related files or changes will not be accepted, as they are not used by QMK firmware (no Vial-specific core code has been submitted or merged)'], '`<keyboard>.c`', ['empty `xxxx_xxxx_kb()`, `xxxx_xxxx_user()`, or other weak-defined default implemented functions removed', 'commented-out functions removed too', '`matrix_init_board()` etc. migrated to `keyboard_pre_init_kb()`, see: [keyboard_pre_init*](custom_quantum_functions#keyboard_pre_init_-function-documentation)', \"when configuring custom matrix, the 'lite' variant (`CUSTOM_MATRIX = lite`) must be used where possible, as this allows for standard debounce. See [custom matrix 'lite'](custom_matrix#lite)\", ['justification for full custom matrix (`CUSTOM_MATRIX = yes`) must be provided when used'], 'prefer LED indicator [Configuration Options](features/led_indicators#configuration-options) to custom `led_update_*()` implementations where possible', \"hardware that's enabled at the keyboard level and requires configuration such as OLED displays or encoders should have basic functionality implemented here\"], '`<keyboard>.h`', ['`#include \"quantum.h\"` appears at the top', '`LAYOUT` macros are no longer accepted and should instead be moved to `info.json`'], 'keymap `config.h`', ['no duplication of `rules.mk` or `config.h` from keyboard'], '`keymaps/default/keymap.c`', ['`QMKBEST`/`QMKURL` example macros removed', \"if using `MO(1)` and `MO(2)` keycodes together to access a third layer, the [Tri Layer](features/tri_layer) feature should be used, rather than manually implementing this using `layer_on/off()` and `update_tri_layer()` functions in the keymap's `process_record_user()`.\"], 'default keymaps should be \"pristine\"', ['bare minimum to be used as a \"clean slate\" for another user to develop their own user-specific keymap', 'what does pristine mean? no custom keycodes. no advanced features like tap dance or macros. basic mod taps and home row mods would be acceptable where their use is necessary', 'standard layouts preferred in these keymaps, if possible', 'should use [encoder map feature](features/encoders#encoder-map), rather than `encoder_update_user()`', 'default keymap should not enable VIA -- keymaps targeting VIA support should be submitted to the [VIA QMK Userspace](https://github.com/the-via/qmk_userspace_via) repository'], \"submitters can add an example (or bells-and-whistles) keymap showcasing capabilities in the same PR but it shouldn't be embedded in the 'default' keymap\", 'submitters can also have a \"manufacturer-matching\" keymap that mirrors existing functionality of the commercial product, if porting an existing board', 'Do not include VIA json files in the PR. These do not belong in the QMK repository as they are not used by QMK firmware -- they belong in the [VIA Keyboard Repo](https://github.com/the-via/keyboards)', 'Do not include KLE json files in the PR. These have no use within QMK.', 'Do not include source files from another keyboard or vendors keyboard folder. Including core files is fine.', ['For instance, only `wilba_tech` boards shall include `keyboards/wilba_tech/wt_main.c` and  `keyboards/wilba_tech/wt_rgb_backlight.c`. But including `drivers/sensors/pmw3360.c` is absolutely fine for any and all boards that require it.', 'Code that needs to be used by multiple boards is a candidate for core code changes, and should be separated out.']]\n\nWireless-capable boards:\n\n['Given license abuse from vendors, QMK does not accept any vendor PRs for wireless- or Bluetooth-capable keyboards without wireless and/or Bluetooth code', ['Historically, vendors have done this in bad faith in order to attain downstream VIA compatibility with no intention of releasing wireless sources', \"QMK's license, the GPL2+, requires full source disclosure for any distributed binary -- including full sources for any keyboard shipped by vendors containing QMK and/or firmware-side VIA code\", \"If a vendor's wireless-capable keyboard PR submission is lacking wireless capability, then the PR will be left on-hold and unmergeable until wireless bindings are provided\", \"If a vendor's wireless-capable keyboard is merged into QMK before it's known that the board is wireless, then all existing and future PRs from the same vendor will be put on hold until wireless bindings for the offending keyboard are provided\"]]\n\nAlso, specific to ChibiOS:\n\n['**strong** preference to using existing ChibiOS board definitions.', ['a lot of the time, an equivalent Nucleo board can be used with a different flash size or slightly different model in the same family', ['example: For an STM32L082KZ, given the similarity to an STM32L073RZ, you can use `BOARD = ST_NUCLEO64_L073RZ` in rules.mk'], 'QMK is migrating to not having custom board definitions if at all possible, due to the ongoing maintenance burden when upgrading ChibiOS'], 'New board definitions must not be embedded in a keyboard PR', ['See [Core PRs](#core-pr) below for the procedure for adding a new board to QMK'], 'if a board definition is unavoidable, `board.c` must have a standard `__early_init()` (as per normal ChibiOS board defs) and an empty `boardInit()`:', ['see Arm/ChibiOS [early initialization](platformdev_chibios_earlyinit#board-init)', '`__early_init()` should be replaced by either `early_hardware_init_pre()` or `early_hardware_init_post()` as appropriate', '`boardInit()` should be migrated to `board_init()`']]",
        "Core PRs {#core-pr}": [
          "all core PRs must now target `develop` branch, which will subsequently be merged back to `master` on the breaking changes timeline",
          "as indicated above, the smallest set of changes to core components should be included in each PR",
          [
            "PRs containing multiple areas of change will be asked to be split up and raised separately",
            "keyboard and keymap changes should only be included if they affect base keyboard builds, or the default-like `default`, `default_????` keymaps etc.",
            [
              "keymap modifications for anything other than the default-like keymaps **should not be included in the initial PR** in order to simplify the review process",
              "the core PR submitter should submit a followup PR affecting other keymaps after initial PR merge",
              "large-scale refactoring or consolidation PRs that affect other keymaps (such as renaming keycodes) should always be raised separately"
            ]
          ],
          "any new boards adding support for new hardware now requires a corresponding test board under `keyboards/handwired/onekey`",
          [
            "for new MCUs, a new \"child\" keyboard should be added that targets your newly-added MCU, so that builds can be verified",
            "for new hardware support such as display panels, core-side matrix implementations, or other peripherals, an associated keymap should be provided",
            "if an existing keymap exists that can leverage this functionality this may not be required (e.g. a new RGB driver chip, supported by the `rgb` keymap) -- consult with the QMK Collaborators on Discord to determine if there is sufficient overlap already"
          ],
          "any features adding `_kb`/`_user` callbacks must return a `bool`, to allow for user override of keyboard-level callbacks.",
          "where relevant, unit tests are strongly recommended -- they boost the confidence level that changes behave correctly",
          [
            "critical areas of the code -- such as the keycode handling pipeline -- will almost certainly require unit tests accompanying them to ensure current and future correctness",
            "you should not be surprised if a QMK collaborator requests unit tests to be included in your PR if it's critical functionality"
          ],
          "other requirements are at the discretion of QMK collaborators",
          [
            "core is a lot more subjective given the breadth of posted changes"
          ]
        ],
        "Notes": "For when people use their own `master` branch, post this after merge:\n\n```\nFor future reference, we recommend against committing to your `master` branch as you've done here, because pull requests from modified `master` branches can make it more difficult to keep your QMK fork updated. It is highly recommended for QMK development  regardless of what is being done or where  to keep your master updated, but **NEVER** commit to it. Instead, do all your changes in a branch (branches are basically free in Git) and issue PRs from your branches when you're developing.\n\nThere are instructions on how to keep your fork updated here:\n\n[**Best Practices: Your Fork's Master: Update Often, Commit Never**](newbs_git_using_your_master_branch)\n\n[Fixing Your Branch](newbs_git_resynchronize_a_branch) will walk you through fixing up your `master` branch moving forward. If you need any help with this just ask.\n\nThanks for contributing!\n```",
        "Review Process": "In general, we want to see two (or more) approvals that are meaningful (e.g. that have inspected code) before a PR will be considered for merge. These reviews are not limited to collaborators -- any community member willing to put in the time is welcomed (and encouraged). The only difference is that your checkmark won't be green, and that's fine!\n\nAdditionally, PR reviews are something that is done in our free time. We are not paid nor compensated for the time we spend reviewing, as it is a labor of love. As such, this means that it can take time for us to get to your Pull Request.  Things like family, or life can get in the way of us getting to PRs, and burnout is a serious concern. The QMK firmware repository averages 200 PRs opened and 200 PRs merged every month, so please have patience.",
        "Example GPLv2 Header": "```\n/* Copyright 2024 Your Name (@yourgithub)\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 2 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n```\n\nOr, optionally, using [SPDX identifier](https://spdx.org/licenses/) instead:\n\n```\n// Copyright 2024 Your Name (@yourgithub)\n// SPDX-License-Identifier: GPL-2.0-or-later\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 86]"
    },
    {
      "title": "Proprietary Vendor Libraries",
      "description": null,
      "content": {
        "Architecture Constraints": "Firmware presents unique licensing challenges:\n\n['**Monolithic binary**: All code compiles into a single executable image', '**No OS isolation**: No operating system provides process or memory separation', '**Shared resources**: All code shares the same memory space, peripherals, and execution context', '**Static linking**: Everything is statically linked at compile time']\n\nThis monolithic nature means any proprietary code becomes inseparable from GPL code, creating immediate license violations.",
        "Common Vendor Library Restrictions": "Proprietary vendor libraries typically impose restrictions incompatible with GPL freedoms:\n\n**Hardware Lock-in:**\n\n[\"Library only licensed for specific vendor's chips\", 'Cannot port firmware to alternative hardware', \"Examples: Nordic's and ST's chip-only clauses in their respective licenses\"]\n\n**No Source Distribution:**\n\n['Binary-only libraries without corresponding source', 'Precompiled static libraries (.a/.lib files)', 'No ability to modify or fix bugs', 'Examples: WCH CH582 precompiled libraries, Nordic SoftDevice']\n\n**Redistribution Limitations:**\n\n['Restrictions on who can distribute', 'Limitations on commercial use', 'Required permissions or fees']\n\n**Additional Legal Terms:**\n\n[\"Patent assertions beyond GPL's scope\", 'Indemnification requirements', 'Jurisdiction restrictions', 'Explicit anti-GPL clauses']",
        "Bluetooth Stack Licensing Examples": "Both Nordic and ST provide Bluetooth stacks under restrictive licenses:\n\n**Nordic SoftDevice (under Nordic 5-clause license):**\n\n['Binary-only Bluetooth/radio stack', 'License restricts to Nordic hardware', 'No source code available', 'Communicates via SVC interface (still not GPL-compatible)']\n\n**ST's Bluetooth Stack (under SLA0044 license):**\n\n['Explicitly forbids being subject to \"Open Source Terms\", specifically mentioning incompatibility with the GPL', 'Restricted to ST microcontrollers only', \"Similar functional role to Nordic's SoftDevice\"]\n\nBoth represent the same fundamental problem: critical wireless functionality locked behind proprietary licenses.",
        "Why the System Library Exception Doesn't Apply": {
          "System Library Requirements": "The exception only covers libraries that:\n\n['Are part of the \"normal form of packaging a Major Component\"', 'The Major Component is an OS kernel, compiler, or similar system software', 'Are not distributed with the application', 'Are not part of the application itself']",
          "Why Vendor Libraries Fail These Requirements": [
            "**No operating system**: Bare-metal firmware has no OS to provide system libraries",
            "**Not Major Components**: Hardware drivers and HALs aren't kernels or compilers",
            "**Distributed together**: Vendor code becomes part of the firmware binary",
            "**Application-level code**: Peripheral drivers are application functionality"
          ]
        },
        "Attempted Workarounds": {
          "Architectural Separation Attempts": "**Supervisor Call (SVC) Interfaces:**\n\nNordic's SoftDevice uses supervisor call based APIs instead of direct linking:\n\n['Fixed memory regions for proprietary code', 'Communication through CPU exception mechanisms', 'Claims of \"no linking\" between components']\n\n**Why this fails:** The GPL considers functional integration, not just linking methods. In Bluetooth-capable boards, these would require the proprietary component to function, thus they form a single work regardless of the communication mechanism. This applies equally to Nordic's SoftDevice and any similar architecture ST provides.\n\n**Binary-Only Distributions:**\n\nMultiple vendors provide precompiled libraries:\n\n['WCH: Precompiled BLE stack', 'Nordic: Binary-only SoftDevice library', 'ST: Same solution as Nordic']\n\n**Why this fails:** This is classic static linking of proprietary code into GPL code. The inability to modify these libraries violates GPL's fundamental requirements.",
          "Loader-Based Separation": [
            "Write a GPL bootloader/loader",
            "Load proprietary firmware (such as Nordic/ST Bluetooth) from external storage",
            "Claim they're separate works"
          ]
        },
        "Real-World Examples": {
          "Bluetooth/Wireless Stacks": [
            "**Nordic SoftDevice**: Binary-only, SVC-interface, hardware-locked",
            "**ST Bluetooth**: Binary-only, license explicitly GPL-incompatible",
            "**WCH CH582**: Precompiled Bluetooth libraries"
          ],
          "HAL and Driver Libraries": [
            "**ST HAL/LL drivers**: Source available but SLA0044 restricted",
            "**Nordic SDK**: Source visible but 5-Clause restricted",
            "**Various vendor HALs**: Platform-locked licenses"
          ],
          "Mixed Proprietary/Open": [
            "Open peripheral drivers with closed protocol stacks",
            "Basic HAL with proprietary performance libraries",
            "Partially documented systems requiring binary supplements"
          ]
        },
        "Legal and Practical Consequences": "Including any proprietary vendor library means:\n\n['**License Violation**: Immediate GPL non-compliance', '**Distribution Ban**: Users cannot legally share modified firmware', '**Commercial Risk**: Products using the firmware face legal liability', '**Contributor Tainting**: All GPL contributions become legally problematic', '**Update Restrictions**: Cannot fix bugs in proprietary components']",
        "Evaluation Criteria for Libraries": "Before including any library, QMK needs to verify:\n\n['Complete source code available', 'GPL-compatible license (GPL, LGPL, MIT, BSD, Apache)', 'No hardware restrictions', 'No redistribution limitations', 'No additional legal terms', 'No anti-GPL clauses']",
        "Policy Implementation": "QMK Firmware maintains a strict policy:\n\n['**No proprietary libraries**: Regardless of technical workarounds', '**No binary blobs**: All code must have source available', '**No platform restrictions**: Must allow porting to any hardware', '**No additional terms**: Only GPL restrictions permitted']",
        "Summary": "There is no legally safe way to include proprietary vendor libraries in GPL firmware. This applies whether they're:\n\n['Bluetooth stacks (Nordic SoftDevice, ST Bluetooth)', 'Precompiled static libraries', 'Binary blobs with SVC interfaces', 'Source code with restrictive licenses', 'Mixed open/closed systems']\n\n**Technical architectures cannot overcome license obligations.**\n\nQMK chooses GPL compliance, ensuring users receive all freedoms the GPL promises."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 87]"
    },
    {
      "title": "Quantum Keycodes",
      "description": null,
      "content": {
        "QMK Keycodes {#qmk-keycodes}": "|Key              |Aliases  |Description                                                                                                                                      |\n|-----------------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------|\n|`QK_BOOTLOADER`  |`QK_BOOT`|Put the keyboard into bootloader mode for flashing                                                                                               |\n|`QK_DEBUG_TOGGLE`|`DB_TOGG`|Toggle debug mode                                                                                                                                |\n|`QK_CLEAR_EEPROM`|`EE_CLR` |Reinitializes the keyboard's EEPROM (persistent memory)                                                                                          |\n|`QK_MAKE`        |         |Sends `qmk compile -kb (keyboard) -km (keymap)`, or `qmk flash` if shift is held. Puts keyboard into bootloader mode if shift & control are held |\n|`QK_REBOOT`      |`QK_RBT` |Resets the keyboard. Does not load the bootloader                                                                                                |\n\n::: warning\nNote: `QK_MAKE` requires `#define ENABLE_COMPILE_KEYCODE` in your config.h to function.\n:::"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 88]"
    },
    {
      "title": "Quantum Painter {#quantum-painter}",
      "description": null,
      "content": {
        "Quantum Painter Configuration {#quantum-painter-config}": "| Option                                            | Default | Purpose                                                                                                                                                                                      |\n|---------------------------------------------------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `QUANTUM_PAINTER_DISPLAY_TIMEOUT`                 | `30000` | This controls the amount of time (in milliseconds) that all displays will remain on after the last user input. If set to `0`, the display will remain on indefinitely.                       |\n| `QUANTUM_PAINTER_TASK_THROTTLE`                   | `1`     | This controls the amount of time (in milliseconds) that the Quantum Painter internal task will wait between each execution. Affects animations, display timeout, and LVGL timing if enabled. |\n| `QUANTUM_PAINTER_NUM_IMAGES`                      | `8`     | The maximum number of images/animations that can be loaded at any one time.                                                                                                                  |\n| `QUANTUM_PAINTER_NUM_FONTS`                       | `4`     | The maximum number of fonts that can be loaded at any one time.                                                                                                                              |\n| `QUANTUM_PAINTER_CONCURRENT_ANIMATIONS`           | `4`     | The maximum number of animations that can be executed at the same time.                                                                                                                      |\n| `QUANTUM_PAINTER_LOAD_FONTS_TO_RAM`               | `FALSE` | Whether or not fonts should be loaded to RAM. Relevant for fonts stored in off-chip persistent storage, such as external flash.                                                              |\n| `QUANTUM_PAINTER_PIXDATA_BUFFER_SIZE`             | `1024`  | The limit of the amount of pixel data that can be transmitted in one transaction to the display. Higher values require more RAM on the MCU.                                                  |\n| `QUANTUM_PAINTER_SUPPORTS_256_PALETTE`            | `FALSE` | If 256-color palettes are supported. Requires significantly more RAM on the MCU.                                                                                                             |\n| `QUANTUM_PAINTER_SUPPORTS_NATIVE_COLORS`          | `FALSE` | If native color range is supported. Requires significantly more RAM on the MCU.                                                                                                              |\n| `QUANTUM_PAINTER_DEBUG`                           | _unset_ | Prints out significant amounts of debugging information to CONSOLE output. Significant performance degradation, use only for debugging.                                                      |\n| `QUANTUM_PAINTER_DEBUG_ENABLE_FLUSH_TASK_OUTPUT`  | _unset_ | By default, debug output is disabled while the internal task is flushing the display(s). If you want to keep it enabled, add this to your `config.h`. Note: Console will get clogged.        |\n\nDrivers have their own set of configurable options, and are described in their respective sections.",
        "Quantum Painter CLI Commands {#quantum-painter-cli}": ":::::tabs\n\n==== `qmk painter-convert-graphics`\n\nThis command converts images to a format usable by QMK, i.e. the QGF File Format.\n\n**Usage**:\n\n```\nusage: qmk painter-convert-graphics [-h] [-w] [-d] [-r] -f FORMAT [-o OUTPUT] -i INPUT [-v]\n\noptions:\n  -h, --help            show this help message and exit\n  -w, --raw             Writes out the QGF file as raw data instead of c/h combo.\n  -d, --no-deltas       Disables the use of delta frames when encoding animations.\n  -r, --no-rle          Disables the use of RLE when encoding images.\n  -f FORMAT, --format FORMAT\n                        Output format, valid types: rgb888, rgb565, pal256, pal16, pal4, pal2, mono256, mono16, mono4, mono2\n  -o OUTPUT, --output OUTPUT\n                        Specify output directory. Defaults to same directory as input.\n  -i INPUT, --input INPUT\n                        Specify input graphic file.\n  -v, --verbose         Turns on verbose output.\n```\n\nThe `INPUT` argument can be any image file loadable by Python's Pillow module. Common formats include PNG, or Animated GIF.\n\nThe `OUTPUT` argument needs to be a directory, and will default to the same directory as the input argument.\n\nThe `FORMAT` argument can be any of the following:\n\n| Format    | Meaning                                                                                   |\n|-----------|-------------------------------------------------------------------------------------------|\n| `rgb888`  | 16,777,216 colors in 8-8-8 RGB format (requires `QUANTUM_PAINTER_SUPPORTS_NATIVE_COLORS`) |\n| `rgb565`  | 65,536 colors in 5-6-5 RGB format (requires `QUANTUM_PAINTER_SUPPORTS_NATIVE_COLORS`)     |\n| `pal256`  | 256-color palette (requires `QUANTUM_PAINTER_SUPPORTS_256_PALETTE`)                       |\n| `pal16`   | 16-color palette                                                                          |\n| `pal4`    | 4-color palette                                                                           |\n| `pal2`    | 2-color palette                                                                           |\n| `mono256` | 256-shade grayscale (requires `QUANTUM_PAINTER_SUPPORTS_256_PALETTE`)                     |\n| `mono16`  | 16-shade grayscale                                                                        |\n| `mono4`   | 4-shade grayscale                                                                         |\n| `mono2`   | 2-shade grayscale                                                                         |\n\n**Examples**:\n\n```\n$ cd /home/qmk/qmk_firmware/keyboards/my_keeb\n$ qmk painter-convert-graphics -f mono16 -i my_image.gif -o ./generated/\nWriting /home/qmk/qmk_firmware/keyboards/my_keeb/generated/my_image.qgf.h...\nWriting /home/qmk/qmk_firmware/keyboards/my_keeb/generated/my_image.qgf.c...\n```\n\n==== `qmk painter-make-font-image`\n\nThis command converts a TTF font to an intermediate format for editing, before converting to the QFF File Format.\n\n**Usage**:\n\n```\nusage: qmk painter-make-font-image [-h] [-a] [-u UNICODE_GLYPHS] [-n] [-s SIZE] -o OUTPUT -f FONT\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -a, --no-aa           Disable anti-aliasing on fonts.\n  -u UNICODE_GLYPHS, --unicode-glyphs UNICODE_GLYPHS\n                        Also generate the specified unicode glyphs.\n  -n, --no-ascii        Disables output of the full ASCII character set (0x20..0x7E), exporting only the glyphs specified.\n  -s SIZE, --size SIZE  Specify font size. Default 12.\n  -o OUTPUT, --output OUTPUT\n                        Specify output image path.\n  -f FONT, --font FONT  Specify input font file.\n```\n\nThe `FONT` argument is generally a TrueType Font file (TTF).\n\nThe `OUTPUT` argument is the output image to generate, generally something like `my_font.png`.\n\nThe `UNICODE_GLYPHS` argument allows for specifying extra unicode glyphs to generate, and accepts a string.\n\n**Examples**:\n\n```\n$ qmk painter-make-font-image --font NotoSans-ExtraCondensedBold.ttf --size 11 -o noto11.png --unicode-glyphs \"\"\n```\n\n==== `qmk painter-convert-font-image`\n\nThis command converts an intermediate font image to the QFF File Format.\n\nThis command expects an image that conforms to the following format:\n\n['Top-left pixel (at `0,0`) is the \"delimiter\" color:', ['Each glyph in the font starts when a pixel of this color is found on the first row', 'The first row is discarded when converting to the QFF format'], 'The number of delimited glyphs must match the supplied arguments to the command:', ['The full ASCII set `0x20..0x7E` (if `--no-ascii` was not specified)', 'The corresponding number of unicode glyphs if any were specified with `--unicode-glyphs`'], 'The order of the glyphs matches the ASCII set, if any, followed by the Unicode glyph set, if any.']\n\n**Usage**:\n\n```\nusage: qmk painter-convert-font-image [-h] [-w] [-r] -f FORMAT [-u UNICODE_GLYPHS] [-n] [-o OUTPUT] [-i INPUT]\n\noptions:\n  -h, --help            show this help message and exit\n  -w, --raw             Writes out the QFF file as raw data instead of c/h combo.\n  -r, --no-rle          Disable the use of RLE to minimise converted image size.\n  -f FORMAT, --format FORMAT\n                        Output format, valid types: rgb565, pal256, pal16, pal4, pal2, mono256, mono16, mono4, mono2\n  -u UNICODE_GLYPHS, --unicode-glyphs UNICODE_GLYPHS\n                        Also generate the specified unicode glyphs.\n  -n, --no-ascii        Disables output of the full ASCII character set (0x20..0x7E), exporting only the glyphs specified.\n  -o OUTPUT, --output OUTPUT\n                        Specify output directory. Defaults to same directory as input.\n  -i INPUT, --input INPUT\n                        Specify input graphic file.\n```\n\nThe same arguments for `--no-ascii` and `--unicode-glyphs` need to be specified, as per `qmk painter-make-font-image`.\n\n**Examples**:\n\n```\n$ cd /home/qmk/qmk_firmware/keyboards/my_keeb\n$ qmk painter-convert-font-image --input noto11.png -f mono4 --unicode-glyphs \"\"\nWriting /home/qmk/qmk_firmware/keyboards/my_keeb/generated/noto11.qff.h...\nWriting /home/qmk/qmk_firmware/keyboards/my_keeb/generated/noto11.qff.c...\n```\n\n:::::",
        "Quantum Painter Display Drivers {#quantum-painter-drivers}": "::::::tabs\n\n===== LCD\n\nMost TFT display panels use a 5-pin interface -- SPI SCK, SPI MOSI, SPI CS, D/C, and RST pins.\n\nFor these displays, QMK's `spi_master` must already be correctly configured for the platform you're building for.\n\nThe pin assignments for SPI CS, D/C, and RST are specified during device construction.\n\n:::::tabs\n\n==== GC9A01\n\nEnabling support for the GC9A01 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += gc9a01_spi\n```\n\nCreating a GC9A01 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_gc9a01_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_gc9a01_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define GC9A01_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with GC9A01\n\n==== ILI9163\n\nEnabling support for the ILI9163 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += ili9163_spi\n```\n\nCreating a ILI9163 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_ili9163_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_ili9163_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ILI9163_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with ILI9163\n\n==== ILI9341\n\nEnabling support for the ILI9341 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += ili9341_spi\n```\n\nCreating a ILI9341 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_ili9341_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_ili9341_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ILI9341_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with ILI9341\n\n==== ILI9486\n\nEnabling support for the ILI9486 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += ili9486_spi\n```\n\nCreating a ILI9486 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_ili9486_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThere's another variant for this [Waveshare module](https://www.waveshare.com/wiki/3.5inch_TFT_Touch_Shield), because it has a quirky SPI->Parallel converter. You can create it with:\n\n```\npainter_device_t qp_ili9486_make_spi_waveshare_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from these functions can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ILI9486_NUM_DEVICES 3\n```\n\nNative color format rgb888 is compatible with ILI9486\nNative color format rgb565 is compatible with ILI9486 Waveshare\n\n==== ILI9488\n\nEnabling support for the ILI9488 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += ili9488_spi\n```\n\nCreating a ILI9488 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_ili9488_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_ili9488_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ILI9488_NUM_DEVICES 3\n```\n\nNative color format rgb888 is compatible with ILI9488\n\n==== ST7735\n\nEnabling support for the ST7735 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += st7735_spi\n```\n\nCreating a ST7735 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_st7735_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_st7735_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ST7735_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with ST7735\n\n::: warning\nSome ST7735 devices are known to have different drawing offsets -- despite being a 132x162 pixel display controller internally, some display panels are only 80x160, or smaller. These may require an offset to be applied; see `qp_set_viewport_offsets` above for information on how to override the offsets if they aren't correctly rendered.\n:::\n\n==== ST7789\n\nEnabling support for the ST7789 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += st7789_spi\n```\n\nCreating a ST7789 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_st7789_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_st7789_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define ST7789_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with ST7789\n\n::: warning\nSome ST7789 devices are known to have different drawing offsets -- despite being a 240x320 pixel display controller internally, some display panels are only 240x240, or smaller. These may require an offset to be applied; see `qp_set_viewport_offsets` above for information on how to override the offsets if they aren't correctly rendered.\n:::\n\n:::::\n\n===== OLED\n\nOLED displays tend to use 5-pin SPI when at larger resolutions, or when using color -- SPI SCK, SPI MOSI, SPI CS, D/C, and RST pins. Smaller OLEDs may use I2C instead.\n\nWhen using these displays, either `spi_master` or `i2c_master` must already be correctly configured for both the platform and panel you're building for.\n\nFor SPI, the pin assignments for SPI CS, D/C, and RST are specified during device construction -- for I2C the panel's address is specified instead.\n\n:::::tabs\n\n==== SSD1351\n\nEnabling support for the SSD1351 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += ssd1351_spi\n```\n\nCreating a SSD1351 device in firmware can then be done with the following API:\n\n```\npainter_device_t qp_ssd1351_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n```\n\nThe device handle returned from the `qp_ssd1351_make_spi_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 displays:\n#define SSD1351_NUM_DEVICES 3\n```\n\nNative color format rgb565 is compatible with SSD1351\n\n==== SH1106\n\nEnabling support for the SH1106 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\n# For SPI:\nQUANTUM_PAINTER_DRIVERS += sh1106_spi\n# For I2C:\nQUANTUM_PAINTER_DRIVERS += sh1106_i2c\n```\n\nCreating a SH1106 device in firmware can then be done with the following APIs:\n\n```\n// SPI-based SH1106:\npainter_device_t qp_sh1106_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n// I2C-based SH1106:\npainter_device_t qp_sh1106_make_i2c_device(uint16_t panel_width, uint16_t panel_height, uint8_t i2c_address);\n```\n\nThe device handle returned from the `qp_sh1106_make_???_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays of each type can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 SPI displays:\n#define SH1106_NUM_SPI_DEVICES 3\n// 3 I2C displays:\n#define SH1106_NUM_I2C_DEVICES 3\n```\n\nNative color format mono2 is compatible with SH1106\n\n==== SSD1306\n\nSSD1306 and SH1106 are almost entirely identical, to the point of being indisinguishable by Quantum Painter. Enable SH1106 support in Quantum Painter and create SH1106 devices in firmware to perform drawing operations on SSD1306 displays.\n\n==== LD7032\n\nEnabling support for the LD7032 in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\n# For SPI:\nQUANTUM_PAINTER_DRIVERS += ld7032_spi\n# For I2C:\nQUANTUM_PAINTER_DRIVERS += ld7032_i2c\n```\n\nCreating a SH1106 device in firmware can then be done with the following APIs:\n\n```\n// SPI-based LD7032:\npainter_device_t qp_ld7032_make_spi_device(uint16_t panel_width, uint16_t panel_height, pin_t chip_select_pin, pin_t dc_pin, pin_t reset_pin, uint16_t spi_divisor, int spi_mode);\n// I2C-based LD7032:\npainter_device_t qp_ld7032_make_i2c_device(uint16_t panel_width, uint16_t panel_height, uint8_t i2c_address);\n```\n\nThe device handle returned from the `qp_ld7032_make_???_device` function can be used to perform all other drawing operations.\n\nThe maximum number of displays of each type can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 SPI displays:\n#define LD7032_NUM_SPI_DEVICES 3\n// 3 I2C displays:\n#define LD7032_NUM_I2C_DEVICES 3\n```\n\nNative color format mono2 is compatible with LD7032.\n\n:::::\n\n===== Surface\n\nQuantum Painter has a surface driver which is able to target a buffer in RAM. In general, surfaces keep track of the \"dirty\" region -- the area that has been drawn to since the last flush -- so that when transferring to the display they can transfer the minimal amount of data to achieve the end result.\n\n::: warning\nThese generally require significant amounts of RAM, so at large sizes and/or higher bit depths, they may not be usable on all MCUs.\n:::\n\nEnabling support for surfaces in Quantum Painter is done by adding the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS += surface\n```\n\nCreating a surface in firmware can then be done with the following APIs:\n\n```\n// 16bpp RGB565 surface:\npainter_device_t qp_make_rgb565_surface(uint16_t panel_width, uint16_t panel_height, void *buffer);\n// 1bpp monochrome surface:\npainter_device_t qp_make_mono1bpp_surface(uint16_t panel_width, uint16_t panel_height, void *buffer);\n```\n\nThe `buffer` is a user-supplied area of memory, which can be statically allocated using `SURFACE_REQUIRED_BUFFER_BYTE_SIZE`:\n\n```\n// Buffer required for a 240x80 16bpp surface:\nuint8_t framebuffer[SURFACE_REQUIRED_BUFFER_BYTE_SIZE(240, 80, 16)];\n```\n\nThe device handle returned from the `qp_make_?????_surface` function can be used to perform all other drawing operations.\n\nExample:\n\n```\nstatic painter_device_t my_surface;\nstatic uint8_t my_framebuffer[SURFACE_REQUIRED_BUFFER_BYTE_SIZE(240, 80, 16)]; // Allocate a buffer for a 16bpp 240x80 RGB565 display\nvoid keyboard_post_init_kb(void) {\n    my_surface = qp_rgb565_make_surface(240, 80, my_framebuffer);\n    qp_init(my_surface, QP_ROTATION_0);\n    keyboard_post_init_user();\n}\n```\n\nThe maximum number of surfaces can be configured by changing the following in your `config.h` (default is 1):\n\n```\n// 3 surfaces:\n#define SURFACE_NUM_DEVICES 3\n```\n\nTo transfer the contents of the surface to another display of the same pixel format, the following API can be invoked:\n\n```\nbool qp_surface_draw(painter_device_t surface, painter_device_t display, uint16_t x, uint16_t y, bool entire_surface);\n```\n\nThe `surface` is the surface to copy out from. The `display` is the target display to draw into. `x` and `y` are the target location to draw the surface pixel data. Under normal circumstances, the location should be consistent, as the dirty region is calculated with respect to the `x` and `y` coordinates -- changing those will result in partial, overlapping draws. `entire_surface` whether the entire surface should be drawn, instead of just the dirty region.\n\n::: warning\nThe surface and display panel must have the same native pixel format.\n:::\n\n::: tip\nCalling `qp_flush()` on the surface resets its dirty region. Copying the surface contents to the display also automatically resets the dirty region.\n:::\n\n::::::",
        "Quantum Painter Drawing API {#quantum-painter-api}": "All APIs require a `painter_device_t` object as their first parameter -- this object comes from the specific device initialisation, and instructions on creating it can be found in each driver's respective section.\n\nTo use any of the APIs, you need to include `qp.h`:\n\n```\n#include <qp.h>\n```\n\n::::::tabs\n\n===== General Notes\n\nThe coordinate system used in Quantum Painter generally accepts `left`, `top`, `right`, and `bottom` instead of x/y/width/height, and each coordinate is inclusive of where pixels should be drawn. This is required as some datatypes used by display panels have a maximum value of `255` -- for any value or geometry extent that matches `256`, this would be represented as a `0`, instead.\n\n::: tip\nDrawing a horizontal line 8 pixels long, starting from 4 pixels inside the left side of the display, will need `left=4`, `right=11`.\n:::\n\nAll color data matches the standard QMK HSV triplet definitions:\n\n['Hue is of the range `0...255` and is internally mapped to 0...360 degrees.', 'Saturation is of the range `0...255` and is internally mapped to 0...100% saturation.', 'Value is of the range `0...255` and is internally mapped to 0...100% brightness.']\n\n::: tip\nColors used in Quantum Painter are not subject to the RGB lighting CIE curve, if it is enabled.\n:::\n\n===== Device Control\n\n:::::tabs\n\n==== Display Initialisation\n\n```\nbool qp_init(painter_device_t device, painter_rotation_t rotation);\n```\n\nThe `qp_init` function is used to initialise a display device after it has been created. This accepts a rotation parameter (`QP_ROTATION_0`, `QP_ROTATION_90`, `QP_ROTATION_180`, `QP_ROTATION_270`), which makes sure that the orientation of what's drawn on the display is correct.\n\n```\nstatic painter_device_t display;\nvoid keyboard_post_init_kb(void) {\n    display = qp_make_.......;         // Create the display\n    qp_init(display, QP_ROTATION_0);   // Initialise the display\n}\n```\n\n==== Display Power\n\n```\nbool qp_power(painter_device_t device, bool power_on);\n```\n\nThe `qp_power` function instructs the display whether or not the display panel should be on or off.\n\n::: warning\nIf there is a separate backlight controlled through the normal QMK backlight API, this is not controlled by the `qp_power` function and needs to be manually handled elsewhere.\n:::\n\n```\nstatic uint8_t last_backlight = 255;\nvoid suspend_power_down_user(void) {\n    if (last_backlight == 255) {\n        last_backlight = get_backlight_level();\n    }\n    backlight_set(0);\n    rgb_matrix_set_suspend_state(true);\n    qp_power(display, false);\n}\n\nvoid suspend_wakeup_init_user(void) {\n    qp_power(display, true);\n    rgb_matrix_set_suspend_state(false);\n    if (last_backlight != 255) {\n        backlight_set(last_backlight);\n    }\n    last_backlight = 255;\n}\n```\n\n==== Display Clear\n\n```\nbool qp_clear(painter_device_t device);\n```\n\nThe `qp_clear` function clears the display's screen.\n\n==== Display Flush\n\n```\nbool qp_flush(painter_device_t device);\n```\n\nThe `qp_flush` function ensures that all drawing operations are \"pushed\" to the display. This should be done as the last operation whenever a sequence of draws occur, and guarantees that any changes are applied.\n\n::: warning\nSome display panels may seem to work even without a call to `qp_flush` -- this may be because the driver cannot queue drawing operations and needs to display them immediately when invoked. In general, calling `qp_flush` at the end is still considered \"best practice\".\n:::\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw a rect based off the current RGB color\n        qp_rect(display, 0, 7, 0, 239, rgb_matrix_get_hue(), 255, 255);\n        qp_flush(display);\n    }\n}\n```\n\n:::::\n\n===== Drawing Primitives\n\n:::::tabs\n\n==== Set Pixel\n\n```\nbool qp_setpixel(painter_device_t device, uint16_t x, uint16_t y, uint8_t hue, uint8_t sat, uint8_t val);\n```\n\nThe `qp_setpixel` can be used to set a specific pixel on the screen to the supplied color.\n\n::: tip\nUsing `qp_setpixel` for large amounts of drawing operations is inefficient and should be avoided unless they cannot be achieved with other drawing APIs.\n:::\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw a 240px high vertical rainbow line on X=0:\n        for (int i = 0; i < 239; ++i) {\n            qp_setpixel(display, 0, i, i, 255, 255);\n        }\n        qp_flush(display);\n    }\n}\n```\n\n==== Draw Line\n\n```\nbool qp_line(painter_device_t device, uint16_t x0, uint16_t y0, uint16_t x1, uint16_t y1, uint8_t hue, uint8_t sat, uint8_t val);\n```\n\nThe `qp_line` can be used to draw lines on the screen with the supplied color.\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw 8px-wide rainbow down the left side of the display\n        for (int i = 0; i < 239; ++i) {\n            qp_line(display, 0, i, 7, i, i, 255, 255);\n        }\n        qp_flush(display);\n    }\n}\n```\n\n==== Draw Rect\n\n```\nbool qp_rect(painter_device_t device, uint16_t left, uint16_t top, uint16_t right, uint16_t bottom, uint8_t hue, uint8_t sat, uint8_t val, bool filled);\n```\n\nThe `qp_rect` can be used to draw rectangles on the screen with the supplied color, with or without a background fill. If not filled, any pixels inside the rectangle will be left as-is.\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw 8px-wide rainbow filled rectangles down the left side of the display\n        for (int i = 0; i < 239; i+=8) {\n            qp_rect(display, 0, i, 7, i+7, i, 255, 255, true);\n        }\n        qp_flush(display);\n    }\n}\n```\n\n==== Draw Circle\n\n```\nbool qp_circle(painter_device_t device, uint16_t x, uint16_t y, uint16_t radius, uint8_t hue, uint8_t sat, uint8_t val, bool filled);\n```\n\nThe `qp_circle` can be used to draw circles on the screen with the supplied color, with or without a background fill. If not filled, any pixels inside the circle will be left as-is.\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw r=4 filled circles down the left side of the display\n        for (int i = 0; i < 239; i+=8) {\n            qp_circle(display, 4, 4+i, 4, i, 255, 255, true);\n        }\n        qp_flush(display);\n    }\n}\n```\n\n==== Draw Ellipse\n\n```\nbool qp_ellipse(painter_device_t device, uint16_t x, uint16_t y, uint16_t sizex, uint16_t sizey, uint8_t hue, uint8_t sat, uint8_t val, bool filled);\n```\n\nThe `qp_ellipse` can be used to draw ellipses on the screen with the supplied color, with or without a background fill. If not filled, any pixels inside the ellipses will be left as-is.\n\n```\nvoid housekeeping_task_user(void) {\n    static uint32_t last_draw = 0;\n    if (timer_elapsed32(last_draw) > 33) { // Throttle to 30fps\n        last_draw = timer_read32();\n        // Draw 16x8 filled ellipses down the left side of the display\n        for (int i = 0; i < 239; i+=8) {\n            qp_ellipse(display, 8, 4+i, 16, 8, i, 255, 255, true);\n        }\n        qp_flush(display);\n    }\n}\n```\n\n:::::\n\n===== Image Functions\n\nMaking an image available for use requires compiling it into your firmware. To do so, assuming you've created `my_image.qgf.c` and `my_image.qgf.h` as per the CLI examples above, you'd add the following to your `rules.mk`:\n\n```\nSRC += my_image.qgf.c\n```\n\n...and in your `keymap.c`, you'd add to the top of the file:\n\n```\n#include \"my_image.qgf.h\"\n```\n\n:::::tabs\n\n==== Load Image\n\n```\npainter_image_handle_t qp_load_image_mem(const void *buffer);\n```\n\nThe `qp_load_image_mem` function loads a QGF image from memory or flash.\n\n`qp_load_image_mem` returns a handle to the loaded image, which can then be used to draw to the screen using `qp_drawimage`, `qp_drawimage_recolor`, `qp_animate`, or `qp_animate_recolor`. If an image is no longer required, it can be unloaded by calling `qp_close_image` below.\n\nSee the [CLI Commands](quantum_painter#quantum-painter-cli) for instructions on how to convert images to [QGF](quantum_painter_qgf).\n\n::: tip\nThe total number of images available to load at any one time is controlled by the configurable option `QUANTUM_PAINTER_NUM_IMAGES` in the table above. If more images are required, the number should be increased in `config.h`.\n:::\n\nImage information is available through accessing the handle:\n\n| Property    | Accessor             |\n|-------------|----------------------|\n| Width       | `image->width`       |\n| Height      | `image->height`      |\n| Frame Count | `image->frame_count` |\n\n==== Unload Image\n\n```\nbool qp_close_image(painter_image_handle_t image);\n```\n\nThe `qp_close_image` function releases resources related to the loading of the supplied image.\n\n==== Draw image\n\n```\nbool qp_drawimage(painter_device_t device, uint16_t x, uint16_t y, painter_image_handle_t image);\nbool qp_drawimage_recolor(painter_device_t device, uint16_t x, uint16_t y, painter_image_handle_t image, uint8_t hue_fg, uint8_t sat_fg, uint8_t val_fg, uint8_t hue_bg, uint8_t sat_bg, uint8_t val_bg);\n```\n\nThe `qp_drawimage` and `qp_drawimage_recolor` functions draw the supplied image to the screen at the supplied location, with the latter function allowing for monochrome-based images to be recolored.\n\n```\n// Draw an image on the bottom-right of the 240x320 display on initialisation\nstatic painter_image_handle_t my_image;\nvoid keyboard_post_init_kb(void) {\n    my_image = qp_load_image_mem(gfx_my_image);\n    if (my_image != NULL) {\n        qp_drawimage(display, (240 - my_image->width), (320 - my_image->height), my_image);\n    }\n}\n```\n\n==== Animate Image\n\n```\ndeferred_token qp_animate(painter_device_t device, uint16_t x, uint16_t y, painter_image_handle_t image);\ndeferred_token qp_animate_recolor(painter_device_t device, uint16_t x, uint16_t y, painter_image_handle_t image, uint8_t hue_fg, uint8_t sat_fg, uint8_t val_fg, uint8_t hue_bg, uint8_t sat_bg, uint8_t val_bg);\n```\n\nThe `qp_animate` and `qp_animate_recolor` functions draw the supplied image to the screen at the supplied location, with the latter function allowing for monochrome-based animations to be recolored. They also set up internal timing such that each frame is rendered at the correct time as per the animated image.\n\nOnce an image has been set to animate, it will loop indefinitely until stopped, with no user intervention required.\n\nBoth functions return a `deferred_token`, which can then be used to stop the animation, using `qp_stop_animation` below.\n\n```\n// Animate an image on the bottom-right of the 240x320 display on initialisation\nstatic painter_image_handle_t my_image;\nstatic deferred_token my_anim;\nvoid keyboard_post_init_kb(void) {\n    my_image = qp_load_image_mem(gfx_my_image);\n    if (my_image != NULL) {\n        my_anim = qp_animate(display, (240 - my_image->width), (320 - my_image->height), my_image);\n    }\n}\n```\n\n==== Stop Animation\n\n```\nvoid qp_stop_animation(deferred_token anim_token);\n```\n\nThe `qp_stop_animation` function stops the previously-started animation.\n\n```\nvoid housekeeping_task_user(void) {\n    if (some_random_stop_reason) {\n        qp_stop_animation(my_anim);\n    }\n}\n```\n\n:::::\n\n===== Font Functions\n\nMaking a font available for use requires compiling it into your firmware. To do so, assuming you've created `my_font.qff.c` and `my_font.qff.h` as per the CLI examples above, you'd add the following to your `rules.mk`:\n\n```\nSRC += noto11.qff.c\n```\n\n...and in your `keymap.c`, you'd add to the top of the file:\n\n```\n#include \"noto11.qff.h\"\n```\n\n:::::tabs\n\n==== Load Font\n\n```\npainter_font_handle_t qp_load_font_mem(const void *buffer);\n```\n\nThe `qp_load_font_mem` function loads a QFF font from memory or flash.\n\n`qp_load_font_mem` returns a handle to the loaded font, which can then be measured using `qp_textwidth`, or drawn to the screen using `qp_drawtext`, or `qp_drawtext_recolor`. If a font is no longer required, it can be unloaded by calling `qp_close_font` below.\n\nSee the [CLI Commands](quantum_painter#quantum-painter-cli) for instructions on how to convert TTF fonts to [QFF](quantum_painter_qff).\n\n::: tip\nThe total number of fonts available to load at any one time is controlled by the configurable option `QUANTUM_PAINTER_NUM_FONTS` in the table above. If more fonts are required, the number should be increased in `config.h`.\n:::\n\nFont information is available through accessing the handle:\n\n| Property    | Accessor             |\n|-------------|----------------------|\n| Line Height | `image->line_height` |\n\n==== Unload Font\n\n```\nbool qp_close_font(painter_font_handle_t font);\n```\n\nThe `qp_close_font` function releases resources related to the loading of the supplied font.\n\n==== Measure Text\n\n```\nint16_t qp_textwidth(painter_font_handle_t font, const char *str);\n```\n\nThe `qp_textwidth` function allows measurement of how many pixels wide the supplied string would result in, for the given font.\n\n==== Draw Text\n\n```\nint16_t qp_drawtext(painter_device_t device, uint16_t x, uint16_t y, painter_font_handle_t font, const char *str);\nint16_t qp_drawtext_recolor(painter_device_t device, uint16_t x, uint16_t y, painter_font_handle_t font, const char *str, uint8_t hue_fg, uint8_t sat_fg, uint8_t val_fg, uint8_t hue_bg, uint8_t sat_bg, uint8_t val_bg);\n```\n\nThe `qp_drawtext` and `qp_drawtext_recolor` functions draw the supplied string to the screen at the given location using the font supplied, with the latter function allowing for monochrome-based fonts to be recolored.\n\n```\n// Draw a text message on the bottom-right of the 240x320 display on initialisation\nstatic painter_font_handle_t my_font;\nvoid keyboard_post_init_kb(void) {\n    my_font = qp_load_font_mem(font_noto11);\n    if (my_font != NULL) {\n        static const char *text = \"Hello from QMK!\";\n        int16_t width = qp_textwidth(my_font, text);\n        qp_drawtext(display, (240 - width), (320 - my_font->line_height), my_font, text);\n    }\n}\n```\n\n:::::\n\n===== Advanced Functions\n\n:::::tabs\n\n==== Getters\n\nThese functions allow external code to retrieve the current width, height, rotation, and drawing offsets.\n\n::::tabs\n\n=== Width\n\n```\nuint16_t qp_get_width(painter_device_t device);\n```\n\n=== Height\n\n```\nuint16_t qp_get_height(painter_device_t device);\n```\n\n=== Rotation\n\n```\npainter_rotation_t qp_get_rotation(painter_device_t device);\n```\n\n=== Offset X\n\n```\nuint16_t qp_get_offset_x(painter_device_t device);\n```\n\n=== Offset Y\n\n```\nuint16_t qp_get_offset_y(painter_device_t device);\n```\n\n=== Everything\n\nConvenience function to call all the previous ones at once.\nNote: You can pass `NULL` for the values you are not interested in.\n\n```\nvoid qp_get_geometry(painter_device_t device, uint16_t *width, uint16_t *height, painter_rotation_t *rotation, uint16_t *offset_x, uint16_t *offset_y);\n```\n\n::::\n\n==== Set Viewport Offsets\n\n```\nvoid qp_set_viewport_offsets(painter_device_t device, uint16_t offset_x, uint16_t offset_y);\n```\n\nThe `qp_set_viewport_offsets` function can be used to offset all subsequent drawing operations. For example, if a display controller is internally 240x320, but the display panel is 240x240 and has a Y offset of 80 pixels, you could invoke `qp_set_viewport_offsets(display, 0, 80);` and the drawing positioning would be corrected.\n\n==== Set Viewport\n\n```\nbool qp_viewport(painter_device_t device, uint16_t left, uint16_t top, uint16_t right, uint16_t bottom);\n```\n\nThe `qp_viewport` function controls where raw pixel data is written to.\n\n==== Stream Pixel Data\n\n```\nbool qp_pixdata(painter_device_t device, const void *pixel_data, uint32_t native_pixel_count);\n```\n\nThe `qp_pixdata` function allows raw pixel data to be streamed to the display. It requires a native pixel count rather than the number of bytes to transfer, to ensure display panel data alignment is respected. E.g. for display panels using RGB565 internal format, sending 10 pixels will result in 20 bytes of transfer.\n\n::: warning\nUnder normal circumstances, users will not need to manually call either `qp_viewport` or `qp_pixdata`. These allow for writing of raw pixel information, in the display panel's native format, to the area defined by the viewport.\n:::\n\n:::::\n\n::::::"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 89]"
    },
    {
      "title": "Quantum Painter LVGL Integration {#lvgl}",
      "description": null,
      "content": {
        "Enabling LVGL {#lvgl-enabling}": "To enable LVGL to be built into your firmware, add the following to `rules.mk`:\n\n```\nQUANTUM_PAINTER_ENABLE = yes\nQUANTUM_PAINTER_DRIVERS = ......\nQUANTUM_PAINTER_LVGL_INTEGRATION = yes\n```\n\nTo configure the Quantum Painter Display Drivers please read the [Quantum Painter Display Drivers](quantum_painter#quantum-painter-drivers) section.",
        "Quantum Painter LVGL API {#lvgl-api}": {
          "Quantum Painter LVGL Attach {#lvgl-api-init}": "```\nbool qp_lvgl_attach(painter_device_t device);\n```\n\nThe `qp_lvgl_attach` function is used to set up LVGL with the supplied display, and requires an already configured display.\n\n```\nstatic painter_device_t display;\nvoid keyboard_post_init_kb(void) {\n    display = qp_make_.......;         // Create the display\n    qp_init(display, QP_ROTATION_0);   // Initialise the display\n    \n    if (qp_lvgl_attach(display)) {     // Attach LVGL to the display\n        ...Your code to draw           // Run LVGL specific code to draw\n    }\n}\n```\n\nTo init. the display please read the [Display Initialisation](quantum_painter#quantum-painter-api-init) section.\n\n::: warning\nAttaching LVGL to a display means LVGL subsequently \"owns\" the display. Using standard Quantum Painter drawing operations with the display after LVGL attachment will likely result in display artifacts.\n:::",
          "Quantum Painter LVGL Detach {#lvgl-api-detach}": "```\nvoid qp_lvgl_detach(void)\n```\n\nThe `qp_lvgl_detach` function stops the internal LVGL ticks and releases resources related to it."
        },
        "Enabling/Disabling LVGL features {#lvgl-configuring}": "You can overwrite LVGL specific features in your `lv_conf.h` file.",
        "Changing the LVGL task frequency": "When LVGL is running, your keyboard's responsiveness may decrease, causing missing keystrokes or encoder rotations, especially during the animation of dynamically-generated content. This occurs because LVGL operates as a scheduled task with a default task rate of five milliseconds. While a fast task rate is advantageous when LVGL is responsible for detecting and processing inputs, it can lead to excessive recalculations of displayed content, which may slow down QMK's matrix scanning. If you rely on QMK instead of LVGL for processing inputs, it can be beneficial to increase the time between calls to the LVGL task handler to better match your preferred display update rate. To do this, add this to your `config.h`:\n\n```\n#define QP_LVGL_TASK_PERIOD 40\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 90]"
    },
    {
      "title": "QMK Font Format {#qmk-font-format}",
      "description": null,
      "content": {
        "Block Header {#qff-block-header}": "The block header is identical to [QGF's block header](quantum_painter_qgf#qgf-block-header), and is present for all blocks, including the font descriptor.",
        "Font descriptor block {#qff-font-descriptor}": [
          "_typeid_ = 0x00",
          "_length_ = 20"
        ],
        "ASCII glyph table {#qff-ascii-table}": [
          "_typeid_ = 0x01",
          "_length_ = 290"
        ],
        "Unicode glyph table {#qff-unicode-table}": [
          "_typeid_ = 0x02",
          "_length_ = variable"
        ],
        "Font palette block {#qff-palette-descriptor}": [
          "_typeid_ = 0x03",
          "_length_ = variable"
        ],
        "Font data block {#qff-data-descriptor}": [
          "_typeid_ = 0x04",
          "_length_ = variable"
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 91]"
    },
    {
      "title": "QMK Graphics Format {#qmk-graphics-format}",
      "description": null,
      "content": {
        "Block Header {#qgf-block-header}": "This block header is present for all blocks, including the graphics descriptor.\n\n_Block header_ format:\n\n```\ntypedef struct __attribute__((packed)) qgf_block_header_v1_t {\n    uint8_t type_id;      // See each respective block type\n    uint8_t neg_type_id;  // Negated type ID, used for detecting parsing errors\n    uint24_t length;      // 24-bit blob length, allowing for block sizes of a maximum of 16MB\n} qgf_block_header_v1_t;\n// STATIC_ASSERT(sizeof(qgf_block_header_v1_t) == 5, \"qgf_block_header_v1_t must be 5 bytes in v1 of QGF\");\n```\n\nThe _length_ describes the number of octets in the data following the block header -- a block header may specify a _length_ of `0` if no blob is specified.",
        "Graphics descriptor block {#qgf-graphics-descriptor}": [
          "_typeid_ = 0x00",
          "_length_ = 18"
        ],
        "Frame offset block {#qgf-frame-offset-descriptor}": [
          "_typeid_ = 0x01",
          "_length_ = variable"
        ],
        "Frame descriptor block {#qgf-frame-descriptor}": [
          "_typeid_ = 0x02",
          "_length_ = 5"
        ],
        "Frame palette block {#qgf-frame-palette-descriptor}": [
          "_typeid_ = 0x03",
          "_length_ = variable"
        ],
        "Frame delta block {#qgf-frame-delta-descriptor}": [
          "_typeid_ = 0x04",
          "_length_ = 8"
        ],
        "Frame data block {#qgf-frame-data-descriptor}": [
          "_typeid_ = 0x05",
          "_length_ = variable"
        ]
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 92]"
    },
    {
      "title": "Quantum Painter Rle",
      "description": null,
      "content": {
        "QMK QGF/QFF RLE data schema {#qmk-qp-rle-schema}": "There are two \"modes\" to the RLE algorithm used in both [QGF](quantum_painter_qgf)/[QFF](quantum_painter_qff):\n\n['Non-repeating sections of octets, with associated length of up to `128` octets', ['`length` = `marker - 128`', 'A corresponding `length` number of octets follow directly after the marker octet'], 'Repeated octet with associated length, with associated length of up to `128`', ['`length` = `marker`', 'A single octet follows the marker that should be repeated `length` times.']]\n\nDecoder pseudocode:\n\n```\nwhile !EOF\n    marker = READ_OCTET()\n\n    if marker >= 128\n        length = marker - 128\n        for i = 0 ... length-1\n            c = READ_OCTET()\n            WRITE_OCTET(c)\n\n    else\n        length = marker\n        c = READ_OCTET()\n        for i = 0 ... length-1\n            WRITE_OCTET(c)\n\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 93]"
    },
    {
      "title": "List of Useful Core Functions To Make Your Keyboard Better",
      "description": null,
      "content": {
        "(OLKB) Tri Layers {#olkb-tri-layers}": {
          "`update_tri_layer(x, y, z)`": {
            "Example": "```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case LOWER:\n      if (record->event.pressed) {\n        layer_on(_LOWER);\n        update_tri_layer(_LOWER, _RAISE, _ADJUST);\n      } else {\n        layer_off(_LOWER);\n        update_tri_layer(_LOWER, _RAISE, _ADJUST);\n      }\n      return false;\n    case RAISE:\n      if (record->event.pressed) {\n        layer_on(_RAISE);\n        update_tri_layer(_LOWER, _RAISE, _ADJUST);\n      } else {\n        layer_off(_RAISE);\n        update_tri_layer(_LOWER, _RAISE, _ADJUST);\n      }\n      return false;\n    }\n  return true;\n}\n```"
          },
          "`update_tri_layer_state(state, x, y, z)`": {
            "Example": "```\nlayer_state_t layer_state_set_user(layer_state_t state) {\n  return update_tri_layer_state(state, _LOWER, _RAISE, _ADJUST);\n}\n```\n\nAlternatively, you don't have to immediately \"return\" the value.  This is useful if you want to add multiple tri layers, or if you want to add additional effects.\n\n```\nlayer_state_t layer_state_set_user(layer_state_t state) {\n  state = update_tri_layer_state(state, _LOWER, _RAISE, _ADJUST);\n  state = update_tri_layer_state(state, _RAISE, _SYMB, _SPECIAL);\n  return state;\n}\n```"
          }
        },
        "Setting the Persistent Default Layer": "Do you want to set the default layer, so that it's retained even after you unplug the board?  If so, this is the function for you.\n\nTo do this, you would use `set_single_persistent_default_layer(layer)`.  If you have a name defined for your layer, you can use that instead (such as _QWERTY, _DVORAK or _COLEMAK).\n\nThis will set the default layer, update the persistent settings, and play a tune if you have [Audio](features/audio) enabled on your board, and the default layer sounds set.\n\nTo configure the default layer sounds, you would want to define this in your `config.h` file, like this:\n\n```\n#define DEFAULT_LAYER_SONGS { SONG(QWERTY_SOUND), \\\n                              SONG(COLEMAK_SOUND), \\\n                              SONG(DVORAK_SOUND) \\\n                            }\n```\n\nIf you do not require it to be retained after you unplug the board, use `set_single_default_layer(layer)` instead.\n\n::: tip\nThere are a large number of predefined songs in [quantum/audio/song_list.h](https://github.com/qmk/qmk_firmware/blob/master/quantum/audio/song_list.h) that you can use.\n:::",
        "Resetting the keyboard": "There is the `QK_REBOOT` or `QK_RBT` quantum keycode that you can use. But if you want to reset the board as part of a macro, rather than hitting a key separately, you can do that.\n\nAnd to do so, add `soft_reset_keyboard()` to your function or macro.",
        "Reset to bootloader": "To reset to the bootloader use `QK_BOOTLOADER` or `QK_BOOT` keycode or `reset_keyboard()` function.",
        "Wiping the EEPROM (Persistent Storage)": "If you're having issues with Audio, RGB Underglow, backlighting or keys acting weird, then you can reset the EEPROM (persistent setting storage). To force an EEPROM reset, use the [`EE_CLR` keycode](quantum_keycodes) or [Bootmagic](features/bootmagic) functionality. If neither of those are an option, then you can use a custom macro to do so.\n\nTo wipe the EEPROM, run `eeconfig_init()` from your function or macro to reset most of the settings to default.",
        "Tap random key": "If you want to send a random character to the host computer, you can use the `tap_random_base64()` function. This [pseudorandomly](https://en.wikipedia.org/wiki/Pseudorandom_number_generator) selects a number between 0 and 63, and then sends a key press based on that selection. (025 is `A``Z`, 2651 is `a``z`, 5261 is `0``9`, 62 is `+` and 63 is `/`).\n\n::: tip\nNeedless to say, but this is _not_ a cryptographically secure method of generating random Base64 keys or passwords.\n:::",
        "Software Timers": "It's possible to start timers and read values for time-specific events. Here's an example:\n\n```\nstatic uint16_t key_timer;\nkey_timer = timer_read();\n\nif (timer_elapsed(key_timer) < 100) {\n  // do something if less than 100ms have passed\n} else {\n  // do something if 100ms or more have passed\n}\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 94]"
    },
    {
      "title": "Supporting Your Keyboard in QMK Configurator",
      "description": null,
      "content": {
        "How the Configurator Understands Keyboards": "To understand how the Configurator understands keyboards, first one must understand layout macros. For this exercise, we're going to imagine a 17-key numpad PCB, which we're going to call `numpad`.\n\n```\n|---------------|\n|NLk| / | * | - |\n|---+---+---+---|\n|7  |8  |9  | + |\n|---+---+---|   |\n|4  |5  |6  |   |\n|---+---+---+---|\n|1  |2  |3  |Ent|\n|-------+---|   |\n|0      | . |   |\n|---------------|\n```\n\n::: tip\nFor more on layout macros, see [Understanding QMK: Matrix Scanning](understanding_qmk#matrix-scanning) and [Understanding QMK: Matrix to Physical Layout Map](understanding_qmk#matrix-to-physical-layout-map).\n:::\n\nThe Configurator's API reads the keyboard's `.h` file from `qmk_firmware/keyboards/<keyboard>/<keyboard>.h`. For our numpad, this file would be `qmk_firmware/keyboards/numpad/numpad.h`:\n\n```\n#pragma once\n\n#define LAYOUT( \\\n    k00, k01, k02, k03, \\\n    k10, k11, k12, k13, \\\n    k20, k21, k22,      \\\n    k30, k31, k32, k33, \\\n    k40,      k42       \\\n  ) { \\\n    { k00, k01,   k02, k03   }, \\\n    { k10, k11,   k12, k13   }, \\\n    { k20, k21,   k22, KC_NO }, \\\n    { k30, k31,   k32, k33   }, \\\n    { k40, KC_NO, k42, KC_NO }  \\\n}\n```\n\nQMK uses `KC_NO` to designate places in the switch matrix where there is no switch. Sometimes, `XXX`, `___` or `____` are used as shorthand to make this section easier to read if it needs to be debugged. This is usually defined near the beginning of the `.h` file:\n\n```\n#pragma once\n\n#define XXX KC_NO\n\n#define LAYOUT( \\\n    k00, k01, k02, k03, \\\n    k10, k11, k12, k13, \\\n    k20, k21, k22,      \\\n    k30, k31, k32, k33, \\\n    k40,      k42       \\\n  ) { \\\n    { k00, k01, k02, k03 }, \\\n    { k10, k11, k12, k13 }, \\\n    { k20, k21, k22, XXX }, \\\n    { k30, k31, k32, k33 }, \\\n    { k40, XXX, k42, XXX }  \\\n}\n```\n\n::: warning\nThis usage differs from that of keymap macros, which almost always use `XXXXXXX` (seven capital X's) for `KC_NO` and `_______` (seven underscores) for `KC_TRNS`.\n:::\n\n::: warning\nTo prevent user confusion, using `KC_NO` is preferred.\n:::\n\nThe layout macro tells the Configurator that our keyboard has 17 keys, arranged in five rows of four columns each. Our switch positions are named `k<row><column>`, counting from 0. The names themselves actually don't matter, as long as they match between the top section, which receives the keycodes from the keymap, and the bottom half which designates where each key is in the matrix.\n\nTo display our keyboard in a way that resembles the physical keyboard, we need to build a JSON file that tells the Configurator how to tie the physical locations and sizes of our keys to our switch matrix.",
        "Building the JSON file": "To build the JSON file, the easiest way is to build the layout in [Keyboard Layout Editor](https://www.keyboard-layout-editor.com/) (\"KLE\"), from which we'll feed the Raw Data into a QMK tool that converts this data into a JSON the Configurator will read and use. Since KLE opens by default with a numpad layout, we're just going to remove the Getting Started instructions, and use what's left.\n\nOnce the layout is as desired, move to the Raw Data tab in KLE, and copy the contents:\n\n```\n[\"Num Lock\",\"/\",\"*\",\"-\"],\n[\"7\\nHome\",\"8\\n\",\"9\\nPgUp\",{h:2},\"+\"],\n[\"4\\n\",\"5\",\"6\\n\"],\n[\"1\\nEnd\",\"2\\n\",\"3\\nPgDn\",{h:2},\"Enter\"],\n[{w:2},\"0\\nIns\",\".\\nDel\"]\n```\n\nTo convert this data into our JSON, go to the [QMK KLE-JSON Converter](https://qmk.fm/converter/), paste the Raw Data into the Input field, and click the Convert button. After a moment, our JSON data will appear in the Output field. Copy the contents to a new text document, and name the document `info.json`, saving it in the same folder that contains `numpad.h`.\n\nUse the `keyboard_name` object to set the name of the keyboard. For instruction purposes, we will put each key's object on its own line. This is only to make the file more human-readable, and does not affect the Configurator's functionality.\n\n```\n{\n    \"keyboard_name\": \"Numpad\",\n    \"url\": \"\",\n    \"maintainer\": \"qmk\",\n    \"tags\": {\n        \"form_factor\": \"numpad\"\n    },\n    \"layouts\": {\n        \"LAYOUT\": {\n            \"layout\": [\n                {\"label\":\"Num Lock\", \"x\":0, \"y\":0},\n                {\"label\":\"/\", \"x\":1, \"y\":0},\n                {\"label\":\"*\", \"x\":2, \"y\":0},\n                {\"label\":\"-\", \"x\":3, \"y\":0},\n                {\"label\":\"7\", \"x\":0, \"y\":1},\n                {\"label\":\"8\", \"x\":1, \"y\":1},\n                {\"label\":\"9\", \"x\":2, \"y\":1},\n                {\"label\":\"+\", \"x\":3, \"y\":1, \"h\":2},\n                {\"label\":\"4\", \"x\":0, \"y\":2},\n                {\"label\":\"5\", \"x\":1, \"y\":2},\n                {\"label\":\"6\", \"x\":2, \"y\":2},\n                {\"label\":\"1\", \"x\":0, \"y\":3},\n                {\"label\":\"2\", \"x\":1, \"y\":3},\n                {\"label\":\"3\", \"x\":2, \"y\":3},\n                {\"label\":\"Enter\", \"x\":3, \"y\":3, \"h\":2},\n                {\"label\":\"0\", \"x\":0, \"y\":4, \"w\":2},\n                {\"label\":\".\", \"x\":2, \"y\":4}\n            ]\n        }\n    }\n}\n```\n\nThe `layouts` object contains the data that represents the physical layout of the keyboard. It has an object `LAYOUT`, which needs to match the name of our layout macro from `numpad.h`. The `LAYOUT` object itself has an object named `layout`, which contains one JSON object for each physical key on our keyboard, formatted as follows:\n\n```\n  The name of the key. Not displayed in the Configurator.\n  |\n  |                   The key's X-axis location, in key units from the\n  |                   | keyboard's left edge.\n  |                   |\n  |                   |      The key's Y-axis location, in key units from\n  |                   |      | the keyboard's top (rear-facing) edge.\n                           \n{\"label\":\"Num Lock\", \"x\":0, \"y\":0},\n```\n\nSome objects will also have `\"w\"` and `\"h\"` keys, which represent a key's width and height, respectively.\n\n::: tip\nFor more on the `info.json` files, see [`info.json` Format](reference_info_json).\n:::",
        "How the Configurator Programs Keys": "The Configurator's API uses the layout macro and the JSON file we've given it to create a visual representation of the keyboard that has each visual object tied to a specific key, in sequence:\n\n| Key in layout macro | JSON object used                         |\n| ------------------- | ---------------------------------------- |\n| k00                 | `{\"label\":\"Num Lock\", \"x\":0, \"y\":0}`     |\n| k01                 | `{\"label\":\"/\", \"x\":1, \"y\":0}`            |\n| k02                 | `{\"label\":\"*\", \"x\":2, \"y\":0}`            |\n| k03                 | `{\"label\":\"-\", \"x\":3, \"y\":0}`            |\n| k10                 | `{\"label\":\"7\", \"x\":0, \"y\":1}`            |\n| k11                 | `{\"label\":\"8\", \"x\":1, \"y\":1}`            |\n| k12                 | `{\"label\":\"9\", \"x\":2, \"y\":1}`            |\n| k13                 | `{\"label\":\"+\", \"x\":3, \"y\":1, \"h\":2}`     |\n| k20                 | `{\"label\":\"4\", \"x\":0, \"y\":2}`            |\n| k21                 | `{\"label\":\"5\", \"x\":1, \"y\":2}`            |\n| k22                 | `{\"label\":\"6\", \"x\":2, \"y\":2}`            |\n| k30                 | `{\"label\":\"1\", \"x\":0, \"y\":3}`            |\n| k31                 | `{\"label\":\"2\", \"x\":1, \"y\":3}`            |\n| k32                 | `{\"label\":\"3\", \"x\":2, \"y\":3}`            |\n| k33                 | `{\"label\":\"Enter\", \"x\":3, \"y\":3, \"h\":2}` |\n| k40                 | `{\"label\":\"0\", \"x\":0, \"y\":4, \"w\":2}`     |\n| k42                 | `{\"label\":\".\", \"x\":2, \"y\":4}`            |\n\nWhen a user selects the top-left key in the Configurator, and assigns Num Lock to it, the Configurator builds a keymap file with `KC_NUM` as the first key, and so on as the keymap is built. The `label` keys are not used; they are only for the user's reference in identifying specific keys when debugging the `info.json` file.",
        "Issues and Hazards": {
          "Workarounds": {
            "Non-rectangular keys": "For ISO Enter keys, QMK custom is to display it as a rectangular key, 1.25u wide and 2u high, aligned so its right edge is aligned with the right edge of the alphanumeric key block.\n\n![](https://i.imgur.com/JKngtTw.png)  \n*A 60% keyboard in standard ISO layout, as rendered by QMK Configurator.*",
            "Vertically-offset keys": "For vertically-offset keys, place them in KLE as if they were not offset, then edit the Y-values as needed in the converted JSON file\n\n![](https://i.imgur.com/fmDvDzR.png)  \n*An 1800-layout keyboard as rendered in Keyboard Layout Editor, without the vertical offset applied to the arrow keys.*\n\n![](https://i.imgur.com/8beYMBR.png)  \n*A Unix diff file, showing the changes needed to vertically-offset the arrow keys in our keyboard's JSON file.*"
          }
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 95]"
    },
    {
      "title": "Glossary of QMK Terms",
      "description": null,
      "content": {
        "ARM": "A line of 32-bit MCUs produced by a number of companies, such as Atmel, Cypress, Kinetis, NXP, ST, and TI.",
        "AVR": "A line of 8-bit MCUs produced by [Atmel](https://www.microchip.com/). AVR was the original platform that TMK supported.",
        "AZERTY": "The standard Franais (French) keyboard layout. Named for the first 6 keys on the keyboard.",
        "Backlight": "A generic term for lighting on a keyboard. The backlight is typically, but not always, an array of LEDs that shine through keycaps and/or switches.",
        "Bluetooth": "A short range peer to peer wireless protocol. Most common wireless protocol for a keyboard.",
        "Bootloader": "A special program that is written to a protected area of your MCU that allows the MCU to upgrade its own firmware, typically over USB.",
        "Bootmagic": "A feature that allows for various keyboard behavior changes to happen on the fly, such as swapping or disabling common keys.",
        "C": "A low-level programming language suitable for system code. Most QMK code is written in C.",
        "Colemak": "An alternative keyboard layout that is gaining in popularity.",
        "Compile": "The process of turning human readable code into machine code your MCU can run.",
        "Dvorak": "An alternative keyboard layout developed by Dr. August Dvorak in the 1930's. A shortened form of the Dvorak Simplified Keyboard.",
        "Dynamic Macro": "A macro which has been recorded on the keyboard and which will be lost when the keyboard is unplugged or the computer rebooted.\n\n['[Dynamic Macro Documentation](features/dynamic_macros)']",
        "Eclipse": "An IDE that is popular with many C developers.\n\n['[Eclipse Setup Instructions](other_eclipse)']",
        "Firmware": "The software that controls your MCU.",
        "git": "Versioning software used at the command line",
        "GitHub": "The website that hosts most of the QMK project. It provides integration with git, issue tracking, and other features that help us run QMK.",
        "ISP": "In-system programming, a method of programming an AVR chip using external hardware and the JTAG pins.",
        "hid_listen": "An interface for receiving debugging messages from your keyboard. You can view these messages using [QMK Flasher](https://github.com/qmk/qmk_flasher) or [PJRC's hid_listen](https://www.pjrc.com/teensy/hid_listen.html)",
        "Keycode": "A 2-byte number that represents a particular key. `0x00`-`0xFF` are used for [Basic Keycodes](keycodes_basic) while `0x100`-`0xFFFF` are used for [Quantum Keycodes](quantum_keycodes).",
        "Key Down": "An event that happens when a key is pressed down, but is completed before a key is released.",
        "Key Up": "An event that happens when a key is released.",
        "Keymap": "An array of keycodes mapped to a physical keyboard layout, which are processed on key presses and releases",
        "Layer": "An abstraction used to allow a key to serve multiple purposes. The highest active layer takes precedence.",
        "Leader Key": "A feature that allows you to tap the leader key followed by a sequence of 1, 2, or 3 keys to activate key presses or other quantum features.\n\n['[Leader Key Documentation](features/leader_key)']",
        "LED": "Light Emitting Diode, the most common device used for indicators on a keyboard.",
        "Make": "Software package that is used to compile all the source files. You run `make` with various options to compile your keyboard firmware.",
        "Matrix": "A wiring pattern of columns and rows that enables the MCU to detect keypresses with a fewer number of pins. The matrix often incorporates diodes to allow for NKRO.",
        "Macro": "A feature that lets you send multiple keypress events (hid reports) after having pressed only a single key.\n\n['[Macro Documentation](feature_macros)']",
        "MCU": "Microcontrol Unit, the processor that powers your keyboard.",
        "Modifier": "A key that is held down while typing another key to modify the action of that key. Examples include Ctrl, Alt, and Shift.",
        "Mousekeys": "A feature that lets you control your mouse cursor and click from your keyboard.\n\n['[Mousekeys Documentation](features/mouse_keys)']",
        "N-Key Rollover (NKRO)": "A term that applies to keyboards that are capable of reporting any number of key-presses at once.",
        "Oneshot Modifier": "A modifier that acts as if it is held down until another key is released, so you can press the mod and then press the key, rather than holding the mod while pressing the key. Also known as a Sticky key or a Dead key.",
        "ProMicro": "A low cost AVR development board. Clones of this device are often found on ebay very inexpensively (under $5) but people often struggle with flashing their pro micros.",
        "Pull Request": "A request to submit code to QMK. We encourage all users to submit Pull Requests for bugfixes and new features.",
        "QWERTY": "The standard English keyboard layout, and often a shortcut for other language's standard layouts. Named for the first 6 letters on the keyboard.",
        "QWERTZ": "The standard Deutsche (German) keyboard layout. Named for the first 6 letters on the keyboard.",
        "Rollover": "The term for pressing a key while a key is already held down. Variants include 2KRO, 6KRO, and NKRO.",
        "Scancode": "A 1 byte number that is sent as part of a HID report over USB that represents a single key. These numbers are documented in the [HID Usage Tables](https://www.usb.org/sites/default/files/documents/hut1_12v2.pdf) published by the [USB-IF](https://www.usb.org/).",
        "Space Cadet Shift": "A special set of shift keys which allow you to type various types of braces by tapping the left or right shift one or more times.\n\n['[Space Cadet Shift Documentation](features/space_cadet)']",
        "Tap": "Pressing and releasing a key. In some situations you will need to distinguish between a key down and a key up event, and Tap always refers to both at once.",
        "Tap Dance": "A feature that lets you assign multiple keycodes to the same key based on how many times you press it.\n\n['[Tap Dance Documentation](features/tap_dance)']",
        "Teensy": "A low-cost AVR development board that is commonly used for hand-wired builds. A teensy is often chosen despite costing a few dollars more due to its halfkay bootloader, which makes flashing very simple.",
        "Underlight": "A generic term for LEDs that light the underside of the board. These LEDs typically shine away from the bottom of the PCB and towards the surface the keyboard rests on.",
        "Unicode": "In the larger computer world Unicode is a set of encoding schemes for representing characters in any language. As it relates to QMK it means using various OS schemes to send unicode codepoints instead of scancodes.\n\n['[Unicode Documentation](features/unicode)']",
        "Unit Testing": "A framework for running automated tests against QMK. Unit testing helps us be confident that our changes do not break anything.\n\n['[Unit Testing Documentation](unit_testing)']",
        "USB": "Universal Serial Bus, the most common wired interface for a keyboard.",
        "USB Host (or simply Host)": "The USB Host is your computer, or whatever device your keyboard is plugged into."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 96]"
    },
    {
      "title": "`info.json` Reference {#info-json-reference}",
      "description": null,
      "content": {
        "General Metadata {#general-metadata}": [
          "`keyboard_name` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
          [
            "A free-form text string describing the keyboard. This will be used as the USB product string. Can include Unicode characters, escaped to ASCII eg. `\\u03A8` ().",
            "Example: `\"Clueboard 66%\"`"
          ],
          "`maintainer` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
          [
            "GitHub username of the maintainer, or `qmk` for community maintained boards.",
            "Example: `\"skullydazed\"`"
          ],
          "`manufacturer` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
          [
            "A free-form text string describing the keyboard's manufacturer. This will be used as the USB manufacturer string. Can include Unicode characters, escaped to ASCII eg. `\\u03A8` ().",
            "Example: `\"Clueboard\"`"
          ],
          "`url` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
          [
            "A URL to the keyboard's product page, [QMK Keyboards](https://browse.qmk.fm/) page, or other page describing information about the keyboard.",
            "Example: `\"https://clueboard.co\"`"
          ],
          "`bootloader_instructions` <Badge type=\"info\">String</Badge>",
          [
            "Instructions for putting the keyboard into a mode that allows for firmware flashing.",
            "Example: `\"Press the button marked RESET on the back of the PCB\"`"
          ],
          "`tags` <Badge type=\"info\">Array: String</Badge>",
          [
            "A list of tags describing the keyboard.",
            "Example: `[\"ortho\", \"split\", \"rgb\"]`"
          ]
        ],
        "Hardware Configuration {#hardware-configuration}": [
          "`board` <Badge type=\"info\">String</Badge>",
          [
            "Override the default ChibiOS board name (ARM-based keyboards only).",
            "Example: `\"BLACKPILL_STM32_F411\"`"
          ],
          "`bootloader` <Badge type=\"info\">String</Badge>",
          [
            "The bootloader in use on the keyboard. Required if `development_board` is not specified."
          ],
          "`development_board` <Badge type=\"info\">String</Badge>",
          [
            "The microcontroller development board, if applicable.",
            "Example: `\"promicro\"`"
          ],
          "`pin_compatible` <Badge type=\"info\">String</Badge>",
          [
            "The form factor of the development board, if applicable. Must be one of `elite_c`, `promicro`."
          ],
          "`processor` <Badge type=\"info\">String</Badge>",
          [
            "The microcontroller in use on the keyboard. Required if `development_board` is not specified."
          ]
        ],
        "Firmware Configuration {#firmware-configuration}": [
          "`build`",
          [
            "`debounce_type`<Badge type=\"info\">String</Badge>",
            [
              "The debounce algorithm to use. Must be one of `asym_eager_defer_pk`, `custom`, `sym_defer_g`, `sym_defer_pk`, `sym_defer_pr`, `sym_eager_pk`, `sym_eager_pr`."
            ],
            "`firmware_format`<Badge type=\"info\">String</Badge>",
            [
              "The format of the final output binary. Must be one of `bin`, `hex`, `uf2`."
            ],
            "`lto`<Badge type=\"info\">Boolean</Badge>",
            [
              "Enable Link-Time Optimization.",
              "Default: `false`"
            ]
          ],
          "`features`<Badge type=\"info\">Object: Boolean</Badge>",
          [
            "A dictionary of features to enable or disable.",
            "Example:"
          ],
          "```\n{\n    \"rgb_matrix\": true,\n    \"rgblight\": false\n}\n```",
          "`qmk`",
          [
            "`locking`",
            [
              "`enabled` <Badge type=\"info\">Boolean</Badge>",
              [
                "Enable locking switch support.",
                "Default: `false`"
              ],
              "`resync` <Badge type=\"info\">Boolean</Badge>",
              [
                "Keep switch state consistent with keyboard LED state.",
                "Default: `false`"
              ]
            ],
            "`tap_capslock_delay` <Badge type=\"info\">Number</Badge>",
            [
              "The delay between keydown and keyup for Caps Lock tap events in milliseconds.",
              "Default: `80` (80 ms)"
            ],
            "`tap_keycode_delay` <Badge type=\"info\">Number</Badge>",
            [
              "The delay between keydown and keyup for tap events in milliseconds.",
              "Default: `0` (no delay)"
            ]
          ],
          "`tapping`",
          [
            "`chordal_hold` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`hold_on_other_key_press` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`hold_on_other_key_press_per_key` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`permissive_hold` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`permissive_hold_per_key` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`retro` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`retro_per_key` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`term` <Badge type=\"info\">Number</Badge>",
            [
              "Default: `200` (200 ms)"
            ],
            "`term_per_key` <Badge type=\"info\">Boolean</Badge>",
            [
              "Default: `false`"
            ],
            "`toggle` <Badge type=\"info\">Number</Badge>",
            [
              "Default: `5`"
            ]
          ]
        ],
        "APA102 {#apa102}": "Configures the [APA102](drivers/apa102) driver.\n\n['`apa102`', ['`clock_pin` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>', ['The GPIO pin connected to `CI` on the first LED in the chain.'], '`data_pin` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>', ['The GPIO pin connected to `DI` on the first LED in the chain.'], '`default_brightness` <Badge type=\"info\">Number</Badge>', ['The initial global brightness level (independent of the RGB data), from 0 to 31.', 'Default: `31`']]]",
        "Audio {#audio}": "Configures the [Audio](features/audio) feature.\n\n['`audio`', ['`default`', ['`on` <Badge type=\"info\">Boolean</Badge>', ['The default audio enabled state.', 'Default: `true`'], '`clicky` <Badge type=\"info\">Boolean</Badge>', ['The default audio clicky enabled state.', 'Default: `true`']], '`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `dac_additive`, `dac_basic`, `pwm_software`, `pwm_hardware`.'], '`macro_beep` <Badge type=\"info\">Boolean</Badge>', ['Play a short beep for `\\\\a` (ASCII `BEL`) characters in Send String macros.', 'Default: `false`'], '`pins` <Badge type=\"info\">Array: Pin</Badge> <Badge>Required</Badge>', ['The GPIO pin(s) connected to the speaker(s).'], '`power_control`', ['`on_state` <Badge type=\"info\">0|1</Badge>', ['The logical GPIO state required to turn the speaker on.', 'Default: `1` (on = high)'], '`pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to speaker power circuit.']], '`voices` <Badge type=\"info\">Boolean</Badge>', ['Use multiple audio voices.', 'Default: `false`']]]",
        "Backlight {#backlight}": "Configures the [Backlight](features/backlight) feature.\n\n['`backlight`', ['`as_caps_lock` <Badge type=\"info\">Boolean</Badge>', ['Use the backlight as a Caps Lock indicator.', 'Default: `false`'], '`breathing` <Badge type=\"info\">Boolean</Badge>', ['Whether backlight breathing is enabled.', 'Default: `false`'], '`breathing_period` <Badge type=\"info\">Number</Badge>', ['The length of one backlight breathing cycle in seconds.', 'Default: `6` (6 seconds)'], '`default`', ['`on` <Badge type=\"info\">Boolean</Badge>', ['The default backlight enabled state.', 'Default: `true`'], '`breathing` <Badge type=\"info\">Boolean</Badge>', ['The default backlight breathing state.', 'Default: `false`'], '`brightness` <Badge type=\"info\">Number</Badge>', ['The default brightness level.', 'Default: `max_brightness`']], '`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `custom`, `pwm`, `software`, `timer`.', 'Default: `\"pwm\"`'], '`levels` <Badge type=\"info\">Number</Badge>', ['The number of brightness levels (excluding off), from 1 to 31.', 'Default: `3`'], '`max_brightness` <Badge type=\"info\">Number</Badge>', ['The maximum PWM value which brightness is scaled to, from 0 to 255.', 'Default: `255`'], '`on_state` <Badge type=\"info\">0|1</Badge>', ['The logical GPIO state required to turn the LEDs on.', 'Default: `1` (on = high)'], '`pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the backlight circuit.'], '`pins` <Badge type=\"info\">Array: Pin</Badge>', ['A list of GPIO pins connected to the backlight LEDs (`software` and `timer` drivers only).']]]",
        "Wireless/Bluetooth {#bluetooth}": "Configures the [Wireless](features/wireless) feature.\n\n['`bluetooth`', ['`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `custom`, `bluefruit_le`, `rn42`.']]]",
        "Bootmagic {#bootmagic}": "Configures the [Bootmagic](features/bootmagic) feature.\n\n['`bootmagic`', ['`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enables the Bootmagic feature.', 'Default: `false`'], '`matrix` <Badge type=\"info\">Matrix</Badge>', ['The matrix position of the key to check during startup. This should generally be set to the (physically) top left key.', 'Default: `[0, 0]`']]]",
        "Caps Word {#caps-word}": "Configures the [Caps Word](features/caps_word) feature.\n\n['`caps_word`', ['`both_shifts_turns_on` <Badge type=\"info\">Boolean</Badge>', ['Activate Caps Word by pressing both Shift keys.', 'Default: `false`'], '`double_tap_shift_turns_on` <Badge type=\"info\">Boolean</Badge>', ['Activate Caps Word by pressing Left Shift twice.', 'Default: `false`'], '`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enables the Caps Word feature.', 'Default: `false`'], '`idle_timeout` <Badge type=\"info\">Number</Badge>', ['The amount of time before Caps Word automatically deactivates in milliseconds.', 'Default: `5000` (5 seconds)'], '`invert_on_shift` <Badge type=\"info\">Boolean</Badge>', ['Invert shift state instead of deactivating Caps Word when Shift is pressed.', 'Default: `false`']]]",
        "Combo {#combo}": "Configures the [Combo](features/combo) feature.\n\n['`combo`', ['`term` <Badge type=\"info\">Number</Badge>', ['The amount of time to recognize a combo in milliseconds.', 'Default: `50` (50 ms)']]]",
        "DIP Switches {#dip-switch}": "Configures the [DIP Switches](features/dip_switch) feature.\n\n['`dip_switch`', ['`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the DIP Switches feature.', 'Default: `false`'], '`pins` <Badge type=\"info\">Array: Pin</Badge>', ['A list of GPIO pins connected to the MCU.'], '`matrix_grid` <Badge type=\"info\">Array: Matrix</Badge>', ['A list of matrix locations in the key matrix.', 'Example: `[ [0,6], [1,6], [2,6] ]`']]]",
        "EEPROM {#eeprom}": "Configures the [EEPROM](drivers/eeprom) driver.\n\n['`eeprom`', ['`driver` <Badge type=\"info\">String</Badge>', ['The EEPROM backend to use. Must be one of `custom`, `i2c`, `legacy_stm32_flash`, `spi`, `transient`, `vendor`, `wear_leveling`.', 'Default: `\"vendor\"`'], '`wear_leveling`', ['`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `embedded_flash`, `legacy`, `rp2040_flash`, `spi_flash`, `custom`.'], '`backing_size` <Badge type=\"info\">Number</Badge>', ['Number of bytes used by the wear-leveling algorithm for its underlying storage, and needs to be a multiple of the logical size.'], '`logical_size` <Badge type=\"info\">Number</Badge>', ['Number of bytes exposed to the rest of QMK and denotes the size of the usable EEPROM.']]]]",
        "Encoder {#encoder}": "Configures the [Encoder](features/encoders) feature.\n\n['`encoder`', ['`rotary` <Badge type=\"info\">Array: Object</Badge>', ['A list of encoder objects.', ['`pin_a` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>', [\"The GPIO pin connected to the encoder's `A` pin.\"], '`pin_b` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>', [\"The GPIO pin connected to the encoder's `B` pin.\"], '`resolution` <Badge type=\"info\">Number</Badge>', ['The number of edge transitions on both pins required to register an input.', 'Default: `4`']]]]]",
        "Host {#host}": [
          "`host`",
          [
            "`default`",
            [
              "`nkro` <Badge type=\"info\">Boolean</Badge>",
              [
                "The default nkro state.",
                "Default: `false`"
              ]
            ]
          ]
        ],
        "Indicators {#indicators}": "Configures the [LED Indicators](features/led_indicators) feature.\n\n['`indicators`', ['`caps_lock` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the Caps Lock LED.'], '`compose` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the Compose LED.'], '`kana` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the Kana LED.'], '`num_lock` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the Num Lock LED.'], '`on_state` <Badge type=\"info\">0|1</Badge>', ['The logical GPIO state required to turn the LEDs on.', 'Default: `1` (on = high)'], '`scroll_lock` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to the Scroll Lock LED.']]]",
        "Layouts {#layouts}": "The `layouts` portion of the dictionary contains several nested dictionaries. The outer layer consists of QMK layout names, for example `LAYOUT_60_ansi` or `LAYOUT_60_iso`.\n\nEach key dictionary in a layout describes the physical properties of a key. If you are familiar with the Raw Data format for [Keyboard Layout Editor](https://keyboard-layout-editor.com), you will find many of the concepts the same. Key names and layout choices are reused wherever possible, but unlike KLE each key is stateless, inheriting no properties from the keys that came before it.\n\nAll key positions and rotations are specified in relation to the top-left corner of the keyboard, and the top-left corner of each key.\n\nThe ISO enter key is represented by a 1.25u2uh key. Renderers which utilize info.json layout data (such as `qmk info -l` and the QMK Configurator) should display this key as expected.\n\n['`community_layouts` <Badge type=\"info\">Array: String</Badge>', ['A list of community layouts supported by the keyboard.', 'Example: `[\"60_ansi\", \"60_iso\"]`'], '`layout_aliases` <Badge type=\"info\">Object: String</Badge>', ['A mapping of layout aliases to layout definitions.', 'Example:'], '```\\n{\\n    \"LAYOUT_ansi\": \"LAYOUT_60_ansi\",\\n    \"LAYOUT_iso\": \"LAYOUT_60_iso\"\\n}\\n```', '`layouts` <Badge type=\"info\">Object</Badge>', ['A dictionary of layouts supported by the keyboard.', '`LAYOUT_<layout_name>` <Badge type=\"info\">Object</Badge>', ['`layout` <Badge type=\"info\">Array: Object</Badge>', ['A list of key dictionaries comprising the layout. Each key dictionary contains:', ['`matrix` <Badge type=\"info\">Matrix</Badge> <Badge>Required</Badge>', ['The matrix position for the key.', 'Example: `[0, 4]` (row 0, column 4)'], '`x` <Badge type=\"info\">KeyUnit</Badge> <Badge>Required</Badge>', ['The absolute position of the key in the horizontal axis, in key units.'], '`y` <Badge type=\"info\">KeyUnit</Badge> <Badge>Required</Badge>', ['The absolute position of the key in the vertical axis, in key units.'], '`h` <Badge type=\"info\">KeyUnit</Badge>', ['The height of the key, in key units.', 'Default: `1` (1u)'], '`hand` <Badge type=\"info\">String</Badge>', ['The handedness of the key for Chordal Hold, either `\"L\"` (left hand), `\"R\"` (right hand), or `\"*\"` (either or exempted handedness).'], '`label` <Badge type=\"info\">String</Badge>', ['What to name the key. This is *not* a key assignment as in the keymap, but should usually correspond to the keycode for the first layer of the default keymap.', 'Example: `\"Escape\"`'], '`r` <Badge type=\"info\">Number</Badge>', ['The rotation angle in degrees. Currently not implemented.'], '`rx` <Badge type=\"info\">Number</Badge>', ['The absolute X position of the rotation axis. Currently not implemented.'], '`ry` <Badge type=\"info\">Number</Badge>', ['The absolute Y position of the rotation axis. Currently not implemented.'], '`w` <Badge type=\"info\">KeyUnit</Badge>', ['The width of the key, in key units.', 'Default: `1` (1u)'], '`encoder` <Badge type=\"info\">Number</Badge>', ['The index of an encoder this key should be linked to'], 'Example: `{\"label\": \"Shift\", \"matrix\": [4, 0], \"x\": 0, \"y\": 4.25, \"w\": 2.25}`']]]]]",
        "Leader Key {#leader-key}": "Configures the [Leader Key](features/leader_key) feature.\n\n['`leader_key`', ['`timing` <Badge type=\"info\">Boolean</Badge>', ['Reset the `timeout` on each keypress.', 'Default: `false`'], '`strict_processing` <Badge type=\"info\">Boolean</Badge>', ['Do not extract the tap keycodes from Layer-Tap and Mod-Tap key events.', 'Default: `false`'], '`timeout` <Badge type=\"info\">Number</Badge>', ['The amount of time to complete a leader sequence in milliseconds.', 'Default: `300` (300 ms)']]]",
        "LED Matrix {#led-matrix}": "Configures the [LED Matrix](features/led_matrix) feature.\n\n['`led_matrix`', ['`animations` <Badge type=\"info\">Object: Boolean</Badge>', ['A dictionary of effects to enable or disable. Effects which are absent default to `false`.', 'Example:'], '```\\n{\\n    \"alphas_mods\": true,\\n    \"breathing\": true,\\n    \"cycle_left_right\": false\\n}\\n```', '`center_point` <Badge type=\"info\">Array: Number</Badge>', ['The centroid (geometric center) of the LEDs. Used for certain effects.', 'Default: `[112, 32]`'], '`default`', ['`animation` <Badge type=\"info\">String</Badge>', ['The default effect. Must be one of `led_matrix.animations`', 'Default: `\"solid\"`'], '`on` <Badge type=\"info\">Boolean</Badge>', ['The default enabled state.', 'Default: `true`'], '`val` <Badge type=\"info\">Number</Badge>', ['The default brightness level.', 'Default: `max_brightness`'], '`speed` <Badge type=\"info\">Number</Badge>', ['The default animation speed.', 'Default: `128`']], '`driver` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>', ['The driver to use. Must be one of `custom`, `is31fl3218`, `is31fl3731`, `is31fl3733`, `is31fl3736`, `is31fl3737`, `is31fl3741`, `is31fl3742a`, `is31fl3743a`, `is31fl3745`, `is31fl3746a`, `snled27351`.'], '`layout` <Badge type=\"info\">Array: Object</Badge> <Badge>Required</Badge>', ['List of LED configuration dictionaries. Each dictionary contains:', ['`flags` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['A bitfield of flags describing the type of LED.'], '`x` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['The position of the LED in the horizontal axis, from 0 to 224.'], '`y` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['The position of the LED in the vertical axis, from 0 to 64.'], '`matrix` <Badge type=\"info\">Matrix</Badge>', ['The key matrix position associated with the LED.', 'Example: `[0, 2]`'], 'Example: `{\"matrix\": [2, 1], \"x\": 20, \"y\": 48, \"flags\": 2}`']], '`led_flush_limit` <Badge type=\"info\">Number</Badge>', ['Limits in milliseconds how frequently an animation will update the LEDs.', 'Default: `16`'], '`led_process_limit` <Badge type=\"info\">Number</Badge>', ['Limits the number of LEDs to process in an animation per task run (increases keyboard responsiveness).', 'Default: `(led_count + 4) / 5`'], '`max_brightness` <Badge type=\"info\">Number</Badge>', ['The maximum value which brightness is scaled to, from 0 to 255.', 'Default: `255`'], '`react_on_keyup` <Badge type=\"info\">Boolean</Badge>', ['Animations react to keyup instead of keydown.', 'Default: `false`'], '`sleep` <Badge type=\"info\">Boolean</Badge>', ['Turn off the LEDs when the host goes to sleep.', 'Default: `false`'], '`speed_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the speed.', 'Default: `16`'], '`split_count` <Badge type=\"info\">Array: Number</Badge>', ['For split keyboards, the number of LEDs on each half.', 'Example: `[16, 16]`'], '`timeout` <Badge type=\"info\">Number</Badge>', ['The LED activity timeout in milliseconds.', 'Default: `0` (no timeout)'], '`val_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the brightness.', 'Default: `8`']]]",
        "Matrix {#matrix}": [
          "`debounce` <Badge type=\"info\">Number</Badge>",
          [
            "The debounce time in milliseconds.",
            "Default: `5` (5 ms)"
          ],
          "`diode_direction` <Badge type=\"info\">String</Badge>",
          [
            "Which way the diodes are \"pointing\". Unused for `matrix_pins.direct`. Must be one of `COL2ROW`, `ROW2COL`."
          ],
          "`matrix_pins`",
          [
            "`cols` <Badge type=\"info\">Array: Pin</Badge>",
            [
              "A list of GPIO pins connected to the matrix columns.",
              "Example: `[\"A0\", \"A1\", \"A2\"]`"
            ],
            "`custom` <Badge type=\"info\">Boolean</Badge>",
            [
              "Whether to use a custom matrix scanning implementation.",
              "Default: `false`"
            ],
            "`custom_lite` <Badge type=\"info\">Boolean</Badge>",
            [
              "Whether to use a \"lite\" custom matrix scanning implementation.",
              "Default: `false`"
            ],
            "`direct` <Badge type=\"info\">Array: Array: Pin</Badge>",
            [
              "A 2-dimensional list of GPIO pins connected to each keyswitch, forming the \"matrix\" rows and columns.",
              "Example:"
            ],
            "```\n[\n    [\"A0\", \"A1\", \"A2\"],\n    [\"B0\", \"B1\", \"B2\"],\n    [\"C0\", \"C1\", \"C2\"]\n]\n```",
            "`ghost` <Badge type=\"info\">Boolean</Badge>",
            [
              "Whether the matrix has no anti-ghosting diodes.",
              "Default: `false`"
            ],
            "`input_pressed_state` <Badge type=\"info\">0|1</Badge>",
            [
              "The logical GPIO state of the input pins when a key is pressed.",
              "Default: `0` (pressed = low)"
            ],
            "`io_delay` <Badge type=\"info\">Number</Badge>",
            [
              "The amount of time to wait between row/col selection and col/row pin reading, in microseconds.",
              "Default: `30` (30 s)"
            ],
            "`rows` <Badge type=\"info\">Array: Pin</Badge>",
            [
              "A list of GPIO pins connected to the matrix rows.",
              "Example: `[\"B0\", \"B1\", \"B2\"]`"
            ]
          ]
        ],
        "Mouse Keys {#mouse-keys}": "Configures the [Mouse Keys](features/mouse_keys) feature.\n\n['`mouse_key`', ['`delay` <Badge type=\"info\">Number</Badge>', '`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enables the Mouse Keys feature.', 'Default: `false`'], '`interval` <Badge type=\"info\">Number</Badge>', '`max_speed` <Badge type=\"info\">Number</Badge>', '`time_to_max` <Badge type=\"info\">Number</Badge>', '`wheel_delay` <Badge type=\"info\">Number</Badge>']]",
        "One Shot {#one-shot}": "Configures [One Shot keys](one_shot_keys).\n\n['`oneshot`', ['`tap_toggle` <Badge type=\"info\">Number</Badge>', ['The number of times to tap the key in order to hold it.'], '`timeout` <Badge type=\"info\">Number</Badge>', ['The amount of time before the key is released in milliseconds.']]]",
        "PS/2 {#ps2}": "Configures the [PS/2](features/ps2_mouse) feature.\n\n['`ps2`', ['`clock_pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to `CLK` on the PS/2 device.'], '`data_pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to `DATA` on the PS/2 device.'], '`driver` <Badge type=\"info\">String</Badge>', ['The PS/2 driver to use. Must be one of `busywait`, `interrupt`, `usart`, `vendor`.', 'Default: `\"busywait\"`'], '`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the PS/2 feature.', 'Default: `false`'], '`mouse_enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the PS/2 mouse handling.', 'Default: `false`']]]",
        "QMK LUFA Bootloader {#qmk-lufa-bootloader}": [
          "`qmk_lufa_bootloader`",
          [
            "`esc_input` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>",
            [
              "The GPIO pin connected to the designated \"exit bootloader\" key's row (if `COL2ROW`)."
            ],
            "`esc_output` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>",
            [
              "The GPIO pin connected to the designated \"exit bootloader\" key's column (if `COL2ROW`)."
            ],
            "`led` <Badge type=\"info\">Pin</Badge>",
            [
              "The GPIO pin connected to an LED to flash."
            ],
            "`speaker` <Badge type=\"info\">Pin</Badge>",
            [
              "The GPIO pin connected to a speaker to click (can also be used for a second LED)."
            ]
          ]
        ],
        "RGBLight {#rgblight}": "Configures the [RGB Lighting](features/rgblight) feature.\n\n['`rgblight`', ['`led_count` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['The number of LEDs in the chain.'], '`animations` <Badge type=\"info\">Object: Boolean</Badge>', ['A dictionary of effects to enable or disable. Effects which are absent default to `false`.', 'Example:'], '```\\n{\\n    \"breathing\": true,\\n    \"rainbow_mood\": true,\\n    \"snake\": false\\n}\\n```', '`brightness_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the brightness.', 'Default: `17`'], '`default`', ['`animation` <Badge type=\"info\">String</Badge>', ['The default effect. Must be one of `rgblight.animations`', 'Default: `\"static_light\"`'], '`on` <Badge type=\"info\">Boolean</Badge>', ['The default enabled state.', 'Default: `true`'], '`hue` <Badge type=\"info\">Number</Badge>', ['The default hue value.', 'Default: `0`'], '`sat` <Badge type=\"info\">Number</Badge>', ['The default saturation value.', 'Default: `255`'], '`val` <Badge type=\"info\">Number</Badge>', ['The default brightness level.', 'Default: `max_brightness`'], '`speed` <Badge type=\"info\">Number</Badge>', ['The default animation speed.', 'Default: `0`']], '`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `apa102`, `custom`, `ws2812`.', 'Default: `\"ws2812\"`'], '`hue_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the hue.', 'Default: `8`'], '`layers`', ['`blink` <Badge type=\"info\">Boolean</Badge>', ['Enable layer blinking API.', 'Default: `false`'], '`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable RGB Lighting Layers.', 'Default: `false`'], '`max` <Badge type=\"info\">Number</Badge>', ['The maximum layer count, from 1 to 32.', 'Default: `8`']], '`led_map` <Badge type=\"info\">Array: Number</Badge>', ['Remap LED indices.', 'Example: `[4, 3, 2, 1, 0]`'], '`max_brightness` <Badge type=\"info\">Number</Badge>', ['The maximum value which the HSV \"V\" component is scaled to, from 0 to 255.', 'Default: `255`'], '`saturation_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the suturation.', 'Default: `17`'], '`sleep` <Badge type=\"info\">Boolean</Badge>', ['Turn off the LEDs when the host goes to sleep.', 'Default: `false`'], '`split` <Badge type=\"info\">Boolean</Badge>', ['Enable synchronization between split halves.', 'Default: `false`'], '`split_count` <Badge type=\"info\">Array: Number</Badge>', ['When `rgblight.split` is enabled, the number of LEDs on each half.', 'Example: `[10, 10]`']]]",
        "RGB Matrix {#rgb-matrix}": "Configures the [RGB Matrix](features/rgb_matrix) feature.\n\n['`rgb_matrix`', ['`animations` <Badge type=\"info\">Object: Boolean</Badge>', ['A dictionary of effects to enable or disable. Effects which are absent default to `false`.', 'Example:'], '```\\n{\\n    \"alphas_mods\": true,\\n    \"breathing\": true,\\n    \"cycle_left_right\": false\\n}\\n```', '`center_point` <Badge type=\"info\">Array: Number</Badge>', ['The centroid (geometric center) of the LEDs. Used for certain effects.', 'Default: `[112, 32]`'], '`default`', ['`animation` <Badge type=\"info\">String</Badge>', ['The default effect. Must be one of `rgb_matrix.animations`', 'Default: `\"solid_color\"`'], '`on` <Badge type=\"info\">Boolean</Badge>', ['The default enabled state.', 'Default: `true`'], '`hue` <Badge type=\"info\">Number</Badge>', ['The default hue value.', 'Default: `0`'], '`sat` <Badge type=\"info\">Number</Badge>', ['The default saturation value.', 'Default: `255`'], '`val` <Badge type=\"info\">Number</Badge>', ['The default brightness level.', 'Default: `max_brightness`'], '`speed` <Badge type=\"info\">Number</Badge>', ['The default animation speed.', 'Default: `128`']], '`driver` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>', ['The driver to use. Must be one of `aw20216s`, `custom`, `is31fl3218`, `is31fl3236`, `is31fl3729`, `is31fl3731`, `is31fl3733`, `is31fl3736`, `is31fl3737`, `is31fl3741`, `is31fl3742a`, `is31fl3743a`, `is31fl3745`, `is31fl3746a`, `snled27351`, `ws2812`.'], '`hue_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the hue.', 'Default: `8`'], '`layout` <Badge type=\"info\">Array: Object</Badge> <Badge>Required</Badge>', ['List of LED configuration dictionaries. Each dictionary contains:', ['`flags` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['A bitfield of flags describing the type of LED.'], '`x` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['The position of the LED in the horizontal axis, from 0 to 224.'], '`y` <Badge type=\"info\">Number</Badge> <Badge>Required</Badge>', ['The position of the LED in the vertical axis, from 0 to 64.'], '`matrix` <Badge type=\"info\">Matrix</Badge>', ['The key matrix position associated with the LED.', 'Example: `[0, 2]`'], 'Example: `{\"matrix\": [2, 1], \"x\": 20, \"y\": 48, \"flags\": 2}`']], '`led_flush_limit` <Badge type=\"info\">Number</Badge>', ['Limits in milliseconds how frequently an animation will update the LEDs.', 'Default: `16`'], '`led_process_limit` <Badge type=\"info\">Number</Badge>', ['Limits the number of LEDs to process in an animation per task run (increases keyboard responsiveness).', 'Default: `(led_count + 4) / 5`'], '`max_brightness` <Badge type=\"info\">Number</Badge>', ['The maximum value which the HSV \"V\" component is scaled to, from 0 to 255.', 'Default: `255`'], '`react_on_keyup` <Badge type=\"info\">Boolean</Badge>', ['Animations react to keyup instead of keydown.', 'Default: `false`'], '`sat_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the saturation.', 'Default: `16`'], '`sleep` <Badge type=\"info\">Boolean</Badge>', ['Turn off the LEDs when the host goes to sleep.', 'Default: `false`'], '`speed_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the speed.', 'Default: `16`'], '`split_count` <Badge type=\"info\">Array: Number</Badge>', ['For split keyboards, the number of LEDs on each half.', 'Example: `[16, 16]`'], '`timeout` <Badge type=\"info\">Number</Badge>', ['The LED activity timeout in milliseconds.', 'Default: `0` (no timeout)'], '`val_steps` <Badge type=\"info\">Number</Badge>', ['The value by which to increment the brightness.', 'Default: `16`']]]",
        "Secure {#secure}": "Configures the [Secure](features/secure) feature.\n\n['`secure`', ['`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the Secure feature.', 'Default: `false`'], '`idle_timeout` <Badge type=\"info\">Number</Badge>', ['Timeout while unlocked before returning to the locked state. Set to `0` to disable.', 'Default: `60000` (1 minute)'], '`unlock_sequence` <Badge type=\"info\">Array: Matrix</Badge>', ['A list of up to five matrix locations comprising the \"unlock sequence\".', 'Example: `[[0, 0], [0, 1], [4, 3]]`'], '`unlock_timeout` <Badge type=\"info\">Number</Badge>', ['Timeout for the user to perform the unlock sequence. Set to `0` to disable.', 'Default: `5000` (5 seconds)']]]",
        "Split Keyboard {#split-keyboard}": "Configures the [Split Keyboard](features/split_keyboard) feature.\n\n['`split`', ['`bootmagic`', ['`matrix`', ['See [Bootmagic](#bootmagic) config.']], '`dip_switch`', ['`right`', ['`pins`', ['See [DIP Switches](#dip-switch) config.']]], '`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the Split Keyboard feature.', 'Default: `false`'], '`encoder`', ['`right`', ['`rotary`', ['See [Encoder](#encoder) config.']]], '`handedness`', ['`pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin connected to determine handedness.'], '`matrix_grid` <Badge type=\"info\">Array: Pin</Badge>', ['The GPIO pins of the matrix position which determines the handedness.', 'Example: `[\"A1\", \"B5\"]`']], '`matrix_pins`', ['`right`', ['See [Matrix](#matrix) config.']], '`serial`', ['`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `bitbang`, `usart`, `vendor`.', 'Default: `\"bitbang\"`'], '`pin` <Badge type=\"info\">Pin</Badge>', ['The GPIO pin to use for transmit and receive.']], '`soft_serial_speed` <Badge type=\"info\">Number</Badge>', ['The protocol speed, from `0` to `5` (`serial` transport protocol only).', 'Default: `1`'], '`transport`', ['`protocol` <Badge type=\"info\">String</Badge>', ['The split transport protocol to use. Must be one of `custom`, `i2c`, `serial`.'], '`sync`', ['`activity` <Badge type=\"info\">Boolean</Badge>', ['Mirror the activity timestamps to the secondary half.', 'Default: `false`'], '`detected_os` <Badge type=\"info\">Boolean</Badge>', ['Mirror the [detected OS](features/os_detection) to the secondary half.', 'Default: `false`'], '`haptic` <Badge type=\"info\">Boolean</Badge>', ['Mirror the haptic state and process haptic feedback to the secondary half.', 'Default: `false`'], '`layer_state` <Badge type=\"info\">Boolean</Badge>', ['Mirror the layer state to the secondary half.', 'Default: `false`'], '`indicators` <Badge type=\"info\">Boolean</Badge>', ['Mirror the indicator state to the secondary half.', 'Default: `false`'], '`matrix_state` <Badge type=\"info\">Boolean</Badge>', [\"Mirror the main/primary half's matrix state to the secondary half.\", 'Default: `false`'], '`modifiers` <Badge type=\"info\">Boolean</Badge>', ['Mirror the modifier state to the secondary half.', 'Default: `false`'], '`oled` <Badge type=\"info\">Boolean</Badge>', ['Mirror the OLED on/off status to the secondary half.', 'Default: `false`'], '`st7565` <Badge type=\"info\">Boolean</Badge>', ['Mirror the ST7565 on/off status to the secondary half.', 'Default: `false`'], '`wpm` <Badge type=\"info\">Boolean</Badge>', ['Mirror the current WPM value to the secondary half.', 'Default: `false`']], '`watchdog` <Badge type=\"info\">Boolean</Badge>', ['Reboot the secondary half if it loses connection.', 'Default: `false`'], '`watchdog_timeout` <Badge type=\"info\">Number</Badge>', ['The amount of time to wait for communication from the primary half in milliseconds.']], '`usb_detect`', ['`enabled` <Badge type=\"info\">Boolean</Badge>', ['Detect USB connection when determining split half roles.'], '`polling_interval` <Badge type=\"info\">Number</Badge>', ['The polling frequency in milliseconds.', 'Default: `10` (10 ms)'], '`timeout` <Badge type=\"info\">Number</Badge>', ['The amount of time to wait for a USB connection in milliseconds.', 'Default: `2000` (2 seconds)']]]]",
        "Stenography {#stenography}": "Configures the [Stenography](features/stenography) feature.\n\n['`stenography`', ['`enabled` <Badge type=\"info\">Boolean</Badge>', ['Enable the Stenography feature.', 'Default: `false`'], '`protocol` <Badge type=\"info\">String</Badge>', ['The Steno protocol to use. Must be one of `all`, `geminipr`, `txbolt`.', 'Default: `\"all\"`']]]",
        "USB {#usb}": [
          "`usb`",
          [
            "`device_version` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
            [
              "A BCD version number in the format `MM.m.r` (up to `99.9.9`).",
              "Example: `\"1.0.0\"`"
            ],
            "`pid` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
            [
              "The USB product ID as a four-digit hexadecimal number.",
              "Example: `\"0x23B0\"`"
            ],
            "`vid` <Badge type=\"info\">String</Badge> <Badge>Required</Badge>",
            [
              "The USB vendor ID as a four-digit hexadecimal number.",
              "Example: `\"0xC1ED\"`"
            ],
            "`max_power` <Badge type=\"info\">Number</Badge>",
            [
              "The maximum current draw the host should expect from the device. This does not control the actual current usage.",
              "Default: `500` (500 mA)"
            ],
            "`no_startup_check` <Badge type=\"info\">Boolean</Badge>",
            [
              "Disable USB suspend check after keyboard startup.",
              "Default: `false`"
            ],
            "`polling_interval` <Badge type=\"info\">Number</Badge>",
            [
              "The frequency at which the host should poll the keyboard for reports.",
              "Default: `1` (1 ms/1000 Hz)"
            ],
            "`shared_endpoint`",
            [
              "`keyboard` <Badge type=\"info\">Boolean</Badge>",
              [
                "Send keyboard reports through the \"shared\" USB endpoint.",
                "Default: `false`"
              ],
              "`mouse` <Badge type=\"info\">Boolean</Badge>",
              [
                "Send mouse reports through the \"shared\" USB endpoint.",
                "Default: `true`"
              ]
            ],
            "`suspend_wakeup_delay` <Badge type=\"info\">Number</Badge>",
            [
              "The amount of time to wait after sending a wakeup packet, in milliseconds.",
              "Default: `0` (disabled)"
            ],
            "`wait_for_enumeration` <Badge type=\"info\">Boolean</Badge>",
            [
              "Force the keyboard to wait for USB enumeration before starting up.",
              "Default: `false`"
            ]
          ]
        ],
        "WS2812 {#ws2812}": "Configures the [WS2812](drivers/ws2812) driver.\n\n['`ws2812`', ['`driver` <Badge type=\"info\">String</Badge>', ['The driver to use. Must be one of `bitbang`, `custom`, `i2c`, `pwm`, `spi`, `vendor`.', 'Default: `\"bitbang\"`'], '`pin` <Badge type=\"info\">Pin</Badge> <Badge>Required</Badge>', ['The GPIO pin connected to `DI` on the first LED in the chain (`bitbang`, `pwm`, `spi` and `vendor` drivers only).'], '`i2c_address` <Badge type=\"info\">String</Badge>', ['The IC address of the WS2812 controller (`i2c` driver only).', 'Default: `\"0xB0\"`'], '`i2c_timeout` <Badge type=\"info\">Number</Badge>', ['The IC timeout in milliseconds (`i2c` driver only).', 'Default: `100` (100 ms)'], '`rgbw` <Badge type=\"info\">Boolean</Badge>', ['Enable RGBW LEDs.', 'Default: `false`']]]"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 97]"
    },
    {
      "title": "Language-specific Keycodes",
      "description": null,
      "content": {
        "Selecting Your Host Keyboard Layout": "To select a host keyboard layout, simply `#include` one of the [keycode headers](#header-files) below at the top of your `keymap.c`. Example:\n\n```\n#include QMK_KEYBOARD_H\n\n#include \"keymap_japanese.h\" // [!code focus]\n```\n\nAlternatively, if using `keymap.json`, add the `host_language` key as shown in the following example. The available languages are those with a _Sendstring LUT Header_ entry in one of the [Header Files](#header-files) tables.\n\n```\n{\n    \"keyboard\": \"handwired/my_macropad\",\n    \"keymap\": \"my_keymap\",\n    \"host_language\": \"swedish\", // [!code focus]\n    \"layout\": \"LAYOUT_all\",\n    \"layers\": [\n        [\"SE_ARNG\"]\n    ]\n}\n```",
        "Sendstring Support": "By default, `SEND_STRING()` assumes a US ANSI keyboard layout is set. If you are using a different layout, you can include one of the Sendstring LUT headers below in your `keymap.c` to override the lookup tables used for mapping ASCII characters to keycodes. You do not need to include the corresponding `keymap_*.h` header, as it is implicit when including the Sendstring header.\n\nAn important thing to note here is that `SEND_STRING()` only operates on [ASCII text](https://en.wikipedia.org/wiki/ASCII#Character_set). This means that you cannot pass it a string containing Unicode characters - this unfortunately includes accented characters that may be present in your desired layout.  \nMany layouts make certain characters, such as Grave or Tilde, available only as [dead keys](https://en.wikipedia.org/wiki/Dead_key), so you must add a space immediately after it in the string you want to send, to prevent it from potentially combining with the next character.  \nCertain other layouts have no Sendstring header as they do not use a Latin-derived alphabet (for example Greek and Russian), and thus there is no way to input most of the ASCII character set.",
        "Header Files": "These headers are located in [`quantum/keymap_extras/`](https://github.com/qmk/qmk_firmware/tree/master/quantum/keymap_extras).\n\n|Layout                           |Keycodes Header                  |Sendstring LUT Header               |\n|---------------------------------|---------------------------------|------------------------------------|\n|Canadian Multilingual (CSA)      |`keymap_canadian_multilingual.h` |`sendstring_canadian_multilingual.h`|\n|Croatian                         |`keymap_croatian.h`              |`sendstring_croatian.h`             |\n|Czech                            |`keymap_czech.h`                 |`sendstring_czech.h`                |\n|Czech (macOS, ANSI)              |`keymap_czech_mac_ansi.h`        |`sendstring_czech_mac_ansi.h`       |\n|Czech (macOS, ISO)               |`keymap_czech_mac_iso.h`         |`sendstring_czech_mac_iso.h`        |\n|Danish                           |`keymap_danish.h`                |`sendstring_danish.h`               |\n|Dutch (Belgium)                  |`keymap_belgian.h`               |`sendstring_belgian.h`              |\n|English (Ireland)                |`keymap_irish.h`                 |                                    |\n|English (UK)                     |`keymap_uk.h`                    |`sendstring_uk.h`                   |\n|English (US Extended)            |`keymap_us_extended.h`           |                                    |\n|English (US International)       |`keymap_us_international.h`      |`sendstring_us_international.h`     |\n|English (US International, Linux)|`keymap_us_international_linux.h`|                                    |\n|Estonian                         |`keymap_estonian.h`              |`sendstring_estonian.h`             |\n|EurKEY                           |`keymap_eurkey.h`                |                                    |\n|Farsi                            |`keymap_farsi.h`                 |                                    |\n|Finnish                          |`keymap_finnish.h`               |`sendstring_finnish.h`              |\n|French                           |`keymap_french.h`                |`sendstring_french.h`               |\n|French (AFNOR)                   |`keymap_french_afnor.h`          |`sendstring_french_afnor.h`         |\n|French (BPO)                    |`keymap_bepo.h`                  |`sendstring_bepo.h`                 |\n|French (Belgium)                 |`keymap_belgian.h`               |`sendstring_belgian.h`              |\n|French (Canada)                  |`keymap_canadian_french.h`       |`sendstring_canadian_french.h`      |\n|French (Switzerland)             |`keymap_swiss_fr.h`              |`sendstring_swiss_fr.h`             |\n|French (macOS, ISO)              |`keymap_french_mac_iso.h`        |`sendstring_french_mac_iso.h`       |\n|German                           |`keymap_german.h`                |`sendstring_german.h`               |\n|German (Switzerland)             |`keymap_swiss_de.h`              |`sendstring_swiss_de.h`             |\n|German (macOS)                   |`keymap_german_mac_iso.h`        |`sendstring_german_mac_iso.h`       |\n|German (Neo2)                    |`keymap_neo2.h`                  |                                    |\n|Greek                            |`keymap_greek.h`                 |                                    |\n|Hebrew                           |`keymap_hebrew.h`                |                                    |\n|Hungarian                        |`keymap_hungarian.h`             |`sendstring_hungarian.h`            |\n|Icelandic                        |`keymap_icelandic.h`             |`sendstring_icelandic.h`            |\n|Italian                          |`keymap_italian.h`               |`sendstring_italian.h`              |\n|Italian (macOS, ANSI)            |`keymap_italian_mac_ansi.h`      |`sendstring_italian_mac_ansi.h`     |\n|Italian (macOS, ISO)             |`keymap_italian_mac_iso.h`       |`sendstring_italian_mac_iso.h`      |\n|Japanese                         |`keymap_japanese.h`              |`sendstring_japanese.h`             |\n|Korean                           |`keymap_korean.h`                |                                    |\n|Latvian                          |`keymap_latvian.h`               |`sendstring_latvian.h`              |\n|Lithuanian (ERTY)              |`keymap_lithuanian_azerty.h`     |`sendstring_lithuanian_azerty.h`    |\n|Lithuanian (QWERTY)              |`keymap_lithuanian_qwerty.h`     |`sendstring_lithuanian_qwerty.h`    |\n|Norwegian                        |`keymap_norwegian.h`             |`sendstring_norwegian.h`            |\n|Polish                           |`keymap_polish.h`                |                                    |\n|Portuguese                       |`keymap_portuguese.h`            |`sendstring_portuguese.h`           |\n|Portuguese (macOS, ISO)          |`keymap_portuguese_mac_iso.h`    |`sendstring_portuguese_mac_iso.h`   |\n|Portuguese (Brazil)              |`keymap_brazilian_abnt2.h`       |`sendstring_brazilian_abnt2.h`      |\n|Romanian                         |`keymap_romanian.h`              |`sendstring_romanian.h`             |\n|Russian                          |`keymap_russian.h`               |                                    |\n|Serbian                          |`keymap_serbian.h`               |                                    |\n|Serbian (Latin)                  |`keymap_serbian_latin.h`         |`sendstring_serbian_latin.h`        |\n|Slovak                           |`keymap_slovak.h`                |`sendstring_slovak.h`               |\n|Slovenian                        |`keymap_slovenian.h`             |`sendstring_slovenian.h`            |\n|Spanish                          |`keymap_spanish.h`               |`sendstring_spanish.h`              |\n|Spanish (Dvorak)                 |`keymap_spanish_dvorak.h`        |`sendstring_spanish_dvorak.h`       |\n|Spanish (Latin America)          |`keymap_spanish_latin_america.h` |`sendstring_spanish_latin_america.h`|\n|Swedish                          |`keymap_swedish.h`               |`sendstring_swedish.h`              |\n|Swedish (macOS, ANSI)            |`keymap_swedish_mac_ansi.h`      |                                    |\n|Swedish (macOS, ISO)             |`keymap_swedish_mac_iso.h`       |                                    |\n|Swedish Pro (macOS, ANSI)        |`keymap_swedish_pro_mac_ansi.h`  |                                    |\n|Swedish Pro (macOS, ISO)         |`keymap_swedish_pro_mac_iso.h`   |                                    |\n|Turkish (F)                      |`keymap_turkish_f.h`             |`sendstring_turkish_f.h`            |\n|Turkish (Q)                      |`keymap_turkish_q.h`             |`sendstring_turkish_q.h`            |\n|Ukrainian                        |`keymap_ukrainian.h`             |                                    |\n\nThere are also a few which are not quite language-specific, but useful if you are not using a QWERTY layout:\n\n|Layout             |Keycodes Header             |Sendstring LUT Header           |\n|-------------------|----------------------------|--------------------------------|\n|Colemak            |`keymap_colemak.h`          |`sendstring_colemak.h`          |\n|Dvorak             |`keymap_dvorak.h`           |`sendstring_dvorak.h`           |\n|Dvorak (French)    |`keymap_dvorak_fr.h`        |`sendstring_dvorak_fr.h`        |\n|Dvorak (Programmer)|`keymap_dvorak_programmer.h`|`sendstring_dvorak_programmer.h`|\n|Norman             |`keymap_norman.h`           |`sendstring_norman.h`           |\n|Plover             |`keymap_plover.h`           |                                |\n|Plover (Dvorak)    |`keymap_plover_dvorak.h`    |                                |\n|Workman            |`keymap_workman.h`          |`sendstring_workman.h`          |\n|Workman (ZXCVM)    |`keymap_workman_zxcvm.h`    |`sendstring_workman_zxcvm.h`    |"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 98]"
    },
    {
      "title": "Squeezing the most out of AVR",
      "description": null,
      "content": {
        "`rules.mk` Settings": "First and foremost is enabling link time optimization. To do so, add this to your rules.mk: \n\n```\nLTO_ENABLE = yes\n```\n\nThis will cause the final step to take longer, but should get you a smaller compiled size. This also disables Action Functions, and Action Macros, both of which are deprecated.\nThis will get you the most savings, in most situations.\n\nFrom there, disabling extraneous systems will help -- e.g.: \n\n```\nCONSOLE_ENABLE = no\nCOMMAND_ENABLE = no\nMOUSEKEY_ENABLE = no\nEXTRAKEY_ENABLE = no\n```\n\nThis disables some of the functionality that you may not need. But note that extrakeys disables stuff like the media keys and system volume control.\n\nIf that isn't enough to get your firmware down to size, then there are some additional features that you can disable: \n\n```\nSPACE_CADET_ENABLE = no\nGRAVE_ESC_ENABLE = no \nMAGIC_ENABLE = no\n```\n\nThese features are enabled by default, but they may not be needed. Double check to make sure. The [Magic Keycodes](keycodes_magic) are the largest and control things like NKRO toggling, GUI and ALT/CTRL swapping, etc. Disabling them will disable those functions. See [Magic Functions](#magic-functions) for disabling related functions.\n\nIf you use `sprintf` or `snprintf` functions you can save around ~400 Bytes by enabling this option.\n\n```\nAVR_USE_MINIMAL_PRINTF = yes\n```\n\nThis will include smaller implementations from AVRs libc into your Firmware. They are [not fully featured](https://www.nongnu.org/avr-libc/user-manual/group__avr__stdio.html#gaa3b98c0d17b35642c0f3e4649092b9f1), for instance zero padding and field width specifiers are not supported. So if you use `sprintf` or `snprintf` like this:\n\n```\nsprintf(wpm_str, \"%03d\", get_current_wpm());\nsnprintf(keylog_str, sizeof(keylog_str), \"%dx%d, k%2d : %c\");\n```\n\nyou will still need the standard implementation.",
        "`config.h` Settings": "If you've done all of that, and you don't want to disable features like RGB, Audio, OLEDs, etc, there are some additional options that you can add to your config.h that can help.\n\nStarting with Lock Key support. If you have a Cherry MX Lock switch (lucky you!), you don't want to do this. But chances are, you don't. In that case, add this to your `config.h`:\n\n```\n#undef LOCKING_SUPPORT_ENABLE\n#undef LOCKING_RESYNC_ENABLE\n```\n\nOneshots. If you're not using these, you can disable the feature by adding this to your `config.h`: \n\n```\n#define NO_ACTION_ONESHOT\n```\n\nThe same with tapping keys (mod tap, layer tap, etc)\n\n```\n#define NO_ACTION_TAPPING\n```",
        "Audio Settings": "If you're using the Audio feature, by default that includes the music mode feature. This tranlates matrix positions into notes. It's neat for sure, but most likely, you're not using it. You can disable it by adding this to your `config.h`:\n\n```\n#define NO_MUSIC_MODE\n```\n\nAnd by adding this to your `rules.mk`\n\n```\nMUSIC_ENABLE = no\n```",
        "Layers": "There are also some options for layers, that can reduce the firmware size. All of these settings are for your `config.h`.\n\nYou can limit the number of layers that the firmware uses -- if you're using up to 8 layers in total:\n\n```\n#define LAYER_STATE_8BIT\n```\n\nor if you require up to 16 layers instead:\n\n```\n#define LAYER_STATE_16BIT\n```\n\nOr if you're not using layers at all, you can outright remove the functionality altogether:\n\n```\n#define NO_ACTION_LAYER\n```",
        "Magic Functions": "There are two `__attribute__ ((weak))` placeholder functions available to customize magic keycodes. If you are not using that feature to swap keycodes, such as backslash with backspace, add the following to your `keymap.c` or user space code:\n\n```\n#ifndef MAGIC_ENABLE\nuint16_t keycode_config(uint16_t keycode) {\n    return keycode;\n}\n#endif\n```\n\nLikewise, if you are not using magic keycodes to swap modifiers, such as Control with GUI, add the following to your `keymap.c` or user space code:\n\n```\n#ifndef MAGIC_ENABLE\nuint8_t mod_config(uint8_t mod) {\n    return mod;\n}\n#endif\n```\n\nBoth of them will overwrite the placeholder functions with a simple return statement to reduce firmware size.",
        "OLED tweaks": "One place you can save a bunch of space here is by not using `sprintf` or `snprintf`. This function call takes up ~1.5kB of firmware space, and can be rewritten. For instance, WPM uses this a lot.\n\nYou can convert this:\n\n```\n    // OLD CODE\n    char wpm_str[4] = {0};\n    sprintf(wpm_str, \"WPM: %03d\", get_current_wpm());\n    oled_write(wpm_str, ' '), false);\n```\n\ninto this:\n\n```\n    // NEW CODE\n    oled_write_P(PSTR(\"WPM: \"), false);\n    oled_write(get_u8_str(get_current_wpm(), ' '), false);\n```\n\nwhich outputs `WPM:   5`. Or this: \n\n```\n    // NEW CODE\n    oled_write_P(PSTR(\"WPM: \"), false);\n    oled_write(get_u8_str(get_current_wpm(), '0'), false);\n```\n\nwhich outputs `WPM: 005`.",
        "RGB Settings": "If you're using RGB on your board, both RGB Light (Underglow) and RGB Matrix (per key RGB) now require defines to enable different animations -- some keyboards enable a lot of animations by default, so you can generally gain back some space by disabling specific animations if you don't use them. For RGB Light you can disable these in your keymap's `config.h`:\n\n```\n#undef RGBLIGHT_ANIMATIONS\n#undef RGBLIGHT_EFFECT_BREATHING\n#undef RGBLIGHT_EFFECT_RAINBOW_MOOD\n#undef RGBLIGHT_EFFECT_RAINBOW_SWIRL\n#undef RGBLIGHT_EFFECT_SNAKE\n#undef RGBLIGHT_EFFECT_KNIGHT\n#undef RGBLIGHT_EFFECT_CHRISTMAS\n#undef RGBLIGHT_EFFECT_STATIC_GRADIENT\n#undef RGBLIGHT_EFFECT_RGB_TEST\n#undef RGBLIGHT_EFFECT_ALTERNATING\n#undef RGBLIGHT_EFFECT_TWINKLE\n```\n\nFor RGB Matrix, these need to be explicitly enabled as well. To disable any that were enabled by the keyboard, add one or more of these to your keymap's `config.h`:\n\n```\n#undef ENABLE_RGB_MATRIX_ALPHAS_MODS\n#undef ENABLE_RGB_MATRIX_GRADIENT_UP_DOWN\n#undef ENABLE_RGB_MATRIX_GRADIENT_LEFT_RIGHT\n#undef ENABLE_RGB_MATRIX_BREATHING\n#undef ENABLE_RGB_MATRIX_BAND_SAT\n#undef ENABLE_RGB_MATRIX_BAND_VAL\n#undef ENABLE_RGB_MATRIX_BAND_PINWHEEL_SAT\n#undef ENABLE_RGB_MATRIX_BAND_PINWHEEL_VAL\n#undef ENABLE_RGB_MATRIX_BAND_SPIRAL_SAT\n#undef ENABLE_RGB_MATRIX_BAND_SPIRAL_VAL\n#undef ENABLE_RGB_MATRIX_CYCLE_ALL\n#undef ENABLE_RGB_MATRIX_CYCLE_LEFT_RIGHT\n#undef ENABLE_RGB_MATRIX_CYCLE_UP_DOWN\n#undef ENABLE_RGB_MATRIX_RAINBOW_MOVING_CHEVRON\n#undef ENABLE_RGB_MATRIX_CYCLE_OUT_IN\n#undef ENABLE_RGB_MATRIX_CYCLE_OUT_IN_DUAL\n#undef ENABLE_RGB_MATRIX_CYCLE_PINWHEEL\n#undef ENABLE_RGB_MATRIX_CYCLE_SPIRAL\n#undef ENABLE_RGB_MATRIX_DUAL_BEACON\n#undef ENABLE_RGB_MATRIX_RAINBOW_BEACON\n#undef ENABLE_RGB_MATRIX_RAINBOW_PINWHEELS\n#undef ENABLE_RGB_MATRIX_FLOWER_BLOOMING\n#undef ENABLE_RGB_MATRIX_RAINDROPS\n#undef ENABLE_RGB_MATRIX_JELLYBEAN_RAINDROPS\n#undef ENABLE_RGB_MATRIX_HUE_BREATHING\n#undef ENABLE_RGB_MATRIX_HUE_PENDULUM\n#undef ENABLE_RGB_MATRIX_HUE_WAVE\n#undef ENABLE_RGB_MATRIX_PIXEL_FRACTAL\n#undef ENABLE_RGB_MATRIX_PIXEL_FLOW\n#undef ENABLE_RGB_MATRIX_PIXEL_RAIN\n\n#undef ENABLE_RGB_MATRIX_TYPING_HEATMAP\n#undef ENABLE_RGB_MATRIX_DIGITAL_RAIN\n\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_SIMPLE\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_WIDE\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_MULTIWIDE\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_CROSS\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_MULTICROSS\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_NEXUS\n#undef ENABLE_RGB_MATRIX_SOLID_REACTIVE_MULTINEXUS\n#undef ENABLE_RGB_MATRIX_SPLASH\n#undef ENABLE_RGB_MATRIX_MULTISPLASH\n#undef ENABLE_RGB_MATRIX_SOLID_SPLASH\n#undef ENABLE_RGB_MATRIX_SOLID_MULTISPLASH\n```"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 99]"
    },
    {
      "title": "Getting Help",
      "description": null,
      "content": {
        "Realtime Chat": "If you need help with something, the best place to get quick support is going to be on our [Discord Server](https://discord.gg/qmk).  There is usually somebody online, and there are a bunch of very helpful people there.",
        "OLKB Subreddit": "The official QMK forum is [/r/olkb](https://reddit.com/r/olkb) on [reddit.com](https://reddit.com).",
        "GitHub Issues": "You can open an [issue on GitHub](https://github.com/qmk/qmk_firmware/issues). This is especially handy when your issue will require long-term discussion or debugging."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 100]"
    },
    {
      "title": "Feature support policies",
      "description": null,
      "content": {
        "System Constraints": "In general, feature development is encouraged to support as many hardware configurations as possible. Depending on system constraints this may not always be achievable, and is usually bound by microcontroller flash and RAM capabilities.\n\nThe most frequently-hit constraint is the amount of code that can be flashed onto an ATmega32U4 -- users almost always need to pick and choose included functionality due to the size constraints.\n\n::: warning\n[Squeezing AVR](squeezing_avr) has some steps that users can take in order to minimise the overall firmware size, which in some cases enables the ability for users to include other desired features.\n:::",
        "Deprecation & Removal Policy": {
          "How much advance notice will be given?": "Disregarding emergencies or other high-risk concerns, deprecation of large features or entire subsystems within QMK will be communicated on the `develop` branch at least one breaking changes cycle (3 months) before removal. Advance notice may be extended for higher impact features, and is at the discretion of the QMK team.\n\nSmaller features may be removed within a breaking changes cycle, and will generally be based on the level of use within the repository. Features with minimal use may be selected for removal at any time on the `develop` branch.\n\nThird-party software libraries leveraged by QMK are generally forked to mitigate disappearance upstream. If the upstream repository is removed, it will generally be replaced when practical, or dependent features will be removed as per the normal deprecation policy.",
          "How will deprecation be communicated?": "Every breaking changes merge from `develop` into `master` is accompanied by a changelog document -- intended and completed deprecations will be communicated here.\n\nIn addition, wherever possible warnings will be issued during firmware compilation when deprecated features are still being used."
        }
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 101]"
    },
    {
      "title": "Syllabus",
      "description": null,
      "content": {
        "QMK Syllabus": "This page helps you build up your QMK knowledge by introducing the basics first and guiding you to understanding all the concepts you need to know to be proficient with QMK.",
        "Beginning Topics": "If you read nothing else you should read the documents in this section. After reading the [Tutorial](newbs) you should be able to create a basic keymap, compile it, and flash it to your keyboard. The remaining documents will flesh out your knowledge of these basics.\n\n['**Learn How To Use QMK Tools**', ['[Tutorial](newbs)', '[CLI](cli)', '[GIT](newbs_git_best_practices)'], '**Learn About Keymaps**', ['[Layers](feature_layers)', '[Keycodes](keycodes)', ['The full list of keycodes you can use. Note that some may require knowledge found in the Intermediate or Advanced Topics.']], '**Configuring IDEs** - Optional', ['[Eclipse](other_eclipse)', '[VS Code](other_vscode)']]",
        "Intermediate Topics": "These topics start to dig into some of the features that QMK supports. You don't have to read all of these documents, but some of the documents in the Advanced Topics section won't make sense if you skip over some of these.\n\n['**Learn How To Configure Features**', '  <!-- * Configuration Overview  FIXME(skullydazed/anyone): write this document -->\\n  * [Audio](features/audio)\\n  * Lighting\\n      * [Backlight](features/backlight)\\n      * [LED Matrix](features/led_matrix)\\n      * [RGB Lighting](features/rgblight)\\n      * [RGB Matrix](features/rgb_matrix)\\n  * [Tap-Hold Configuration](tap_hold)\\n  * [Squeezing Space from AVR](squeezing_avr)', '**Learn More About Keymaps**', ['[Keymaps](keymap)', '[Custom Functions and Keycodes](custom_quantum_functions)', 'Macros', ['[Dynamic Macros](features/dynamic_macros)', '[Compiled Macros](feature_macros)'], '[Tap Dance](features/tap_dance)', '[Combos](features/combo)', '[Userspace](feature_userspace)', '[Key Overrides](features/key_overrides)']]",
        "Advanced Topics": "Everything below here requires a lot of foundational knowledge. Besides being able to create keymaps using advanced features you should be familiar with using both `config.h` and `rules.mk` to configure options for your keyboard.\n\n['**Maintaining Keyboards Within QMK**', ['[Handwiring a Keyboard](hand_wire)', '[Keyboard Guidelines](hardware_keyboard_guidelines)', '[info.json Reference](reference_info_json)', '[Debounce API](feature_debounce_type)'], '**Advanced Features**', ['[Unicode](features/unicode)', '[API](api_overview)', '[Bootmagic](features/bootmagic)'], '**Hardware**', ['[How Keyboards Work](how_keyboards_work)', '[How A Keyboard Matrix Works](how_a_matrix_works)', '[Split Keyboards](features/split_keyboard)', '[Stenography](features/stenography)', '[Pointing Devices](features/pointing_device)'], '**Core Development**', ['[Coding Conventions](coding_conventions_c)', '[Compatible Microcontrollers](compatible_microcontrollers)', '[Custom Matrix](custom_matrix)', '[Understanding QMK](understanding_qmk)'], '**CLI Development**', ['[Coding Conventions](coding_conventions_python)', '[CLI Development Overview](cli_development)']]"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 102]"
    },
    {
      "title": "Tap-Hold Configuration Options",
      "description": null,
      "content": {
        "Tapping Term": {
          "Dynamic Tapping Term {#dynamic-tapping-term}": "`DYNAMIC_TAPPING_TERM_ENABLE` is a feature you can enable in `rules.mk` that lets you use three special keys in your keymap to configure the tapping term on the fly.\n\n| Key                           | Aliases | Description                                                                               |\n|-------------------------------|---------|-------------------------------------------------------------------------------------------|\n|`QK_DYNAMIC_TAPPING_TERM_PRINT`|`DT_PRNT`| Types the current tapping term, in milliseconds                                           |\n|`QK_DYNAMIC_TAPPING_TERM_UP`   |`DT_UP`  | Increases the current tapping term by `DYNAMIC_TAPPING_TERM_INCREMENT`ms (5ms by default) |\n|`QK_DYNAMIC_TAPPING_TERM_DOWN` |`DT_DOWN`| Decreases the current tapping term by `DYNAMIC_TAPPING_TERM_INCREMENT`ms (5ms by default) |\n\nSet the tapping term as usual with `#define TAPPING_TERM <value>` in `config.h` and add `DYNAMIC_TAPPING_TERM_ENABLE = yes` in `rules.mk`. Then, place the above three keys somewhere in your keymap and flash the new firmware onto your board.\n\nNow, you can try using your dual-role keys, such as layer-taps and mod-taps, and use `DT_DOWN` and `DT_UP` to adjust the tapping term immediately. If you find that you frequently trigger the modifier of your mod-tap(s) by accident, for example, that's a sign that your tapping term may be too low so tap `DT_UP` a few times to increase the tapping term until that no longer happens. On the flip side, if you get superfluous characters when you actually intended to momentarily activate a layer, tap `DT_DOWN` to lower the tapping term. Do note that these keys affect the *global* tapping term, you cannot change the tapping term of a specific key on the fly.\n\nOnce you're satisfied with the current tapping term value, open `config.h` and replace whatever value you first wrote for the tapping term by the output of the `DT_PRNT` key.\n\nIt's important to update `TAPPING_TERM` with the new value because the adjustments made using `DT_UP` and `DT_DOWN` are not persistent.\n\nThe value by which the tapping term increases or decreases when you tap `DT_UP` and `DT_DOWN` can be configured in `config.h` with `#define DYNAMIC_TAPPING_TERM_INCREMENT <new value>`. Note that the tapping term is *not* modified when holding down the tap term keys so if you need to, for example, decrease the current tapping term by 50ms, you cannot just press down and hold `DT_DOWN`; you will have to tap it 10 times in a row with the default increment of 5ms.\n\nIf you need more flexibility, nothing prevents you from defining your own custom keys to dynamically change the tapping term.\n\n```\nenum custom_dynamic_tapping_term_keys = {\n    DT_UP_50 = SAFE_RANGE,\n    DT_DOWN_50,\n    DT_UP_X2,\n    DT_DOWN_X2,\n}\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n    case DT_UP_50:\n        if (record->event.pressed) {\n            g_tapping_term += 50;\n        }\n        break;\n    case DT_DOWN_50:\n        if (record->event.pressed) {\n            g_tapping_term -= 50;\n        }\n        break;\n    case DT_UP_X2:\n        if (record->event.pressed) {\n            g_tapping_term *= 2;\n        }\n        break;\n    case DT_DOWN_X2:\n        if (record->event.pressed) {\n            g_tapping_term /= 2;\n        }\n        break;\n    }\n    return true;\n};\n```\n\nIn order for this feature to be effective if you use per-key tapping terms, you need to make a few changes to the syntax of the `get_tapping_term` function. All you need to do is replace every occurrence of `TAPPING_TERM` in the `get_tapping_term` function by lowercase `g_tapping_term`. If you don't do that, you will still see the value typed by `DT_PRNT` go up and down as you configure the tapping term on the fly but you won't feel those changes as they don't get applied. If you can go as low as 10ms and still easily trigger the tap function of a dual-role key, that's a sign that you forgot to make the necessary changes to your `get_tapping_term` function.\n\nFor instance, here's how the example `get_tapping_term` shown earlier should look after the transformation:\n\n```\nuint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case SFT_T(KC_SPC):\n           return g_tapping_term + 1250;\n        case LT(1, KC_GRV):\n            return 130;\n        default:\n            return g_tapping_term;\n    }\n}\n```\n\nThe reason is that `TAPPING_TERM` is a macro that expands to a constant integer and thus cannot be changed at runtime whereas `g_tapping_term` is a variable whose value can be changed at runtime. If you want, you can temporarily enable `DYNAMIC_TAPPING_TERM_ENABLE` to find a suitable tapping term value and then disable that feature and revert back to using the classic syntax for per-key tapping term settings. In case you need to access the tapping term from elsewhere in your code, you can use the `GET_TAPPING_TERM(keycode, record)` macro. This macro will expand to whatever is the appropriate access pattern given the current configuration."
        },
        "Tap-Or-Hold Decision Modes": {
          "Comparison {#comparison}": {
            "Distinct taps (AABB) {#distinct-taps}": "| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 199  | `LSFT_T(KC_A)` up  | a              | a                 |  a                         |\n| 210  | `KC_B`      down   | ab             | ab                |  ab                        |\n| 220  | `KC_B`      up     | ab             | ab                |  ab                        |\n\n| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 200  | `LSFT_T(KC_A)` held|<kbd>Shift</kbd>| <kbd>Shift</kbd>  | <kbd>Shift</kbd>           |\n| 201  | `LSFT_T(KC_A)` up  |<kbd>Shift</kbd>| <kbd>Shift</kbd>  | <kbd>Shift</kbd>           |\n| 205  | `KC_B`      down   | b              | b                 |  b                         |\n| 210  | `KC_B`      up     | b              | b                 |  b                         |",
            "Nested tap (ABBA) {#nested-tap}": "| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 110  | `KC_B` down        |                |                   | B                          |\n| 120  | `KC_B` up          |                | B                 | B                          |\n| 199  | `LSFT_T(KC_A)` up  | ab             | B                 | B                          |\n\n| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 110  | `KC_B` down        |                |                   | B                          |\n| 120  | `KC_B` up          |                | B                 | B                          |\n| 200  | `LSFT_T(KC_A)` held| B              | B                 | B                          |\n| 210  | `LSFT_T(KC_A)` up  | B              | B                 | B                          |\n\n| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 200  | `LSFT_T(KC_A)` held|<kbd>Shift</kbd>| <kbd>Shift</kbd>  | <kbd>Shift</kbd>           |\n| 205  | `KC_B` down        | B              | B                 | B                          |\n| 210  | `KC_B` up          | B              | B                 | B                          |\n| 220  | `LSFT_T(KC_A)` up  | B              | B                 | B                          |",
            "Rolling keys (ABAB) {#rolling-keys}": "| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 110  | `KC_B` down        |                |                   | B                          |\n| 130  | `LSFT_T(KC_A)` up  | ab             | ab                | B                          |\n| 140  | `KC_B` up          | ab             | ab                | B                          |\n\n| Time | Physical key event |    Default     | `PERMISSIVE_HOLD` |  `HOLD_ON_OTHER_KEY_PRESS` |\n|------|--------------------|----------------|-------------------|----------------------------|\n| 0    | `LSFT_T(KC_A)` down|                |                   |                            |\n| 110  | `KC_B` down        |                |                   | B                          |\n| 200  | `LSFT_T(KC_A)` held| B              | B                 | B                          |\n| 205  | `LSFT_T(KC_A)` up  | B              | B                 | B                          |\n| 210  | `KC_B` up          | B              | B                 | B                          |"
          },
          "Default Mode": "Example sequence 1 (the `L` key is also mapped to `KC_RGHT` on layer 2):\n\n```\n             TAPPING_TERM\n  +---------------|--------------------+\n  | +-------------|-------+            |\n  | | LT(2, KC_A) |       |            |\n  | +-------------|-------+            |\n  |               | +--------------+   |\n  |               | | KC_L         |   |\n  |               | +--------------+   |\n  +---------------|--------------------+\n```\n\nThe above sequence would send a `KC_RGHT`, since `LT(2, KC_A)` is held longer than the `TAPPING_TERM`.\n\n[]\n\nExample sequence 2 (the `L` key is also mapped to `KC_RGHT` on layer 2):\n\n```\n                           TAPPING_TERM\n  +-----------------------------|------+\n  | +---------------+           |      |\n  | | LT(2, KC_A)   |           |      |\n  | +---------------+           |      |\n  |            +--------------+ |      |\n  |            | KC_L         | |      |\n  |            +--------------+ |      |\n  +-----------------------------|------+\n```\n\nThe above sequence will not send `KC_RGHT` but `KC_A` `KC_L` instead, since `LT(2, KC_A)` is not held longer than the `TAPPING_TERM`.\n\n[]\n\nExample sequence 3 (Mod Tap):\n\n```\n                         TAPPING_TERM\n  +---------------------------|--------+\n  | +-------------+           |        |\n  | | SFT_T(KC_A) |           |        |\n  | +-------------+           |        |\n  |       +--------------+    |        |\n  |       | KC_X         |    |        |\n  |       +--------------+    |        |\n  +---------------------------|--------+\n```\n\nIn the above sequence, `SFT_T(KC_A)` has been released before the end of its `TAPPING_TERM` and as such will be interpreted as `KC_A`,\nfollowed by any key event that happened after the initial press of `SFT_T(KC_A)`. In this instance, the output would be `KC_A` `KC_X`.",
          "Permissive Hold": "The permissive hold mode can be enabled for all dual-role keys by adding the corresponding option to `config.h`:\n\n```\n#define PERMISSIVE_HOLD\n```\n\nThis makes tap and hold keys (like Layer Tap) work better for fast typists, or for high `TAPPING_TERM` settings.\n\nIf you press a dual-role key, tap another key (press and release) and then release the dual-role key, all within the tapping term, by default the dual-role key will perform its tap action.  If the `PERMISSIVE_HOLD` option is enabled, the dual-role key will perform its hold action instead.\n\nAn example of a sequence that is affected by the permissive hold mode:\n\n['`LT(2, KC_A)` Down', '`KC_L` Down (the `L` key is also mapped to `KC_RGHT` on layer 2)', '`KC_L` Up', '`LT(2, KC_A)` Up']\n\n```\n                         TAPPING_TERM   \n  +---------------------------|--------+\n  | +----------------------+  |        |\n  | | LT(2, KC_A)          |  |        |\n  | +----------------------+  |        |\n  |    +--------------+       |        |\n  |    | KC_L         |       |        |\n  |    +--------------+       |        |\n  +---------------------------|--------+\n```\n\nNormally, if you do all this within the `TAPPING_TERM` (default: 200ms), this will be registered as `al` by the firmware and host system.  With the `PERMISSIVE_HOLD` option enabled, the Layer Tap key is considered as a layer switch if another key is tapped, and the above sequence would be registered as `KC_RGHT` (the mapping of `L` on layer 2). We could describe this sequence as a nested tap (the modified key's key down and key up events are nested between the dual-role key's key down and key up events).\n\nHowever, this slightly different sequence will not be affected by the permissive hold mode:\n\n['`LT(2, KC_A)` Down', '`KC_L` Down (the `L` key is also mapped to `KC_RGHT` on layer 2)', '`LT(2, KC_A)` Up', '`KC_L` Up']\n\n```\n                         TAPPING_TERM   \n  +---------------------------|--------+\n  | +-------------+           |        |\n  | | LT(2, KC_A) |           |        |\n  | +-------------+           |        |\n  |       +--------------+    |        |\n  |       | KC_L         |    |        |\n  |       +--------------+    |        |\n  +---------------------------|--------+\n```\n\nIn the sequence above the dual-role key is released before the other key is released, and if that happens within the tapping term, the permissive hold mode will still choose the tap action for the dual-role key, and the sequence will be registered as `al` by the host. We could describe this as a rolling press (the two keys' key down and key up events behave as if you were rolling a ball across the two keys, first pressing each key down in sequence and then releasing them in the same order).\n\n::: tip\nThe `PERMISSIVE_HOLD` option is not noticeable if you also enable `HOLD_ON_OTHER_KEY_PRESS` because the latter option considers both the nested tap and rolling press sequences like shown above as a hold action, not the tap action. `HOLD_ON_OTHER_KEY_PRESS` makes the Tap-Or-Hold decision earlier in the chain of key events, thus taking a precedence over `PERMISSIVE_HOLD`.\n:::\n\nFor more granular control of this feature, you can add the following to your `config.h`:\n\n```\n#define PERMISSIVE_HOLD_PER_KEY\n```\n\nYou can then add the following function to your keymap:\n\n```\nbool get_permissive_hold(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LT(1, KC_BSPC):\n            // Immediately select the hold action when another key is tapped.\n            return true;\n        default:\n            // Do not select the hold action when another key is tapped.\n            return false;\n    }\n}\n```",
          "Hold On Other Key Press": "The hold on other key press mode can be enabled for all dual-role keys by adding the corresponding option to `config.h`:\n\n```\n#define HOLD_ON_OTHER_KEY_PRESS\n```\n\nThis mode makes tap and hold keys (like Layer Tap) work better for fast typists, or for high `TAPPING_TERM` settings.  Compared to the permissive hold mode, this mode selects the hold action in more cases.\n\nIf you press a dual-role key, press another key, and then release the dual-role key, all within the tapping term, by default the dual-role key will perform its tap action.  If the `HOLD_ON_OTHER_KEY_PRESS` option is enabled, the dual-role key will perform its hold action instead.\n\nAn example of a sequence that is affected by the hold on other key press mode, but not by the permissive hold mode:\n\n['`LT(2, KC_A)` Down', '`KC_L` Down (the `L` key is also mapped to `KC_RGHT` on layer 2)', '`LT(2, KC_A)` Up', '`KC_L` Up']\n\n```\n                         TAPPING_TERM\n  +---------------------------|--------+\n  | +-------------+           |        |\n  | | LT(2, KC_A) |           |        |\n  | +-------------+           |        |\n  |       +--------------+    |        |\n  |       | KC_L         |    |        |\n  |       +--------------+    |        |\n  +---------------------------|--------+\n```\n\nNormally, if you do all this within the `TAPPING_TERM` (default: 200ms), this will be registered as `al` by the firmware and host system.  With the `HOLD_ON_OTHER_KEY_PRESS` option enabled, the Layer Tap key is considered as a layer switch if another key is pressed, and the above sequence would be registered as `KC_RGHT` (the mapping of `L` on layer 2).\n\nFor more granular control of this feature, you can add the following to your `config.h`:\n\n```\n#define HOLD_ON_OTHER_KEY_PRESS_PER_KEY\n```\n\nYou can then add the following function to your keymap:\n\n```\nbool get_hold_on_other_key_press(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LT(1, KC_BSPC):\n            // Immediately select the hold action when another key is pressed.\n            return true;\n        default:\n            // Do not select the hold action when another key is pressed.\n            return false;\n    }\n}\n```"
        },
        "Quick Tap Term": "When the user holds a key after tapping it, the tapping function is repeated by default, rather than activating the hold function. This allows keeping the ability to auto-repeat the tapping function of a dual-role key. `QUICK_TAP_TERM` enables fine tuning of that ability. If set to `0`, it will remove the auto-repeat ability and activate the hold function instead.\n\n`QUICK_TAP_TERM` is set to `TAPPING_TERM` by default, which is the maximum allowed value for `QUICK_TAP_TERM`. To override its value (in milliseconds) add the following to your `config.h`:\n\n```\n#define QUICK_TAP_TERM 120\n```\n\nExample:\n\n['`SFT_T(KC_A)` Down', '`SFT_T(KC_A)` Up', '`SFT_T(KC_A)` Down', '(wait until tapping term expires...)']\n\nWith default settings, `a` will be sent on the first release, then `a` will be sent on the second press allowing the computer to trigger its auto repeat function until the key is released.\n\nWith `QUICK_TAP_TERM` configured, the timing between `SFT_T(KC_A)` up and `SFT_T(KC_A)` down must be within `QUICK_TAP_TERM` to trigger auto repeat. Otherwise the second press will be sent as a Shift. If `QUICK_TAP_TERM` is set to `0`, the second press will always be sent as a Shift, effectively disabling auto-repeat.\n\n::: warning\n`QUICK_TAP_TERM` timing will also impact anything that uses tapping toggles (Such as the `TT` layer keycode, and the One Shot Tap Toggle).\n:::\n\nFor more granular control of this feature, you can add the following to your `config.h`:\n\n```\n#define QUICK_TAP_TERM_PER_KEY\n```\n\nYou can then add the following function to your keymap:\n\n```\nuint16_t get_quick_tap_term(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case SFT_T(KC_SPC):\n            return QUICK_TAP_TERM - 20;\n        default:\n            return QUICK_TAP_TERM;\n    }\n}\n```\n\n::: tip\nIf `QUICK_TAP_TERM` is set higher than `TAPPING_TERM`, it will default to `TAPPING_TERM`.\n:::",
        "Flow Tap": {
          "is_flow_tap_key()": "Optionally, define the `is_flow_tap_key()` callback to specify where Flow Tap is enabled. The callback is called for both the tap-hold key *and* the key press immediately preceding it, and if the callback returns true for both keycodes, Flow Tap is enabled.\n\nThe default implementation of this callback is:\n\n```\nbool is_flow_tap_key(uint16_t keycode) {\n    if ((get_mods() & (MOD_MASK_CG | MOD_BIT_LALT)) != 0) {\n        return false; // Disable Flow Tap on hotkeys.\n    }\n    switch (get_tap_keycode(keycode)) {\n        case KC_SPC:\n        case KC_A ... KC_Z:\n        case KC_DOT:\n        case KC_COMM:\n        case KC_SCLN:\n        case KC_SLSH:\n            return true;\n    }\n    return false;\n}\n```\n\nCopy the above to your `keymap.c` and edit to customize. For instance, remove the `case KC_SPC` line to disable Flow Tap for the Space key.",
          "get_flow_tap_term()": "Optionally, for further flexibility, define the `get_flow_tap_term()` callback. Flow Tap acts only when key events are closer together than the time returned by the callback. Return a time of 0 to disable filtering. In this way, Flow Tap may be disabled for certain tap-hold keys, or when following certain previous keys.\n\nThe default implementation of this callback is\n\n```\nuint16_t get_flow_tap_term(uint16_t keycode, keyrecord_t* record,\n                           uint16_t prev_keycode) {\n    if (is_flow_tap_key(keycode) && is_flow_tap_key(prev_keycode)) {\n        return FLOW_TAP_TERM;\n    }\n    return 0;\n}\n```\n\nIn this callback, `keycode` and `record` correspond to the current tap-hold key, and `prev_keycode` is the keycode of the previous key. Return the timeout to use. Returning `0` disables Flow Tap. This callback enables setting per-key timeouts. It is also possible to enable or disable Flow Tap for certain tap-hold keys or when following certain previous keys. Example:\n\n```\nuint16_t get_flow_tap_term(uint16_t keycode, keyrecord_t* record, \n                           uint16_t prev_keycode) {\n    if (is_flow_tap_key(keycode) && is_flow_tap_key(prev_keycode)) {\n        switch (keycode) {\n            case LCTL_T(KC_F):\n            case RCTL_T(KC_H):\n              return FLOW_TAP_TERM - 25;  // Short timeout on these keys.\n\n            default:\n              return FLOW_TAP_TERM;  // Longer timeout otherwise.\n        }\n    }\n    return 0;  // Disable Flow Tap.\n}\n```\n\n::: tip If you define both `is_flow_tap_key()` and `get_flow_tap_term()`, then the latter takes precedence.\n:::"
        },
        "Chordal Hold": {
          "Chordal Hold Handedness": "Determining whether keys are on the same or opposite hands involves defining the\n\"handedness\" of each key position. By default, if nothing is specified,\nhandedness is guessed based on keyboard geometry.\n\nHandedness may be specified with `chordal_hold_layout`. In keymap.c, define\n`chordal_hold_layout` in the following form:\n\n```\nconst char chordal_hold_layout[MATRIX_ROWS][MATRIX_COLS] PROGMEM =\n    LAYOUT(\n        'L', 'L', 'L', 'L', 'L', 'L',  'R', 'R', 'R', 'R', 'R', 'R', \n        'L', 'L', 'L', 'L', 'L', 'L',  'R', 'R', 'R', 'R', 'R', 'R', \n        'L', 'L', 'L', 'L', 'L', 'L',  'R', 'R', 'R', 'R', 'R', 'R', \n                       'L', 'L', 'L',  'R', 'R', 'R'\n    );\n```\n\nUse the same `LAYOUT` macro as used to define your keymap layers. Each entry is\na character indicating the handedness of one key, either `'L'` for left, `'R'`\nfor right, or `'*'` to exempt keys from the \"opposite hands rule.\" A key with\n`'*'` handedness may settle as held in chords with any other key. This could be\nused perhaps on thumb keys or other places where you want to allow same-hand\nchords.\n\nKeyboard makers may specify handedness in keyboard.json. Under `\"layouts\"`,\nspecify the handedness of a key by adding a `\"hand\"` field with a value of\neither `\"L\"`, `\"R\"`, or `\"*\"`. Note that if `\"layouts\"` contains multiple\nlayouts, only the first one is read. For example:\n\n```\n{\"matrix\": [5, 6], \"x\": 0, \"y\": 5.5, \"w\": 1.25, \"hand\": \"*\"},\n```\n\nAlternatively, handedness may be defined functionally with\n`chordal_hold_handedness()`. For example, in keymap.c define:\n\n```\nchar chordal_hold_handedness(keypos_t key) {\n    if (key.col == 0 || key.col == MATRIX_COLS - 1) {\n        return '*';  // Exempt the outer columns.\n    }\n    // On split keyboards, typically, the first half of the rows are on the\n    // left, and the other half are on the right.\n    return key.row < MATRIX_ROWS / 2 ? 'L' : 'R';\n}\n```\n\nGiven the matrix position of a key, the function should return `'L'`, `'R'`, or\n`'*'`. Adapt the logic in this function according to the keyboard's matrix.\n\n::: warning\nNote the matrix may have irregularities around larger keys, around the edges of\nthe board, and around thumb clusters. You may find it helpful to use [this\ndebugging example](faq_debug#which-matrix-position-is-this-keypress) to\ncorrespond physical keys to matrix positions.\n:::\n\n::: tip If you define both `chordal_hold_layout[MATRIX_ROWS][MATRIX_COLS]` and\n`chordal_hold_handedness(keypos_t key)` for handedness, the latter takes\nprecedence.\n:::",
          "Per-chord customization": "Beyond the per-key configuration possible through handedness, Chordal Hold may\nbe configured at a *per-chord* granularity for detailed tuning. In keymap.c,\ndefine `get_chordal_hold()`. Returning `true` allows the chord to be held, while\nreturning `false` settles as tapped.\n\nFor example:\n\n```\nbool get_chordal_hold(uint16_t tap_hold_keycode, keyrecord_t* tap_hold_record,\n                      uint16_t other_keycode, keyrecord_t* other_record) {\n    // Exceptionally allow some one-handed chords for hotkeys.\n    switch (tap_hold_keycode) {\n        case LCTL_T(KC_Z):\n            if (other_keycode == KC_C || other_keycode == KC_V) {\n                return true;\n            }\n            break;\n\n        case RCTL_T(KC_SLSH):\n            if (other_keycode == KC_N) {\n                return true;\n            }\n            break;\n    }\n    // Otherwise defer to the opposite hands rule.\n    return get_chordal_hold_default(tap_hold_record, other_record);\n}\n```\n\nAs shown in the last line above, you may use\n`get_chordal_hold_default(tap_hold_record, other_record)` to get the default tap\nvs. hold decision according to the opposite hands rule."
        },
        "Retro Tapping": {
          "Retro Shift": "[Auto Shift,](features/auto_shift) has its own version of `retro tapping` called `retro shift`. It is extremely similar to `retro tapping`, but holding the key past `AUTO_SHIFT_TIMEOUT` results in the value it sends being shifted. Other configurations also affect it differently; see [here](features/auto_shift#retro-shift) for more information."
        },
        "Why do we include the key record for the per key functions?": "One thing that you may notice is that we include the key record for all of the \"per key\" functions, and may be wondering why we do that.\n\nWell, it's simple really: customization.  But specifically, it depends on how your keyboard is wired up.  For instance, if each row is actually using a row in the keyboard's matrix, then it may be simpler to use `if (record->event.key.row == 3)` instead of checking a whole bunch of keycodes.  Which is especially good for those people using the Tap Hold type keys on the home row. So you could fine-tune those to not interfere with your normal typing.",
        "Why are there no `*_kb` or `*_user` functions?!": "Unlike many of the other functions here, there isn't a need (or even reason) to have a quantum or keyboard-level function. Only user-level functions are useful here, so no need to mark them as such."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 103]"
    },
    {
      "title": "Understanding QMK's Code",
      "description": null,
      "content": {
        "Startup": "You can think of QMK as no different from any other computer program. It is started and performs its tasks, but this program never finishes. Like other C programs, the entry point is the `main()` function. For QMK, the `main()` function is found in [`quantum/main.c`](https://github.com/qmk/qmk_firmware/blob/0.15.13/quantum/main.c#L55).\n\nIf you browse through the `main()` function you'll find that it starts by initializing any hardware that has been configured (including USB to the host). The most common platform for QMK is `lufa`, which runs on AVR processors such as the atmega32u4. When compiled for that platform, it will invoke for example `platform_setup()` in [`platforms/avr/platform.c`](https://github.com/qmk/qmk_firmware/blob/0.15.13/platforms/avr/platform.c#L19) and `protocol_setup()` in [`tmk_core/protocol/lufa/lufa.c`](https://github.com/qmk/qmk_firmware/blob/0.15.13/tmk_core/protocol/lufa/lufa.c#L1066). It will use other implementations when compiled for other platforms like `chibios` and `vusb`. At first glance, it can look like a lot of functionality but most of the time the code will be disabled by `#define`s.\n\nThe `main()` function will then start the core part of the program with a [`while (true)`](https://github.com/qmk/qmk_firmware/blob/0.15.13/quantum/main.c#L63). This is [The Main Loop](#the-main-loop).",
        "The Main Loop": "This section of code is called \"The Main Loop\" because it's responsible for looping over the same set of instructions forever, without ever reaching the end. This is where QMK dispatches out to the functions responsible for making the keyboard do everything it is supposed to do.\n\nThe main loop will call [`protocol_task()`](https://github.com/qmk/qmk_firmware/blob/0.15.13/quantum/main.c#L38), which in turn will call `keyboard_task()` in [`quantum/keyboard.c`](https://github.com/qmk/qmk_firmware/blob/0.15.13/quantum/keyboard.c#L377). This is where all the keyboard specific functionality is dispatched, and it is responsible for detecting changes in the matrix and turning status LEDs on and off.\n\nWithin `keyboard_task()` you'll find code to handle:\n\n['[Matrix Scanning](#matrix-scanning)', 'Mouse Handling', 'Keyboard status LEDs (Caps Lock, Num Lock, Scroll Lock)']\n\nMatrix Scanning\n\nMatrix scanning is the core function of a keyboard firmware. It is the process of detecting which keys are currently pressed, and your keyboard runs this function many times a second. It's no exaggeration to say that 99% of your firmware's CPU time is spent on matrix scanning.\n\nWhile there are different strategies for doing the actual matrix detection, they are out of scope for this document. It is sufficient to treat matrix scanning as a black box, you ask for the matrix's current state and get back a datastructure that looks like this:\n\n```\n{\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0}\n}\n```\n\nThat datastructure is a direct representation of the matrix for a 5 row by 4 column numpad. When a key is pressed that key's position within the matrix will be returned as `1` instead of `0`.\n\nMatrix Scanning runs many times per second. The exact rate varies but typically it runs at least 10 times per second to avoid perceptible lag.\n\nMatrix to Physical Layout Map\n\nOnce we know the state of every switch on our keyboard we have to map that to a keycode. In QMK this is done by making use of C macros to allow us to separate the definition of the physical layout from the definition of keycodes.\n\nAt the keyboard level we define a C macro (typically named `LAYOUT()`) which maps our keyboard's matrix to physical keys. Sometimes the matrix does not have a switch in every location, and we can use this macro to pre-populate those with KC_NO, making the keymap definition easier to work with. Here's an example `LAYOUT()` macro for a numpad:\n\n```\n#define LAYOUT( \\\n    k00, k01, k02, k03, \\\n    k10, k11, k12, k13, \\\n    k20, k21, k22, \\\n    k30, k31, k32, k33, \\\n    k40,      k42 \\\n) { \\\n    { k00, k01,   k02, k03   }, \\\n    { k10, k11,   k12, k13   }, \\\n    { k20, k21,   k22, KC_NO }, \\\n    { k30, k31,   k32, k33   }, \\\n    { k40, KC_NO, k42, KC_NO } \\\n}\n```\n\nNotice how the second block of our `LAYOUT()` macro matches the Matrix Scanning array above? This macro is what will map the matrix scanning array to keycodes. However, if you look at a 17 key numpad you'll notice that it has 3 places where the matrix could have a switch but doesn't, due to larger keys. We have populated those spaces with `KC_NO` so that our keymap definition doesn't have to.\n\nYou can also use this macro to handle unusual matrix layouts, for example the [Alice](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/keyboards/sneakbox/aliceclone/aliceclone.h#L24). Explaining that is outside the scope of this document.\n\nKeycode Assignment\n\nAt the keymap level we make use of our `LAYOUT()` macro above to map keycodes to physical locations to matrix locations. It looks like this:\n\n```\nconst uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n    [0] = LAYOUT(\n        KC_NUM,  KC_PSLS, KC_PAST, KC_PMNS,\n        KC_P7,   KC_P8,   KC_P9,   KC_PPLS,\n        KC_P4,   KC_P5,   KC_P6,\n        KC_P1,   KC_P2,   KC_P3,   KC_PENT,\n        KC_P0,            KC_PDOT\n    )\n}\n```\n\nNotice how all of these arguments match up with the first half of the `LAYOUT()` macro from the last section? This is how we take a keycode and map it to our Matrix Scan from earlier.\n\nState Change Detection\n\nThe matrix scanning described above tells us the state of the matrix at a given moment, but your computer only wants to know about changes, it doesn't care about the current state. QMK stores the results from the last matrix scan and compares the results from this matrix to determine when a key has been pressed or released.\n\nLet's look at an example. We'll hop into the middle of a keyboard scanning loop to find that our previous scan looks like this:\n\n```\n{\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0}\n}\n```\n\nAnd when our current scan completes it will look like this:\n\n```\n{\n    {1,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0},\n    {0,0,0,0}\n}\n```\n\nComparing against our keymap we can see that the pressed key is `KC_NUM`. From here we dispatch to the `process_record` set of functions.\n\n<!-- FIXME: Magic happens between here and process_record -->\n\nProcess Record\n\nThe `process_record()` function itself is deceptively simple, but hidden within is a gateway to overriding functionality at various levels of QMK. The chain of events is listed below, using cluecard whenever we need to look at the keyboard/keymap level functions. Depending on options set in `rules.mk` or elsewhere, only a subset of the functions below will be included in final firmware.\n\n['[`void action_exec(keyevent_t event)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/action.c#L78-L140)', ['[`void pre_process_record_quantum(keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/quantum.c#L204)', ['[`bool pre_process_record_kb(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/27119fa77e8a1b95fff80718d3db4f3e32849298/quantum/quantum.c#L117)', ['[`bool pre_process_record_user(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/27119fa77e8a1b95fff80718d3db4f3e32849298/quantum/quantum.c#L121)'], '[`bool process_combo(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_combo.c#L521)'], '[`void process_record(keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/action.c#L254)', ['[`bool process_record_quantum(keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/quantum.c#L224)', ['[Map this record to a keycode](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/quantum.c#L225)', '[`void velocikey_accelerate(void)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/velocikey.c#L27)', '[`void update_wpm(uint16_t keycode)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/wpm.c#L109)', '[`void preprocess_tap_dance(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_tap_dance.c#L118)', '[`bool process_key_lock(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_key_lock.c#L64)', '[`bool process_dynamic_macro(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_dynamic_macro.c#L160)', '[`bool process_clicky(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_clicky.c#L84)', '[`bool process_haptic(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_haptic.c#L87)', '[`bool process_record_via(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/via.c#L160)', '[`bool process_record_kb(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/keyboards/planck/ez/ez.c#L271)', ['[`bool process_record_user(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/keyboards/planck/keymaps/default/keymap.c#L183)'], '[`bool process_secure(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_secure.c#L23)', '[`bool process_sequencer(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_sequencer.c#L19)', '[`bool process_midi(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_midi.c#L75)', '[`bool process_audio(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_audio.c#L18)', '[`bool process_backlight(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_backlight.c#L25)', '[`bool process_steno(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_steno.c#L159)', '[`bool process_music(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_music.c#L103)', '[`bool process_key_override(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/5a1b857dea45a17698f6baa7dd1b7a7ea907fb0a/quantum/process_keycode/process_key_override.c#L397)', '[`bool process_tap_dance(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_tap_dance.c#L135)', '[`bool process_caps_word(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_caps_word.c#L17)', '[`bool process_unicode_common(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_unicode_common.c#L290)\\ncalls one of:', ['[`bool process_unicode(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_unicode.c#L21)', '[`bool process_unicodemap(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_unicodemap.c#L42)', '[`bool process_ucis(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_ucis.c#L70)'], '[`bool process_leader(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_leader.c#L48)', '[`bool process_auto_shift(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_auto_shift.c#L353)', '[`bool process_dynamic_tapping_term(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_dynamic_tapping_term.c#L35)', '[`bool process_space_cadet(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_space_cadet.c#L123)', '[`bool process_magic(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_magic.c#L40)', '[`bool process_grave_esc(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_grave_esc.c#L23)', '[`bool process_rgb(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_rgb.c#L53)', '[`bool process_joystick(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_joystick.c#L9)', '[`bool process_programmable_button(uint16_t keycode, keyrecord_t *record)`](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/process_keycode/process_programmable_button.c#L21)', '[Identify and process Quantum-specific keycodes](https://github.com/qmk/qmk_firmware/blob/325da02e57fe7374e77b82cb00360ba45167e25c/quantum/quantum.c#L343)']]]]\n\nAt any step during this chain of events a function (such as `process_record_kb()`) can `return false` to halt all further processing.\n\nAfter this is called, `post_process_record()` is called, which can be used to handle additional cleanup that needs to be run after the keycode is normally handled.\n\n['[`void post_process_record(keyrecord_t *record)`]()', ['[`void post_process_record_quantum(keyrecord_t *record)`]()', ['[Map this record to a keycode]()', '[`void post_process_clicky(uint16_t keycode, keyrecord_t *record)`]()', '[`void post_process_record_kb(uint16_t keycode, keyrecord_t *record)`]()', ['[`void post_process_record_user(uint16_t keycode, keyrecord_t *record)`]()']]]]\n\n<!--\n#### Mouse Handling\n\nFIXME: This needs to be written\n\nSerial Link(s)\n\nFIXME: This needs to be written\n\nKeyboard state LEDs (Caps Lock, Num Lock, Scroll Lock)\n\nFIXME: This needs to be written\n\n-->"
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 104]"
    },
    {
      "title": "Unit Testing",
      "description": null,
      "content": {
        "Google Test and Google Mock": "It's possible to Unit Test your code using [Google Test](https://github.com/google/googletest). The Google Test framework also includes another component for writing testing mocks and stubs, called \"Google Mock\". For information how to write the actual tests, please refer to the documentation on that site.",
        "Use of C++": "Note that Google Test and therefore any test has to be written in C++, even if the rest of the QMK codebases is written in C. This should hopefully not be a problem even if you don't know any C++, since there's quite clear documentation and examples of the required C++ features, and you can write the rest of the test code almost as you would write normal C. Note that some compiler errors which you might get can look quite scary, but just read carefully what it says, and you should be ok.\n\nOne thing to remember, is that you have to append `extern \"C\"` around all of your C file includes.",
        "Adding Tests for New or Existing Features": "If you want to unit test a feature, take a look at some of the existing tests, for example those in the `quantum/sequencer/tests` folder. Then follow the steps below to create a similar structure.\n\n[\"If it doesn't already exist, add a test subfolder to the folder containing the feature.\", 'Create a `testlist.mk` and a `rules.mk` file in that folder.', 'Include those files from the root folder `testlist.mk`and `build_test.mk` respectively.', \"Add a new name for your testgroup to the `testlist.mk` file. Each group defined there will be a separate executable. And that's how you can support mocking out different parts. Note that it's worth adding some common prefix, just like it's done for the existing tests. The reason for that is that the make command allows substring filtering, so this way you can easily run a subset of the tests.\", 'Define the source files and required options in the `rules.mk` file.', ['`_SRC` for source files', '`_DEFS` for additional defines', '`_INC` for additional include folders'], 'Write the tests in a new cpp file inside the test folder you created. That file has to be one of the files included from the `rules.mk` file.']\n\nNote how there's several different tests, each mocking out a separate part. Also note that each of them only compiles the very minimum that's needed for the tests. It's recommend that you try to do the same. For a relevant video check out [Matt Hargett \"Advanced Unit Testing in C & C++](https://www.youtube.com/watch?v=Wmy6g-aVgZI)",
        "Running the Tests": "To run all the tests in the codebase, type `make test:all`. You can also run test matching a substring by typing `make test:matchingsubstring`. `matchingsubstring` can contain colons to be more specific; `make test:tap_hold_configurations` will run the `tap_hold_configurations` tests for all features while `make test:retro_shift:tap_hold_configurations` will run the `tap_hold_configurations` tests for only the Retro Shift feature.\n\nNote that the tests are always compiled with the native compiler of your platform, so they are also run like any other program on your computer.",
        "Debugging the Tests": "If there are problems with the tests, you can find the executable in the `./build/test` folder. You should be able to run those with GDB or a similar debugger.\n\nTo forward any [debug messages](unit_testing#debug-api) to `stderr`, the tests can run with `DEBUG=1`. For example\n\n```\nmake test:all DEBUG=1\n```\n\nAlternatively, add `CONSOLE_ENABLE=yes` to the tests `rules.mk`.",
        "Full Integration Tests": "It's not yet possible to do a full integration test, where you would compile the whole firmware and define a keymap that you are going to test. However there are plans for doing that, because writing tests that way would probably be easier, at least for people that are not used to unit testing.\n\nIn that model you would emulate the input, and expect a certain output from the emulated keyboard."
      },
      "metadata": {},
      "subpages": [],
      "path": "[\"subpages\", 105]"
    },
    {
      "title": "Changelog",
      "description": "Documentation section: ChangeLog",
      "content": {},
      "metadata": {
        "type": "directory",
        "path": "/home/anhnh/CodeWikiBench/data/qmk_firmware/original/docs/ChangeLog"
      },
      "subpages": [
        {
          "title": "QMK Breaking Change - 2019 Aug 30",
          "description": null,
          "content": {
            "Core code formatting with clang-format": [
              "All core files (`drivers/`, `quantum/`, `tests/`, and `tmk_core/`) have been formatted with clang-format",
              "A travis process to reformat PRs on merge has been instituted",
              "You can use the new CLI command `qmk cformat` to format before submitting your PR if you wish."
            ],
            "LUFA USB descriptor cleanup": [
              "Some code cleanups related to the USB HID descriptors on AVR keyboards, to make them easier to read and understand",
              "More information: see https://github.com/qmk/qmk_firmware/pull/4871",
              "No behaviour changes anticipated and no keymaps modified"
            ],
            "Migrating `ACTION_LAYER_MOMENTARY()` entries in `fn_actions` to `MO()` keycodes": [
              "`fn_actions` is deprecated, and its functionality has been superseded by direct keycodes and `process_record_user()`",
              "The end result of removing this obsolete feature should result in a decent reduction in firmware size and code complexity",
              "All keymaps affected are recommended to switch away from `fn_actions` in favour of the [custom keycode](../custom_quantum_functions) and [macro](../feature_macros) features"
            ],
            "Update Atreus to current code conventions": [
              "Duplicate include guards have bypassed the expected header processing behavior",
              "All keymaps affected are recommended to remove duplication of `<keyboard>/config.h` to `<keyboard>/keymaps/<user>/config.h` and only provide overrides at the keymap level"
            ],
            "Backport changes to keymap language files from ZSA fork": [
              "Fixes an issue in the `keymap_br_abnt2.h` file that includes the wrong source (`keymap_common.h` instead of `keymap.h`)",
              "Updates the `keymap_swedish.h` file to be specific to swedish, and not just \"nordic\" in general.",
              "Any keymaps using this will need to remove `NO_*` and replace it with `SE_*`."
            ],
            "Update repo to use LUFA as a git submodule": [
              "`/lib/LUFA` removed from the repo",
              "LUFA set as a submodule, pointing to qmk/lufa",
              "This should allow more flexibility with LUFA, and allow us to keep the sub-module up to date, a lot more easily.  It was ~2 years out of date with no easy path to fix that.  This prevents that from being an issue in the future"
            ],
            "Migrating `ACTION_BACKLIGHT_*()` entries in `fn_actions` to `BL_` keycodes": [
              "`fn_actions` is deprecated, and its functionality has been superseded by direct keycodes and `process_record_user()`",
              "All keymaps using these actions have had the relevant `KC_FN*` keys replaced with the equivalent `BL_*` keys",
              "If you currently use `KC_FN*` you will need to replace `fn_actions` with the [custom keycode](../custom_quantum_functions) and [macro](../feature_macros) features"
            ],
            "Remove `KC_DELT` alias in favor of `KC_DEL`": [
              "`KC_DELT` was a redundant, undocumented alias for `KC_DELETE`",
              "It has been removed and all its uses replaced with the more common `KC_DEL` alias",
              "Around 90 keymaps (mostly for ErgoDox boards) have been modified as a result"
            ]
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 0]"
        },
        {
          "title": "QMK Breaking Change - 2020 Feb 29 Changelog",
          "description": null,
          "content": {
            "Update ChibiOS/ChibiOS-Contrib/uGFX submodules": [
              "General Notes",
              [
                "A `make git-submodule` may be required after pulling the latest QMK firmware code to update affected submodules to the upgraded revisions",
                "Enabling link-time-optimization (`LINK_TIME_OPTIMIZATION_ENABLE = yes`) should work on a lot more boards"
              ],
              "Upgrade to ChibiOS ver19.1.3",
              [
                "This will allow QMK to update to upstream ChibiOS a lot easier -- the old version was ~2 years out of date. Automated update scripts have been made available to simplify future upgrades.",
                "Includes improved MCU support and bugfixes",
                "ChibiOS revision is now included in Command output",
                "Timers should now be more accurate"
              ],
              "Upgrade to newer ChibiOS-Contrib",
              [
                "Also includes improved MCU support and bugfixes",
                "ChibiOS-Contrib revision is now included in Command output"
              ],
              "Upgrade to newer uGFX",
              [
                "Required in order to support updated ChibiOS"
              ]
            ],
            "Fix ChibiOS timer overflow for 16-bit SysTick devices": [
              "On 16-bit SysTick devices, the timer subsystem in QMK was incorrectly dealing with overflow.",
              [
                "When running at a 100000 SysTick frequency (possible on 16-bit devices, but uncommon), this overflow would occur after 0.65 seconds."
              ],
              "Timers are now correctly handling this overflow case and timing should now be correct on ChibiOS/ARM."
            ],
            "Update LUFA submodule": [
              "Updates the LUFA submodule to include updates from upstream (abcminiuser/lufa)",
              "Includes some cleanup for QMK DFU generation"
            ],
            "Encoder flip": [
              "Flips the encoder direction so that `clockwise == true` is for actually turning the knob clockwise",
              "Adds `ENCODER_DIRECTION_FLIP` define, so that reversing the expected dirction is simple for users.",
              "Cleans up documentation page for encoders"
            ],
            "Adding support for `BACKLIGHT_ON_STATE` for hardware PWM backlight": [
              "Previously, the define only affected software PWM, and hardware PWM always assumed an N-channel MOSFET.",
              "The hardware PWM backlight setup has been updated to respect this option.",
              "The default \"on\" state has been changed to `1` - **this impacts all keyboards using software PWM backlight that do not define it explicitly**. If your keyboard's backlight is acting strange, it may have a P-channel MOSFET, and will need to have `#define BACKLIGHT_ON_STATE 0` added to the keyboard-level `config.h`. Please see the PR for more detailed information."
            ],
            "Migrating `ACTION_LAYER_TAP_KEY()` entries in `fn_actions` to `LT()` keycodes": [
              "`fn_actions` is deprecated, and its functionality has been superseded by direct keycodes and `process_record_user()`",
              "The end result of removing this obsolete feature should result in a decent reduction in firmware size and code complexity",
              "All keymaps affected are recommended to switch away from `fn_actions` in favour of the [custom keycode](../custom_quantum_functions) and [macro](../feature_macros) features"
            ],
            "Moving backlight keycode handling to `process_keycode/`": [
              "This refactors the backlight keycode logic to be clearer and more modular.",
              "All backlight-related keycodes are now actioned in a single file.",
              "The `ACTION_BACKLIGHT_*` macros have also been deleted. If you are still using these in a `fn_actions[]` block, please switch to using the backlight keycodes or functions directly."
            ],
            "Refactor Planck keymaps to use Layout Macros": [
              "Refactor Planck keymaps to use layout macros instead of raw matrix assignments",
              "Makes keymaps revision-agnostic",
              "Should reduce noise and errors in Travis CI logs"
            ],
            "GON NerD codebase refactor": [
              "Splits the codebase for GON NerD 60 and NerdD TKL PCBs into two separate directories.",
              "If your keymap is for a NerD 60 PCB, your `make` command is now `make gon/nerd60:<keymap>`.",
              "If your keymap is for a NerD TKL PCB, your `make` command is now `make gon/nerdtkl:<keymap>`."
            ]
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 1]"
        },
        {
          "title": "QMK Breaking Change - 2020 May 30 Changelog",
          "description": null,
          "content": {
            "Core Changes": {
              "Converting V-USB usbdrv to a submodule": "[#8321](https://github.com/qmk/qmk_firmware/pull/8321) and [qmk_compiler#62](https://github.com/qmk/qmk_compiler/pull/62).\n\nThese PRs move the V-USB driver code out of the qmk_firmware repository and into a submodule pointed at https://github.com/obdev/v-usb. This will make it easier to update the codebase if needed, while applying any potential QMK-specific modifications by forking it to the QMK GitHub organization.",
              "Unify Tap Hold functions and documentation": "[#8348](https://github.com/qmk/qmk_firmware/pull/8348)\n\nUpdates all of the per key tap-hold functions to pass the `keyrecord_t` structure, and include documentation changes.\n\nAny remaining versions or code outside of the main repo will need to be converted: \n| Old function                                         | New Function                                                              |\n|------------------------------------------------------|---------------------------------------------------------------------------|\n|`uint16_t get_tapping_term(uint16_t keycode)`         |`uint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record)`         |\n|`bool get_ignore_mod_tap_interrupt(uint16_t keycode)` |`bool get_ignore_mod_tap_interrupt(uint16_t keycode, keyrecord_t *record)` |",
              "Python Required In The Build Process": "[#9000](https://github.com/qmk/qmk_firmware/pull/9000)\n\nThis is the last release of QMK that will work without having Python 3.6 (or later) installed. If your environment is not fully setup you will get a warning instructing you to set it up.\n\nAfter the next breaking change you will not be able to build if `bin/qmk hello` does not work.",
              "Upgrade from tinyprintf to mpaland/printf": "[#8269](https://github.com/qmk/qmk_firmware/pull/8269)\n\n['Provides debug functionality on ChibiOS/ARM that is more compliant than previous integrations.', 'Less maintenence, fewer QMK customisations, and allows QMK to sidestep previous compile and runtime issues.', 'A `make git-submodule` may be required after pulling the latest QMK Firmware code to update to the new dependency.']",
              "Fixed RGB_DISABLE_AFTER_TIMEOUT to be seconds based & small internals cleanup": "[#6480](https://github.com/qmk/qmk_firmware/pull/6480)\n\n['Changes `RGB_DISABLE_AFTER_TIMEOUT` to be based on milliseconds instead of ticks.', 'Includes a code cleanup, resulting in a savings of 100 bytes, depending on features used.', 'Fixed issues with timeouts / suspending at the wrong time not turning off all LEDs in some cases.']\n\nThe `RGB_DISABLE_AFTER_TIMEOUT` definition is now deprecated, and has been superseded by `RGB_DISABLE_TIMEOUT`. To use the new definition, rename `RGB_DISABLE_AFTER_TIMEOUT` to `RGB_DISABLE_TIMEOUT` in your `config.h` file, and multiply the value set by 1200.\n\nBefore: `#define RGB_DISABLE_AFTER_TIMEOUT 100`  \nAfter: `#define RGB_DISABLE_TIMEOUT 120000`",
              "Switch to qmk forks for everything": "[#9019](https://github.com/qmk/qmk_firmware/pull/9019)\n\nFork all QMK submodules to protect against upstream repositories disappearing.",
              "code cleanup regarding deprecated macro PLAY_NOTE_ARRAY by replacing it with PLAY_SONG": "[#8484](https://github.com/qmk/qmk_firmware/pull/8484)\n\nRemoves the deprecated `PLAY_NOTE_ARRAY` macro. References to it are replaced with `PLAY_SONG`, which references the same function.",
              "fixing wrong configuration of AUDIO feature": "[#8903](https://github.com/qmk/qmk_firmware/pull/8903) and [#8974](https://github.com/qmk/qmk_firmware/pull/8974)\n\n`audio_avr.c` does not default to any pin; there has to be a #define XX_AUDIO in config.h at some level for Audio to actually work. Otherwise, the Audio code ends up cluttering the firmware, possibly breaking builds because the maximum allowed firmware size is exceeded.\n\nThese changes fix this by disabling Audio on keyboards that have the feature misconfigured, and therefore non-functional.\n\nAlso, add a compile-time error to alert the user to a missing pin-configuration (on AVR boards) when `AUDIO_ENABLE = yes` is set."
            },
            "Keyboard Refactors": {
              "Migrating Lily58 to use split_common": {
                "To migrate existing Lily58 firmware:": "[Changes to `config.h`](https://github.com/qmk/qmk_firmware/pull/6260/files#diff-445ac369c8717dcd6fc6fc3630836fc1):\n\n['Remove `#define SSD1306OLED` from config.h']\n\n[Changes to `keymap.c`](https://github.com/qmk/qmk_firmware/pull/6260/files#diff-20943ea59856e9bdf3d99ecb2eee40b7):\n\n['Find/Replace each instance of `#ifdef SSD1306OLED` with `#ifdef OLED_DRIVER_ENABLE`', \"The following changes are for compatibility with the OLED driver. If you don't use the OLED driver you may safely delete [this section](https://github.com/qmk/qmk_firmware/blob/e6b9980bd45c186f7360df68c24b6e05a80c10dc/keyboards/lily58/keymaps/default/keymap.c#L144-L190)\", 'Alternatively, if you did not change the OLED code from that in `default`, you may find it easier to simply copy the [relevant section](https://github.com/qmk/qmk_firmware/blob/4ac310668501ae6786c711ecc8f01f62ddaa1c0b/keyboards/lily58/keymaps/default/keymap.c#L138-L172). Otherwise, the changes you need to make are as follows (sample change [here](https://github.com/qmk/qmk_firmware/pull/6260/files#diff-20943ea59856e9bdf3d99ecb2eee40b7R138-R173))', '[Remove](https://github.com/qmk/qmk_firmware/pull/6260/files#diff-20943ea59856e9bdf3d99ecb2eee40b7L138-L141) the block']\n\n```\n#ifdef SSD1306OLED  \n  iota_gfx_init(!has_usb());   // turns on the display  \n#endif\n```\n\n['Within the block bounded by `#ifdef OLED_DRIVER_ENABLE` and `#endif // OLED_DRIVER_ENABLE`, add the following block to ensure that your two OLEDs are rotated correctly across the left and right sides:']\n\n```\noled_rotation_t oled_init_user(oled_rotation_t rotation) {\n  if (!is_keyboard_master())\n    return OLED_ROTATION_180;  // flips the display 180 degrees if offhand\n  return rotation;\n}\n```\n\n['Remove the functions `matrix_scan_user`, `matrix_update` and `iota_gfx_task_user`', 'Find/Replace `matrix_render_user(struct CharacterMatrix *matrix)` with `iota_gfx_task_user(void)`', 'Find/Replace `is_master` with `is_keyboard_master()`', 'For each instance of `matrix_write_ln(matrix, display_fn())`, rewrite it as `oled_write_ln(read_layer_state(), false);`', 'For each instance of `matrix_write(matrix, read_logo());`, replace with `oled_write(read_logo(), false);`']"
              },
              "Refactor zinc to use split_common": "[#7114](https://github.com/qmk/qmk_firmware/pull/7114) and [#9171](https://github.com/qmk/qmk_firmware/pull/9171)\n\n['Refactor to use split_common and remove split codes under the zinc/revx/', 'Add - backlight RGB LED and/or underglow RGB LED option', 'Add - continuous RGB animations feature (between L and R halves) ', 'Fix - keymap files to adapt to changes', ['all authors of keymaps confirmed this PR'], 'Update - documents and rules.mk']",
              "Refactor of TKC1800 to use common OLED code": {
                "To migrate existing TKC1800 firmware:": "[Changes to `config.h`](https://github.com/qmk/qmk_firmware/pull/8472/files#diff-d10b26e676b4a55cbb00d71955116526):\n\n['Remove `#define SSD1306OLED` from config.h']\n\n[Changes to `tkc1800.c`](https://github.com/qmk/qmk_firmware/pull/8472/files#diff-3b35bd30abe89c8110717c6972cd2cc5):\n\n['Add the following to avoid debug errors on HID_listen if the screen is not present']\n\n```\nvoid keyboard_pre_init_kb(void) {\n  setPinInputHigh(D0);\n  setPinInputHigh(D1);\n\n  keyboard_pre_init_user();\n}\n```\n\n[Changes to `keymap.c`](https://github.com/qmk/qmk_firmware/pull/8472/files#diff-05a2a344ce27e4d045fe68520ccd4771):\n\n['Find/Replace each instance of `#ifdef SSD1306OLED` with `#ifdef OLED_DRIVER_ENABLE`', \"The following changes are for compatibility with the OLED driver. If you don't use the OLED driver you may safely delete [this section](https://github.com/qmk/qmk_firmware/blob/e6b9980bd45c186f7360df68c24b6e05a80c10dc/keyboards/lily58/keymaps/default/keymap.c#L144-L190)\", '[Remove](https://github.com/qmk/qmk_firmware/pull/6260/files#diff-20943ea59856e9bdf3d99ecb2eee40b7L91-L158) the block']\n\n```\n#ifdef SSD1306OLED  \n  iota_gfx_init(!has_usb());   // turns on the display  \n#endif\n```\n\n['Within the block bounded by `#ifdef OLED_DRIVER_ENABLE` and `#endif // OLED_DRIVER_ENABLE`, add the following block to ensure that your two OLEDs are rotated correctly across the left and right sides:']\n\n```\noled_rotation_t oled_init_user(oled_rotation_t rotation) {\n  if (!is_keyboard_master())\n    return OLED_ROTATION_180;  // flips the display 180 degrees if offhand\n  return rotation;\n}\n```\n\n['Remove the function `iota_gfx_task_user`']"
              },
              "Split HHKB to ANSI and JP layouts and Add VIA support for each": {
                "Migrating existing HHKB keymaps": [
                  "Remove any checks for the `HHKB_JP` definition",
                  [
                    "All checks for this definition have been removed, and each version uses the source that is appropriate to that version."
                  ],
                  "Move the directory for your keymap into the appropriate `keymaps` directory",
                  [
                    "`keyboards/hhkb/ansi/keymaps/` for ANSI HHKBs",
                    "`keyboards/hhkb/jp/keymaps/` for HHKB JPs"
                  ],
                  "Compile with the new keyboard names",
                  [
                    "This PR changes the compilation instructions for the HHKB Alternate Controller. To compile firmware for this controller moving forward, use:",
                    [
                      "`make hhkb/ansi` for ANSI-layout HHKBs",
                      "`make hhkb/jp` for HHKB JP keyboards"
                    ]
                  ]
                ]
              }
            },
            "Keyboard Moves": [
              "[#8412](https://github.com/qmk/qmk_firmware/pull/8412 \"Changing board names to prevent confusion\") by blindassassin111",
              "[#8499](https://github.com/qmk/qmk_firmware/pull/8499 \"Move the Keyboardio Model01 to a keyboardio/ subdir\") by algernon",
              "[#8830](https://github.com/qmk/qmk_firmware/pull/8830 \"Move spaceman keyboards\") by Spaceman (formerly known as Rionlion100)",
              "[#8537](https://github.com/qmk/qmk_firmware/pull/8537 \"Organizing my keyboards (plaid, tartan, ergoinu)\") by hsgw"
            ],
            "Keycode Migration PRs": "[#8954](https://github.com/qmk/qmk_firmware/pull/8954 \"Migrate `ACTION_LAYER_TOGGLE` to `TG()`\"), [#8957](https://github.com/qmk/qmk_firmware/pull/8957 \"Migrate `ACTION_MODS_ONESHOT` to `OSM()`\"), [#8958](https://github.com/qmk/qmk_firmware/pull/8958 \"Migrate `ACTION_DEFAULT_LAYER_SET` to `DF()`\"), [#8959](https://github.com/qmk/qmk_firmware/pull/8959 \"Migrate `ACTION_LAYER_MODS` to `LM()`\"), [#8968](https://github.com/qmk/qmk_firmware/pull/8968 \"Migrate `ACTION_MODS_TAP_KEY` to `MT()`\"), [#8977](https://github.com/qmk/qmk_firmware/pull/8977 \"Migrate miscellaneous `fn_actions` entries\"), and [#8979](https://github.com/qmk/qmk_firmware/pull/8979 \"Migrate `ACTION_MODS_KEY` to chained mod keycodes\")\n\nAuthored by fauxpark, these pull requests remove references to deprecated TMK macros that have been superseded by native QMK keycodes.\n\nOld `fn_actions` action | New QMK keycode\n:---------------------- | :--------------\n`ACTION_DEFAULT_LAYER_SET(layer)` | `DF(layer)`\n`ACTION_LAYER_MODS(layer, mod)` | `LM(layer, mod)`\n`ACTION_LAYER_ONESHOT(mod)` | `OSL(mod)`\n`ACTION_LAYER_TOGGLE(layer)` | `TG(layer)`\n`ACTION_MODS_ONESHOT(mod)` | `OSM(mod)`\n`ACTION_MODS_TAP_KEY(mod, kc)` | `MT(mod, kc)`\n`ACTION_MODS_KEY(mod, kc)`<br>e.g. `ACTION_MODS_KEY(MOD_LCTL, KC_0)` | `MOD(kc)`<br>e.g. `LCTL(KC_0)`"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 2]"
        },
        {
          "title": "QMK Breaking Change - 2020 Aug 29 Changelog",
          "description": null,
          "content": {
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Relocated Keyboards {#relocated-keyboards}": {
                "The Key Company project consolidation ([#9547](https://github.com/qmk/qmk_firmware/pull/9547))": "",
                "relocating boards by flehrad to flehrad/ folder ([#9635](https://github.com/qmk/qmk_firmware/pull/9635))": "Keyboards released by The Key Company and keyboards designed by flehrad have moved to vendor folders. If you own any of the keyboards listed below, please use the new names to compile your firmware moving forward.\n\nOld Name               | New Name\n:--------------------- | :------------------\ncandybar/lefty         | tkc/candybar/lefty\ncandybar/righty        | tkc/candybar/righty\nm0lly                  | tkc/m0lly\ntkc1800                | tkc/tkc1800\nbigswitch              | flehrad/bigswitch\nhandwired/downbubble   | flehrad/downbubble\nhandwired/numbrero     | flehrad/numbrero\nsnagpad                | flehrad/snagpad\nhandwired/tradestation | flehrad/tradestation"
              },
              "Updated Keyboard Codebases {#keyboard-updates}": {
                "Keebio RGB wiring update ([#7754](https://github.com/qmk/qmk_firmware/pull/7754))": "This pull request changes the configuration for Keebio split boards to use the same RGB strip wiring for each half, which provides the following improvements:\n\n['Easier wiring due to one fewer wire needed (the wire between left DOut to extra data pin) and the fact that wiring is the same for both halves.', 'RGB LEDs can be controlled by each half now instead of just master half.', 'Extra data line is freed up to allow for I2C usage instead of serial.']\n\nIf you have customized the value of `RGBLED_SPLIT` for your keymap, you will need to undefine it using `#undef RGBLED_SPLIT` before defining it to your customized value.\n\nThis change affects:\n\n['BFO-9000', 'Fourier', 'Iris rev2', 'Levinson, revs. 1 and 2', 'Nyquist, revs. 1 and 2', 'Quefrency rev1', 'Viterbi, revs. 1 and 2']"
              },
              "Changes to Core Functionality {#core-updates}": [
                "Bigger Combo index ([#9318](https://github.com/qmk/qmk_firmware/pull/9318))"
              ]
            },
            "Core Changes {#core-changes}": {
              "Fixes {#core-fixes}": [
                "Mousekeys: scrolling acceleration is no longer coupled to mouse movement acceleration ([#9174](https://github.com/qmk/qmk_firmware/pull/9174))",
                "Keymap Extras: correctly assign Question Mark in Czech layout ([#9987](https://github.com/qmk/qmk_firmware/pull/9987))"
              ],
              "Additions and Enhancements {#core-additions}": [
                "allow for WS2812 PWM to work on DMAMUX-capable devices ([#9471](https://github.com/qmk/qmk_firmware/pull/9471))",
                [
                  "Newer STM32 MCUs have a DMAMUX peripheral, which allows mapping of DMAs to different DMA streams, rather than hard-defining the target streams in silicon.",
                  "Affects STM32L4+ devices, as well as the soon-to-be-supported-by-QMK STM32G4/H7 families.",
                  "Tested on F303/Proton C (ChibiOS v19, non-DMAMUX), G474 (ChibiOS v20, with DMAMUX)."
                ],
                "dual-bank STM32 bootloader support ([#8778](https://github.com/qmk/qmk_firmware/pull/8778) and [#9738](https://github.com/qmk/qmk_firmware/pull/9738))",
                [
                  "Adds support for STM32 dual-bank flash bootloaders, by toggling a GPIO during early init in order to charge an RC circuit attached to `BOOT0`.",
                  "The main rationale behind this is that dual-bank STM32 devices unconditionally execute user-mode code, regardless of whether or not the user-mode code jumps to the bootloader. If either flash bank is valid (and `BOOT0` is low), then the built-in bootloader will skip any sort of DFU.",
                  "This PR allows for the initialisation sequencing to charge the RC circuit based on the example circuit posted on Discord, effectively pulling `BOOT0` high before issuing the system reset. As the RC circuit takes a while to discharge, the system reset executes the ROM bootloader which subsequently sees `BOOT0` high, and starts executing the DFU routines.",
                  "Tested with STM32L082 (with current QMK+current ChibiOS), and STM32G474 (against ChibiOS 20.x)."
                ],
                "update Space Cadet and Tap Dance features to use Custom Tapping Term when appropriate ([#6259](https://github.com/qmk/qmk_firmware/pull/6259))",
                [
                  "For the Tap Dance feature, this completely removes the need for the `ACTION_TAP_DANCE_FN_ADVANCED_TIME` dance."
                ],
                "HID Joystick Interface ([#4226](https://github.com/qmk/qmk_firmware/pull/4226) and [#9949](https://github.com/qmk/qmk_firmware/pull/9949 \"Fix Joystick Compile Issues\"))",
                [
                  "This implements a joystick feature, including a joystick_task function called from TMK, specific keycodes for joystick buttons and a USB HID interface.",
                  "Tested on V-USB backend and Proton C; compiles but untested on LUFA.",
                  "In order to test, you have to add `JOYSTICK_ENABLE = yes` to your `rules.mk` and",
                  "```\n#define JOYSTICK_BUTTON_COUNT 8\n#define JOYSTICK_AXES_COUNT 2\n```",
                  "in your config.h."
                ],
                "Christmas RGB Underglow animation now fades between green and red ([#7648](https://github.com/qmk/qmk_firmware/pull/7648))",
                [
                  "`RGBLIGHT_EFFECT_CHRISTMAS_INTERVAL` has been greatly decreased; please check your animation if you have customized this value."
                ],
                "layer state now initializes on startup ([#8318](https://github.com/qmk/qmk_firmware/pull/8318))",
                [
                  "This should produce more consistent behavior between the two functions and layer masks."
                ],
                "added support for HSV->RGB conversion without using CIE curve ([#9856](https://github.com/qmk/qmk_firmware/pull/9856))",
                "added NOEEPROM functions for RGB Matrix ([#9487](https://github.com/qmk/qmk_firmware/pull/9487))",
                [
                  "Added eeprom_helpers for toggle, mode, sethsv, speed, similar to rgblight versions.",
                  "Added set_speed function.",
                  "Added helper functions, similar to those in rgblight, in order to add NOEEPROM versions of toggle, step, hue, sat, val, and speed.",
                  "Minor: spelling correction for EEPROM in a debug message."
                ],
                "flashing firmware using `st-flash` utility from [STLink Tools](https://github.com/stlink-org/stlink) is now supported ([#9964](https://github.com/qmk/qmk_firmware/pull/9964))",
                "add ability to dump all makefile variables for the specified target ([#8256](https://github.com/qmk/qmk_firmware/pull/8256))",
                [
                  "Adds a new subtarget to builds, `dump_vars`, which allows for printing out all the variables that make knows about, after all substitutions occur.",
                  "Example: `make handwired/onekey/proton_c:default:dump_vars`"
                ],
                "add ability to change the Auto Shift timeout in real time ([#8441](https://github.com/qmk/qmk_firmware/pull/8441))",
                "added a timer implementation for backlight on ChibiOS ([#8291](https://github.com/qmk/qmk_firmware/pull/8291))",
                "added a third endpoint to V-USB keyboards ([#9020](https://github.com/qmk/qmk_firmware/pull/9020))",
                "added a method to read the OLED display buffer from user space ([#8777](https://github.com/qmk/qmk_firmware/pull/8777))",
                "K-Type refactor ([#9864](https://github.com/qmk/qmk_firmware/pull/9864))",
                [
                  "The K-Type has been refactored to use QMK's native matrix scanning routine, and now has partial support for the RGB Matrix feature."
                ],
                "Joysticks can now be used without defining analog pins ([#10169](https://github.com/qmk/qmk_firmware/pull/10169))"
              ],
              "Clean-ups and Optimizations {#core-optimizations}": [
                "iWRAP protocol removed ([#9284](https://github.com/qmk/qmk_firmware/pull/9284))",
                "work begun for consolidation of ChibiOS platform files ([#8327](https://github.com/qmk/qmk_firmware/pull/8327) and [#9315](https://github.com/qmk/qmk_firmware/pull/9315))",
                [
                  "Start of the consolidation work to move the ChibiOS board definitions as well as the default set of configuration files for existing board definitions used by keyboards.",
                  [
                    "Uses `/platforms/chibios` as previously discussed on discord.",
                    "Consolidates the Proton C configs into the generic F303 definitions.",
                    "Allows for defining a default set of `chconf.h`, `halconf.h`, and `mcuconf.h` files within the platform definition, which is able to be overridden by the keyboard directly, though include path ordering.",
                    "Adds template `chconf.h`, `halconf.h`, `mcuconf.h`, and `board.h` that can be dropped into a keyboard directory, in order to override rather than replace the entire contents of the respective files.",
                    "Removed Proton C QMK board definitions, falling back to ChibiOS board definitions with QMK overrides."
                  ]
                ],
                "Various tidy-ups for USB descriptor code ([#9005](https://github.com/qmk/qmk_firmware/pull/9005))",
                [
                  "Renamed `keyboard_led_stats` in lufa.c and ChibiOS usb_main.c to `keyboard_led_state`, as well as `vusb_keyboard_leds`, for consistency",
                  "Formatted CDC and MIDI descriptors better",
                  "Removed `ENDPOINT_CONFIG` macro, it seems pointless and removes the need for endpoint address defines in the middle of the endpoint numbering enum",
                  "Fixed (possibly?) V-USB `GET_REPORT` request handling. Not sure about this one, but the existing code appears to always return an empty report - now `send_keyboard` sets this variable to the current report, matching what the LUFA code does."
                ],
                "converted `CONSUMER2BLUEFRUIT()` and `CONSUMER2RN42()` macros to static inline functions ([#9055](https://github.com/qmk/qmk_firmware/pull/9055))",
                "Additional cleanups for V-USB code ([#9310](https://github.com/qmk/qmk_firmware/pull/9310))",
                [
                  "Removing the UART stuff entirely, now that we have Console support. Also fixing up various other things; switching some `debug()` calls to `dprintf()`, moved `raw_hid_report` out of the way so that we can implement the shared endpoint stuff."
                ],
                "removed inclusion of `adafruit_ble.h` from `ssd1306.c` ([#9355](https://github.com/qmk/qmk_firmware/pull/9355))",
                "`outputselect.c` is no longer compiled if Bluetooth is disabled ([#9356](https://github.com/qmk/qmk_firmware/pull/9356))",
                "`analogRead()` deprecated in favor of `analogReadPin()` ([#9023](https://github.com/qmk/qmk_firmware/pull/9023))",
                "forcibly disable NKRO on V-USB controllers ([#9054](https://github.com/qmk/qmk_firmware/pull/9054))",
                "removed warning if running backlight on STM32F072 ([#10040](https://github.com/qmk/qmk_firmware/pull/10040))",
                "removed unused CORTEX_VTOR_INIT rules.mk option ([#10053](https://github.com/qmk/qmk_firmware/pull/10053))",
                "improved handling for enabling Link Time Optimization ([#9832](https://github.com/qmk/qmk_firmware/pull/9832))",
                "streamline rules for supporting Kiibohd bootloader ([#10129](https://github.com/qmk/qmk_firmware/pull/10129))",
                "Define `STM32_DMA_REQUIRED` when using DMA-based WS2812 driver on STM32 ([#10127](https://github.com/qmk/qmk_firmware/pull/10127))",
                "fix DMA stream ID calculation in ws2812_pwm ([#10008](https://github.com/qmk/qmk_firmware/pull/10008))",
                "remove support for Adafruit EZ Key Bluetooth controller ([#10103](https://github.com/qmk/qmk_firmware/pull/10103))"
              ]
            },
            "QMK Infrastructure and Internals {#qmk-internals}": [
              "Attempt to fix CI for non-master branches. ([#9308](https://github.com/qmk/qmk_firmware/pull/9308))",
              [
                "Actually fetch the branch we're attempting to compare against."
              ],
              "Run `qmk cformat` on `develop` branch ([#9501](https://github.com/qmk/qmk_firmware/pull/9501))",
              "minor refactor of Bluetooth API ([#9905](https://github.com/qmk/qmk_firmware/pull/9905))"
            ]
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 3]"
        },
        {
          "title": "QMK Breaking Change - 2020 Nov 28 Changelog",
          "description": null,
          "content": {
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Relocated Keyboards {#relocated-keyboards}": {
                "Reduce Helix keyboard build variation ([#8669](https://github.com/qmk/qmk_firmware/pull/8669))": "The build commands for the Helix keyboard are:\n\n```\nmake <helix_build_name>:<keymap_name>\n```\n\nFor `<helix_build_name>`, specify the one in the rightmost column of the table below, such as `helix`,` helix/pico`.\n\n| before Oct 17 2019   |  Oct 17 2019            | Mar 10 2020             | Nov 28 2020             |\n| ---------------------|-------------------------|-------------------------| ------------------------|\n| helix/rev1           | helix/rev1              | helix/rev1              | helix/rev1              |\n| helix/pico           | helix/pico              | helix/pico              | helix/pico              |\n|                      | helix/pico/back         | helix/pico/back         | helix/pico/back         |\n|                      | helix/pico/under        | helix/pico/under        | helix/pico/under        |\n|                      |                         | helix/pico/sc           | --                      |\n|                      |                         | helix/pico/sc/back      | helix/pico/sc           |\n|                      |                         | helix/pico/sc/under     | --                      |\n| helix/rev2 (=helix)  | helix/rev2 (=helix)     | helix/rev2 (=helix)     | --                      |\n|                      | helix/rev2/back         | helix/rev2/back         | --                      |\n|                      | helix/rev2/back/oled    | helix/rev2/back/oled    | ( --> helix/rev2/back)  |\n|                      | helix/rev2/oled         | helix/rev2/oled         | helix/rev2(=helix)     |\n|                      | helix/rev2/oled/back    | helix/rev2/oled/back    | helix/rev2/back         |\n|                      | helix/rev2/oled/under   | helix/rev2/oled/under   | helix/rev2/under        |\n|                      |                         | helix/rev2/sc           | --                      |\n|                      |                         | helix/rev2/sc/back      | --                      |\n|                      |                         | helix/rev2/sc/oled      | --                      |\n|                      |                         | helix/rev2/sc/oledback  | helix/rev2/sc           |\n|                      |                         | helix/rev2/sc/oledunder | --                      |\n|                      |                         | helix/rev2/sc/under     | --                      |\n|                      | helix/rev2/under        | helix/rev2/under        | --                      |\n|                      | helix/rev2/under/oled   | helix/rev2/under/oled   | ( --> helix/rev2/under) |",
                "Update the Speedo firmware for v3.0 ([#10657](https://github.com/qmk/qmk_firmware/pull/10657))": "The Speedo keyboard has moved to `cozykeys/speedo/v2` as the designer prepares to release the Speedo v3.0.\n\n| Previous Name | New Name                   |\n| :------------ | :------------------------- |\n| speedo        | cozykeys/speedo/v2         |\n| --            | cozykeys/speedo/v3 **new** |",
                "Maartenwut/Maarten name change to evyd13/Evy ([#10274](https://github.com/qmk/qmk_firmware/pull/10274))": "Maartenwut has rebranded as @evyd13, and all released Maartenwut boards have moved.\n\n| Previous Name          | New Name           |\n| :--------------------- | :----------------- |\n| maartenwut/atom47/rev2 | evyd13/atom47/rev2 |\n| maartenwut/atom47/rev3 | evyd13/atom47/rev3 |\n| maartenwut/eon40       | evyd13/eon40       |\n| maartenwut/eon65       | evyd13/eon65       |\n| maartenwut/eon75       | evyd13/eon75       |\n| maartenwut/eon87       | evyd13/eon87       |\n| maartenwut/eon95       | evyd13/eon95       |\n| maartenwut/gh80_1800   | evyd13/gh80_1800   |\n| maartenwut/gh80_3700   | evyd13/gh80_3700   |\n| maartenwut/minitomic   | evyd13/minitomic   |\n| maartenwut/mx5160      | evyd13/mx5160      |\n| maartenwut/nt660       | evyd13/nt660       |\n| maartenwut/omrontkl    | evyd13/omrontkl    |\n| maartenwut/plain60     | evyd13/plain60     |\n| maartenwut/pockettype  | evyd13/pockettype  |\n| maartenwut/quackfire   | evyd13/quackfire   |\n| maartenwut/solheim68   | evyd13/solheim68   |\n| maartenwut/ta65        | evyd13/ta65        |\n| maartenwut/wasdat      | evyd13/wasdat      |\n| maartenwut/wasdat_code | evyd13/wasdat_code |\n| maartenwut/wonderland  | evyd13/wonderland  |",
                "Xelus Valor and Dawn60 Refactors ([#10512](https://github.com/qmk/qmk_firmware/pull/10512), [#10584](https://github.com/qmk/qmk_firmware/pull/10584))": "The Valor and Dawn60 keyboards by Xelus22 both now require their revisions to be specified when compiling.\n\n| Previous Name | New Name          |\n| :------------ | :---------------- |\n| xelus/dawn60  | xelus/dawn60/rev1 |\n| xelus/valor   | xelus/valor/rev1  |"
              },
              "Updated Keyboard Codebases {#keyboard-updates}": {
                "AEboards EXT65 Refactor ([#10820](https://github.com/qmk/qmk_firmware/pull/10820))": "The EXT65 codebase has been reworked so keymaps can be used with either revision."
              }
            },
            "Core Changes {#core-changes}": {
              "Fixes {#core-fixes}": [
                "Reconnect the USB if users wake up a computer from the keyboard to restore the USB state ([#10088](https://github.com/qmk/qmk_firmware/pull/10088))",
                "Fix cursor position bug in oled_write_raw functions ([#10800](https://github.com/qmk/qmk_firmware/pull/10800))"
              ],
              "Additions and Enhancements {#core-additions}": [
                "Allow MATRIX_ROWS to be greater than 32 ([#10183](https://github.com/qmk/qmk_firmware/pull/10183))",
                "Add support for soft serial to ATmega32U2 ([#10204](https://github.com/qmk/qmk_firmware/pull/10204))",
                "Allow direct control of MIDI velocity value ([#9940](https://github.com/qmk/qmk_firmware/pull/9940))",
                "Joystick 16-bit support ([#10439](https://github.com/qmk/qmk_firmware/pull/10439))",
                "Allow encoder resolutions to be set per encoder ([#10259](https://github.com/qmk/qmk_firmware/pull/10259))",
                "Share button state from mousekey to pointing_device ([#10179](https://github.com/qmk/qmk_firmware/pull/10179))",
                "Add advanced/efficient RGB Matrix Indicators ([#8564](https://github.com/qmk/qmk_firmware/pull/8564))",
                "OLED display update interval support ([#10388](https://github.com/qmk/qmk_firmware/pull/10388))",
                "Per-Key Retro Tapping ([#10622](https://github.com/qmk/qmk_firmware/pull/10622))",
                "Allow backlight duty cycle limit ([#10260](https://github.com/qmk/qmk_firmware/pull/10260))",
                "Add step sequencer feature ([#9703](https://github.com/qmk/qmk_firmware/pull/9703))",
                "Added `add_oneshot_mods` & `del_oneshot_mods` ([#10549](https://github.com/qmk/qmk_firmware/pull/10549))",
                "Add AT90USB support for serial.c ([#10706](https://github.com/qmk/qmk_firmware/pull/10706))",
                "Auto shift: support repeats and early registration (#9826)"
              ],
              "Clean-ups and Optimizations {#core-optimizations}": [
                "Haptic and solenoid cleanup ([#9700](https://github.com/qmk/qmk_firmware/pull/9700))",
                "XD75 cleanup ([#10524](https://github.com/qmk/qmk_firmware/pull/10524))",
                "Minor change to behavior allowing display updates to continue between task ticks ([#10750](https://github.com/qmk/qmk_firmware/pull/10750))",
                "Change some GPIO manipulations in matrix.c to be atomic ([#10491](https://github.com/qmk/qmk_firmware/pull/10491))",
                "combine repeated lines of code for ATmega32U2, ATmega16U2, ATmega328 and ATmega328P ([#10837](https://github.com/qmk/qmk_firmware/pull/10837))",
                "Remove references to HD44780 ([#10735](https://github.com/qmk/qmk_firmware/pull/10735))"
              ]
            },
            "QMK Infrastructure and Internals {#qmk-internals}": [
              "Add ability to build a subset of all keyboards based on platform. ([#10420](https://github.com/qmk/qmk_firmware/pull/10420))",
              "Initialise EEPROM drivers at startup, instead of upon first execution ([#10438](https://github.com/qmk/qmk_firmware/pull/10438))",
              "Make bootloader_jump weak for ChibiOS ([#10417](https://github.com/qmk/qmk_firmware/pull/10417))",
              "Support for STM32 GPIOF,G,H,I,J,K ([#10206](https://github.com/qmk/qmk_firmware/pull/10206))",
              "Add milc as a dependency and remove the installed milc ([#10563](https://github.com/qmk/qmk_firmware/pull/10563))",
              "ChibiOS upgrade: early init conversions ([#10214](https://github.com/qmk/qmk_firmware/pull/10214))",
              "ChibiOS upgrade: configuration file migrator ([#9952](https://github.com/qmk/qmk_firmware/pull/9952))",
              "Add definition based on currently-selected serial driver. ([#10716](https://github.com/qmk/qmk_firmware/pull/10716))",
              "Allow for modification of output RGB values when using rgblight/rgb_matrix. ([#10638](https://github.com/qmk/qmk_firmware/pull/10638))",
              "Allow keyboards/keymaps to execute code at each main loop iteration ([#10530](https://github.com/qmk/qmk_firmware/pull/10530))",
              "qmk cformat ([#10767](https://github.com/qmk/qmk_firmware/pull/10767))",
              "Add a Make variable to easily enable DEBUG_MATRIX_SCAN_RATE on the command line ([#10824](https://github.com/qmk/qmk_firmware/pull/10824))",
              "update Chibios OS USB for the OTG driver ([#8893](https://github.com/qmk/qmk_firmware/pull/8893))",
              "Fixup version.h writing when using `SKIP_VERSION=yes` ([#10972](https://github.com/qmk/qmk_firmware/pull/10972), [#10974](https://github.com/qmk/qmk_firmware/pull/10974))",
              "Rename ledmatrix.h to match .c file ([#7949](https://github.com/qmk/qmk_firmware/pull/7949))",
              "Split RGB_MATRIX_ENABLE into _ENABLE and _DRIVER ([#10231](https://github.com/qmk/qmk_firmware/pull/10231))",
              "Split LED_MATRIX_ENABLE into _ENABLE and _DRIVER ([#10840](https://github.com/qmk/qmk_firmware/pull/10840))"
            ]
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 4]"
        },
        {
          "title": "QMK Breaking Changes - 2021 February 27 Changelog",
          "description": null,
          "content": {
            "Changes Requiring User Action": "The following keyboards have had their source moved within QMK:\n\nOld Keyboard Name | New Keyboard Name\n:---------------- | :----------------\nbear_65 | jacky_studio/bear_65\ns7_elephant/rev1 | jacky_studio/s7_elephant/rev1\ns7_elephant/rev2 | jacky_studio/s7_elephant/rev2\naplx6 | aplyard/aplx6/rev1\nsouthpaw75 | fr4/southpaw75\n\nThe [Aplyard Aplx6 rev2](https://github.com/qmk/qmk_firmware/tree/0.12.0/keyboards/aplyard/aplx6/rev1) and the [FR4Boards Unix60](https://github.com/qmk/qmk_firmware/tree/0.12.0/keyboards/fr4/unix60) have also been added as part of these changes.\n\nAdditionally, the `handwired/bluepill/bluepill70` keyboard has been removed.",
            "Core Changes": {
              "ChibiOS Update and Config Migration": "QMK's ChibiOS and ChibiOS-Contrib submodules have been updated to version 20.3.2.\n\nAlong with this, QMK now provides default configuration files for all commonly-supported ARM microcontrollers running on ChibiOS. As such, keyboards are now only required to define settings which differ from the defaults, thereby reducing the size of pull requests for keyboards running atop ChibiOS.",
              "QMK Infrastructure and Internals": "Python is now required to build QMK. The minimum Python version has been increased to 3.7.\n\nThe power of `info.json` has been massively expanded. Most keyboard parameters can now be expressed in `info.json` instead of `config.h`/`rules.mk`. This should make maintaining keyboards easier, and will enable tooling that can allow non-technical users to add and maintain QMK keyboards without writing any code.\n\nTo ease migration a new command has been provided, `qmk generate-info-json -kb <keyboard>`. You can use this command to generate a complete `info.json` file for a keyboard and then remove the duplicate information from `config.h` and `rules.mk`. \n\nDetailed example showing how to generate a new info.json and identify duplicate keys:\n\n```\nuser@hostname:~/qmk_firmware/keyboards/lets_split:0$ qmk generate-info-json > new-info.json\nuser@hostname:~/qmk_firmware/keyboards/lets_split:0$ mv new-info.json info.json\nuser@hostname:~/qmk_firmware/keyboards/lets_split:0$ qmk info\n lets_split/rev2: DEBOUNCE in config.h is overwriting debounce in info.json\n lets_split/rev2: DEVICE_VER in config.h is overwriting usb.device_ver in info.json\n lets_split/rev2: DIODE_DIRECTION in config.h is overwriting diode_direction in info.json\n lets_split/rev2: MANUFACTURER in config.h is overwriting manufacturer in info.json\n lets_split/rev2: RGB_DI_PIN in config.h is overwriting rgblight.pin in info.json\n lets_split/rev2: RGBLED_NUM in config.h is overwriting rgblight.led_count in info.json\n lets_split/rev2: PRODUCT_ID in config.h is overwriting usb.pid in info.json\n lets_split/rev2: VENDOR_ID in config.h is overwriting usb.vid in info.json\n lets_split/rev2: Matrix pins are specified in both info.json and config.h, the config.h values win.\n lets_split/rev2: LAYOUTS in rules.mk is overwriting community_layouts in info.json\n lets_split/rev2: Feature bootmagic is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature mousekey is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature extrakey is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature console is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature command is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature nkro is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature backlight is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature midi is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature audio is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature unicode is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature bluetooth is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature rgblight is specified in both info.json and rules.mk, the rules.mk value wins.\n lets_split/rev2: Feature sleep_led is specified in both info.json and rules.mk, the rules.mk value wins.\nKeyboard Name: Let's Split\nManufacturer: Wootpatoot\nWebsite:\nMaintainer: QMK Community\nKeyboard Folder: lets_split/rev2\nLayouts: LAYOUT, LAYOUT_ortho_4x12\nSize: 13 x 4\nProcessor: atmega32u4\nBootloader: caterina\n```"
            },
            "Detailed Change List": {
              "Changes Requiring User Action": [
                "Refactor Jacky's boards (Bear65 and S7 Elephant) ([#10528](https://github.com/qmk/qmk_firmware/pull/10528), [#11981](https://github.com/qmk/qmk_firmware/pull/11981))",
                "Remove handwired/bluepill ([#11415](https://github.com/qmk/qmk_firmware/pull/11415))",
                "Aplyard Aplx6 Added rev2 & move rev1+rev2 to parent folder ([#10973](https://github.com/qmk/qmk_firmware/pull/10973))",
                "added `unix60`, moved together with `southpaw75` into `fr4` folder ([#11195](https://github.com/qmk/qmk_firmware/pull/11195))"
              ],
              "Fixes": [
                "GCC 10 can now compile Drop Alt firmware ([#9485](https://github.com/qmk/qmk_firmware/pull/9485))",
                "Fix compiling on `develop` branch ([#11409](https://github.com/qmk/qmk_firmware/pull/11409))",
                "Fix broken keyboards and keymaps ([#11412](https://github.com/qmk/qmk_firmware/pull/11412), [#11427](https://github.com/qmk/qmk_firmware/pull/11427), [#11448](https://github.com/qmk/qmk_firmware/pull/11448), [#11447](https://github.com/qmk/qmk_firmware/pull/11447), [#11473](https://github.com/qmk/qmk_firmware/pull/11473), [#11584](https://github.com/qmk/qmk_firmware/pull/11584), [#11600](https://github.com/qmk/qmk_firmware/pull/11600))",
                "Fixed up build dependencies so that generated files are made available before compiling any object files ([#11435](https://github.com/qmk/qmk_firmware/pull/11435))",
                "Formatting fixes ([`378edd9`](https://github.com/qmk/qmk_firmware/commit/378edd9491f2ab0d3d8a970c9a8e64bc03ca15cf), [#11594](https://github.com/qmk/qmk_firmware/pull/11594), [`27749e1`](https://github.com/qmk/qmk_firmware/commit/27749e1c967c02c05e62a89a0ae2776dd7e5158c))",
                "Include `stdbool.h` in `uart.h` to fix compiler errors ([#11728](https://github.com/qmk/qmk_firmware/pull/11728))",
                "Decouple USB events from the USB interrupt handler in ChibiOS ([#10437](https://github.com/qmk/qmk_firmware/pull/10437))",
                [
                  "Fixes an issue while using Backlight and External EEPROM at the same time that would cause the MCU to lock up."
                ],
                "Address wake from sleep instability ([#11450](https://github.com/qmk/qmk_firmware/pull/11450))",
                "Fix pressing media key on a momentarily activated layer may lead to missing key up events ([#11162](https://github.com/qmk/qmk_firmware/pull/11162))",
                "Fix an RGB initialisation bug on Massdrop keyboards ([#12022](https://github.com/qmk/qmk_firmware/pull/12022))",
                "Fix file encoding errors on Windows, and layouts not correctly merging into info.json ([#12039](https://github.com/qmk/qmk_firmware/pull/12039))"
              ],
              "Additions and Enhancements": [
                "Allow configuration of serial USART timeout ([#11057](https://github.com/qmk/qmk_firmware/pull/11057))",
                "Added Sync Timer feature for Split Common keyboards ([#10997](https://github.com/qmk/qmk_firmware/pull/10997))",
                "Add modifier state to the Split Common transport ([#10400](https://github.com/qmk/qmk_firmware/pull/10400))",
                "Add Pix keyboard by sendz (`sendyyeah/pix`) ([#11154](https://github.com/qmk/qmk_firmware/pull/11154))",
                "Implement option for kinetic mouse movement algorithm for mouse keys ([#6739](https://github.com/qmk/qmk_firmware/pull/6739))",
                "Improved Language Specific Keycodes for US International and Extended Layouts ([#11307](https://github.com/qmk/qmk_firmware/pull/11307))",
                "Modified `QWIIC_ENABLE` in `rules.mk` to be yes/no choice, adding `QWIIC_DRIVERS` to allow for inclusion of specific drivers ([#11426](https://github.com/qmk/qmk_firmware/pull/11426))",
                "Allow AVR-based keyboards to override the `bootloader_jump` function ([#11418](https://github.com/qmk/qmk_firmware/pull/11418))",
                "Refine RGBLight Twinkle effect to be smoother (use breathing curve) ([#11350](https://github.com/qmk/qmk_firmware/pull/11350))",
                "Keep track of last matrix activity ([#10730](https://github.com/qmk/qmk_firmware/pull/10730), [`ab375d3`](https://github.com/qmk/qmk_firmware/commit/ab375d3d075c105f09a1ddd0e155f178225518bc), [#11552](https://github.com/qmk/qmk_firmware/pull/11552))",
                "fix `matrix_io_delay()` timing in `quantum/matrix.c` ([#9603](https://github.com/qmk/qmk_firmware/pull/9603))",
                "Keep track of encoder activity ([#11595](https://github.com/qmk/qmk_firmware/pull/11595))",
                "Backport ChibiOS Audio changes from ZSA ([#11687](https://github.com/qmk/qmk_firmware/pull/11687))",
                "Add support for 8 buttons to mouse report ([#10807](https://github.com/qmk/qmk_firmware/pull/10807))",
                "Allow `post_config.h` to be implemented in userspace ([#11519](https://github.com/qmk/qmk_firmware/pull/11519))",
                "Adds AT90USB162 support ([#11570](https://github.com/qmk/qmk_firmware/pull/11570))",
                "Stop sounds when suspended ([#11553](https://github.com/qmk/qmk_firmware/pull/11553))",
                "Revamp spidey3 userspace and keymaps ([#11768](https://github.com/qmk/qmk_firmware/pull/11768))",
                "Add support for analog USBPD on STM32G4xx ([#11824](https://github.com/qmk/qmk_firmware/pull/11824))",
                "Master matrix can now be transported to the slave side in Split Common keyboards ([#11046](https://github.com/qmk/qmk_firmware/pull/11046))",
                "RGBLight: Allow configurable default settings ([#11912](https://github.com/qmk/qmk_firmware/pull/11912))",
                "Add `tap_code_delay(code, delay)` ([#11913](https://github.com/qmk/qmk_firmware/pull/11913), [#11938](https://github.com/qmk/qmk_firmware/pull/11938))"
              ],
              "Clean-ups and Optimizations": [
                "Fix duplicate `I2C_KEYMAP_START` define ([#11237](https://github.com/qmk/qmk_firmware/pull/11237))",
                "Rewrite APA102 support for RGBLight ([#10894](https://github.com/qmk/qmk_firmware/pull/10894))",
                "Update ADB Protocol implementation in TMK Core ([#11168](https://github.com/qmk/qmk_firmware/pull/11168))",
                "Remove unused `action_get_macro()` usages in user files ([#11165](https://github.com/qmk/qmk_firmware/pull/11165))",
                "Remove `QMK_KEYBOARD_CONFIG_H` ([#11576](https://github.com/qmk/qmk_firmware/pull/11576))",
                "Remove duplicated housekeeping in `arm_atsam` ([#11672](https://github.com/qmk/qmk_firmware/pull/11672))",
                "UART driver refactor ([#11637](https://github.com/qmk/qmk_firmware/pull/11637))",
                "Move `transport.c` to `QUANTUM_LIB_SRC` ([#11751](https://github.com/qmk/qmk_firmware/pull/11751))",
                "Remove `MIDI_ENABLE_STRICT` from user keymaps ([#11750](https://github.com/qmk/qmk_firmware/pull/11750))",
                "Remove legacy print backward compatiblitly ([#11805](https://github.com/qmk/qmk_firmware/pull/11805))",
                "Migrate mousekey to quantum ([#11804](https://github.com/qmk/qmk_firmware/pull/11804))",
                "remove deprecated `qmk json-keymap` ([#11823](https://github.com/qmk/qmk_firmware/pull/11823))",
                "Remove FAUXCLICKY feature (deprecated) ([#11829](https://github.com/qmk/qmk_firmware/pull/11829))",
                "Refactor platform logic within `print.h` ([#11863](https://github.com/qmk/qmk_firmware/pull/11863))",
                "Audio system overhaul ([#11820](https://github.com/qmk/qmk_firmware/pull/11820))",
                "Output selection: Remove \"USB and BT\" option for Bluetooth ([#11940](https://github.com/qmk/qmk_firmware/pull/11940))",
                "`tmk_core/common/action.c`: refactor for code size; merge multiple `case`s into one ([#11943](https://github.com/qmk/qmk_firmware/pull/11943))",
                "Remove rules and settings from user keymaps that are already defined at keyboard level ([#11966](https://github.com/qmk/qmk_firmware/pull/11966))"
              ],
              "QMK Infrastructure and Internals": [
                "bump to python 3.7 ([#11408](https://github.com/qmk/qmk_firmware/pull/11408))",
                "`develop` branch is now formatted as part of CI tasks ([#11893](https://github.com/qmk/qmk_firmware/pull/11893), [#11905](https://github.com/qmk/qmk_firmware/pull/11905), [#11907](https://github.com/qmk/qmk_firmware/pull/11907), [#11928](https://github.com/qmk/qmk_firmware/pull/11928), [#11936](https://github.com/qmk/qmk_firmware/pull/11936))",
                "Configure keyboard matrix from info.json ([#10817](https://github.com/qmk/qmk_firmware/pull/10817))",
                "Validate our JSON data using json_schema ([#11101](https://github.com/qmk/qmk_firmware/pull/11101))",
                "Use the schema to eliminate custom code ([#11108](https://github.com/qmk/qmk_firmware/pull/11108))",
                "Add support for specifying BOARD in `info.json` ([#11492](https://github.com/qmk/qmk_firmware/pull/11492))",
                "Document how to add data driven configurations ([#11502](https://github.com/qmk/qmk_firmware/pull/11502))",
                "Process info.json rules ahead of userspace rules ([#11542](https://github.com/qmk/qmk_firmware/pull/11542))",
                "Remove duplicate manufacturer definitions ([#11544](https://github.com/qmk/qmk_firmware/pull/11544))",
                "Update list of MCUs in `keyboard.jsonschema` to mirror `qmk.constants.py` ([#11688](https://github.com/qmk/qmk_firmware/pull/11688))",
                "Create a system to map between `info.json` and `config.h`/`rules.mk` ([#11548](https://github.com/qmk/qmk_firmware/pull/11548))",
                "Make LAYOUT parsing more robust ([#12000](https://github.com/qmk/qmk_firmware/pull/12000))"
              ],
              "ChibiOS Update and Config Migration": [
                "Add board specific to Proton-C, with usual defaults turned on to match Pro-Micro ([#10976](https://github.com/qmk/qmk_firmware/pull/10976))",
                "Disable almost all ChibiOS subsystems in default configs ([#11111](https://github.com/qmk/qmk_firmware/pull/11111))",
                "Config Migrations ([#10418](https://github.com/qmk/qmk_firmware/pull/10418), [#11123](https://github.com/qmk/qmk_firmware/pull/11123), [#11261](https://github.com/qmk/qmk_firmware/pull/11261), [#11413](https://github.com/qmk/qmk_firmware/pull/11413), [#11414](https://github.com/qmk/qmk_firmware/pull/11414), [#11495](https://github.com/qmk/qmk_firmware/pull/11495), [#11504](https://github.com/qmk/qmk_firmware/pull/11504), [#11529](https://github.com/qmk/qmk_firmware/pull/11529), [#11588](https://github.com/qmk/qmk_firmware/pull/11588), [#11598](https://github.com/qmk/qmk_firmware/pull/11598), [#11607](https://github.com/qmk/qmk_firmware/pull/11607), [#11617](https://github.com/qmk/qmk_firmware/pull/11617), [#11620](https://github.com/qmk/qmk_firmware/pull/11620), [#11630](https://github.com/qmk/qmk_firmware/pull/11630), [#11646](https://github.com/qmk/qmk_firmware/pull/11646), [#11689](https://github.com/qmk/qmk_firmware/pull/11689), [#11846](https://github.com/qmk/qmk_firmware/pull/11846), [#11927](https://github.com/qmk/qmk_firmware/pull/11927), [#12001](https://github.com/qmk/qmk_firmware/pull/12001))",
                "Disable subsystems repo-wide ([#11449](https://github.com/qmk/qmk_firmware/pull/11449))",
                "Leftover early initialisation conversions ([#11615](https://github.com/qmk/qmk_firmware/pull/11615))",
                "Fix up comments showing how to execute config migration ([#11621](https://github.com/qmk/qmk_firmware/pull/11621))",
                "Add STM32G431 and STM32G474 board definitions ([#11793](https://github.com/qmk/qmk_firmware/pull/11793))"
              ]
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 5]"
        },
        {
          "title": "QMK Breaking Changes - 2021 May 29 Changelog",
          "description": null,
          "content": {
            "Notable Changes {#notable-changes}": {
              "RGB Matrix support for split common ([#11055](https://github.com/qmk/qmk_firmware/pull/11055)) {#rgb-matrix-split-common}": "Split boards can now use RGB Matrix without defining a custom matrix.",
              "Teensy 3.6 support ([#12258](https://github.com/qmk/qmk_firmware/pull/12258)) {#teensy-3-6-support}": "Added support for MK66F18 (Teensy 3.6) microcontroller.",
              "New command: qmk console ([#12828](https://github.com/qmk/qmk_firmware/pull/12828)) {#new-command-qmk-console}": "A new `qmk console` command has been added for attaching to your keyboard's console. It operates similiarly to QMK Toolbox by allowing you to connect to one or more keyboard consoles to display debugging messages.",
              "Improved command: qmk config {#improve-command-qmk-config}": "We've updated the `qmk config` command to show only the configuration items you have actually set. You can now display (almost) all of the available configuration options, along with their default values, using `qmk config -a`.",
              "LED Matrix Improvements ([#12509](https://github.com/qmk/qmk_firmware/pull/12509), [#12580](https://github.com/qmk/qmk_firmware/pull/12580), [#12588](https://github.com/qmk/qmk_firmware/pull/12588), [#12633](https://github.com/qmk/qmk_firmware/pull/12633), [#12651](https://github.com/qmk/qmk_firmware/pull/12651), [#12685](https://github.com/qmk/qmk_firmware/pull/12685)) {#led-matrix-improvements}": "LED Matrix has been improved with effects, CIE1931 curves, and a task system."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": [
                "Durgod keyboard refactor in preparation for adding additional durgod keyboards ([#11978](https://github.com/qmk/qmk_firmware/pull/11978))",
                "Updated Function96 with V2 files and removed chconf.h and halconf.h ([#12613](https://github.com/qmk/qmk_firmware/pull/12613))",
                "[Keyboard] updated a vendor name / fixed minor keymap issues ([#12881](https://github.com/qmk/qmk_firmware/pull/12881))",
                "[Keyboard] Corne - Remove legacy revision support ([#12226](https://github.com/qmk/qmk_firmware/pull/12226))"
              ],
              "Bootmagic Deprecation and Refactor ([#12172](https://github.com/qmk/qmk_firmware/pull/12172)) {#bootmagic-deprecation-and-refactor}": {
                "Tentative Deprecation Schedule": "This is the current planned roadmap for the behavior of `BOOTMAGIC_ENABLE`:\n\n['From 2021 May 29, setting `BOOTMAGIC_ENABLE = yes` will enable Bootmagic Lite instead of full Bootmagic.', 'From 2021 Aug 28, `BOOTMAGIC_ENABLE` must be either `yes`, `lite`, or `no`  setting `BOOTMAGIC_ENABLE = full` will cause compilation to fail.', 'From 2021 Nov 27, `BOOTMAGIC_ENABLE` must be either `yes` or `no`  setting `BOOTMAGIC_ENABLE = lite` will cause compilation to fail.']"
              },
              "Removal of LAYOUT_kc ([#12160](https://github.com/qmk/qmk_firmware/pull/12160)) {#removal-of-layout-kc}": "We've removed support for `LAYOUT_kc` macros, if your keymap uses one you will need to update it use a regular `LAYOUT` macro.",
              "Encoder callbacks are now boolean ([#12805](https://github.com/qmk/qmk_firmware/pull/12805), [#12985](https://github.com/qmk/qmk_firmware/pull/12985)) {#encoder-callback-boolean}": "To allow for keyboards to override (or not) keymap level code the `encoder_update_kb` function has been changed from `void` to `bool`. You will need to update your function definition to reflect this and ensure that you return a `true` or `false` value.\n\nExample code before change:\n\n```\nvoid encoder_update_kb(uint8_t index, bool clockwise) {\n    encoder_update_user(index, clockwise);\n}\n\nvoid encoder_update_user(uint8_t index, bool clockwise) {\n    if (index == 0) { /* First encoder */\n        if (clockwise) {\n            tap_code(KC_PGDN);\n        } else {\n            tap_code(KC_PGUP);\n        }\n    } else if (index == 1) { /* Second encoder */\n        if (clockwise) {\n            tap_code(KC_DOWN);\n        } else {\n            tap_code(KC_UP);\n        }\n    }\n}\n```\n\nExample code after change:\n\n```\nbool encoder_update_kb(uint8_t index, bool clockwise) {\n    return encoder_update_user(index, clockwise);\n}\n\nbool encoder_update_user(uint8_t index, bool clockwise) {\n    if (index == 0) { /* First encoder */\n        if (clockwise) {\n            tap_code(KC_PGDN);\n        } else {\n            tap_code(KC_PGUP);\n        }\n    } else if (index == 1) { /* Second encoder */\n        if (clockwise) {\n            tap_code(KC_DOWN);\n        } else {\n            tap_code(KC_UP);\n        }\n    }\n    return true; \n    // If you return true, this will allow the keyboard level code to run, as well. \n    //Returning false will override the keyboard level code. Depending on how the keyboard level function is set up.\n}\n```"
            },
            "Core Changes {#core-changes}": {
              "Fixes {#core-fixes}": [
                "Fix connection issue in split keyboards when slave and OLED display are connected via I2C (fixes #9335) ([#11487](https://github.com/qmk/qmk_firmware/pull/11487))",
                "Terrazzo: Fix wrong LED Matrix function names ([#12561](https://github.com/qmk/qmk_firmware/pull/12561))",
                "Apply the \"NO_LIMITED_CONTROLLER_CONNECT\" fix to atmega16u2 ([#12482](https://github.com/qmk/qmk_firmware/pull/12482))",
                "Fix comment parsing ([#12750](https://github.com/qmk/qmk_firmware/pull/12750))",
                "Turn OLED off on suspend in soundmonster Corne keymap ([#10419](https://github.com/qmk/qmk_firmware/pull/10419))",
                "Fixup build errors on `develop` branch. ([#12723](https://github.com/qmk/qmk_firmware/pull/12723))",
                "Fix syntax error when compiling for ARM ([#12866](https://github.com/qmk/qmk_firmware/pull/12866))",
                "Add missing LED Matrix suspend code to suspend.c ([#12878](https://github.com/qmk/qmk_firmware/pull/12878))",
                "Fix spelling mistake regarding LED Matrix in split_common. ([#12888](https://github.com/qmk/qmk_firmware/pull/12888))",
                "[Keymap] Fix QWERTY/DVORAK status output for kzar keymap ([#12895](https://github.com/qmk/qmk_firmware/pull/12895))",
                "Fixup housekeeping from being invoked twice per loop. ([#12933](https://github.com/qmk/qmk_firmware/pull/12933))",
                "wait for matrix row signal to go HIGH for every row ([#12945](https://github.com/qmk/qmk_firmware/pull/12945))",
                "ensure we do not conflict with existing keymap aliases ([#12976](https://github.com/qmk/qmk_firmware/pull/12976))",
                "[Keyboard] Fix Terrazzo build failure ([#12977](https://github.com/qmk/qmk_firmware/pull/12977))",
                "Do not hard set config in CPTC files ([#11864](https://github.com/qmk/qmk_firmware/pull/11864))"
              ],
              "Additions and Enhancements {#core-additions}": [
                "ARM - Refactor SLEEP_LED to support more platforms ([#8403](https://github.com/qmk/qmk_firmware/pull/8403))",
                "Add ability to toggle One Shot functionality ([#4198](https://github.com/qmk/qmk_firmware/pull/4198))",
                "Add RGB Matrix support to Split Common ([#11055](https://github.com/qmk/qmk_firmware/pull/11055))",
                "Add support for complementary outputs to the ChibiOS WS2812 PWM driver ([#11988](https://github.com/qmk/qmk_firmware/pull/11988))",
                "Enable RGB Matrix for Corne ([#12091](https://github.com/qmk/qmk_firmware/pull/12091))",
                "Set default OLED Update Interval for Split Keyboards to improve matrix scan performance ([#12107](https://github.com/qmk/qmk_firmware/pull/12107))",
                "Add support for MK66F18 (Teensy 3.6) micro controller ([#12258](https://github.com/qmk/qmk_firmware/pull/12258))",
                "Split RGB Matrix support for RGBKB Zygomorph ([#11083](https://github.com/qmk/qmk_firmware/pull/11083))",
                "Add baudrate and circular buffer to ARM WS2812 SPI config ([#12216](https://github.com/qmk/qmk_firmware/pull/12216))",
                "Add keyboard level weak function for slave matrix scan ([#12317](https://github.com/qmk/qmk_firmware/pull/12317))",
                "Add link to schematic on EasyEDA for XD60 ([#12018](https://github.com/qmk/qmk_firmware/pull/12018))",
                "Add Config functions for LED Matrix ([#12361](https://github.com/qmk/qmk_firmware/pull/12361))",
                "Add pin definitions for MK66F18 ([#12419](https://github.com/qmk/qmk_firmware/pull/12419))",
                "add kinesis/kint36 keyboard ([#10171](https://github.com/qmk/qmk_firmware/pull/10171))",
                "Add support for producing UF2-format binaries. ([#12435](https://github.com/qmk/qmk_firmware/pull/12435))",
                "Implement CIE1931 curve for LED Matrix ([#12417](https://github.com/qmk/qmk_firmware/pull/12417))",
                "Change `BOOTMAGIC_ENABLE=yes` to use Bootmagic Lite ([#12172](https://github.com/qmk/qmk_firmware/pull/12172))",
                "Add kzar keymap for Kinesis Advantage ([#12444](https://github.com/qmk/qmk_firmware/pull/12444))",
                "LED Matrix: suspend code ([#12509](https://github.com/qmk/qmk_firmware/pull/12509))",
                "LED Matrix: Task system ([#12580](https://github.com/qmk/qmk_firmware/pull/12580))",
                "Add missing RGB_MODE_TWINKLE / RGB_M_TW keycodes ([#11935](https://github.com/qmk/qmk_firmware/pull/11935))",
                "Enhancement of WPM feature ([#11727](https://github.com/qmk/qmk_firmware/pull/11727))",
                "Add Per Key functionality for AutoShift ([#11536](https://github.com/qmk/qmk_firmware/pull/11536))",
                "LED Matrix: Reactive effect buffers & advanced indicators ([#12588](https://github.com/qmk/qmk_firmware/pull/12588))",
                "LED Matrix: support for Split keyboards ([#12633](https://github.com/qmk/qmk_firmware/pull/12633))",
                "add setting to enable infinite timeout for leader key ([#6580](https://github.com/qmk/qmk_firmware/pull/6580), [#12721](https://github.com/qmk/qmk_firmware/pull/12721 \"Fix bad PR merge for #6580\"))",
                "Update ADC driver for STM32F1xx, STM32F3xx, STM32F4xx ([#12403](https://github.com/qmk/qmk_firmware/pull/12403))",
                "Add initial support for tinyuf2 bootloader (when hosted on F411 blackpill) ([#12600](https://github.com/qmk/qmk_firmware/pull/12600))",
                "Add support for STM32F446 MCU ([#12619](https://github.com/qmk/qmk_firmware/pull/12619))",
                "Add STM32L433 and L443 support ([#12063](https://github.com/qmk/qmk_firmware/pull/12063))",
                "Added OLED fade out support ([#12086](https://github.com/qmk/qmk_firmware/pull/12086))",
                "New command: `qmk console` ([#12828](https://github.com/qmk/qmk_firmware/pull/12828))",
                "LED Matrix: Effects! ([#12651](https://github.com/qmk/qmk_firmware/pull/12651))",
                "Add setup, clone, and env to the list of commands we allow even with broken modules ([#12868](https://github.com/qmk/qmk_firmware/pull/12868))",
                "LED Matrix: Documentation ([#12685](https://github.com/qmk/qmk_firmware/pull/12685))",
                "Add function to allow repeated blinking of one layer ([#12237](https://github.com/qmk/qmk_firmware/pull/12237))",
                "Add support for up to 4 IS31FL3733 drivers ([#12342](https://github.com/qmk/qmk_firmware/pull/12342))",
                "Convert Encoder callbacks to be boolean functions ([#12805](https://github.com/qmk/qmk_firmware/pull/12805), [#12985](https://github.com/qmk/qmk_firmware/pull/12985))",
                "[Keymap] Update to Drashna keymap and user code (based on develop) ([#12936](https://github.com/qmk/qmk_firmware/pull/12936))",
                "Add Full-duplex serial driver for ARM boards ([#9842](https://github.com/qmk/qmk_firmware/pull/9842))",
                "Document LED_MATRIX_FRAMEBUFFER_EFFECTS ([#12987](https://github.com/qmk/qmk_firmware/pull/12987))",
                "Backlight: add defines for default level and breathing state ([#12560](https://github.com/qmk/qmk_firmware/pull/12560), [#13024](https://github.com/qmk/qmk_firmware/pull/13024))",
                "Add dire message about LUFA mass storage bootloader ([#13014](https://github.com/qmk/qmk_firmware/pull/13014))"
              ],
              "Clean-ups and Optimizations {#core-optimizations}": [
                "Overhaul bootmagic logic to have single entrypoint ([#8532](https://github.com/qmk/qmk_firmware/pull/8532))",
                "Refactor of USB code within split_common ([#11890](https://github.com/qmk/qmk_firmware/pull/11890))",
                "Begin the process of deprecating `bin/qmk` in favor of the global CLI ([#12109](https://github.com/qmk/qmk_firmware/pull/12109))",
                "LED Matrix: decouple from Backlight ([#12054](https://github.com/qmk/qmk_firmware/pull/12054))",
                "Remove `FUNC()` ([#12161](https://github.com/qmk/qmk_firmware/pull/12161))",
                "Move gpio wait logic to wait.h ([#12067](https://github.com/qmk/qmk_firmware/pull/12067))",
                "LED Matrix: Clean up includes ([#12197](https://github.com/qmk/qmk_firmware/pull/12197))",
                "Consistently use bin/qmk when that script is called ([#12286](https://github.com/qmk/qmk_firmware/pull/12286))",
                "LED Matrix: Additional common_features.mk tweaks ([#12187](https://github.com/qmk/qmk_firmware/pull/12187))",
                "LED Matrix: Fix up eeconfig code ([#12327](https://github.com/qmk/qmk_firmware/pull/12327))",
                "Big quantum_keycodes cleanup ([#12249](https://github.com/qmk/qmk_firmware/pull/12249))",
                "Fix up builds that are now too big for `develop` branch. ([#12495](https://github.com/qmk/qmk_firmware/pull/12495))",
                "[Keyboard] kint36: switch to sym_eager_pk debouncing ([#12626](https://github.com/qmk/qmk_firmware/pull/12626))",
                "[Keyboard] kint2pp: reduce input latency by 10ms ([#12625](https://github.com/qmk/qmk_firmware/pull/12625))",
                "eeprom driver: Refactor where eeprom driver initialisation (and EEPROM emulation initialisation) occurs to make it non-target-specific. ([#12671](https://github.com/qmk/qmk_firmware/pull/12671))",
                "Change RGB/LED Matrix to use a simple define for USB suspend ([#12697](https://github.com/qmk/qmk_firmware/pull/12697), [#12770](https://github.com/qmk/qmk_firmware/pull/12770 \"Fixing transport's led/rgb matrix suspend state logic\"))",
                "Remove pointless SERIAL_LINK_ENABLE rules ([#12846](https://github.com/qmk/qmk_firmware/pull/12846))",
                "Make Swap Hands use PROGMEM ([#12284](https://github.com/qmk/qmk_firmware/pull/12284))",
                "Remove KEYMAP and LAYOUT_kc ([#12160](https://github.com/qmk/qmk_firmware/pull/12160))",
                "Rename `point_t` -> `led_point_t` ([#12864](https://github.com/qmk/qmk_firmware/pull/12864))",
                "Deprecate `send_unicode_hex_string()` ([#12602](https://github.com/qmk/qmk_firmware/pull/12602))",
                "[Keyboard] Remove redundant legacy and common headers for crkbd ([#13023](https://github.com/qmk/qmk_firmware/pull/13023))"
              ],
              "QMK Infrastructure and Internals {#qmk-internals}": [
                "trivial change to trigger api update ([`b15288fb87`](https://github.com/qmk/qmk_firmware/commit/b15288fb87))",
                "fix some references to bin/qmk that slipped in ([#12832](https://github.com/qmk/qmk_firmware/pull/12832))",
                "Resolve a number of warnings in `qmk generate-api` ([#12833](https://github.com/qmk/qmk_firmware/pull/12833))",
                "Fix another bin/qmk reference ([#12856](https://github.com/qmk/qmk_firmware/pull/12856))",
                "Use milc.subcommand.config instead of qmk.cli.config ([#12915](https://github.com/qmk/qmk_firmware/pull/12915))"
              ]
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 6]"
        },
        {
          "title": "QMK Breaking Changes - 2021 August 28 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": {
              "Combo processing improvements ([#8591](https://github.com/qmk/qmk_firmware/pull/8591)) {#combo-processing-improvements}": "Combo processing has been reordered with respect to keypress handling, allowing for much better compatibility with mod taps.\n\nIt is also now possible to define combos that have keys overlapping with other combos, triggering only one. For example, a combo of `A`, `B` can coexist with a longer combo of `A`, `B`, `C` -- previous functionality would trigger both combos if all three keys were pressed.",
              "Key Overrides ([#11422](https://github.com/qmk/qmk_firmware/pull/11422)) {#key-overrides}": "QMK now has a new feature: [key overrides](../features/key_overrides). This feature allows for overriding the output of key combinations involving modifiers. As an example, pressing <kbd>Shift+2</kbd> normally results in an <kbd>@</kbd> on US-ANSI keyboard layouts -- the new key overrides allow for adding similar functionality, but for any <kbd>modifier + key</kbd> press.\n\nTo illustrate, it's now possible to use the key overrides feature to translate <kbd>Shift + Backspace</kbd> into <kbd>Delete</kbd> -- an often-requested example of where this functionality comes in handy.\n\nThere's far more to describe that what lives in this changelog, so head over to the [key overrides documentation](../features/key_overrides) for more examples and info.",
              "Digitizer support ([#12851](https://github.com/qmk/qmk_firmware/pull/12851))": "QMK gained the ability to pretend to be a digitizer device -- much like a tablet device. A mouse uses delta-coordinates -- move up, move right -- but a digitizer works with absolute coordinates -- top left, bottom right."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\nOld Keyboard Name             | New Keyboard Name\n------------------------------|---------------------------------------------------------\naeboards/constellation        | aeboards/constellation/rev1, aeboards/constellation/rev2\nbakeneko65                    | bakeneko65/rev2, bakeneko65/rev3\nbm16a                         | kprepublic/bm16a\nbm16s                         | kprepublic/bm16s\nbm40hsrgb                     | kprepublic/bm40hsrgb\nbm43a                         | kprepublic/bm43a\nbm60poker                     | kprepublic/bm60poker\nbm60rgb                       | kprepublic/bm60rgb\nbm60rgb_iso                   | kprepublic/bm60rgb_iso\nbm68rgb                       | kprepublic/bm68rgb\nclawsome/gamebuddy            | clawsome/gamebuddy/v1_0, clawsome/gamebuddy/v1_m\ncospad                        | kprepublic/cospad\ncustommk/genesis              | custommk/genesis/rev1, custommk/genesis/rev2\ndaisy                         | ktec/daisy\ndurgod/k320                   | durgod/k3x0/k320\ndztech/volcano660             | ilumkb/volcano660\nergodone                      | ktec/ergodone\ngmmk/pro                      | gmmk/pro/ansi, gmmk/pro/iso\nhandwired/p1800fl             | team0110/p1800fl\njj40                          | kprepublic/jj40\njj4x4                         | kprepublic/jj4x4\njj50                          | kprepublic/jj50\nkyria                         | splitkb/kyria\nlazydesigners/the60           | lazydesigners/the60/rev1, lazydesigners/the60/rev2\nmatrix/m12og                  | matrix/m12og/rev1, matrix/m12og/rev2\nmechlovin/hannah65/mechlovin9 | mechlovin/mechlovin9/rev1, mechlovin/mechlovin9/rev2\npeiorisboards/ixora           | coarse/ixora\nramonimbao/mona               | ramonimbao/mona/v1, ramonimbao/mona/v1_1\nstaryu                        | ktec/staryu\ntokyo60                       | tokyokeyboard/tokyo60\nvinta                         | coarse/vinta\nxd002                         | xiudi/xd002\nxd004                         | xiudi/xd004\nxd60                          | xiudi/xd60\nxd68                          | xiudi/xd68\nxd75                          | xiudi/xd75\nxd84                          | xiudi/xd84\nxd84pro                       | xiudi/xd84pro\nxd87                          | xiudi/xd87\nxd96                          | xiudi/xd96",
              "Bootmagic Full Removal ([#13846](https://github.com/qmk/qmk_firmware/pull/13846)) {#bootmagic-full-removal}": {
                "Bootmagic Full Deprecation Schedule": "This is the current roadmap for the behavior of `BOOTMAGIC_ENABLE`:\n\n['(done) From 2021 May 29, setting `BOOTMAGIC_ENABLE = yes` will enable Bootmagic Lite instead of full Bootmagic.', '(now) From 2021 Aug 28, `BOOTMAGIC_ENABLE` must be either `yes`, `lite`, or `no`  setting `BOOTMAGIC_ENABLE = full` will cause compilation to fail.', '(next) From 2021 Nov 27, `BOOTMAGIC_ENABLE` must be either `yes` or `no`  setting `BOOTMAGIC_ENABLE = lite` will cause compilation to fail.']"
              },
              "DIP switch callbacks are now boolean ([#13399](https://github.com/qmk/qmk_firmware/pull/13399)) {#dip-switch-boolean}": "To match the encoder change last breaking changes cycle, DIP switch callbacks now return `bool`, too.\n\nExample code before change:\n\n```\nvoid dip_switch_update_kb(uint8_t index, bool active) {\n    dip_switch_update_user(index, active);\n}\n\nvoid dip_switch_update_user(uint8_t index, bool active) {\n    switch (index) {\n        case 0:\n            if(active) { audio_on(); } else { audio_off(); }\n            break;\n    }\n}\n\nvoid dip_switch_update_mask_kb(uint32_t state) { \n    dip_switch_update_mask_user(state);\n}\n\nvoid dip_switch_update_mask_user(uint32_t state) {\n    if (state & (1UL<<0) && state & (1UL<<1)) {\n        layer_on(_ADJUST); // C on esc\n    } else {\n        layer_off(_ADJUST);\n    }\n}\n```\n\nExample code after change:\n\n```\nbool dip_switch_update_kb(uint8_t index, bool active) {\n    if !(dip_switch_update_user(index, active)) { return false; }\n    return true;\n}\n\nbool dip_switch_update_user(uint8_t index, bool active) {\n    switch (index) {\n        case 0:\n            if(active) { audio_on(); } else { audio_off(); }\n            break;\n    }\n    return true; // Returning true allows keyboard code to execute, false will tell the keyboard code \"I've already handled it\".\n}\n\nbool dip_switch_update_mask_kb(uint32_t state) {\n    if (!dip_switch_update_mask_user(state)) { return false; }\n    return true;\n}\n\nbool dip_switch_update_mask_user(uint32_t state) {\n    if (state & (1UL<<0) && state & (1UL<<1)) {\n        layer_on(_ADJUST); // C on esc\n    } else {\n        layer_off(_ADJUST);\n    }\n    return true; // Returning true allows keyboard code to execute, false will tell the keyboard code \"I've already handled it\".\n}\n```"
            },
            "Notable core changes {#notable-core}": {
              "Split transport improvements {#split-transport-improvements}": "Split keyboards gained a significant amount of improvements during this breaking changes cycle, specifically:\n\n['Extensible split data sync ([#11930](https://github.com/qmk/qmk_firmware/pull/11930)) -- rewritten data sharing between sides, allowing for data transfer only when required, as well as enabling keyboards and keymaps to define their own shared data.', 'Full-duplex ARM USART split ([#13081](https://github.com/qmk/qmk_firmware/pull/13081)) -- adds to the previous half-duplex driver and now allows for full-duplex support on ARM.', 'Make solo half of split keyboards (more) usable. ([#13523](https://github.com/qmk/qmk_firmware/pull/13523)) -- allows the slave to be disconnected, enabling one-handed use.', 'Switch split_common to CRC subsystem ([#13418](https://github.com/qmk/qmk_firmware/pull/13418))']\n\n::: warning\nIf you're updating your split keyboard, you will need to flash both sides of the split with the your firmware.\n:::",
              "Teensy 4.x support ([#13056](https://github.com/qmk/qmk_firmware/pull/13056), [#13076](https://github.com/qmk/qmk_firmware/pull/13076), [#13077](https://github.com/qmk/qmk_firmware/pull/13077)) {#teensy-4-x-support}": "Updated ChibiOS and ChibiOS-Contrib, which brought in support for Teensy 4.x dev boards, running NXP i.MX1062.",
              "Data Driven Improvements ([#13366](https://github.com/qmk/qmk_firmware/pull/13366))": {
                "Tags": "Tags will let you categorize your keyboard, and will be used in the future to allow browsing and sorting through keyboards in QMK. Tags are free-form text identifiers that identify attributes about your keyboard. To add tags you simply add a `tags` key to your `info.json`:\n\n\"tags\": [\"tkl\", \"backlight\", \"encoder\"]\n",
                "Dot Notation": "With this release we are moving towards using JSON dot notation in more places. For example, when using `qmk info -f text`:\n\n```\n$ qmk info -f text -kb clueboard/card\n  bootloader: atmel-dfu\n  debounce: 20\n  diode_direction: ROW2COL\n  features.audio: True\n  features.backlight: True\n  features.bluetooth: False\n  features.bootmagic: False\n  features.command: True\n  features.console: True\n  features.extrakey: True\n  features.lto: True\n  features.midi: False\n  features.mousekey: True\n  features.nkro: False\n  features.rgblight: True\n  features.unicode: False\n  height: 8\n  keyboard_folder: clueboard/card\n  keyboard_name: Cluecard\n  layout_aliases.LAYOUT: LAYOUT_all\n  layouts: LAYOUT_all\n  maintainer: skullydazed\n  manufacturer: Clueboard\n  matrix_pins.cols: F1, F6, F7\n  matrix_pins.rows: B4, F0, F4, F5\n  platform: unknown\n  processor: atmega32u4\n  processor_type: avr\n  protocol: LUFA\n  rgblight.brightness_steps: 17\n  rgblight.hue_steps: 10\n  rgblight.led_count: 4\n  rgblight.pin: E6\n  rgblight.saturation_steps: 17\n  split.transport.protocol: serial\n  usb.device_ver: 0x0001\n  usb.pid: 0x2330\n  usb.vid: 0xC1ED\n  width: 10\n```",
                "New configuration keys": "We've added dozens of new keys to `info.json` so that you can configure more than ever without writing a single line of code. A quick overview of the new items you can configure:\n\n['`audio.pins`, `audio.voices`', '`backlight.breathing`, `backlight.breathing_period`, `backlight.levels`, `backlight.pin`,', '`bluetooth.driver`, `bluetooth.lto`', '`bootloader_instructions`', '`build.debounce_type`, `build.firmware_format`, `build.lto`', '`combo.count`, `combo.term`', '`leader_key.timing`, `leader_key.strict_processing`, `leader_key.timeout`', '`matrix.custom`, `matrix.custom_lite`, `matrix.ghost`, `matrix.io_delay`', '`mouse_key.enabled`, `mouse_key.delay`, `mouse_key.interval`, `mouse_key.max_speed`, `mouse_key.time_to_max`, `mouse_key.wheel_delay`', '`oneshot.tap_toggle`, `oneshot.timeout`', '`rgblight.layers.blink`, `rgblight.layers.enabled`, `rgblight.layers.max`, `rgblight.layers.override_rgb`, `rgblight.rgbw`', '`split.enabled`, `split.matrix_grid`, `split.matrix_pins`, `split.main`, `split.soft_serial_pin`, `split.soft_serial_speed`, `split.transport.protocol`, `split.transport.sync_matrix_state`, `split.transport.sync_modifiers`, `split.usb_detect`', '`tapping.force_hold`, `tapping.force_hold_per_key`, `tapping.ignore_mod_tap_interrupt`, `tapping.ignore_mod_tap_interrupt_per_key`, `tapping.permissive_hold`, `tapping.permissive_hold_per_key`, `tapping.retro`, `tapping.retro_per_key`, `tapping.term`, `tapping.term_per_key`, `tapping.toggle`', '`usb.force_nkro`, `usb.max_power`, `usb.no_startup_check`, `usb.polling_interval`, `usb.shared_endpoint.keyboard`, `usb.shared_endpoint.mouse`, `usb.suspend_wakeup_delay`, `usb.wait_for`', '`qmk.keys_per_scan`, `qmk.tap_keycode_delay`, `qmk.tap_capslock_delay`']"
              },
              "Codebase restructure and cleanup {#codebase-restructure}": "QMK was originally based on TMK, and has grown in size considerably since its first inception. To keep moving things forward, restructure of some of the core areas of the code is needed to support new concepts and new hardware, and progress is happening along those lines:\n\n['Move RGBLight code into its own folder ([#13312](https://github.com/qmk/qmk_firmware/pull/13312))', 'Migrate platform independent code from tmk_core -> quantum ([#13673](https://github.com/qmk/qmk_firmware/pull/13673))', 'matrix_scan_x -> x_task ([#13748](https://github.com/qmk/qmk_firmware/pull/13748))', 'Move some led drivers to common folder ([#13749](https://github.com/qmk/qmk_firmware/pull/13749))', 'Move chibios board files to allow tmk_core platform migration ([#13777](https://github.com/qmk/qmk_firmware/pull/13777))', 'Begin to carve out platform/protocol API - Single main loop ([#13843](https://github.com/qmk/qmk_firmware/pull/13843))', 'Relocate platform specific drivers ([#13894](https://github.com/qmk/qmk_firmware/pull/13894))', 'Move all the flash logic from tmk_core ([#13927](https://github.com/qmk/qmk_firmware/pull/13927))', 'Move USB Host Shield and Arduino core to `lib/` ([#13973](https://github.com/qmk/qmk_firmware/pull/13973))', 'Unify behaviour of wait on AVR ([#14025](https://github.com/qmk/qmk_firmware/pull/14025))', 'Move nix folder alongside vagrant ([#14132](https://github.com/qmk/qmk_firmware/pull/14132))', 'Align some quantum sub-directories ([#14134](https://github.com/qmk/qmk_firmware/pull/14134))']\n\n[]"
            },
            "Full changelist": "Core:\n\n['Arm ps2 mouse interrupt ([#6490](https://github.com/qmk/qmk_firmware/pull/6490))', 'Process combos earlier & overlapping combos ([#8591](https://github.com/qmk/qmk_firmware/pull/8591))', 'Swap buttons on PS2 Mouse/Trackball ([#9205](https://github.com/qmk/qmk_firmware/pull/9205))', 'Add HOLD_ON_OTHER_KEY_PRESS option for dual-role keys ([#9404](https://github.com/qmk/qmk_firmware/pull/9404))', 'add yaml_build_options target ([#10533](https://github.com/qmk/qmk_firmware/pull/10533))', 'Warn when building a board that uses arm_atsam ([#10904](https://github.com/qmk/qmk_firmware/pull/10904))', 'Key Overrides ([#11422](https://github.com/qmk/qmk_firmware/pull/11422))', 'Refactor `quantum/command.{c,h}` for code size & {read,maintain}ability ([#11842](https://github.com/qmk/qmk_firmware/pull/11842))', 'Extensible split data sync ([#11930](https://github.com/qmk/qmk_firmware/pull/11930))', 'Move print/debug files to quantum ([#12069](https://github.com/qmk/qmk_firmware/pull/12069))', 'Unconditionally call led_init_ports ([#12116](https://github.com/qmk/qmk_firmware/pull/12116))', 'Support using a timer for wait_us() on ChibiOS-based boards ([#12211](https://github.com/qmk/qmk_firmware/pull/12211))', 'Add support for NO_PIN to all matrix types ([#12238](https://github.com/qmk/qmk_firmware/pull/12238))', 'Avoid 8-bit timer overflows in debounce algorithms ([#12240](https://github.com/qmk/qmk_firmware/pull/12240))', 'Add Per Key exclusions for Haptic Feedback ([#12386](https://github.com/qmk/qmk_firmware/pull/12386))', 'Steno combinedkeys ([#12538](https://github.com/qmk/qmk_firmware/pull/12538))', 'eeprom_stm32: implement high density wear leveling ([#12567](https://github.com/qmk/qmk_firmware/pull/12567))', 'eeprom_i2c driver: added EXTERNAL_EEPROM_WP_PIN configuration option. ([#12617](https://github.com/qmk/qmk_firmware/pull/12617))', 'Add CRC8 calculation subsystem to quantum ([#12641](https://github.com/qmk/qmk_firmware/pull/12641))', 'Limit saturation for RGB_MATRIX_JELLYBEAN_RAINDROPS ([#12669](https://github.com/qmk/qmk_firmware/pull/12669))', 'Add asym_eager_defer_pk debounce type ([#12689](https://github.com/qmk/qmk_firmware/pull/12689))', 'Include lib8tion.c into RGB/LED matrix build list ([#12699](https://github.com/qmk/qmk_firmware/pull/12699))', \"Add readPort() and some API to 'tmk_core/common/*/gpio.h' ([#12754](https://github.com/qmk/qmk_firmware/pull/12754))\", 'add wait_cpuclock() macro for AVR and CPU_CLOCK macro ([#12755](https://github.com/qmk/qmk_firmware/pull/12755))', 'Trigger a wakeup after USB Reset on ChibiOS. ([#12831](https://github.com/qmk/qmk_firmware/pull/12831))', 'Add sync_timer support over serial_link (i.e. Ergodox Infinity) ([#12845](https://github.com/qmk/qmk_firmware/pull/12845))', 'Digitizer HID interface : absolute coordinates for mouse cursor ([#12851](https://github.com/qmk/qmk_firmware/pull/12851))', 'Add config.h and rules.mk support for data driven keymaps ([#12859](https://github.com/qmk/qmk_firmware/pull/12859))', 'Add alternate ldscript for STM32duino (F103xB) ([#12914](https://github.com/qmk/qmk_firmware/pull/12914))', '`keymap_extras`: Remove deprecated defines ([#12949](https://github.com/qmk/qmk_firmware/pull/12949))', 'Retain brightness with lighting layers ([#13025](https://github.com/qmk/qmk_firmware/pull/13025))', 'Move optical sensor code to drivers folder ([#13044](https://github.com/qmk/qmk_firmware/pull/13044))', 'Change the prototype of matrix_output_unselect_delay() ([#13045](https://github.com/qmk/qmk_firmware/pull/13045))', 'Add weak refs on reading rows/cols. ([#13062](https://github.com/qmk/qmk_firmware/pull/13062))', 'Use single memcmp to determine if matrix changed. ([#13064](https://github.com/qmk/qmk_firmware/pull/13064))', 'Improve layer mask handling ([#13065](https://github.com/qmk/qmk_firmware/pull/13065))', 'mousekey: expose current report to users ([#13069](https://github.com/qmk/qmk_firmware/pull/13069))', 'ChibiOS SVN mirror script. ([#13070](https://github.com/qmk/qmk_firmware/pull/13070))', 'Added right vs left specific pin assignments for dip switch ([#13074](https://github.com/qmk/qmk_firmware/pull/13074))', 'make RESET key work with Teensy 4.x ([#13076](https://github.com/qmk/qmk_firmware/pull/13076))', 'wire up flash make target for Teensy 4.x ([#13077](https://github.com/qmk/qmk_firmware/pull/13077))', 'bump USB spec version in device descriptor to 2.0 ([#13078](https://github.com/qmk/qmk_firmware/pull/13078))', 'Unite half-duplex and full-duplex serial drivers ([#13081](https://github.com/qmk/qmk_firmware/pull/13081))', 'Add ST7565 LCD driver ([#13089](https://github.com/qmk/qmk_firmware/pull/13089))', '`spi_master` Kinetis support ([#13098](https://github.com/qmk/qmk_firmware/pull/13098))', 'GMMK Pro RGB Support ([#13147](https://github.com/qmk/qmk_firmware/pull/13147))', 'Remove dfu-util arguments from mcu_selection ([#13150](https://github.com/qmk/qmk_firmware/pull/13150))', 'Add subcommand to generate version.h ([#13151](https://github.com/qmk/qmk_firmware/pull/13151))', 'Add oled_invert ([#13172](https://github.com/qmk/qmk_firmware/pull/13172))', 'ST7565 invert ([#13237](https://github.com/qmk/qmk_firmware/pull/13237))', 'RGB Matrix eeprom write limiting ([#13238](https://github.com/qmk/qmk_firmware/pull/13238))', 'Temporary disable of CRC ([#13252](https://github.com/qmk/qmk_firmware/pull/13252))', 'Move LED/RGB Matrix code into their own directories ([#13257](https://github.com/qmk/qmk_firmware/pull/13257))', 'Skip EEPROM writes once done. ([#13293](https://github.com/qmk/qmk_firmware/pull/13293))', 'Remove rgblight stubs ([#13302](https://github.com/qmk/qmk_firmware/pull/13302))', 'Allow settable SPI divisor for AW20216 driver, set default to 4 ([#13309](https://github.com/qmk/qmk_firmware/pull/13309))', 'Move RGBLight code into its own folder ([#13312](https://github.com/qmk/qmk_firmware/pull/13312))', 'Unify matrix for split common and regular matrix ([#13330](https://github.com/qmk/qmk_firmware/pull/13330))', 'Relocate RGB/HSV color defs to a more fitting place ([#13377](https://github.com/qmk/qmk_firmware/pull/13377))', 'Adds support for STM32L412xB, STM32L422xB. ([#13383](https://github.com/qmk/qmk_firmware/pull/13383))', 'Convert Dip Switch callbacks to boolean functions ([#13399](https://github.com/qmk/qmk_firmware/pull/13399))', 'Use string literals for `SERIAL_NUMBER` ([#13403](https://github.com/qmk/qmk_firmware/pull/13403))', 'Switch split_common to CRC subsystem ([#13418](https://github.com/qmk/qmk_firmware/pull/13418))', \"Improve 'show_build_options' target ([#13425](https://github.com/qmk/qmk_firmware/pull/13425))\", 'AW20216 use register increment for framebuffer flushes ([#13430](https://github.com/qmk/qmk_firmware/pull/13430))', 'Allow invert of SPLIT_HAND_PIN logic ([#13433](https://github.com/qmk/qmk_firmware/pull/13433))', 'chibios: bootloader: use integer pointers as volatile ([#13450](https://github.com/qmk/qmk_firmware/pull/13450))', 'Refactor OLED to allow easy addition of other types ([#13454](https://github.com/qmk/qmk_firmware/pull/13454))', 'Dual RGB Matrix IS31FL3737 driver support to address #13442 ([#13457](https://github.com/qmk/qmk_firmware/pull/13457))', 'Enable g_is31_leds PROGMEM for RGB Matrix IS31FL3737 driver ([#13480](https://github.com/qmk/qmk_firmware/pull/13480))', 'Switch Ergodox Infinity over to split_common ([#13481](https://github.com/qmk/qmk_firmware/pull/13481))', 'Make solo half of split keyboards (more) usable. ([#13523](https://github.com/qmk/qmk_firmware/pull/13523))', 'Enable sync of OLED/ST7565 display on/off state on Splits ([#13542](https://github.com/qmk/qmk_firmware/pull/13542))', 'Revert \"Add rgblight to RGB Matrix VPATH\" ([#13559](https://github.com/qmk/qmk_firmware/pull/13559))', 'Move `SENDSTRING_BELL` code to `send_string.h` ([#13566](https://github.com/qmk/qmk_firmware/pull/13566))', 'Migrate platform independent code from tmk_core -> quantum ([#13673](https://github.com/qmk/qmk_firmware/pull/13673))', 'Avoid LTO conficts on arm_atsam ([#13676](https://github.com/qmk/qmk_firmware/pull/13676))', 'Allow for removal of hysteresis on 4x encoders ([#13698](https://github.com/qmk/qmk_firmware/pull/13698))', 'Port new_keyboard.sh to CLI ([#13706](https://github.com/qmk/qmk_firmware/pull/13706))', 'Align AW20216 driver ([#13712](https://github.com/qmk/qmk_firmware/pull/13712))', 'Haptic: driver-> feature ([#13713](https://github.com/qmk/qmk_firmware/pull/13713))', 'Add support for STM32F407x MCUs. ([#13718](https://github.com/qmk/qmk_firmware/pull/13718))', 'Remove legacy BACKLIGHT_CUSTOM_DRIVER option ([#13731](https://github.com/qmk/qmk_firmware/pull/13731))', 'Minor tidy up of key overrides ([#13747](https://github.com/qmk/qmk_firmware/pull/13747))', 'matrix_scan_x -> x_task ([#13748](https://github.com/qmk/qmk_firmware/pull/13748))', 'Move some led drivers to common folder ([#13749](https://github.com/qmk/qmk_firmware/pull/13749))', 'Allow for higher USB Polling rate on ATSAM boards ([#13755](https://github.com/qmk/qmk_firmware/pull/13755))', 'Rgb matrix/enable modes explicitly ([#13758](https://github.com/qmk/qmk_firmware/pull/13758))', 'Move chibios board files to allow tmk_core platform migration ([#13777](https://github.com/qmk/qmk_firmware/pull/13777))', '__flash? ([#13799](https://github.com/qmk/qmk_firmware/pull/13799))', '`--parallel` improvements ([#13800](https://github.com/qmk/qmk_firmware/pull/13800))', 'Speed up pimoroni trackball driver ([#13823](https://github.com/qmk/qmk_firmware/pull/13823))', 'Add a toggle key for GUI On/Off in Magic feature ([#13830](https://github.com/qmk/qmk_firmware/pull/13830))', 'Begin to carve out platform/protocol API - Single main loop ([#13843](https://github.com/qmk/qmk_firmware/pull/13843))', 'Remove Full Bootmagic ([#13846](https://github.com/qmk/qmk_firmware/pull/13846))', 'Remove backwards compatibility of debounce names ([#13877](https://github.com/qmk/qmk_firmware/pull/13877))', 'Relocate platform specific drivers ([#13894](https://github.com/qmk/qmk_firmware/pull/13894))', 'Remove ONEHAND_ENABLE ([#13920](https://github.com/qmk/qmk_firmware/pull/13920))', 'Move all the flash logic from tmk_core ([#13927](https://github.com/qmk/qmk_firmware/pull/13927))', 'adding uf2 flash support for blackpill 401 ([#13968](https://github.com/qmk/qmk_firmware/pull/13968))', 'Unify behaviour of wait on AVR ([#14025](https://github.com/qmk/qmk_firmware/pull/14025))', 'Add qmk-hid bootloader detection support to `qmk console` ([#14038](https://github.com/qmk/qmk_firmware/pull/14038))', 'Align DIP_SWITCH_PINS_RIGHT implementation with encoders ([#14079](https://github.com/qmk/qmk_firmware/pull/14079))', 'Tidy up quantum.c now some of tmk_core has been merged ([#14083](https://github.com/qmk/qmk_firmware/pull/14083))', 'Improve pmw3360 sensor and make it more hardware agnostic ([#14097](https://github.com/qmk/qmk_firmware/pull/14097))', 'Move nix folder alongside vagrant ([#14132](https://github.com/qmk/qmk_firmware/pull/14132))', 'Align some quantum sub-directories ([#14134](https://github.com/qmk/qmk_firmware/pull/14134))', 'Revert 14083 && 14144 ([#14150](https://github.com/qmk/qmk_firmware/pull/14150))']\n\nCLI:\n\n['allow LINE_PINxx for Teensy 4.x pins ([#13247](https://github.com/qmk/qmk_firmware/pull/13247))', 'Remove the redundant pin name validation ([#13251](https://github.com/qmk/qmk_firmware/pull/13251))', 'Move all our CLI file formatters to the format dir ([#13296](https://github.com/qmk/qmk_firmware/pull/13296))', 'Refactor doctor.py into a directory ([#13298](https://github.com/qmk/qmk_firmware/pull/13298))', \"Add git and venv info to doctor's output ([#13405](https://github.com/qmk/qmk_firmware/pull/13405))\", 'Matrix consistency check ([#13470](https://github.com/qmk/qmk_firmware/pull/13470))', 'Remove references to info.json `width` and `height` in CLI ([#13728](https://github.com/qmk/qmk_firmware/pull/13728))', 'Make `qmk doctor` more lenient about system config ([#13804](https://github.com/qmk/qmk_firmware/pull/13804))', 'Defer the expensive search for layout macros until info.json has been processed ([#14007](https://github.com/qmk/qmk_firmware/pull/14007))']\n\nSubmodule updates:\n\n['Update ChibiOS, ChibiOS-Contrib. ([#13056](https://github.com/qmk/qmk_firmware/pull/13056))', 'Update LUFA (18-07-2021) and add QMK-HID Bootloader support ([#13588](https://github.com/qmk/qmk_firmware/pull/13588))', 'Update LUFA Submodule (2021-07-30) ([#13819](https://github.com/qmk/qmk_firmware/pull/13819))', 'Bump gtest ([#13885](https://github.com/qmk/qmk_firmware/pull/13885))', 'Update ChibiOS-Contrib, mirroring script. ([#13896](https://github.com/qmk/qmk_firmware/pull/13896))', 'Move USB Host Shield and Arduino core to `lib/` ([#13973](https://github.com/qmk/qmk_firmware/pull/13973))']\n\nKeyboards:\n\n['Migrate keyboards using uGFX to LED_MATRIX ([#9657](https://github.com/qmk/qmk_firmware/pull/9657))', 'Remove MIDI Configuration boilerplate ([#11151](https://github.com/qmk/qmk_firmware/pull/11151))', 'manyboard macro ([#11896](https://github.com/qmk/qmk_firmware/pull/11896))', 'Moved tokyo60/ into tokyokeyboard/tokyo60/. ([#12023](https://github.com/qmk/qmk_firmware/pull/12023))', 'Organize KPrepublic, K.T.E.C, xiudi boards into directories ([#12159](https://github.com/qmk/qmk_firmware/pull/12159))', 'Add Durgod Taurus K310 keyboard ([#12314](https://github.com/qmk/qmk_firmware/pull/12314))', 'add support for m65 and simple 5x13 ortholinear ([#12315](https://github.com/qmk/qmk_firmware/pull/12315))', 'Relocalize and Update p1800fl ([#12425](https://github.com/qmk/qmk_firmware/pull/12425))', 'GameBuddy v1.M ([#12637](https://github.com/qmk/qmk_firmware/pull/12637))', 'Add mechlovin9 rev2 PCB ([#12767](https://github.com/qmk/qmk_firmware/pull/12767))', 'Add RGB matrix support for Kyria ([#12789](https://github.com/qmk/qmk_firmware/pull/12789))', 'RGB Matrix working for Sofle RGB ([#12861](https://github.com/qmk/qmk_firmware/pull/12861))', 'Add Durgod Hades, Galaxy and Venus Keyboards ([#12893](https://github.com/qmk/qmk_firmware/pull/12893))', 'kint36: set correct EEPROM size ([#12946](https://github.com/qmk/qmk_firmware/pull/12946))', 'Updated encoder_update_user on my keymap to follow the new signature on quantum ([#13152](https://github.com/qmk/qmk_firmware/pull/13152))', 'Add Creator Pro by SergioPoverony ([#13154](https://github.com/qmk/qmk_firmware/pull/13154))', 'Use the new ST7565 driver on Ergodox Infinity ([#13165](https://github.com/qmk/qmk_firmware/pull/13165))', 'Refactor atom47 and add rev4 and rev5 ([#13201](https://github.com/qmk/qmk_firmware/pull/13201))', 'Add Bakeneko65 V3 and revision folders ([#13228](https://github.com/qmk/qmk_firmware/pull/13228))', 'Keyboards/RGBKB/Mn ([#13239](https://github.com/qmk/qmk_firmware/pull/13239))', 'Optimize our jsonschema by using refs ([#13271](https://github.com/qmk/qmk_firmware/pull/13271))', 'Handwired/Stream_Cheap/2x4: Add via support ([#13297](https://github.com/qmk/qmk_firmware/pull/13297))', 'ez_maker/directpins for easy one-offs in qmk_configurator ([#13321](https://github.com/qmk/qmk_firmware/pull/13321))', 'add kinT kinesis keyboard controller (kint41 variant) ([#13333](https://github.com/qmk/qmk_firmware/pull/13333))', 'Error log cleanup ([#13349](https://github.com/qmk/qmk_firmware/pull/13349))', \"Drashna's split updates ([#13350](https://github.com/qmk/qmk_firmware/pull/13350))\", 'Migrate SHIFT_ESC and RGB `fn_actions` to Grave Escape and RGB keycodes ([#13360](https://github.com/qmk/qmk_firmware/pull/13360))', 'Add a lot more data to info.json ([#13366](https://github.com/qmk/qmk_firmware/pull/13366))', 'Remove `API_SYSEX_ENABLE`s from rules.mk ([#13389](https://github.com/qmk/qmk_firmware/pull/13389))', 'gmmk/pro/mike1808 keymap ([#13398](https://github.com/qmk/qmk_firmware/pull/13398))', 'Remove deprecated callbacks for encoders and dip switches ([#13404](https://github.com/qmk/qmk_firmware/pull/13404))', 'first pass: matrix consistency improvements ([#13471](https://github.com/qmk/qmk_firmware/pull/13471))', 'Migrate more `fn_actions` stuff ([#13502](https://github.com/qmk/qmk_firmware/pull/13502))', 'add simple gmmk pro macos keymap with rgb ([#13504](https://github.com/qmk/qmk_firmware/pull/13504))', 'move volcano660 to ilumkb folder ([#13550](https://github.com/qmk/qmk_firmware/pull/13550))', 'Valor Rev 2 ([#13551](https://github.com/qmk/qmk_firmware/pull/13551))', 'Split GMMK Pro PCBs into separate revisions ([#13570](https://github.com/qmk/qmk_firmware/pull/13570))', 'Remove the vision_division keyboard ([#13571](https://github.com/qmk/qmk_firmware/pull/13571))', 'Develop - Change uint32_t to layer_state_t ([#13596](https://github.com/qmk/qmk_firmware/pull/13596))', 'Develop - DC01 left ([#13597](https://github.com/qmk/qmk_firmware/pull/13597))', 'Created \"paddlegame\" keymap ([#13629](https://github.com/qmk/qmk_firmware/pull/13629))', 'Add timer_avr to includes for broken builds ([#13641](https://github.com/qmk/qmk_firmware/pull/13641))', 'Disable console by default on all Keebio boards ([#13649](https://github.com/qmk/qmk_firmware/pull/13649))', 'Enable LTO by default on BastardKB Scylla ([#13664](https://github.com/qmk/qmk_firmware/pull/13664))', 'Reduce compile size for dz60rgb v2.1 ([#13680](https://github.com/qmk/qmk_firmware/pull/13680))', 'Clean up remaining RGB_DISABLE_WHEN_USB_SUSPENDED defines ([#13689](https://github.com/qmk/qmk_firmware/pull/13689))', 'Remove some legacy files ([#13715](https://github.com/qmk/qmk_firmware/pull/13715))', '[Keyboard Update] Change to L422 ([#13717](https://github.com/qmk/qmk_firmware/pull/13717))', 'Update kyria make path example ([#13720](https://github.com/qmk/qmk_firmware/pull/13720))', \"Drashna's Defaults cleanup ([#13722](https://github.com/qmk/qmk_firmware/pull/13722))\", 'Reduce firmware size in prep for #12670 ([#13724](https://github.com/qmk/qmk_firmware/pull/13724))', 'Tidy up rgbkb/mun ([#13801](https://github.com/qmk/qmk_firmware/pull/13801))', 'Make default keymap for GMMK Pro reflect stock ([#13850](https://github.com/qmk/qmk_firmware/pull/13850))', 'Rework as per 9824 ([#13898](https://github.com/qmk/qmk_firmware/pull/13898))', 'Remove console from keebio via keyboards ([#13901](https://github.com/qmk/qmk_firmware/pull/13901))', 'Drashna split transport improvement ([#13905](https://github.com/qmk/qmk_firmware/pull/13905))', 'Copy GMMK Pro screw specs to ISO readme ([#13908](https://github.com/qmk/qmk_firmware/pull/13908))', 'Clean up remaining RGB_DISABLE_WHEN_USB_SUSPENDED defines Part 2 ([#13912](https://github.com/qmk/qmk_firmware/pull/13912))', 'Add andrebrait layout for GMMK Pro ([#13932](https://github.com/qmk/qmk_firmware/pull/13932))', 'Updated RGB Matrix suspend define part 3 ([#13954](https://github.com/qmk/qmk_firmware/pull/13954))', 'Improve andrebrait keymap ([#13985](https://github.com/qmk/qmk_firmware/pull/13985))', \"Drashna's Improve OLEDs and custom Split code ([#14063](https://github.com/qmk/qmk_firmware/pull/14063))\", 'Kyria default reformat ([#14080](https://github.com/qmk/qmk_firmware/pull/14080))', 'Feature rich keymap for GMMK Pro (ANSI) ([#14120](https://github.com/qmk/qmk_firmware/pull/14120))']\n\nKeyboard fixes:\n\n['Fix LED mapping for GMMK Pro ([#13189](https://github.com/qmk/qmk_firmware/pull/13189))', 'Fix up SplitKB keyboards ([#13511](https://github.com/qmk/qmk_firmware/pull/13511))', 'Keyboards/sol rev2 fix ([#13533](https://github.com/qmk/qmk_firmware/pull/13533))', 'Fix MATRIX_COLS for aeboards/constellation/rev2 ([#13633](https://github.com/qmk/qmk_firmware/pull/13633))', 'Fix errors with matrix_output_unselect_delay function calls ([#13645](https://github.com/qmk/qmk_firmware/pull/13645))', 'Fix default keymap for 0xCB 1337 keyboard ([#13646](https://github.com/qmk/qmk_firmware/pull/13646))', 'Fix Matrix Row number for ggkeyboards/genisis ([#13647](https://github.com/qmk/qmk_firmware/pull/13647))', 'Fix matrix issues with Promethium ([#13648](https://github.com/qmk/qmk_firmware/pull/13648))', \"Fix dc01/left so that it doesn't throw a warning ([#13653](https://github.com/qmk/qmk_firmware/pull/13653))\", 'Remove broken, unmaintained converter/ibm_5291 ([#13658](https://github.com/qmk/qmk_firmware/pull/13658))', 'Quick hack to fix Astro65 board ([#13665](https://github.com/qmk/qmk_firmware/pull/13665))', 'Fix symmetric70_proto build break on develop branch ([#13667](https://github.com/qmk/qmk_firmware/pull/13667))', 'Fix matrix delay on Drop boards ([#13671](https://github.com/qmk/qmk_firmware/pull/13671))', 'Fix split matrix for sekigon grs 70ec ([#13672](https://github.com/qmk/qmk_firmware/pull/13672))', 'Fix type on pandora via keymap ([#13681](https://github.com/qmk/qmk_firmware/pull/13681))', 'Fix & clean up tronguylabs/m122_3270 ([#13684](https://github.com/qmk/qmk_firmware/pull/13684))', 'Fix up xd002 rgb keymaps ([#13685](https://github.com/qmk/qmk_firmware/pull/13685))', 'Dactyl Manuform cleanup ([#13686](https://github.com/qmk/qmk_firmware/pull/13686))', 'Fix Q1 change dip switch to bool ([#13687](https://github.com/qmk/qmk_firmware/pull/13687))', 'Fix compile size for the Merge UM70 via keymap ([#13690](https://github.com/qmk/qmk_firmware/pull/13690))', 'Fix compile size for the Lets Split Sockets via keymap ([#13691](https://github.com/qmk/qmk_firmware/pull/13691))', 'Fix Compile size on ungodly Launch Pad ([#13692](https://github.com/qmk/qmk_firmware/pull/13692))', 'dirty fix ([#13695](https://github.com/qmk/qmk_firmware/pull/13695))', 'Fix compile size for the Vitamins Included via keymap ([#13696](https://github.com/qmk/qmk_firmware/pull/13696))', 'Fix typo in Dactyl Manuform ([#13740](https://github.com/qmk/qmk_firmware/pull/13740))', 'Fix compile issues due to LED changes ([#13821](https://github.com/qmk/qmk_firmware/pull/13821))', 'Fix SRC include for matrix/m20add issi driver ([#13826](https://github.com/qmk/qmk_firmware/pull/13826))', 'fix develop branch move file ([#13832](https://github.com/qmk/qmk_firmware/pull/13832))', 'Fix knops keymaps ([#13872](https://github.com/qmk/qmk_firmware/pull/13872))', 'Switch Draculad to using WPM char hack ([#13886](https://github.com/qmk/qmk_firmware/pull/13886))', 'Fix up builds after #8591 ([#13900](https://github.com/qmk/qmk_firmware/pull/13900))', 'Fix matrix_output_unselect_delay for handwired/xealousbrown ([#13913](https://github.com/qmk/qmk_firmware/pull/13913))', 'Fixup rgb matrix config for KBD67 mkII boards ([#13931](https://github.com/qmk/qmk_firmware/pull/13931))', 'Fix compliation for ferris 0.2 bling ([#13937](https://github.com/qmk/qmk_firmware/pull/13937))', 'Fix some additional bootmagic settings ([#13979](https://github.com/qmk/qmk_firmware/pull/13979))', 'Fix default keymap for GMMK Pro Iso ([#13980](https://github.com/qmk/qmk_firmware/pull/13980))', 'Fixup Ungodly Launch Pad config ([#13992](https://github.com/qmk/qmk_firmware/pull/13992))', 'Fix errors that have cropped up in develop ([#14005](https://github.com/qmk/qmk_firmware/pull/14005))', 'Fix wait_us overflow in matrix for dactyl based boards ([#14039](https://github.com/qmk/qmk_firmware/pull/14039))', 'Fixup Neson Design N6 ISSI includes ([#14045](https://github.com/qmk/qmk_firmware/pull/14045))', 'Fixup `massdrop/alt`, `cest73/tkm`. ([#14048](https://github.com/qmk/qmk_firmware/pull/14048))', 'fix helix:fraanrosi compile error caused by #13677. ([#14061](https://github.com/qmk/qmk_firmware/pull/14061))', 'Fix compile issues for Tractyl Manuform ([#14105](https://github.com/qmk/qmk_firmware/pull/14105))', 'Disable Console on Keebio Quefrency ([#14108](https://github.com/qmk/qmk_firmware/pull/14108))', 'Fixed GMMK Pro -> stickandgum keymap readme.md ([#14123](https://github.com/qmk/qmk_firmware/pull/14123))', 'Drashna keymap fixups ([#14140](https://github.com/qmk/qmk_firmware/pull/14140))', 'fix ([#14142](https://github.com/qmk/qmk_firmware/pull/14142))', 'Fix merge artifacts ([#14146](https://github.com/qmk/qmk_firmware/pull/14146))', 'Update readme files ([#14172](https://github.com/qmk/qmk_firmware/pull/14172))']\n\nOthers:\n\n['Add examples to RGB Matrix Indicators docs ([#12797](https://github.com/qmk/qmk_firmware/pull/12797))']\n\nBugs:\n\n['Fix Indicator LED issues ([#12097](https://github.com/qmk/qmk_firmware/pull/12097))', 'Fixing incorrect keymap build when switching between multiple keymap.jsons ([#12632](https://github.com/qmk/qmk_firmware/pull/12632))', 'Fix LED Hit Counter for LED/RGB Matrix ([#12674](https://github.com/qmk/qmk_firmware/pull/12674))', 'ChibiOS fix O3 and LTO breakage of extra keys and joystick ([#12819](https://github.com/qmk/qmk_firmware/pull/12819))', 'Remove the #10088 hotfix for Teensy 3.1-like Input:Club keyboards ([#12870](https://github.com/qmk/qmk_firmware/pull/12870))', 'Fix firmware size check with avr-libc 1:2.0.0+Atmel3.6.2-1.1 (Debian bullseye) ([#12951](https://github.com/qmk/qmk_firmware/pull/12951))', 'Fix RGB/LED Suspend defines ([#13146](https://github.com/qmk/qmk_firmware/pull/13146))', 'Fix overrun in st7565_write_raw when not at (0, 0) ([#13209](https://github.com/qmk/qmk_firmware/pull/13209))', 'Upgrades Vagrant box to Debian 10 to fix Docker build error on Debian 9. ([#13236](https://github.com/qmk/qmk_firmware/pull/13236))', 'Fix issues with VIA EEPROM init and bring in line with eeconfig functionality ([#13243](https://github.com/qmk/qmk_firmware/pull/13243))', 'Fix CRC for AVR and enable again. ([#13253](https://github.com/qmk/qmk_firmware/pull/13253))', 'Fix linker error when rgblight and RGB Matrix are both enabled ([#13304](https://github.com/qmk/qmk_firmware/pull/13304))', 'Fix building layouts from JSON ([#13310](https://github.com/qmk/qmk_firmware/pull/13310))', 'Add rgblight to RGB Matrix VPATH ([#13371](https://github.com/qmk/qmk_firmware/pull/13371))', 'Fix two out of bounds accesses from #13330. ([#13525](https://github.com/qmk/qmk_firmware/pull/13525))', 'Fixes for clang not being able to run unit tests ([#13546](https://github.com/qmk/qmk_firmware/pull/13546))', 'Fixup Audio startup and add to documents ([#13606](https://github.com/qmk/qmk_firmware/pull/13606))', \"CLI/Docs: Fix the format commands' name ([#13668](https://github.com/qmk/qmk_firmware/pull/13668))\", 'Disables rgblight twinkle by default. ([#13677](https://github.com/qmk/qmk_firmware/pull/13677))', 'Fix typo in dip switch example ([#13688](https://github.com/qmk/qmk_firmware/pull/13688))', 'docs/cli_commands: fix typo ([#13697](https://github.com/qmk/qmk_firmware/pull/13697))', 'Include gpio.h in solenoid driver for GPIO Control functions ([#13716](https://github.com/qmk/qmk_firmware/pull/13716))', 'Fix pimoroni trackball read address ([#13810](https://github.com/qmk/qmk_firmware/pull/13810))', 'Fix Key Override includes ([#13831](https://github.com/qmk/qmk_firmware/pull/13831))', 'Fix alignment of USB out report buffer 2 -> 4 ([#13838](https://github.com/qmk/qmk_firmware/pull/13838))', 'Fix compilation issue. ([#13926](https://github.com/qmk/qmk_firmware/pull/13926))', 'Fix `combo_disable` ([#13988](https://github.com/qmk/qmk_firmware/pull/13988))', 'Fix pmw3360 code to only output debug info if mouse debugging is enabled ([#13993](https://github.com/qmk/qmk_firmware/pull/13993))', 'Fix ifdefs for OLED split sync code ([#14017](https://github.com/qmk/qmk_firmware/pull/14017))', 'Various fixes from reorg of files ([#14051](https://github.com/qmk/qmk_firmware/pull/14051))', 'Fixup atsam builds. ([#14052](https://github.com/qmk/qmk_firmware/pull/14052))', 'Fix RGB/LED Matrix Suspend code ([#14084](https://github.com/qmk/qmk_firmware/pull/14084))', 'Fix issues with recent keymap.json changes ([#14089](https://github.com/qmk/qmk_firmware/pull/14089))', 'Fix LED Matrix suspend code ([#14090](https://github.com/qmk/qmk_firmware/pull/14090))', 'Fix up compilation issues. ([#14095](https://github.com/qmk/qmk_firmware/pull/14095))', 'Fix copypasta issue with pmw3360 sensor config ([#14106](https://github.com/qmk/qmk_firmware/pull/14106))', 'Fix typo ([#14118](https://github.com/qmk/qmk_firmware/pull/14118))', 'Fix bootloadHID comments breaking :flash ([#14133](https://github.com/qmk/qmk_firmware/pull/14133))', 'Fix Mouse Shared EP functionality ([#14136](https://github.com/qmk/qmk_firmware/pull/14136))', 'Short term bodge for firmware size bloat ([#14144](https://github.com/qmk/qmk_firmware/pull/14144))', 'Move to correct location ([#14171](https://github.com/qmk/qmk_firmware/pull/14171))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 7]"
        },
        {
          "title": "QMK Breaking Changes - 2021 November 27 Changelog",
          "description": null,
          "content": {
            "2000 keyboards! {#qmk-2000th-keyboard}": "QMK had it's 2000th keyboard submitted during this breaking changes cycle.... and it only _just_ made the cut-off!\n\n```\n% qmk list-keyboards | wc -l\n2003\n```\n\nFrom the whole QMK team, a major thankyou to the community for embracing QMK as your preferred keyboard firmware!",
            "Notable Features {#notable-features}": {
              "Expanded Pointing Device support ([#14343](https://github.com/qmk/qmk_firmware/pull/14343)) {#expanded-pointing-device}": "Pointing device support has been reworked and reimplemented to allow for easier integration of new peripherals.\n\nUsages of `POINTING_DEVICE_ENABLE = yes` in `rules.mk` files now need to be accompanied by a corresponding `POINTING_DEVICE_DRIVER = ???` line, specifying which driver to use during the build. Existing keyboards have already been migrated across to the new usage pattern, so most likely no change is required by users.\n\nQMK now has core-supplied support for the following pointing device peripherals:\n\n| `rules.mk` line                                | Supported device                        |\n|------------------------------------------------|-----------------------------------------|\n| `POINTING_DEVICE_DRIVER = analog_joystick`     | Analog joysticks, such as PSP joysticks |\n| `POINTING_DEVICE_DRIVER = adns5050`            | ADNS 5050 sensor                        |\n| `POINTING_DEVICE_DRIVER = adns9800`            | ADNS 9800 laser sensor                  |\n| `POINTING_DEVICE_DRIVER = cirque_pinnacle_i2c` | Cirque touchpad, I2C mode               |\n| `POINTING_DEVICE_DRIVER = cirque_pinnacle_spi` | Cirque Touchpad, SPI mode               |\n| `POINTING_DEVICE_DRIVER = pimoroni_trackball`  | Pimoroni Trackball                      |\n| `POINTING_DEVICE_DRIVER = pmw3360`             | PMW 3360                                |\n\nSee the new documentation for the [Pointing Device](../features/pointing_device) feature for more information on specific configuration for each driver.",
              "Dynamic Tapping Term ([#11036](https://github.com/qmk/qmk_firmware/pull/11036)) {#dynamic-tapping-term}": "For people who are starting out with tapping keys, or for people who think tapping keys don't \"feel right\", it's sometimes quite difficult to determine what duration of tapping term to use to make things seem natural.\n\nIf you're in this stage of discovery, you can now add `DYNAMIC_TAPPING_TERM_ENABLE = yes` to your `rules.mk`, which enables the use of the following keycodes in your keymap:\n\n| Key       | Description                                                                   |\n|-----------|-------------------------------------------------------------------------------|\n| `DT_PRNT` | \"Dynamic Tapping Term Print\": Types the current tapping term, in milliseconds |\n| `DT_UP`   | \"Dynamic Tapping Term Up\": Increases the current tapping term by 5ms          |\n| `DT_DOWN` | \"Dynamic Tapping Term Down\": Decreases the current tapping term by 5ms        |\n\nCoupled with the use of `qmk console` or QMK Toolbox to show console output from your keyboard, you can tweak the tapping term dynamically in order to narrow down what \"feels right\" to you. Once you're happy, drop in the resulting number into your keymap's `config.h` and you're good to go!",
              "Macros in JSON keymaps ([#14374](https://github.com/qmk/qmk_firmware/pull/14374)) {#macros-in-keymap-json}": "You can now define up to 32 macros in your `keymap.json` file, as used by [QMK Configurator](../newbs_building_firmware_configurator), and `qmk compile`. You can define these macros in a list under the `macros` keyword, like this:\n\n```\n{\n    \"keyboard\": \"handwired/my_macropad\",\n    \"keymap\": \"my_keymap\",\n    \"macros\": [\n        [ // first listed is QK_MACRO_0...\n            {\"action\":\"down\", \"keycodes\": [\"LSFT\"]},\n            \"hello world1\",\n            {\"action\": \"up\",\"keycodes\": [\"LSFT\"]}\n        ],\n        [ // ...then QK_MACRO_1...\n            {\"action\":\"tap\", \"keycodes\": [\"LCTL\", \"LALT\", \"DEL\"]}\n        ],\n        [ // ...then QK_MACRO_2...\n            \"ding!\",\n            {\"action\":\"beep\"}\n        ],\n        [ // ...and QK_MACRO_3.\n            {\"action\":\"tap\", \"keycodes\": [\"F1\"]},\n            {\"action\":\"delay\", \"duration\": \"1000\"},\n            {\"action\":\"tap\", \"keycodes\": [\"PGDN\"]}\n        ]\n    ],\n    \"layout\": \"LAYOUT_all\",\n    \"layers\": [\n        [\"QK_MACRO_0\", \"QK_MACRO_1\", \"QK_MACRO_2\", \"QK_MACRO_3\"]\n    ]\n}\n```\n\nIn due course, [QMK Configurator](https://config.qmk.fm/) will pick up support for defining these in its UI, but for now the json is the only way to define macros."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name      | New Keyboard Name               |\n|------------------------|---------------------------------|\n| aozora/hotswap         | aozora                          |\n| gskt00                 | kapcave/gskt00                  |\n| handwired/dtisaac01    | dtisaac/dtisaac01               |\n| kprepublic/bm60poker   | kprepublic/bm60hsrgb_poker/rev1 |\n| kprepublic/bm60rgb     | kprepublic/bm60hsrgb/rev1       |\n| kprepublic/bm60rgb_iso | kprepublic/bm60hsrgb_iso/rev1   |\n| kprepublic/bm65iso     | kprepublic/bm65hsrgb_iso        |\n| kprepublic/bm68rgb     | kprepublic/bm68hsrgb            |\n| paladin64              | kapcave/paladin64               |\n| portal_66              | portal_66/soldered              |\n| signum/3_0/elitec      | signum/3_0                      |\n| tgr/jane               | tgr/jane/v2                     |",
              "Squeezing space out of AVR ([#15243](https://github.com/qmk/qmk_firmware/pull/15243)) {#squeezing-space-from-avr}": "The AVR platform has been problematic for some time, in the sense that it is severely resource-constrained -- this makes life difficult for anyone attempting to add new functionality such as display panels to their keymap code. The illustrious Drashna has contributed some newer documentation on how to attempt to free up some space on AVR-based keyboards that are in short supply.\n\nOf course, there are much fewer constraints with ARM chips... ;)",
              "Require explicit enabling of RGB Matrix modes ([#15018](https://github.com/qmk/qmk_firmware/pull/15018)) {#explicit-rgb-modes}": "Related to the previous section -- RGB Matrix modes have now been made to be opt-in, rather than opt-out. As these animations are now opt-in, you may find that your keyboard no longer has all the RGB modes you're expecting -- you may need to configure and recompile your firmware and enable your animations of choice... with any luck they'll still fit in the space available.\n\nMost keyboards keep their original functionality, but over time the QMK maintainers have found that removal of animations ends up being the quickest way to free up space... and some keyboards have had animations such as reactive effects disabled by default in order to still fit within the flash space available.\n\nThe full list of configurables to turn specific animations back on can be found at on the [RGB Matrix documentation](../features/rgb_matrix#rgb-matrix-effects) page.",
              "OLED task refactoring ([#14864](https://github.com/qmk/qmk_firmware/pull/14864)) {#oled-task-refactor}": "OLED display code was traditionally difficult to override in keymaps as they did not follow the standard pattern of `bool *_kb()` deferring to `bool *_user()` functions, allowing signalling to the higher level that processing had already been done.\n\nThis changes the standard OLED drawing function model to allow for a base implementation to be provided by a keyboard, but also still allow for keymap-level overrides without needing to modify the keyboard's code.\n\nThe old keymap code went something like this:\n\n```\nvoid oled_task_user(void) {\n    // keymap drawing code\n}\n```\n\n...but the new keymap code looks like this:\n\n```\nbool oled_task_user(void) {\n    // keymap drawing code\n    return false;\n}\n```\n\nKeyboard designers should now structure their keyboard-level drawing routines like the following, in order to allow for keymap overrides:\n\n```\nbool oled_task_kb(void) {\n    // Defer to the keymap if they want to override\n    if(!oled_task_user()) { return false; }\n\n    // default keyboard drawing code\n    return false;\n}\n```",
              "Bootmagic Full Removal ([#15002](https://github.com/qmk/qmk_firmware/pull/15002)) {#bootmagic-full-removal}": {
                "Bootmagic Full Deprecation Schedule: Complete!": "This is the historical timeline for the behavior of `BOOTMAGIC_ENABLE`:\n\n['(done) From 2021 May 29, setting `BOOTMAGIC_ENABLE = yes` will enable Bootmagic Lite instead of full Bootmagic.', '(done) From 2021 Aug 28, `BOOTMAGIC_ENABLE` must be either `yes`, `lite`, or `no`  setting `BOOTMAGIC_ENABLE = full` will cause compilation to fail.', '(now) From 2021 Nov 27, `BOOTMAGIC_ENABLE` must be either `yes` or `no`  setting `BOOTMAGIC_ENABLE = lite` will cause compilation to fail.']"
              },
              "Remove QWIIC_DRIVERS ([#14174](https://github.com/qmk/qmk_firmware/pull/14174)) {#remove-qwiic}": "Due to minimal QWIIC adoption and other options for similar functionality, the QWIIC drivers were removed from QMK. Existing OLED usages have been migrated across to the normal QMK OLED driver instead."
            },
            "Notable core changes {#notable-core}": {
              "New MCU Support {#new-mcu-support}": "QMK firmware picked up support for a handful of new MCU families, potentially making it a bit easier to source components.\n\nQMK firmware is now no longer limited to AVR and ARM - it also picked up support for our first RISC-V chip, the GD32VF103.\n\n['Add support for RISC-V builds and GD32VF103 MCU ([#12508](https://github.com/qmk/qmk_firmware/pull/12508))', 'Add HT32 support to core ([#14388](https://github.com/qmk/qmk_firmware/pull/14388))', 'Westberrytech pr ([#14422](https://github.com/qmk/qmk_firmware/pull/14422))', 'Initial pass of F405 support ([#14584](https://github.com/qmk/qmk_firmware/pull/14584))']",
              "EEPROM Changes {#eeprom-changes}": "There were a few EEPROM-related changes that landed during this breaking changes cycle, most prominently the long-awaited ability for the Drop boards to gain persistent storage. Any users of the Drop CTRL or Drop ALT should update QMK Toolbox as well -- coupled with a QMK firmware update settings should now be saved.\n\n['massdrop alt/ctrl: support saving into nvm ([#6068](https://github.com/qmk/qmk_firmware/pull/6068))', 'Implement F4 eeprom ([#14195](https://github.com/qmk/qmk_firmware/pull/14195))', 'make the full 4096 bytes of EEPROM work on Teensy 3.6 ([#12947](https://github.com/qmk/qmk_firmware/pull/12947))', 'Further tidy up of STM32 eeprom emulation ([#14591](https://github.com/qmk/qmk_firmware/pull/14591))', 'Enable eeprom with F401xE ld ([#14752](https://github.com/qmk/qmk_firmware/pull/14752))']",
              "Compilation Database {#compile-commands}": "A clang-compatible compilation database generator has been added as an option in order to help development environments such as Visual Studio Code.\n\nRunning `qmk generate-compilation-database -kb <yourkb> -km <yourkeymap>` from within the QMK firmware directory will generate a `compile_commands.json` file -- using a compatible IDE will likely see this and correctly start detecting the correct locations for source files as well as type and function information that are relevant to your build.\n\nDo note that switching keyboards will require re-generation of this file.\n\n['New CLI subcommand to create clang-compatible compilation database (`compile_commands.json`) ([#14370](https://github.com/qmk/qmk_firmware/pull/14370))', 'compiledb: query include paths from gcc directly. ([#14462](https://github.com/qmk/qmk_firmware/pull/14462))']",
              "Codebase restructure and cleanup {#codebase-restructure}": "QMK continues on its restructuring journey, in order to make it easier to integrate newer features and add support for new hardware. This quarter's batch of changes include:\n\n[\"add 'include keyboard_features.mk' into build_keyboard.mk ([#8422](https://github.com/qmk/qmk_firmware/pull/8422))\", 'Infer more when building features ([#13890](https://github.com/qmk/qmk_firmware/pull/13890))', 'Move `tmk_core/common/<plat>` ([#13918](https://github.com/qmk/qmk_firmware/pull/13918))', 'Move feature suspend logic out of platform specific code ([#14210](https://github.com/qmk/qmk_firmware/pull/14210))', 'Remove bin/qmk ([#14231](https://github.com/qmk/qmk_firmware/pull/14231))', 'Move Audio drivers from quantum to platform drivers folder ([#14308](https://github.com/qmk/qmk_firmware/pull/14308))', 'Remove Arduino-style `analogRead()` ([#14348](https://github.com/qmk/qmk_firmware/pull/14348))', 'Remove unreferenced IBM4704, Sony NEWS, NeXT keyboard code. ([#14380](https://github.com/qmk/qmk_firmware/pull/14380))', 'Move Bluetooth config to common_features.mk ([#14404](https://github.com/qmk/qmk_firmware/pull/14404))', 'Relocate Adafruit BLE code ([#14530](https://github.com/qmk/qmk_firmware/pull/14530))', 'Change `MK66F18` -> `MK66FX1M0` ([#14659](https://github.com/qmk/qmk_firmware/pull/14659))', 'Remove sysex API ([#14723](https://github.com/qmk/qmk_firmware/pull/14723))', 'Basic keycode overhaul ([#14726](https://github.com/qmk/qmk_firmware/pull/14726))', 'Remove SERIAL_LINK feature ([#14727](https://github.com/qmk/qmk_firmware/pull/14727))', 'Move converter specific tmk_core protocols ([#14743](https://github.com/qmk/qmk_firmware/pull/14743))', 'Align PS/2 GPIO defines ([#14745](https://github.com/qmk/qmk_firmware/pull/14745))', 'Clean up LED/RGB Matrix driver config ([#14760](https://github.com/qmk/qmk_firmware/pull/14760))', 'Update UART driver API ([#14839](https://github.com/qmk/qmk_firmware/pull/14839))', 'Tidy up LCD_ENABLE/visualizer references ([#14855](https://github.com/qmk/qmk_firmware/pull/14855))', 'Remove legacy Makefile functionality ([#14858](https://github.com/qmk/qmk_firmware/pull/14858))', 'Begin to carve out platform/protocol API - Migrate keyboard_* calls ([#14888](https://github.com/qmk/qmk_firmware/pull/14888))', 'Rename platform SRC variable ([#14894](https://github.com/qmk/qmk_firmware/pull/14894))', 'Relocate PS2 code ([#14895](https://github.com/qmk/qmk_firmware/pull/14895))', 'Move USE_CCACHE logic to common location ([#14899](https://github.com/qmk/qmk_firmware/pull/14899))', 'Migrate makefile utilities to sub-directory ([#14917](https://github.com/qmk/qmk_firmware/pull/14917))', 'Remove SERIAL_MOUSE ([#14969](https://github.com/qmk/qmk_firmware/pull/14969))', 'Relocate protocol files within tmk_core/common/ ([#14972](https://github.com/qmk/qmk_firmware/pull/14972))', 'More platform/protocol alignment ([#14976](https://github.com/qmk/qmk_firmware/pull/14976))', 'Fix uart function prototypes ([#15162](https://github.com/qmk/qmk_firmware/pull/15162))', 'Remove deprecated KEYMAP alias ([#15037](https://github.com/qmk/qmk_firmware/pull/15037))', 'Move non-assignment code to post_rules.mk ([#14207](https://github.com/qmk/qmk_firmware/pull/14207))', 'Helix use `post_rules.mk` ([#14216](https://github.com/qmk/qmk_firmware/pull/14216))', 'Make ChibiOS PAL interactions less STM32 specific - Round 2 ([#14456](https://github.com/qmk/qmk_firmware/pull/14456))']\n\n[]"
            },
            "Full changelist": "Core:\n\n['massdrop alt/ctrl: support saving into nvm ([#6068](https://github.com/qmk/qmk_firmware/pull/6068))', 'Made AVR backlight pwm resolution configurable ([#7521](https://github.com/qmk/qmk_firmware/pull/7521))', \"add 'include keyboard_features.mk' into build_keyboard.mk ([#8422](https://github.com/qmk/qmk_firmware/pull/8422))\", 'New feature: `DYNAMIC_TAPPING_TERM_ENABLE` ([#11036](https://github.com/qmk/qmk_firmware/pull/11036))', 'Add Retro Shift (Auto Shift for Tap Hold via Retro Tapping) and Custom Auto Shifts ([#11059](https://github.com/qmk/qmk_firmware/pull/11059))', 'Add support for RISC-V builds and GD32VF103 MCU ([#12508](https://github.com/qmk/qmk_firmware/pull/12508))', 'Add Fractal RGB matrix effects ([#12670](https://github.com/qmk/qmk_firmware/pull/12670))', 'Added power tracking api ([#12691](https://github.com/qmk/qmk_firmware/pull/12691))', 'haptic: Feature to disable it when usb port is not configured or suspended. ([#12692](https://github.com/qmk/qmk_firmware/pull/12692))', 'make the full 4096 bytes of EEPROM work on Teensy 3.6 ([#12947](https://github.com/qmk/qmk_firmware/pull/12947))', 'Add Support for USB programmable buttons ([#12950](https://github.com/qmk/qmk_firmware/pull/12950))', '[Tests] Increase QMK test coverage ([#13789](https://github.com/qmk/qmk_firmware/pull/13789))', 'Add support for ISSI drivers on both sides of a split keyboard ([#13842](https://github.com/qmk/qmk_firmware/pull/13842))', 'Infer more when building features ([#13890](https://github.com/qmk/qmk_firmware/pull/13890))', 'Reimplements WPM feature to be smaller & precise ([#13902](https://github.com/qmk/qmk_firmware/pull/13902))', 'Move `tmk_core/common/<plat>` ([#13918](https://github.com/qmk/qmk_firmware/pull/13918))', 'Improvements to handling of disconnected split keyboards. ([#14033](https://github.com/qmk/qmk_firmware/pull/14033))', 'Add Pixel Rain RGB Matrix effect ([#14155](https://github.com/qmk/qmk_firmware/pull/14155))', 'Remove QWIIC_DRIVERS ([#14174](https://github.com/qmk/qmk_firmware/pull/14174))', 'Add LM() keys to the list of keys disabled by NO_HAPTIC_MOD ([#14181](https://github.com/qmk/qmk_firmware/pull/14181))', 'Implement F4 eeprom ([#14195](https://github.com/qmk/qmk_firmware/pull/14195))', 'define to AUTO_SHIFT_DISABLED_AT_STARTUP ([#14201](https://github.com/qmk/qmk_firmware/pull/14201))', 'Move feature suspend logic out of platform specific code ([#14210](https://github.com/qmk/qmk_firmware/pull/14210))', 'Remove bin/qmk ([#14231](https://github.com/qmk/qmk_firmware/pull/14231))', 'Change keyboard level include guards to `pragma once` ([#14248](https://github.com/qmk/qmk_firmware/pull/14248))', 'i2c_master: Add support for reading/writing to 16-bit registers ([#14289](https://github.com/qmk/qmk_firmware/pull/14289))', 'Move Audio drivers from quantum to platform drivers folder ([#14308](https://github.com/qmk/qmk_firmware/pull/14308))', 'Add RGBW support to PWM and SPI drivers for ChibiOS ([#14327](https://github.com/qmk/qmk_firmware/pull/14327))', 'Rework and expand Pointing Device support ([#14343](https://github.com/qmk/qmk_firmware/pull/14343))', 'Remove Arduino-style `analogRead()` ([#14348](https://github.com/qmk/qmk_firmware/pull/14348))', 'Macros in JSON keymaps ([#14374](https://github.com/qmk/qmk_firmware/pull/14374))', 'Remove unreferenced IBM4704, Sony NEWS, NeXT keyboard code. ([#14380](https://github.com/qmk/qmk_firmware/pull/14380))', 'Add HT32 support to core ([#14388](https://github.com/qmk/qmk_firmware/pull/14388))', 'Align ChibiOS I2C defs with other drivers ([#14399](https://github.com/qmk/qmk_firmware/pull/14399))', 'Move Bluetooth config to common_features.mk ([#14404](https://github.com/qmk/qmk_firmware/pull/14404))', 'Westberrytech pr ([#14422](https://github.com/qmk/qmk_firmware/pull/14422))', 'Refactor use of STM32_SYSCLK ([#14430](https://github.com/qmk/qmk_firmware/pull/14430))', 'Migrate STM32_EEPROM_ENABLE to use EEPROM_DRIVER ([#14433](https://github.com/qmk/qmk_firmware/pull/14433))', 'Refactor use of _STM32_ defines ([#14439](https://github.com/qmk/qmk_firmware/pull/14439))', 'Add i2c defaults for Convert to Proton C ([#14470](https://github.com/qmk/qmk_firmware/pull/14470))', 'Use opendrain pin with external pullup again ([#14474](https://github.com/qmk/qmk_firmware/pull/14474))', 'Add ability to use numpad digits for unicode mode UC_WIN ([#14496](https://github.com/qmk/qmk_firmware/pull/14496))', 'Enable de-ghosting for RGB/LED matrix on all ISSI LED drivers ([#14508](https://github.com/qmk/qmk_firmware/pull/14508))', 'Relocate Adafruit BLE code ([#14530](https://github.com/qmk/qmk_firmware/pull/14530))', 'Initial pass of F405 support ([#14584](https://github.com/qmk/qmk_firmware/pull/14584))', 'Further tidy up of STM32 eeprom emulation ([#14591](https://github.com/qmk/qmk_firmware/pull/14591))', 'Remove GCC version check from song list inclusion ([#14600](https://github.com/qmk/qmk_firmware/pull/14600))', 'Change `MK66F18` -> `MK66FX1M0` ([#14659](https://github.com/qmk/qmk_firmware/pull/14659))', 'Add ifndef to WS2812 timing constraints ([#14678](https://github.com/qmk/qmk_firmware/pull/14678))', 'Reuse of EEPROM debounce logic ([#14699](https://github.com/qmk/qmk_firmware/pull/14699))', 'Remove sysex API ([#14723](https://github.com/qmk/qmk_firmware/pull/14723))', 'Basic keycode overhaul ([#14726](https://github.com/qmk/qmk_firmware/pull/14726))', 'Remove SERIAL_LINK feature ([#14727](https://github.com/qmk/qmk_firmware/pull/14727))', 'Enable CLI flashing via mdloader ([#14729](https://github.com/qmk/qmk_firmware/pull/14729))', \"Correct the Turkish F '?' keycode (TR_QUES) ([#14740](https://github.com/qmk/qmk_firmware/pull/14740))\", 'Move converter specific tmk_core protocols ([#14743](https://github.com/qmk/qmk_firmware/pull/14743))', 'Align PS/2 GPIO defines ([#14745](https://github.com/qmk/qmk_firmware/pull/14745))', 'Improve Adafruit BLE configuration defines ([#14749](https://github.com/qmk/qmk_firmware/pull/14749))', 'Enable eeprom with F401xE ld ([#14752](https://github.com/qmk/qmk_firmware/pull/14752))', 'Clean up LED/RGB Matrix driver config ([#14760](https://github.com/qmk/qmk_firmware/pull/14760))', 'Initial USB2422 driver ([#14835](https://github.com/qmk/qmk_firmware/pull/14835))', 'Update UART driver API ([#14839](https://github.com/qmk/qmk_firmware/pull/14839))', 'Split out arm_atsam shift register logic ([#14848](https://github.com/qmk/qmk_firmware/pull/14848))', 'Split out HAPTIC_ENABLE to have separate DRIVER option ([#14854](https://github.com/qmk/qmk_firmware/pull/14854))', 'Tidy up LCD_ENABLE/visualizer references ([#14855](https://github.com/qmk/qmk_firmware/pull/14855))', 'Remove legacy Makefile functionality ([#14858](https://github.com/qmk/qmk_firmware/pull/14858))', 'Add support for deferred executors. ([#14859](https://github.com/qmk/qmk_firmware/pull/14859))', 'Change OLED task function to be boolean ([#14864](https://github.com/qmk/qmk_firmware/pull/14864))', \"Add a new led driver for Keychron's keyboards. ([#14872](https://github.com/qmk/qmk_firmware/pull/14872))\", 'Begin to carve out platform/protocol API - Migrate keyboard_* calls ([#14888](https://github.com/qmk/qmk_firmware/pull/14888))', 'Rename platform SRC variable ([#14894](https://github.com/qmk/qmk_firmware/pull/14894))', 'Relocate PS2 code ([#14895](https://github.com/qmk/qmk_firmware/pull/14895))', 'Move USE_CCACHE logic to common location ([#14899](https://github.com/qmk/qmk_firmware/pull/14899))', 'Migrate makefile utilities to sub-directory ([#14917](https://github.com/qmk/qmk_firmware/pull/14917))', 'Remove legacy handling for ErgoDox Infinity handedness ([#14919](https://github.com/qmk/qmk_firmware/pull/14919))', 'Align usbasp flashing behaviour ([#14928](https://github.com/qmk/qmk_firmware/pull/14928))', 'Optimize matrix scanning by removing variable shifts ([#14947](https://github.com/qmk/qmk_firmware/pull/14947))', 'Stop-gap forward-port Drop LED features for CTRL and ALT ([#14967](https://github.com/qmk/qmk_firmware/pull/14967))', 'Remove SERIAL_MOUSE ([#14969](https://github.com/qmk/qmk_firmware/pull/14969))', 'Relocate protocol files within tmk_core/common/ ([#14972](https://github.com/qmk/qmk_firmware/pull/14972))', 'Move LTO logic from common.mk ([#14973](https://github.com/qmk/qmk_firmware/pull/14973))', 'More platform/protocol alignment ([#14976](https://github.com/qmk/qmk_firmware/pull/14976))', 'Add support to persist MD LED framework settings ([#14980](https://github.com/qmk/qmk_firmware/pull/14980))', 'Enable configuration of PWM frequency for IS31FL3733B ([#14983](https://github.com/qmk/qmk_firmware/pull/14983))', 'Remove `BOOTMAGIC_ENABLE = lite` option ([#15002](https://github.com/qmk/qmk_firmware/pull/15002))', 'Manually format develop ([#15003](https://github.com/qmk/qmk_firmware/pull/15003))', 'Require explicit enabling of RGB Matrix modes ([#15018](https://github.com/qmk/qmk_firmware/pull/15018))', 'Remove deprecated KEYMAP alias ([#15037](https://github.com/qmk/qmk_firmware/pull/15037))', 'Fix uart function prototypes ([#15162](https://github.com/qmk/qmk_firmware/pull/15162))', 'Rename RGB fractal ([#15174](https://github.com/qmk/qmk_firmware/pull/15174))', 'Format code according to conventions ([#15195](https://github.com/qmk/qmk_firmware/pull/15195))', 'Format code according to conventions ([#15196](https://github.com/qmk/qmk_firmware/pull/15196))', 'Add uint to char functions ([#15244](https://github.com/qmk/qmk_firmware/pull/15244))', '[Tests] Increase QMK test coverage take 2 ([#15269](https://github.com/qmk/qmk_firmware/pull/15269))', 'Tidy up adjustable ws2812 timing ([#15299](https://github.com/qmk/qmk_firmware/pull/15299))', 'Add script for performing compilation size regression investigations. ([#15303](https://github.com/qmk/qmk_firmware/pull/15303))', 'WB32F3G71 config migration with removal of unnecessary items. ([#15309](https://github.com/qmk/qmk_firmware/pull/15309))', 'Re-add encoder tests ([#15312](https://github.com/qmk/qmk_firmware/pull/15312))']\n\nCLI:\n\n['Add check for non-assignment code in rules.mk ([#12108](https://github.com/qmk/qmk_firmware/pull/12108))', 'Export list of `develop` PRs to be merged into `master` ([#13944](https://github.com/qmk/qmk_firmware/pull/13944))', 'remove qmk console, which is now part of the global cli ([#14206](https://github.com/qmk/qmk_firmware/pull/14206))', 'New CLI subcommand to create clang-compatible compilation database (`compile_commands.json`) ([#14370](https://github.com/qmk/qmk_firmware/pull/14370))', 'compiledb: query include paths from gcc directly. ([#14462](https://github.com/qmk/qmk_firmware/pull/14462))']\n\nSubmodule updates:\n\n['Update to ChibiOS 20.3.4, support builds against trunk ([#14208](https://github.com/qmk/qmk_firmware/pull/14208))', 'Update ChibiOS-Contrib ([#14408](https://github.com/qmk/qmk_firmware/pull/14408))', 'Update ChibiOS-Contrib ([#14419](https://github.com/qmk/qmk_firmware/pull/14419))', 'Purge uGFX. ([#14720](https://github.com/qmk/qmk_firmware/pull/14720))']\n\nKeyboards:\n\n['Add support for PaladinPad, Arya pcb and move keyboards by KapCave into their own directory ([#14194](https://github.com/qmk/qmk_firmware/pull/14194))', 'Move non-assignment code to post_rules.mk ([#14207](https://github.com/qmk/qmk_firmware/pull/14207))', 'Helix use `post_rules.mk` ([#14216](https://github.com/qmk/qmk_firmware/pull/14216))', 'handwired/symmetric70_proto use post_rules.mk ([#14235](https://github.com/qmk/qmk_firmware/pull/14235))', 'Add Adelais PCB. Adelais RGB rev.3, Adelais rev. 4 APM32F103, Adelais AVR rev. 1 ([#14252](https://github.com/qmk/qmk_firmware/pull/14252))', 'GMMK Pro keymap ([#14389](https://github.com/qmk/qmk_firmware/pull/14389))', 'Migrate boston_meetup/2019 away from QWIIC_DRIVERS ([#14413](https://github.com/qmk/qmk_firmware/pull/14413))', 'Migrate hadron away from QWIIC_DRIVERS ([#14415](https://github.com/qmk/qmk_firmware/pull/14415))', 'Enable Proton C defaults for SplitKB Kyria ([#14490](https://github.com/qmk/qmk_firmware/pull/14490))', 'Set USB max power consumption of kint* controllers to 100mA ([#14546](https://github.com/qmk/qmk_firmware/pull/14546))', 'Remove complex `fn_actions` macros ([#14662](https://github.com/qmk/qmk_firmware/pull/14662))', 'New Keyboard: TGR Jane CE ([#14713](https://github.com/qmk/qmk_firmware/pull/14713))', 'Migrate satisfaction75 away from QWIIC_DRIVERS ([#14747](https://github.com/qmk/qmk_firmware/pull/14747))', 'add Lefty keyboard ([#14898](https://github.com/qmk/qmk_firmware/pull/14898))', 'overnumpad controller: Add support for turning off solenoid enable in low power. ([#15021](https://github.com/qmk/qmk_firmware/pull/15021))', 'Reduce compile size for melgeek mach80 ([#15034](https://github.com/qmk/qmk_firmware/pull/15034))', 'Update updated KPrepublic boards to be prepared for the update ([#15040](https://github.com/qmk/qmk_firmware/pull/15040))', 'rename kprepublic bm keyboards to have a standardized naming format ([#15047](https://github.com/qmk/qmk_firmware/pull/15047))', 'matrix/abelx - Update ChibiOS conf files ([#15130](https://github.com/qmk/qmk_firmware/pull/15130))', 'Disable console on Keebio foldkb and iris rev3 ([#15260](https://github.com/qmk/qmk_firmware/pull/15260))', 'Disable console on Sofle default keymap ([#15261](https://github.com/qmk/qmk_firmware/pull/15261))', 'Disable features on SplitKB boards to fit under size ([#15262](https://github.com/qmk/qmk_firmware/pull/15262))', 'Enable LTO on viktus/sp_mini via keymap ([#15263](https://github.com/qmk/qmk_firmware/pull/15263))']\n\nKeyboard fixes:\n\n['Fix number of elements in info.json does not match errors ([#14213](https://github.com/qmk/qmk_firmware/pull/14213))', 'Fix typos from 14248 ([#14261](https://github.com/qmk/qmk_firmware/pull/14261))', 'Stream cheap via fixes/updates ([#14325](https://github.com/qmk/qmk_firmware/pull/14325))', 'Map `PRODUCT` define to `keyboard_name` ([#14372](https://github.com/qmk/qmk_firmware/pull/14372))', 'Fix BT rules for dosa40rgb ([#14497](https://github.com/qmk/qmk_firmware/pull/14497))', 'Fix typo in mechloving adelais header files ([#14590](https://github.com/qmk/qmk_firmware/pull/14590))', 'Fix for mechlovin/adelais/standard_led/arm/rev4 ([#14639](https://github.com/qmk/qmk_firmware/pull/14639))', 'Fix OLED timeout on recent qwiic migrations ([#14775](https://github.com/qmk/qmk_firmware/pull/14775))', 'Fix OLED timeout on satisfaction75 after migration from QWIIC ([#14780](https://github.com/qmk/qmk_firmware/pull/14780))', 'Fix Compile issues for lefty ([#14982](https://github.com/qmk/qmk_firmware/pull/14982))', 'Fix missing return for oled task on Lefty ([#15010](https://github.com/qmk/qmk_firmware/pull/15010))', 'Fix missing return for oled task on Arabica37 ([#15011](https://github.com/qmk/qmk_firmware/pull/15011))', 'Fix missing return for oled task in drashna userspace ([#15012](https://github.com/qmk/qmk_firmware/pull/15012))', 'Fix size issues on pistachio pro via keymap ([#15017](https://github.com/qmk/qmk_firmware/pull/15017))', 'Fix keycode collision in craftwalk keymap ([#15055](https://github.com/qmk/qmk_firmware/pull/15055))', 'Fix compilation issues for yanghu Unicorne ([#15068](https://github.com/qmk/qmk_firmware/pull/15068))', 'Fixup broken build after #15040 ([#15073](https://github.com/qmk/qmk_firmware/pull/15073))', 'Fix compilation issues for Lime ([#15116](https://github.com/qmk/qmk_firmware/pull/15116))', 'Fix additional board sizes for RGB Matrix ([#15170](https://github.com/qmk/qmk_firmware/pull/15170))', 'Fix bandominedoni via keymap compilation ([#15171](https://github.com/qmk/qmk_firmware/pull/15171))', 'Fix handful of boards compiling too large due to RGB matrix changes ([#15184](https://github.com/qmk/qmk_firmware/pull/15184))', 'Fix oled_task_user for ffkeebs/puca ([#15185](https://github.com/qmk/qmk_firmware/pull/15185))', 'More headroom. ([#15301](https://github.com/qmk/qmk_firmware/pull/15301))', 'More headroom. ([#15302](https://github.com/qmk/qmk_firmware/pull/15302))']\n\nOthers:\n\n['Clean up some code block languages ([#14434](https://github.com/qmk/qmk_firmware/pull/14434))', 'Clarify \"nested\" and \"rolling\" key sequences ([#14655](https://github.com/qmk/qmk_firmware/pull/14655))', 'CI: Create GitHub Actions unit test workflow ([#15223](https://github.com/qmk/qmk_firmware/pull/15223))', 'Squeezing space out of AVR ([#15243](https://github.com/qmk/qmk_firmware/pull/15243))']\n\nBugs:\n\n['Fix parallel builds w/ LTO on systems where make is not GNU make. ([#13955](https://github.com/qmk/qmk_firmware/pull/13955))', 'fix automatic directory for qmk lint ([#14215](https://github.com/qmk/qmk_firmware/pull/14215))', 'RN42 Bluetooth typo fix ([#14421](https://github.com/qmk/qmk_firmware/pull/14421))', 'fix typo in backlight code from #14439 ([#14442](https://github.com/qmk/qmk_firmware/pull/14442))', 'fix compilation issues with USB programmable buttons ([#14454](https://github.com/qmk/qmk_firmware/pull/14454))', 'Fix descriptor for USB Programmable Buttons ([#14455](https://github.com/qmk/qmk_firmware/pull/14455))', 'Make ChibiOS PAL interactions less STM32 specific - Round 2 ([#14456](https://github.com/qmk/qmk_firmware/pull/14456))', 'fix logical minimum in Programmable Button rdesc ([#14464](https://github.com/qmk/qmk_firmware/pull/14464))', 'Fix i2c_readReg16 ([#14730](https://github.com/qmk/qmk_firmware/pull/14730))', 'Put back eeconfig_update_ functions ([#14751](https://github.com/qmk/qmk_firmware/pull/14751))', 'Fix misplaced endif in led_matrix_drivers.c ([#14785](https://github.com/qmk/qmk_firmware/pull/14785))', 'Fix builds for ChibiOS + Cortex-M0[+] ([#14879](https://github.com/qmk/qmk_firmware/pull/14879))', 'Fix ccache default ([#14906](https://github.com/qmk/qmk_firmware/pull/14906))', 'Fix issues with Oneshot disabling ([#14934](https://github.com/qmk/qmk_firmware/pull/14934))', 'Fix develop after recent changes ([#14975](https://github.com/qmk/qmk_firmware/pull/14975))', 'Fix up issues shown by clang-format of vusb ([#15004](https://github.com/qmk/qmk_firmware/pull/15004))', 'Fix unterminated ifdef in ISSI 3733 driver ([#15014](https://github.com/qmk/qmk_firmware/pull/15014))', 'Fix build failures caused by #12947. ([#15019](https://github.com/qmk/qmk_firmware/pull/15019))', 'Fixup LED matrix. ([#15020](https://github.com/qmk/qmk_firmware/pull/15020))', 'Revert to old init order for host driver ([#15029](https://github.com/qmk/qmk_firmware/pull/15029))', 'Fixup #15029 ([#15031](https://github.com/qmk/qmk_firmware/pull/15031))', 'RISC-V toolchain and picolibc fixes ([#15109](https://github.com/qmk/qmk_firmware/pull/15109))', 'gcc10 LTO - Only specify adhlns assembler options at link time ([#15115](https://github.com/qmk/qmk_firmware/pull/15115))', 'Add needed include to pointing_device.c ([#15167](https://github.com/qmk/qmk_firmware/pull/15167))', 'Fix missing variable for Backlight Breathing ([#15199](https://github.com/qmk/qmk_firmware/pull/15199))', 'Revert backlight pins on function call ([#15205](https://github.com/qmk/qmk_firmware/pull/15205))', 'Fix timer include in override_wiring.c ([#15221](https://github.com/qmk/qmk_firmware/pull/15221))', 'fix broken macro in transport.h ([#15239](https://github.com/qmk/qmk_firmware/pull/15239))', 'Short term bodge for PRODUCT warning ([#15240](https://github.com/qmk/qmk_firmware/pull/15240))', 'Remove use of __flash due to LTO issues ([#15268](https://github.com/qmk/qmk_firmware/pull/15268))', 'Documentation typo fix ([#15298](https://github.com/qmk/qmk_firmware/pull/15298))', '[Core] Hotfix for HOLD_ON_OTHER_KEY_PRESS after #11059 ([#15307](https://github.com/qmk/qmk_firmware/pull/15307))', 'Fix call to pointing_device_handle_buttons ([#15313](https://github.com/qmk/qmk_firmware/pull/15313))', '[Develop] Fix ploopy readme typos ([#15316](https://github.com/qmk/qmk_firmware/pull/15316))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 8]"
        },
        {
          "title": "QMK Breaking Changes - 2022 February 26 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": {
              "Default USB Polling rate now 1kHz ([#15352](https://github.com/qmk/qmk_firmware/pull/15352))": "The default USB Polling rate has been aligned across supported platforms to now be 1ms/1kHz.\n\nSomething something *Lets go gamers!*",
              "Split support for pointing devices ([#15304](https://github.com/qmk/qmk_firmware/pull/15304))": "Pointing devices can now be shared across a split keyboard with support for a single pointing device or a pointing device on each side.\n\nSee the [Pointing Device](../features/pointing_device) documentation for further configuration options."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Legacy macro and action_function system removed ([#16025](https://github.com/qmk/qmk_firmware/pull/16025))": "The long time deprecated `MACRO()` and `action_get_macro` methods have been removed. Where possible, existing usages have been migrated over to core [Macros](../feature_macros).",
              "Create a build error if no bootloader is specified ([#16181](https://github.com/qmk/qmk_firmware/pull/16181))": "Bootloader configuration is no longer assumed. Keyboards must now set either:\n\n['`BOOTLOADER` within `rules.mk`', '`bootloader` within `info.json`']",
              "Rename `AdafruitBLE` to `BluefruitLE` ([#16127](https://github.com/qmk/qmk_firmware/pull/16127))": "In preparation of future bluetooth work, the `AdafruitBLE` integration has been renamed to allow potential for any other Adafruit BLE products. ",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name          | New Keyboard Name                  |\n|----------------------------|------------------------------------|\n|  6ball                     |  maple_computing/6ball             |\n|  7skb                      |  salicylic_acid3/7skb              |\n|  7splus                    |  salicylic_acid3/7splus            |\n|  acr60                     |  mechkeys/acr60                    |\n|  adalyn                    |  tominabox1/adalyn                 |\n|  ajisai74                  |  salicylic_acid3/ajisai74          |\n|  aleth42                   |  25keys/aleth42                    |\n|  alicia_cook               |  ibnuda/alicia_cook                |\n|  allison_numpad            |  prototypist/allison_numpad        |\n|  allison                   |  prototypist/allison               |\n|  alu84                     |  mechkeys/alu84                    |\n|  angel17                   |  kakunpc/angel17                   |\n|  angel64/alpha             |  kakunpc/angel64/alpha             |\n|  angel64/rev1              |  kakunpc/angel64/rev1              |\n|  arch_36                   |  obosob/arch_36                    |\n|  bakeneko60                |  kkatano/bakeneko60                |\n|  bakeneko65/rev2           |  kkatano/bakeneko65/rev2           |\n|  bakeneko65/rev3           |  kkatano/bakeneko65/rev3           |\n|  bakeneko80                |  kkatano/bakeneko80                |\n|  barleycorn                |  yiancardesigns/barleycorn         |\n|  bat43/rev1                |  dailycraft/bat43/rev1             |\n|  bat43/rev2                |  dailycraft/bat43/rev2             |\n|  bigseries/1key            |  woodkeys/bigseries/1key           |\n|  bigseries/2key            |  woodkeys/bigseries/2key           |\n|  bigseries/3key            |  woodkeys/bigseries/3key           |\n|  bigseries/4key            |  woodkeys/bigseries/4key           |\n|  bkf                       |  drhigsby/bkf                      |\n|  business_card/alpha       |  kakunpc/business_card/alpha       |\n|  business_card/beta        |  kakunpc/business_card/beta        |\n|  butterstick               |  gboards/butterstick               |\n|  c39                       |  maple_computing/c39               |\n|  cassette42                |  25keys/cassette42                 |\n|  chidori                   |  kagizaraya/chidori                |\n|  chili                     |  ydkb/chili                        |\n|  chimera_ergo              |  glenpickle/chimera_ergo           |\n|  chimera_ls                |  glenpickle/chimera_ls             |\n|  chimera_ortho             |  glenpickle/chimera_ortho          |\n|  chimera_ortho_plus        |  glenpickle/chimera_ortho_plus     |\n|  choco60                   |  recompile_keys/choco60            |\n|  choc_taro                 |  kakunpc/choc_taro                 |\n|  christmas_tree            |  maple_computing/christmas_tree    |\n|  claw44/rev1               |  dailycraft/claw44/rev1            |\n|  cocoa40                   |  recompile_keys/cocoa40            |\n|  comet46                   |  satt/comet46                      |\n|  cu24                      |  capsunlocked/cu24                 |\n|  cu75                      |  capsunlocked/cu75                 |\n|  cu80                      |  capsunlocked/cu80/v1              |\n|  delilah                   |  rainkeebs/delilah                 |\n|  diverge3                  |  unikeyboard/diverge3              |\n|  divergetm2                |  unikeyboard/divergetm2            |\n|  dozen0                    |  yynmt/dozen0                      |\n|  dubba175                  |  drhigsby/dubba175                 |\n|  eggman                    |  qpockets/eggman                   |\n|  ergo42                    |  biacco42/ergo42                   |\n|  ergoarrows                |  salicylic_acid3/ergoarrows        |\n|  ergodash/mini             |  omkbd/ergodash/mini               |\n|  ergodash/rev1             |  omkbd/ergodash/rev1               |\n|  ergodox_infinity          |  input_club/ergodox_infinity       |\n|  ergotaco                  |  gboards/ergotaco                  |\n|  espectro                  |  mechkeys/espectro                 |\n|  felix                     |  unikeyboard/felix                 |\n|  four_banger               |  bpiphany/four_banger              |\n|  freyr                     |  hnahkb/freyr                      |\n|  geminate60                |  weirdo/geminate60                 |\n|  georgi                    |  gboards/georgi                    |\n|  gergo                     |  gboards/gergo                     |\n|  getta25                   |  salicylic_acid3/getta25           |\n|  gingham                   |  yiancardesigns/gingham            |\n|  gurindam                  |  ibnuda/gurindam                   |\n|  halberd                   |  kagizaraya/halberd                |\n|  hecomi/alpha              |  takashiski/hecomi/alpha           |\n|  hid_liber                 |  bpiphany/hid_liber                |\n|  id67/default_rgb          |  idobao/id67/default_rgb           |\n|  id67/rgb                  |  idobao/id67/rgb                   |\n|  id80                      |  idobao/id80/v1                    |\n|  id87                      |  idobao/id87/v1                    |\n|  idobo                     |  idobao/id75/v1                    |\n|  infinity60                |  input_club/infinity60             |\n|  ivy/rev1                  |  maple_computing/ivy/rev1          |\n|  jisplit89                 |  salicylic_acid3/jisplit89         |\n|  jnao                      |  maple_computing/jnao              |\n|  just60                    |  ydkb/just60                       |\n|  kagamidget                |  yynmt/kagamidget                  |\n|  kelowna/rgb64             |  weirdo/kelowna/rgb64              |\n|  kprepublic/bm65hsrgb_iso  |  kprepublic/bm65hsrgb_iso/rev1     |\n|  kprepublic/bm68hsrgb      |  kprepublic/bm68hsrgb/rev1         |\n|  k_type                    |  input_club/k_type                 |\n|  latin17rgb                |  latincompass/latin17rgb           |\n|  latin47ble                |  latincompass/latin47ble           |\n|  latin60rgb                |  latincompass/latin60rgb           |\n|  latin64ble                |  latincompass/latin64ble           |\n|  latin6rgb                 |  latincompass/latin6rgb            |\n|  latinpadble               |  latincompass/latinpadble          |\n|  latinpad                  |  latincompass/latinpad             |\n|  launchpad/rev1            |  maple_computing/launchpad/rev1    |\n|  lck75                     |  lyso1/lck75                       |\n|  le_chiffre                |  tominabox1/le_chiffre             |\n|  lefishe                   |  lyso1/lefishe                     |\n|  lets_split_eh/eh          |  maple_computing/lets_split_eh/eh  |\n|  ls_60                     |  weirdo/ls_60                      |\n|  m3n3van                   |  matthewdias/m3n3van               |\n|  mechmini/v1               |  mechkeys/mechmini/v1              |\n|  mechmini/v2               |  mechkeys/mechmini/v2              |\n|  meira                     |  woodkeys/meira                    |\n|  meishi2                   |  biacco42/meishi2                  |\n|  meishi                    |  biacco42/meishi                   |\n|  minidox/rev1              |  maple_computing/minidox/rev1      |\n|  minim                     |  matthewdias/minim                 |\n|  mio                       |  recompile_keys/mio                |\n|  model_v                   |  matthewdias/model_v               |\n|  montex                    |  idobao/montex/v1                  |\n|  nafuda                    |  salicylic_acid3/nafuda            |\n|  naiping/np64              |  weirdo/naiping/np64               |\n|  naiping/nphhkb            |  weirdo/naiping/nphhkb             |\n|  naiping/npminila          |  weirdo/naiping/npminila           |\n|  naked48                   |  salicylic_acid3/naked48           |\n|  naked60                   |  salicylic_acid3/naked60           |\n|  naked64                   |  salicylic_acid3/naked64           |\n|  namecard2x4               |  takashiski/namecard2x4            |\n|  nebula12                  |  spaceholdings/nebula12            |\n|  nebula68b                 |  spaceholdings/nebula68b           |\n|  nebula68                  |  spaceholdings/nebula68            |\n|  niu_mini                  |  kbdfans/niu_mini                  |\n|  nk1                       |  novelkeys/nk1                     |\n|  nk65                      |  novelkeys/nk65                    |\n|  nk87                      |  novelkeys/nk87                    |\n|  nknl7en                   |  salicylic_acid3/nknl7en           |\n|  nknl7jp                   |  salicylic_acid3/nknl7jp           |\n|  nomu30                    |  recompile_keys/nomu30             |\n|  novelpad                  |  novelkeys/novelpad                |\n|  ogurec                    |  drhigsby/ogurec                   |\n|  otaku_split/rev0          |  takashiski/otaku_split/rev0       |\n|  otaku_split/rev1          |  takashiski/otaku_split/rev1       |\n|  owl8                      |  dailycraft/owl8                   |\n|  packrat                   |  drhigsby/packrat                  |\n|  pistachio_mp              |  rate/pistachio_mp                 |\n|  pistachio_pro             |  rate/pistachio_pro                |\n|  pistachio                 |  rate/pistachio                    |\n|  plexus75                  |  checkerboards/plexus75            |\n|  pursuit40                 |  checkerboards/pursuit40           |\n|  qaz                       |  tominabox1/qaz                    |\n|  quark                     |  checkerboards/quark               |\n|  rabbit_capture_plan       |  kakunpc/rabbit_capture_plan       |\n|  rainkeeb                  |  rainkeebs/rainkeeb                |\n|  reviung33                 |  reviung/reviung33                 |\n|  reviung34                 |  reviung/reviung34                 |\n|  reviung39                 |  reviung/reviung39                 |\n|  reviung41                 |  reviung/reviung41                 |\n|  reviung53                 |  reviung/reviung53                 |\n|  reviung5                  |  reviung/reviung5                  |\n|  reviung61                 |  reviung/reviung61                 |\n|  runner3680/3x6            |  omkbd/runner3680/3x6              |\n|  runner3680/3x7            |  omkbd/runner3680/3x7              |\n|  runner3680/3x8            |  omkbd/runner3680/3x8              |\n|  runner3680/4x6            |  omkbd/runner3680/4x6              |\n|  runner3680/4x7            |  omkbd/runner3680/4x7              |\n|  runner3680/4x8            |  omkbd/runner3680/4x8              |\n|  runner3680/5x6_5x8        |  omkbd/runner3680/5x6_5x8          |\n|  runner3680/5x6            |  omkbd/runner3680/5x6              |\n|  runner3680/5x7            |  omkbd/runner3680/5x7              |\n|  runner3680/5x8            |  omkbd/runner3680/5x8              |\n|  scarletbandana            |  woodkeys/scarletbandana           |\n|  scythe                    |  kagizaraya/scythe                 |\n|  seigaiha                  |  yiancardesigns/seigaiha           |\n|  setta21                   |  salicylic_acid3/setta21           |\n|  space_space/rev1          |  qpockets/space_space/rev1         |\n|  space_space/rev2          |  qpockets/space_space/rev2         |\n|  spiderisland/winry25tc    |  winry/winry25tc                   |\n|  splitreus62               |  nacly/splitreus62                 |\n|  squiggle/rev1             |  ibnuda/squiggle/rev1              |\n|  standaside                |  edi/standaside                    |\n|  steal_this_keyboard       |  obosob/steal_this_keyboard        |\n|  stella                    |  hnahkb/stella                     |\n|  suihankey/alpha           |  kakunpc/suihankey/alpha           |\n|  suihankey/rev1            |  kakunpc/suihankey/rev1            |\n|  suihankey/split           |  kakunpc/suihankey/split           |\n|  thedogkeyboard            |  kakunpc/thedogkeyboard            |\n|  the_ruler                 |  maple_computing/the_ruler         |\n|  tiger910                  |  weirdo/tiger910                   |\n|  treadstone32              |  marksard/treadstone32             |\n|  treadstone48/rev1         |  marksard/treadstone48/rev1        |\n|  treadstone48/rev2         |  marksard/treadstone48/rev2        |\n|  txuu                      |  matthewdias/txuu                  |\n|  ua62                      |  nacly/ua62                        |\n|  underscore33/rev1         |  tominabox1/underscore33/rev1      |\n|  underscore33/rev2         |  tominabox1/underscore33/rev2      |\n|  vn66                      |  hnahkb/vn66                       |\n|  wallaby                   |  kkatano/wallaby                   |\n|  wanten                    |  qpockets/wanten                   |\n|  whitefox                  |  input_club/whitefox               |\n|  wings42/rev1              |  dailycraft/wings42/rev1           |\n|  wings42/rev1_extkeys      |  dailycraft/wings42/rev1_extkeys   |\n|  wings42/rev2              |  dailycraft/wings42/rev2           |\n|  yasui                     |  rainkeebs/yasui                   |\n|  yd60mq                    |  ymdk/yd60mq                       |\n|  yd68                      |  ydkb/yd68                         |\n|  ymd75                     |  ymdk/ymd75                        |\n|  ymd96                     |  ymdk/ymd96                        |\n|  ymdk_np21                 |  ymdk/np21                         |\n|  yurei                     |  kkatano/yurei                     |\n|  zinc                      |  25keys/zinc                       |\n|  zinc/rev1                 |  25keys/zinc/rev1                  |\n|  zinc/reva                 |  25keys/zinc/reva                  |"
            },
            "Notable core changes {#notable-core}": {
              "New MCU Support {#new-mcu-support}": "Building on previous cycles, QMK firmware picked up support for a couple extra MCU variants:\n\n['STM32L432', 'STM32L442']",
              "New Drivers": {
                "LED": [
                  "IS31FL3742A",
                  "IS31FL3743A",
                  "IS31FL3745",
                  "IS31FL3746A"
                ],
                "GPIO": [
                  "SN74x138",
                  "mcp23018"
                ]
              }
            },
            "Full changelist": "Core:\n\n['Initial pass at data driven new-keyboard subcommand ([#12795](https://github.com/qmk/qmk_firmware/pull/12795))', \"Don't send keyboard reports that propagate no changes to the host ([#14065](https://github.com/qmk/qmk_firmware/pull/14065))\", 'Custom matrix lite support for split keyboards ([#14674](https://github.com/qmk/qmk_firmware/pull/14674))', 'Add sym_defer_pr debouncer type ([#14948](https://github.com/qmk/qmk_firmware/pull/14948))', 'Add RGB matrix & LED Matrix support for IS31FL3742A, IS31FL3743A, IS31FL3745, IS31FL3746A ([#14989](https://github.com/qmk/qmk_firmware/pull/14989))', 'New combo configuration options ([#15083](https://github.com/qmk/qmk_firmware/pull/15083))', 'IS31FL3733 driver for LED Matrix ([#15088](https://github.com/qmk/qmk_firmware/pull/15088))', 'Add open-drain GPIO support. ([#15282](https://github.com/qmk/qmk_firmware/pull/15282))', 'Make (un)register code functions weak ([#15285](https://github.com/qmk/qmk_firmware/pull/15285))', 'Split support for pointing devices. ([#15304](https://github.com/qmk/qmk_firmware/pull/15304))', 'Added cancel_key_lock function ([#15321](https://github.com/qmk/qmk_firmware/pull/15321))', 'Remove matrix_is_modified() and debounce_is_active() ([#15349](https://github.com/qmk/qmk_firmware/pull/15349))', 'Change default USB Polling rate to 1kHz ([#15352](https://github.com/qmk/qmk_firmware/pull/15352))', 'Implement MAGIC_TOGGLE_CONTROL_CAPSLOCK ([#15368](https://github.com/qmk/qmk_firmware/pull/15368))', 'Tidy up existing i2c_master implementations ([#15376](https://github.com/qmk/qmk_firmware/pull/15376))', 'Generalize Unicode defines ([#15409](https://github.com/qmk/qmk_firmware/pull/15409))', 'Added external spi flash driver. ([#15419](https://github.com/qmk/qmk_firmware/pull/15419))', 'Remove Deprecated USB Polling comment from vusb.c ([#15420](https://github.com/qmk/qmk_firmware/pull/15420))', 'Expand rotational range for PMW3360 Optical Sensor ([#15431](https://github.com/qmk/qmk_firmware/pull/15431))', 'ChibiOS SVN mirror script update ([#15435](https://github.com/qmk/qmk_firmware/pull/15435))', 'Refactor `bootloader_jump()` implementations ([#15450](https://github.com/qmk/qmk_firmware/pull/15450))', 'added missing audio_off_user() callback ([#15457](https://github.com/qmk/qmk_firmware/pull/15457))', 'Migrate serial_uart usages to UART driver ([#15479](https://github.com/qmk/qmk_firmware/pull/15479))', 'Migrate RN42 to UART driver and refactor ([#15492](https://github.com/qmk/qmk_firmware/pull/15492))', 'pwm3360 driver cleanup and diff reduction to adns9800 ([#15559](https://github.com/qmk/qmk_firmware/pull/15559))', 'Advanced deferred_exec for core-side code. ([#15579](https://github.com/qmk/qmk_firmware/pull/15579))', 'Adjust tap_code16 to account for TAP_HOLD_CAPS_DELAY ([#15635](https://github.com/qmk/qmk_firmware/pull/15635))', 'Slight tidy up of keyboard task loop ([#15725](https://github.com/qmk/qmk_firmware/pull/15725))', 'Unify the key up/down behaviour of RGB keycodes ([#15730](https://github.com/qmk/qmk_firmware/pull/15730))', 'Add PMW3389 optical sensor Support (Updated) ([#15740](https://github.com/qmk/qmk_firmware/pull/15740))', 'ChibiOS: add support for HID Programmable Buttons ([#15787](https://github.com/qmk/qmk_firmware/pull/15787))', 'ChibiOS: shorten USB disconnect state on boot to 50ms ([#15805](https://github.com/qmk/qmk_firmware/pull/15805))', 'Add init function to clear previous matrix effect ([#15815](https://github.com/qmk/qmk_firmware/pull/15815))', 'Optimize initialization of PMW3360 Sensor ([#15821](https://github.com/qmk/qmk_firmware/pull/15821))', 'Add Pixel Flow RGB matrix effect ([#15829](https://github.com/qmk/qmk_firmware/pull/15829))', 'PMW3389 Revert Firmware load during Initilization ([#15859](https://github.com/qmk/qmk_firmware/pull/15859))', 'Combo `TAP_CODE_DELAY` and `clear_weak_mods` ([#15866](https://github.com/qmk/qmk_firmware/pull/15866))', 'Relocate matrix_scan_quantum tasks ([#15882](https://github.com/qmk/qmk_firmware/pull/15882))', 'Adjust mouse key defaults ([#15883](https://github.com/qmk/qmk_firmware/pull/15883))', 'RGB Matrix: Reload from EEPROM ([#15923](https://github.com/qmk/qmk_firmware/pull/15923))', 'Enable a default task throttle for split pointing. ([#15925](https://github.com/qmk/qmk_firmware/pull/15925))', 'Move mcp23018 driver to core ([#15944](https://github.com/qmk/qmk_firmware/pull/15944))', 'Relocate matrix_init_quantum content ([#15953](https://github.com/qmk/qmk_firmware/pull/15953))', 'Align location of some host led logic ([#15954](https://github.com/qmk/qmk_firmware/pull/15954))', 'Rename some Quantum keycodes ([#15968](https://github.com/qmk/qmk_firmware/pull/15968))', 'Migrate more makefile utilities to builddefs sub-directory ([#16002](https://github.com/qmk/qmk_firmware/pull/16002))', 'Various Makefile optimisations ([#16015](https://github.com/qmk/qmk_firmware/pull/16015))', 'Add support for STM32L432, STM32L442. ([#16016](https://github.com/qmk/qmk_firmware/pull/16016))', 'EEPROM refactor: remove `eeprom_teensy.c` by default, use transient instead ([#16020](https://github.com/qmk/qmk_firmware/pull/16020))', 'Deprecate Split Transaction status field ([#16023](https://github.com/qmk/qmk_firmware/pull/16023))', 'Rip out old macro and action_function system ([#16025](https://github.com/qmk/qmk_firmware/pull/16025))', 'Add a script that simplifies running commands under docker. ([#16028](https://github.com/qmk/qmk_firmware/pull/16028))', 'Add support for Q-series on the ckled2001 LED driver ([#16051](https://github.com/qmk/qmk_firmware/pull/16051))', 'Remove unused suspend_idle ([#16063](https://github.com/qmk/qmk_firmware/pull/16063))', 'Initial migration of suspend callbacks ([#16067](https://github.com/qmk/qmk_firmware/pull/16067))', 'Add layout change callbacks to VIA ([#16087](https://github.com/qmk/qmk_firmware/pull/16087))', 'Rename `AdafruitBLE` to `BluefruitLE` ([#16127](https://github.com/qmk/qmk_firmware/pull/16127))', 'Update outputselect to use platform connected state API ([#16185](https://github.com/qmk/qmk_firmware/pull/16185))', 'Remove default pointing device driver. ([#16190](https://github.com/qmk/qmk_firmware/pull/16190))', 'Add SN74x138 demultiplexer driver ([#16217](https://github.com/qmk/qmk_firmware/pull/16217))', 'Standardise error output. ([#16220](https://github.com/qmk/qmk_firmware/pull/16220))', 'Followup to #16220, more test error output. ([#16221](https://github.com/qmk/qmk_firmware/pull/16221))', 'Misc size regression script improvements. ([#16268](https://github.com/qmk/qmk_firmware/pull/16268))', 'Align existing pca9555 driver to better match mcp23018 API ([#16277](https://github.com/qmk/qmk_firmware/pull/16277))', 'Size checks print out target firmware file instead ([#16290](https://github.com/qmk/qmk_firmware/pull/16290))']\n\nCLI:\n\n['`develop` changelog generator: use the PR title instead ([#15537](https://github.com/qmk/qmk_firmware/pull/15537))', '`develop` changelog generator: skip code formatting in listing ([#16215](https://github.com/qmk/qmk_firmware/pull/16215))']\n\nKeyboards:\n\n['Durgod: Increase scan rate by using wait_us timer ([#14091](https://github.com/qmk/qmk_firmware/pull/14091))', 'Add another GMMK Pro ANSI Keymap with custom RGB. ([#14243](https://github.com/qmk/qmk_firmware/pull/14243))', 'Parse USB device version BCD ([#14580](https://github.com/qmk/qmk_firmware/pull/14580))', 'Add vitoni keymap for GMMK Pro (ISO) ([#15006](https://github.com/qmk/qmk_firmware/pull/15006))', 'Move bm65hsrgb_iso and bm68hsrgb to rev1/ to prepare for updates to the boards ([#15132](https://github.com/qmk/qmk_firmware/pull/15132))', 'Convert ergoinu to SPLIT_KEYBOARD ([#15305](https://github.com/qmk/qmk_firmware/pull/15305))', 'Convert not_so_minidox to SPLIT_KEYBOARD ([#15306](https://github.com/qmk/qmk_firmware/pull/15306))', 'Added new handwired keyboard Wakizashi 40 ([#15336](https://github.com/qmk/qmk_firmware/pull/15336))', 'Convert ai03/orbit to SPLIT_KEYBOARD ([#15340](https://github.com/qmk/qmk_firmware/pull/15340))', 'Remove manual enable of LTO within user keymaps ([#15378](https://github.com/qmk/qmk_firmware/pull/15378))', 'Move to organization folder ([#15481](https://github.com/qmk/qmk_firmware/pull/15481))', 'Convert some more boards to Matrix Lite ([#15489](https://github.com/qmk/qmk_firmware/pull/15489))', 'Organize Reviung boards into a directory ([#15636](https://github.com/qmk/qmk_firmware/pull/15636))', 'move winry25tc to winry/ ([#15637](https://github.com/qmk/qmk_firmware/pull/15637))', 'Rename ymdk_np21 to np21 + move to ymdk vendor folder ([#15641](https://github.com/qmk/qmk_firmware/pull/15641))', 'move ymd96 to ymdk vendor folder ([#15643](https://github.com/qmk/qmk_firmware/pull/15643))', 'move ymd75 to ymdk vendor folder ([#15645](https://github.com/qmk/qmk_firmware/pull/15645))', 'move yd60mq to ymdk vendor folder ([#15647](https://github.com/qmk/qmk_firmware/pull/15647))', 'rename idobo to idobao/id75, move to vendor folder ([#15661](https://github.com/qmk/qmk_firmware/pull/15661))', 'move ID67 to IDOBAO vendor folder ([#15662](https://github.com/qmk/qmk_firmware/pull/15662))', 'move ID80 to IDOBAO vendor folder ([#15665](https://github.com/qmk/qmk_firmware/pull/15665))', 'move ID87 to IDOBAO vendor folder ([#15667](https://github.com/qmk/qmk_firmware/pull/15667))', 'move montex to IDOBAO vendor folder ([#15668](https://github.com/qmk/qmk_firmware/pull/15668))', \"move @yangdigi 's keyboards to a YDKB folder ([#15681](https://github.com/qmk/qmk_firmware/pull/15681))\", \"move @kkatano 's keyboards to kkatano user folder ([#15684](https://github.com/qmk/qmk_firmware/pull/15684))\", 'Sol 3 Keyboard from RGBKB ([#15687](https://github.com/qmk/qmk_firmware/pull/15687))', 'move cu24, cu75, cu80/v1 into capsunlocked folder ([#15758](https://github.com/qmk/qmk_firmware/pull/15758))', 'move mechkeys keyboards into the mechkeys/ vendor folder ([#15760](https://github.com/qmk/qmk_firmware/pull/15760))', \"move @lyso1 's boards into lyso1/ ([#15767](https://github.com/qmk/qmk_firmware/pull/15767))\", 'move prototypist boards into vendor folder ([#15780](https://github.com/qmk/qmk_firmware/pull/15780))', \"move @yiancar 's boards into yiancardesigns/ ([#15781](https://github.com/qmk/qmk_firmware/pull/15781))\", 'move novelkeys keyboards to vendor folder ([#15783](https://github.com/qmk/qmk_firmware/pull/15783))', \"move @weirdo-f 's keyboards into weirdo/ ([#15785](https://github.com/qmk/qmk_firmware/pull/15785))\", \"move @marksard 's boards to marksard/ ([#15786](https://github.com/qmk/qmk_firmware/pull/15786))\", 'move input club keyboards into vendor folder ([#15788](https://github.com/qmk/qmk_firmware/pull/15788))', \"move @monksoffunk 's boards into 25keys/ ([#15789](https://github.com/qmk/qmk_firmware/pull/15789))\", \"move @Salicylic-acid3 's keyboards to salicylic-acid3/ ([#15791](https://github.com/qmk/qmk_firmware/pull/15791))\", \"move @rainkeebs 's keyboards to rainkeebs/ ([#15797](https://github.com/qmk/qmk_firmware/pull/15797))\", 'move standaside into edi/ ([#15798](https://github.com/qmk/qmk_firmware/pull/15798))', \"move @obosob 's boards into obosob/ ([#15799](https://github.com/qmk/qmk_firmware/pull/15799))\", \"move @nacly 's boards to nacly/ ([#15801](https://github.com/qmk/qmk_firmware/pull/15801))\", \"move @kakunpc 's keebs into kakunpc/ ([#15814](https://github.com/qmk/qmk_firmware/pull/15814))\", \"move @qpocket 's keyboards to qpocket/ ([#15827](https://github.com/qmk/qmk_firmware/pull/15827))\", 'BDN9 keymap ([#15924](https://github.com/qmk/qmk_firmware/pull/15924))', \"move @matthewdias 's keebs into matthewdias/ ([#15991](https://github.com/qmk/qmk_firmware/pull/15991))\", 'move id80 and id75 to v1 to accommodate for id75 v2 and id80 v3 ([#15992](https://github.com/qmk/qmk_firmware/pull/15992))', 'Remove `action_function()` from LFKeyboards boards ([#15993](https://github.com/qmk/qmk_firmware/pull/15993))', \"move @latincompass (aka @18438880 , @haierwangwei2005)'s boards to /latincompass ([#16039](https://github.com/qmk/qmk_firmware/pull/16039))\", 'move g heavy industry boards into /gboards ([#16040](https://github.com/qmk/qmk_firmware/pull/16040))', \"move @drhigsby 's boards into /drhigsby ([#16041](https://github.com/qmk/qmk_firmware/pull/16041))\", 'More keyboard rules.mk cleanups ([#16044](https://github.com/qmk/qmk_firmware/pull/16044))', \"move @That-Canadian 's boards into /maple_computing ([#16050](https://github.com/qmk/qmk_firmware/pull/16050))\", \"move @takai 's keyboards into /recompile_keys ([#16053](https://github.com/qmk/qmk_firmware/pull/16053))\", \"move @satt99 's comet46 to satt/ ([#16059](https://github.com/qmk/qmk_firmware/pull/16059))\", \"move @ka2hiro 's boards into /kagizaraya ([#16070](https://github.com/qmk/qmk_firmware/pull/16070))\", \"move @GlenPickle 's chimera* boards into a folder ([#16072](https://github.com/qmk/qmk_firmware/pull/16072))\", \"move @yynmt 's boards into /yynmt ([#16075](https://github.com/qmk/qmk_firmware/pull/16075))\", \"move @Biacco42 's keebs into /biacco42 ([#16080](https://github.com/qmk/qmk_firmware/pull/16080))\", 'move unikeyboard boards to /unikeyboard ([#16081](https://github.com/qmk/qmk_firmware/pull/16081))', 'move four_banger to bpiphany ([#16082](https://github.com/qmk/qmk_firmware/pull/16082))', \"move @takashiski 's keebs into /takashiski ([#16089](https://github.com/qmk/qmk_firmware/pull/16089))\", 'move hid_liber to /bpiphany ([#16091](https://github.com/qmk/qmk_firmware/pull/16091))', 'move spaceholdings boards into /spaceholdings ([#16096](https://github.com/qmk/qmk_firmware/pull/16096))', \"move @7-rate 's keebs to /rate ([#16099](https://github.com/qmk/qmk_firmware/pull/16099))\", \"move @npspears 's boards into /checkerboards ([#16100](https://github.com/qmk/qmk_firmware/pull/16100))\", \"move @vuhopkep 's keebs into /hnahkb ([#16102](https://github.com/qmk/qmk_firmware/pull/16102))\", \"move @ibnuda 's keebs into /ibnuda ([#16108](https://github.com/qmk/qmk_firmware/pull/16108))\", \"move @tominabox1 's keebs into /tominabox1 ([#16109](https://github.com/qmk/qmk_firmware/pull/16109))\", 'move niu_mini to /kbdfans ([#16112](https://github.com/qmk/qmk_firmware/pull/16112))', 'move woodkeys.click keyboards to /woodkeys ([#16113](https://github.com/qmk/qmk_firmware/pull/16113))', \"move @omkbd 's boards to /omkbd ([#16116](https://github.com/qmk/qmk_firmware/pull/16116))\", 'Overhaul Tractyl Manuform ([#16134](https://github.com/qmk/qmk_firmware/pull/16134))', 'Reduce firmware size for dztech/dz60rgb_wkl/v2_1:via ([#16254](https://github.com/qmk/qmk_firmware/pull/16254))']\n\nKeyboard fixes:\n\n['Fix build failure for UT47 ([#15483](https://github.com/qmk/qmk_firmware/pull/15483))', 'Update grs_70ec to use newer custom matrix ([#15609](https://github.com/qmk/qmk_firmware/pull/15609))', 'fix compiler issue with Tractyl Manuform 4x6 ([#15646](https://github.com/qmk/qmk_firmware/pull/15646))', 'Fix CI. ([#15828](https://github.com/qmk/qmk_firmware/pull/15828))', 'Yet another bad `DEFAULT_FOLDER` fix. ([#15904](https://github.com/qmk/qmk_firmware/pull/15904))', 'Fix build failures for `mschwingen/modelm` ([#15987](https://github.com/qmk/qmk_firmware/pull/15987))', '`rocketboard_16`: Fix mismatched LUT sizes ([#15997](https://github.com/qmk/qmk_firmware/pull/15997))', 'Fix erroneous SRC for Clueboard 66 hotswap ([#16007](https://github.com/qmk/qmk_firmware/pull/16007))', 'Fix handwired/ms_sculpt_mobile default keymap ([#16032](https://github.com/qmk/qmk_firmware/pull/16032))', 'Re-org Hillside folders as new model prep. Fix default keymap. ([#16128](https://github.com/qmk/qmk_firmware/pull/16128))', 'Fix up default folder locations. Again. ([#16135](https://github.com/qmk/qmk_firmware/pull/16135))', 'Sol3 rgb fix ([#16157](https://github.com/qmk/qmk_firmware/pull/16157))', 'Add missing `BOOTLOADER` for a handful of boards ([#16225](https://github.com/qmk/qmk_firmware/pull/16225))', 'Remove half implemented micronucleus bootloader support ([#16252](https://github.com/qmk/qmk_firmware/pull/16252))', 'Fixup bootloaders. ([#16256](https://github.com/qmk/qmk_firmware/pull/16256))', 'Fix idobao/id80/v3 compilation errors ([#16280](https://github.com/qmk/qmk_firmware/pull/16280))', 'Remove parent-relative paths from keyboards. ([#16282](https://github.com/qmk/qmk_firmware/pull/16282))', 'Bodge for helix build failures ([#16376](https://github.com/qmk/qmk_firmware/pull/16376))']\n\nOthers:\n\n['Add a clarification to an error message ([#15207](https://github.com/qmk/qmk_firmware/pull/15207))', 'Clang-format tweaks ([#15906](https://github.com/qmk/qmk_firmware/pull/15906))', 'Add example implementations for compatible MCUs list ([#15935](https://github.com/qmk/qmk_firmware/pull/15935))', 'Add version.h to gitignore ([#16222](https://github.com/qmk/qmk_firmware/pull/16222))', 'Update keyboard mapping for all moved boards this cycle ([#16312](https://github.com/qmk/qmk_firmware/pull/16312))', 'Align docs to new-keyboard behaviour ([#16357](https://github.com/qmk/qmk_firmware/pull/16357))', 'Align new-keyboard with recent schema updates ([#16378](https://github.com/qmk/qmk_firmware/pull/16378))']\n\nBugs:\n\n['Fixes potential wpm sampling overflow, along with code comment fixes ([#15277](https://github.com/qmk/qmk_firmware/pull/15277))', 'Add missing define for unicode common ([#15416](https://github.com/qmk/qmk_firmware/pull/15416))', 'Fix for SPI write timing in PMW3360 driver ([#15519](https://github.com/qmk/qmk_firmware/pull/15519))', 'Documentation Typo fix ([#15538](https://github.com/qmk/qmk_firmware/pull/15538))', 'fix a typo ([#15557](https://github.com/qmk/qmk_firmware/pull/15557))', 'Fix avr serial compile ([#15589](https://github.com/qmk/qmk_firmware/pull/15589))', 'More AVR GPIO compilation fixes. ([#15592](https://github.com/qmk/qmk_firmware/pull/15592))', 'Fix bug and code regression for Split Common ([#15603](https://github.com/qmk/qmk_firmware/pull/15603))', 'Include missing string.h include in split ([#15606](https://github.com/qmk/qmk_firmware/pull/15606))', 'Fixes for bootloader refactor build failures ([#15638](https://github.com/qmk/qmk_firmware/pull/15638))', 'Update pmw3360 driver after reading the datasheet top to bottom. Fix some outdated refs. ([#15682](https://github.com/qmk/qmk_firmware/pull/15682))', 'Fix split pointing for analog joystick ([#15691](https://github.com/qmk/qmk_firmware/pull/15691))', 'Fix broken bootloader builds in develop. ([#15880](https://github.com/qmk/qmk_firmware/pull/15880))', 'Fix optical sensor firmware upload ([#15919](https://github.com/qmk/qmk_firmware/pull/15919))', 'Pass in the keyrecord_t of the dual-role/tapping key when calling per-key tap hold functions ([#15938](https://github.com/qmk/qmk_firmware/pull/15938))', 'fixed typo in orange HSV colors decalartion ([#15976](https://github.com/qmk/qmk_firmware/pull/15976))', 'Fix hack for chibiOS reset name ([#15984](https://github.com/qmk/qmk_firmware/pull/15984))', 'Fix right side ws2812 leds having two indices ([#15985](https://github.com/qmk/qmk_firmware/pull/15985))', 'Workaround in Makefile for recursive rule matching ([#15988](https://github.com/qmk/qmk_firmware/pull/15988))', 'Fix BACKLIGHT_CAPS_LOCK warning ([#15999](https://github.com/qmk/qmk_firmware/pull/15999))', 'Fix compilation issues for led indicators ([#16001](https://github.com/qmk/qmk_firmware/pull/16001))', 'ChibiOS timer fixes ([#16017](https://github.com/qmk/qmk_firmware/pull/16017))', 'Fix bootloader_jump for certain CTRL boards ([#16026](https://github.com/qmk/qmk_firmware/pull/16026))', 'Fix up issue with PROGMEM and hand_swap_config ([#16027](https://github.com/qmk/qmk_firmware/pull/16027))', \"Don't make EEPROM size assumptions with dynamic keymaps. ([#16054](https://github.com/qmk/qmk_firmware/pull/16054))\", 'fix missed .noci in reviung move ([#16107](https://github.com/qmk/qmk_firmware/pull/16107))', 'Fix issues with Python Tests ([#16162](https://github.com/qmk/qmk_firmware/pull/16162))', 'Fixup multibuild filegen ([#16166](https://github.com/qmk/qmk_firmware/pull/16166))', 'Remove old .gitignore entry. Add more macOS junk exclusions. ([#16167](https://github.com/qmk/qmk_firmware/pull/16167))', \"Fixup builds so that teensy EEPROM knows which MCU it's targeting. ([#16168](https://github.com/qmk/qmk_firmware/pull/16168))\", 'Create a build error if no bootloader is specified. ([#16181](https://github.com/qmk/qmk_firmware/pull/16181))', 'Ensure `version.h` is recreated each build. ([#16188](https://github.com/qmk/qmk_firmware/pull/16188))', 'Add `custom` to list of valid bootloader types in info.json ([#16228](https://github.com/qmk/qmk_firmware/pull/16228))', 'Fix `layer_state` restoration at end of dynamic macro feature #16208 ([#16230](https://github.com/qmk/qmk_firmware/pull/16230))', 'Minor additions #12795 ([#16276](https://github.com/qmk/qmk_firmware/pull/16276))', 'Various fixes for matrix _RIGHT handling ([#16292](https://github.com/qmk/qmk_firmware/pull/16292))', 'Fix slashes in build_full_test.mk ([#16300](https://github.com/qmk/qmk_firmware/pull/16300))', 'ps2/avr: use the correct file name ([#16316](https://github.com/qmk/qmk_firmware/pull/16316))', 'Fix compilation of ChibiOS UART driver ([#16348](https://github.com/qmk/qmk_firmware/pull/16348))', 'Various fixes for new-keyboard ([#16358](https://github.com/qmk/qmk_firmware/pull/16358))', 'Allow NO_PIN within data driven configuration ([#16359](https://github.com/qmk/qmk_firmware/pull/16359))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 9]"
        },
        {
          "title": "QMK Breaking Changes - 2022 May 28 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": {
              "Caps Word ([#16588](https://github.com/qmk/qmk_firmware/pull/16588)) {#caps-word}": "This is a new feature that allows for capslock-like functionality that turns itself off at the end of the word.\n\nFor instance, if you wish to type \"QMK\" without holding shift the entire time, you can either tap both left and right shift, or double-tap shift, to turn on _Caps Word_ -- then type `qmk` (lowercase) without holding shift. Once you hit any key other than `a`--`z`, `0`--`9`, `-`, `_`, delete, or backspace, this will go back to normal typing!\n\nThere are other activation mechanisms as well as configurable options like timeout and the like -- see the [Caps Word documentation](../features/caps_word) for more information.",
              "Quantum Painter ([#10174](https://github.com/qmk/qmk_firmware/pull/10174)) {#quantum-painter}": "QMK has had support for small OLED displays for some time now, but hasn't really gained too much ability to draw to panels other than the SSD1306 or SH1106 panels.\n\nQuantum Painter is a new drawing subsystem available to suitable ARM and RISC-V boards that is capable of drawing to large panel RGB LCDs and RGB OLEDs. It also allows for a lot more flexibility with a larger set of drawing APIs -- lines, rectangles, circles, ellipses, text, images, and even animations.\n\nThe QMK CLI has new commands added to be able to generate images and fonts for Quantum Painter to digest -- it's even capable of converting animated gifs for display on screen.\n\nSee the [Quantum Painter documentation](../quantum_painter) for more information on how to set up the displays as well as how to convert images and fonts.\n\n::: warning\nQuantum Painter is not supported on AVR due to complexity and size constraints. Boards based on AVR such as ProMicro or Elite-C builds will not be able to leverage Quantum Painter.\n:::",
              "Encoder Mapping ([#13286](https://github.com/qmk/qmk_firmware/pull/13286)) {#encoder-mapping}": "One of the long-standing complaints with Encoders is that there has been no easy way to configure them in user keymaps. [#13286](https://github.com/qmk/qmk_firmware/pull/13286) added support for [Encoder Mapping](../features/encoders#encoder-map), which allows users to define encoder functionality in a similar way to their normal keymap.\n\n::: warning\nThis is not yet supported by QMK Configurator. It is also unlikely to ever be supported by VIA.\n:::"
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "`RESET` => `QK_BOOT` ([#17037](https://github.com/qmk/qmk_firmware/pull/17037)) {#reset-2-qk_boot}": "QMK is always in the process of picking up support for new hardware platforms. One of the side-effects for future integrations has shown that QMK's usage of `RESET` as a keycode is causing naming collisions. As a result, [#17037](https://github.com/qmk/qmk_firmware/pull/17037) changed usages of `RESET` to the new keycode `QK_BOOT` in the majority of default-like keymaps. At this stage the old keycode is still usable but will likely be removed in the next breaking changes cycle. Users with keymaps containing `RESET` should also move to `QK_BOOT`.",
              "Sendstring keycode overhaul ([#16941](https://github.com/qmk/qmk_firmware/pull/16941)) {#sendstring-keycodes}": "Some keycodes used with `SEND_STRING` and its relatives have been deprecated and may have their old keycode usages removed at a later date. The list of [deprecated keycodes](https://github.com/qmk/qmk_firmware/blob/ebd402788346aa6e88bde1486b2a835684d40d39/quantum/send_string_keycodes.h#L456-L505) should be consulted to determine if you're using one of the older names (the first identifier after `#define`) -- you should swap to the newer variant (the second identifier on the same line).",
              "Pillow Installation ([#17133](https://github.com/qmk/qmk_firmware/pull/17133)) {#pillow-install}": "The merge of Quantum Painter added some new dependencies in the QMK CLI, most notably _Pillow_, which requires some installation in order for the CLI to function. If you've got an existing installation, you'll need to run some commands in order to get things working:\n\nOn Windows, if using _QMK MSYS_ or _msys2_, you'll need to run the following command:\n\n```\npacman --needed --noconfirm --disable-download-timeout -S mingw-w64-x86_64-python-pillow\npython3 -m pip install --upgrade qmk\n```\n\nOn macOS:\n\n```\nbrew update\nbrew upgrade qmk/qmk/qmk\n```\n\nOn Linux or WSL:\n\n```\npython3 -m pip install --user --upgrade qmk\n```",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name    | New Keyboard Name  |\n|----------------------|--------------------|\n| absinthe             | keyhive/absinthe   |\n| amj40                | amjkeyboard/amj40  |\n| amj60                | amjkeyboard/amj60  |\n| amj96                | amjkeyboard/amj96  |\n| amjpad               | amjkeyboard/amjpad |\n| at101_bh             | viktus/at101_bh    |\n| ergosaurus           | keyhive/ergosaurus |\n| gmmk/pro/ansi        | gmmk/pro/rev1/ansi |\n| gmmk/pro/iso         | gmmk/pro/rev1/iso  |\n| honeycomb            | keyhive/honeycomb  |\n| lattice60            | keyhive/lattice60  |\n| melody96             | ymdk/melody96      |\n| mt40                 | mt/mt40            |\n| mt64rgb              | mt/mt64rgb         |\n| mt84                 | mt/mt84            |\n| mt980                | mt/mt980           |\n| navi10               | keyhive/navi10     |\n| omnikey_bh           | viktus/omnikey_bh  |\n| opus                 | keyhive/opus       |\n| smallice             | keyhive/smallice   |\n| southpole            | keyhive/southpole  |\n| uno                  | keyhive/uno        |\n| ut472                | keyhive/ut472      |\n| wheatfield/blocked65 | mt/blocked65       |\n| wheatfield/split75   | mt/split75         |\n| z150_bh              | viktus/z150_bh     |\n\n[]"
            },
            "Full changelist {#full-changelist}": "Core:\n\n['Quantum Painter ([#10174](https://github.com/qmk/qmk_firmware/pull/10174))', 'Add support for encoder mapping. ([#13286](https://github.com/qmk/qmk_firmware/pull/13286))', 'Add support for multiple switchs/solenoids to Haptic Feedback engine ([#15657](https://github.com/qmk/qmk_firmware/pull/15657))', 'Add compile/make macro to core ([#15959](https://github.com/qmk/qmk_firmware/pull/15959))', 'Add Reboot keycode to core ([#15990](https://github.com/qmk/qmk_firmware/pull/15990))', 'Add support for multiple sensors to pmw3360 ([#15996](https://github.com/qmk/qmk_firmware/pull/15996))', 'Asymmetric encoders, encoder tests. ([#16068](https://github.com/qmk/qmk_firmware/pull/16068))', 'Add hacky via support for RGB Matrix ([#16086](https://github.com/qmk/qmk_firmware/pull/16086))', 'Allow usage of AVRs minimal printf library ([#16266](https://github.com/qmk/qmk_firmware/pull/16266))', 'Squeeze AVR some more with `-mrelax` and `-mcall-prologues` ([#16269](https://github.com/qmk/qmk_firmware/pull/16269))', 'Heatmap incorrect matrix effect workaround ([#16315](https://github.com/qmk/qmk_firmware/pull/16315))', 'Add SN74x154 driver and convert AL1 custom matrix ([#16331](https://github.com/qmk/qmk_firmware/pull/16331))', 'Add customizable snake and knight animation increments ([#16337](https://github.com/qmk/qmk_firmware/pull/16337))', 'Chibios USB protocol: allow overriding RAW Capacity ([#16339](https://github.com/qmk/qmk_firmware/pull/16339))', 'HD44780 driver rework ([#16370](https://github.com/qmk/qmk_firmware/pull/16370))', 'Update wb32-dfu ([#16438](https://github.com/qmk/qmk_firmware/pull/16438))', 'Remove `send_unicode_hex_string()` ([#16518](https://github.com/qmk/qmk_firmware/pull/16518))', 'Add :flash target for UF2 bootloaders ([#16525](https://github.com/qmk/qmk_firmware/pull/16525))', 'Move `has_mouse_report_changed` function to `report.c` ([#16543](https://github.com/qmk/qmk_firmware/pull/16543))', 'Move Doxygen docs to subdirectory ([#16561](https://github.com/qmk/qmk_firmware/pull/16561))', 'Add Caps Word feature to core ([#16588](https://github.com/qmk/qmk_firmware/pull/16588))', 'Add non blackpill F4x1 config files ([#16600](https://github.com/qmk/qmk_firmware/pull/16600))', 'Force platform pin defs to be included ([#16611](https://github.com/qmk/qmk_firmware/pull/16611))', 'Refactor CTPC logic to allow future converters ([#16621](https://github.com/qmk/qmk_firmware/pull/16621))', 'Use a mutex guard for split shared memory ([#16647](https://github.com/qmk/qmk_firmware/pull/16647))', 'Rename TICK to TICK_EVENT ([#16649](https://github.com/qmk/qmk_firmware/pull/16649))', 'Add GET_TAPPING_TERM macro to reduce duplicate code ([#16681](https://github.com/qmk/qmk_firmware/pull/16681))', 'add the ability to change the pwm frequency for the IS31FL3737B ([#16718](https://github.com/qmk/qmk_firmware/pull/16718))', 'Joystick feature updates ([#16732](https://github.com/qmk/qmk_firmware/pull/16732))', 'Add emulated eeprom support for STM32F303xE ([#16737](https://github.com/qmk/qmk_firmware/pull/16737))', 'Refactor writePin to work with statements ([#16738](https://github.com/qmk/qmk_firmware/pull/16738))', 'Add mechanism to limit available converters ([#16783](https://github.com/qmk/qmk_firmware/pull/16783))', \"Implement XAP 'secure' core requirements ([#16843](https://github.com/qmk/qmk_firmware/pull/16843))\", 'rgblight: Add functions to stop blinking one or all but one layer ([#16859](https://github.com/qmk/qmk_firmware/pull/16859))', 'Expose API for hardware unique ID ([#16869](https://github.com/qmk/qmk_firmware/pull/16869))', 'Added support for Wb32fq95 ([#16871](https://github.com/qmk/qmk_firmware/pull/16871))', 'Provide better config defaults for bluepill boards ([#16909](https://github.com/qmk/qmk_firmware/pull/16909))', 'Joystick: Simplify report descriptor and clean up error messages ([#16926](https://github.com/qmk/qmk_firmware/pull/16926))', 'Rename keymap_extras headers for consistency ([#16939](https://github.com/qmk/qmk_firmware/pull/16939))', 'Sendstring keycode overhaul ([#16941](https://github.com/qmk/qmk_firmware/pull/16941))', 'Move disable_jtag to platforms ([#16960](https://github.com/qmk/qmk_firmware/pull/16960))', 'Remove ARM pgm_read_word workaround in rgblight ([#16961](https://github.com/qmk/qmk_firmware/pull/16961))', 'Warn about LTO with arm_atsam, not ChibiOS. ([#17106](https://github.com/qmk/qmk_firmware/pull/17106))']\n\nCLI:\n\n['Rework generate-api CLI command to use .build directory ([#16441](https://github.com/qmk/qmk_firmware/pull/16441))', 'Change data driven \"str\" type to represent a quoted string literal ([#16516](https://github.com/qmk/qmk_firmware/pull/16516))', \"Bump the 'jsonschema' version ([#16635](https://github.com/qmk/qmk_firmware/pull/16635))\", 'Add frameworking for development board presets ([#16637](https://github.com/qmk/qmk_firmware/pull/16637))', \"Extend 'qmk info' to handle keymap level overrides ([#16702](https://github.com/qmk/qmk_firmware/pull/16702))\", 'Data driven `g_led_config` ([#16728](https://github.com/qmk/qmk_firmware/pull/16728))', 'Allow new-keyboard to use development_board presets ([#16785](https://github.com/qmk/qmk_firmware/pull/16785))', 'Also format *.hpp files. ([#16997](https://github.com/qmk/qmk_firmware/pull/16997))']\n\nSubmodule updates:\n\n['ChibiOS 21.11.1 update. ([#16251](https://github.com/qmk/qmk_firmware/pull/16251))', 'Update ChibiOS-Contrib ([#16915](https://github.com/qmk/qmk_firmware/pull/16915))']\n\nKeyboards:\n\n['chore: Add personal GMMK Pro keymap ([#15320](https://github.com/qmk/qmk_firmware/pull/15320))', 'move melody96 to ymdk vendor folder ([#15680](https://github.com/qmk/qmk_firmware/pull/15680))', 'move amj keyboards into amjkeyboard vendor folder ([#15733](https://github.com/qmk/qmk_firmware/pull/15733))', 'move z150_bh at101_bh omnikey_bh to viktus/ ([#16004](https://github.com/qmk/qmk_firmware/pull/16004))', 'MS Sculpt Mobile refactor ([#16038](https://github.com/qmk/qmk_firmware/pull/16038))', 'move keyhive exclusive boards into /keyhive ([#16084](https://github.com/qmk/qmk_firmware/pull/16084))', 'move  boards into /mt ([#16095](https://github.com/qmk/qmk_firmware/pull/16095))', 'Convert Wasdat Code custom matrix to SN74x138 driver ([#16257](https://github.com/qmk/qmk_firmware/pull/16257))', 'Move GMMK Pro to allow for multiple revisions ([#16423](https://github.com/qmk/qmk_firmware/pull/16423))', 'Updated pin mapping and readme. ([#16505](https://github.com/qmk/qmk_firmware/pull/16505))', 'Map data driven `DESCRIPTION` as string literal ([#16523](https://github.com/qmk/qmk_firmware/pull/16523))', 'remove unecessary layers ([#16559](https://github.com/qmk/qmk_firmware/pull/16559))', 'Helix/rev2 move to split common ([#16723](https://github.com/qmk/qmk_firmware/pull/16723))', 'Remove some layout exceptions ([#16957](https://github.com/qmk/qmk_firmware/pull/16957))', 'Refactor legacy quantum keycodes in default-ish keymaps ([#17037](https://github.com/qmk/qmk_firmware/pull/17037))', 'Refactor legacy quantum keycodes in default-ish keymaps ([#17150](https://github.com/qmk/qmk_firmware/pull/17150))']\n\nKeyboard fixes:\n\n['gboards/gergoplex: move `COMBO_ENABLE` to keymap level ([#16667](https://github.com/qmk/qmk_firmware/pull/16667))', 'usb-usb converter: community layout support ([#16773](https://github.com/qmk/qmk_firmware/pull/16773))', 'Fix build of `keyhive/uno`. ([#16891](https://github.com/qmk/qmk_firmware/pull/16891))', 'Fix uno ([#16892](https://github.com/qmk/qmk_firmware/pull/16892))', 'converter/usb_usb: remove surplus commas ([#17024](https://github.com/qmk/qmk_firmware/pull/17024))', 'Various fixes for g_led_config lint warnings ([#17104](https://github.com/qmk/qmk_firmware/pull/17104))']\n\nOthers:\n\n['Add warning for CTPC/CONVERT_TO_PROTON_C. ([#16782](https://github.com/qmk/qmk_firmware/pull/16782))', 'Add bluepill/blackpill development board presets ([#16806](https://github.com/qmk/qmk_firmware/pull/16806))', 'Recommend pillow as part of manual MSYS install ([#17133](https://github.com/qmk/qmk_firmware/pull/17133))']\n\nBugs:\n\n['Fix one-shot locked modifiers ([#16114](https://github.com/qmk/qmk_firmware/pull/16114))', 'Fix missing definition for non-encoder case. ([#16593](https://github.com/qmk/qmk_firmware/pull/16593))', 'Fixup builds. ([#16596](https://github.com/qmk/qmk_firmware/pull/16596))', 'Missed some erroneous prints. ([#16597](https://github.com/qmk/qmk_firmware/pull/16597))', 'Workaround for pin_def errors on KINETIS based builds ([#16614](https://github.com/qmk/qmk_firmware/pull/16614))', 'Fix flipped logic bug with One Shot `OS_ON` / `OS_OFF` keys ([#16617](https://github.com/qmk/qmk_firmware/pull/16617))', 'Redo workaround for pin_def errors on KINETIS ([#16620](https://github.com/qmk/qmk_firmware/pull/16620))', 'Fix oneshot toggle logic ([#16630](https://github.com/qmk/qmk_firmware/pull/16630))', 'Mousekeys fix ([#16640](https://github.com/qmk/qmk_firmware/pull/16640))', 'Ignore transport defaults if SPLIT_KEYBOARD is unset ([#16706](https://github.com/qmk/qmk_firmware/pull/16706))', 'Fixes #16705 : digital rain follows val ([#16716](https://github.com/qmk/qmk_firmware/pull/16716))', 'Fix AVR backlight breathing: low brightness limit & exceeding breathing table max index ([#16770](https://github.com/qmk/qmk_firmware/pull/16770))', 'Fixed usb read loops not reading until timeout ([#16827](https://github.com/qmk/qmk_firmware/pull/16827))', '[QP] Check BPP capabilities before loading the palette ([#16863](https://github.com/qmk/qmk_firmware/pull/16863))', 'Fix #16859. ([#16865](https://github.com/qmk/qmk_firmware/pull/16865))', 'Preinstall python dependencies before executing `qmk`. ([#16874](https://github.com/qmk/qmk_firmware/pull/16874))', 'Fixup AVR builds. ([#16875](https://github.com/qmk/qmk_firmware/pull/16875))', 'Fix kinetic mouse mode ([#16951](https://github.com/qmk/qmk_firmware/pull/16951))', 'Enhancement and fixes of \"Secure\" feature ([#16958](https://github.com/qmk/qmk_firmware/pull/16958))', 'Check for ongoing transfers on the OUT endpoint ([#16974](https://github.com/qmk/qmk_firmware/pull/16974))', 'MSYS2 install: add some Python dependencies through Pacman ([#17025](https://github.com/qmk/qmk_firmware/pull/17025))', 'Revert \"Fix kinetic mouse mode (#16951)\" ([#17095](https://github.com/qmk/qmk_firmware/pull/17095))', 'Workaround for recent -Werror=array-bounds AVR issues ([#17136](https://github.com/qmk/qmk_firmware/pull/17136))', 'Bug fix: Continue Caps Word when AltGr (right Alt) is held. ([#17156](https://github.com/qmk/qmk_firmware/pull/17156))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 10]"
        },
        {
          "title": "QMK Breaking Changes - 2022 August 27 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": {
              "Add Raspberry Pi RP2040 support ([#14877](https://github.com/qmk/qmk_firmware/pull/14877), [#17514](https://github.com/qmk/qmk_firmware/pull/17514), [#17516](https://github.com/qmk/qmk_firmware/pull/17516), [#17519](https://github.com/qmk/qmk_firmware/pull/17519), [#17612](https://github.com/qmk/qmk_firmware/pull/17612), [#17512](https://github.com/qmk/qmk_firmware/pull/17512), [#17557](https://github.com/qmk/qmk_firmware/pull/17557), [#17817](https://github.com/qmk/qmk_firmware/pull/17817), [#17839](https://github.com/qmk/qmk_firmware/pull/17839), [#18100](https://github.com/qmk/qmk_firmware/pull/18100)) {#rp2040-support}": "QMK _finally_ picked up support for RP2040-based boards, such as the Raspberry Pi Pico, the Sparkfun Pro Micro RP2040, and the Adafruit KB2040. One of QMK's newest collaborators, _@KarlK90_, effectively did `/micdrop` with RP2040, with a massive set of changes to both QMK and the repository QMK uses for the base platform support, ChibiOS[-Contrib]. There has been a flurry of development this breaking changes cycle related to RP2040 from a large number of contributors -- so much so that almost all standard QMK hardware subsystems are supported.\n\nCheck the [RP2040 platform development page](../platformdev_rp2040) for all supported peripherals and other hardware implementation details.",
              "Allow `qmk flash` to use prebuilt firmware binaries ([#16584](https://github.com/qmk/qmk_firmware/pull/16584)) {#cli-flash-binaries}": "A long-requested capability of the QMK CLI has been the ability to flash binaries directly, without needing to build a firmware. QMK provides prebuilt `develop`-based default firmwares on our [CI page](https://qmk.tzarc.io/) -- normally people would need [QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases/latest) to flash them. This new functionality written by _@Erovia_ allows `qmk flash` to be provided the prebuilt file instead, simplifying the workflow for people who haven't got Toolbox available."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Default layers dropped from 32 to 16 ([#15286](https://github.com/qmk/qmk_firmware/pull/15286))": "QMK allows for controlling the maximum number of layers it supports through `LAYER_STATE_(8|16|32)BIT`. Each definition allows for the same number of maximum layers -- `LAYER_STATE_8BIT` => 8 layers. There is also a corresponding firmware size decrease that goes along with smaller numbers -- given the vast majority of users don't use more than 16 layers the default has been swapped to 16. AVR users who were not previously specifying their max layer count may see some space freed up as a result.",
              "`RESET` => `QK_BOOT` ([#17940](https://github.com/qmk/qmk_firmware/pull/17940)) {#reset-2-qk_boot}": "Following the last breaking changes cycle, QMK has been migrating usages of `RESET` to `QK_BOOT` due to naming collisions with our upstream board support packages. [#17940](https://github.com/qmk/qmk_firmware/pull/17940) converts user keymaps across to use the new keycode name. `RESET` should also move to `QK_BOOT`.",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name      | New Keyboard Name        |\n|------------------------|--------------------------|\n| gentleman65            | jkeys_design/gentleman65 |\n| handwired/hillside/0_1 | handwired/hillside/48    |\n| idobao/id80/v1/ansi    | idobao/id80/v2/ansi      |\n| idobao/id80/v1/iso     | idobao/id80/v2/iso       |",
              "Data-driven USB IDs Refactoring ([#18152](https://github.com/qmk/qmk_firmware/pull/18152)) {#usb-ids-Refactoring}": {
                "Deprecation Schedule": [
                  "From 2022 Aug 27, specifying USB information in `config.h` will produce warnings during build but will still function as previously.",
                  "From 2022 Nov 26, specifying USB information in `config.h` will cause compilation to fail."
                ]
              }
            },
            "Notable core changes {#notable-core}": {
              "Board converters ([#17514](https://github.com/qmk/qmk_firmware/pull/17514), [#17603](https://github.com/qmk/qmk_firmware/pull/17603), [#17711](https://github.com/qmk/qmk_firmware/pull/17711), [#17827](https://github.com/qmk/qmk_firmware/pull/17827), [#17593](https://github.com/qmk/qmk_firmware/pull/17593), [#17652](https://github.com/qmk/qmk_firmware/pull/17652), [#17595](https://github.com/qmk/qmk_firmware/pull/17595)) {#board-converters}": "Historically QMK had a `CONVERT_TO_PROTON_C` directive for `rules.mk` to allow people to replace an AVR-based Pro Micro with a QMK Proton C. Global parts shortages have prompted people to create their own pin-compatible boards -- QMK has made this conversion generic and now allows for drop-in replacements for a lot more boards. see the [Converters Feature](../feature_converters) documentation for the full list of supported replacement boards -- in this breaking changes cycle we've gone from 1 to 7.",
              "Add cli command to import keyboard|keymap|kbfirmware ([#16668](https://github.com/qmk/qmk_firmware/pull/16668)) {#cli-import}": "To help with importing keyboards and keymaps from other sources, _@zvecr_ added [#16668](https://github.com/qmk/qmk_firmware/pull/16668) which adds a new set of commands to the CLI to automatically import keyboards (`qmk import-keyboard -h`), keymaps (`qmk import-keymap -h`), and kbfirmware definitions (`qmk import-kbfirmware -h`) into QMK.\n\nThe now-EOL kbfirmware allowed people who aren't set up with QMK the ability to create keyboard firmwares without requiring a full installation of QMK. Unfortunately, it targets a 7-year-old version of QMK -- adding frustration for users who want the newest features, as well as for QMK maintainers who have to spend time explaining why QMK can't just accept a drive-by code drop from kbfirmware. With any luck, this new command helps both camps!",
              "Generic wear-leveling for EEPROM emulation ([#16996](https://github.com/qmk/qmk_firmware/pull/16996), [#17376](https://github.com/qmk/qmk_firmware/pull/17376), [#18102](https://github.com/qmk/qmk_firmware/pull/18102)) {#wear-leveling}": "QMK has had the ability to write to internal MCU flash in order to emulate EEPROM for some time now, but it was only limited to a small number of MCUs. The base HAL used by QMK for a large number of ARM devices provides a \"proper\" embedded MCU flash driver, so _@tzarc_ decoupled the wear-leveling algorithm from the old flash writing code, improved it, wrote some tests, and enabled its use for a much larger number of other devices... including RP2040's XIP flash, and external SPI NOR Flash.\n\nSee the [EEPROM Driver](../drivers/eeprom) documentation for more information.",
              "Pointing Device Improvements ([#16371](https://github.com/qmk/qmk_firmware/pull/16371), [#17111](https://github.com/qmk/qmk_firmware/pull/17111), [#17176](https://github.com/qmk/qmk_firmware/pull/17176), [#17482](https://github.com/qmk/qmk_firmware/pull/17482), [#17776](https://github.com/qmk/qmk_firmware/pull/17776), [#17613](https://github.com/qmk/qmk_firmware/pull/17613)) {#pointing-device-improvements}": "Ever since Pointing Device Driver support and Split Pointing Device support were added by _@drashna_ and _@daskygit_, there has been increased interest in the development of the pointing device subsystem and its associated code.\n\nBoth the PMW33xx and the Cirque Pinnacle implementations have seen a lot of improvement to their code, as has the mouse code in general. Features like circular/edge scrolling for the Cirque, and Kinetic movement for any sensor with \"lift detection\" ([#17482](https://github.com/qmk/qmk_firmware/pull/17482)). Additionally, for those that make fast motions with their pointing devices, support for much larger mouse movement reports has been added ([#16371](https://github.com/qmk/qmk_firmware/pull/16371)).\n\nOther related changes:\n\n['Add support for large Mouse Reports ([#16371](https://github.com/qmk/qmk_firmware/pull/16371))', 'Improve PS/2 mouse performance ([#17111](https://github.com/qmk/qmk_firmware/pull/17111))', 'Mouse key kinetic mode fix ([#17176](https://github.com/qmk/qmk_firmware/pull/17176))', 'Circular scroll, inertial cursor ([#17482](https://github.com/qmk/qmk_firmware/pull/17482))', 'Create generic Pointing Device Pin defines ([#17776](https://github.com/qmk/qmk_firmware/pull/17776))', 'PMW33XX drivers overhaul ([#17613](https://github.com/qmk/qmk_firmware/pull/17613))']\n\n[]"
            },
            "Full changelist {#full-changelist}": "Core:\n\n['Tentative Teensy 3.5 support ([#14420](https://github.com/qmk/qmk_firmware/pull/14420))', 'Make default layer size 16-bit ([#15286](https://github.com/qmk/qmk_firmware/pull/15286))', 'Process all changed keys in one scan loop, deprecate `QMK_KEYS_PER_SCAN` ([#15292](https://github.com/qmk/qmk_firmware/pull/15292))', 'Do not enable PERMISSIVE_HOLD when TAPPING_TERM exceeds 500ms ([#15674](https://github.com/qmk/qmk_firmware/pull/15674))', \"Allow usage of ChibiOS's SIO driver for split keyboards ([#15907](https://github.com/qmk/qmk_firmware/pull/15907))\", '[Controller] Added board config for custom controller STeMCell ([#16287](https://github.com/qmk/qmk_firmware/pull/16287))', 'PoC: Swap Escape and Caps ([#16336](https://github.com/qmk/qmk_firmware/pull/16336))', 'Add support for large Mouse Reports ([#16371](https://github.com/qmk/qmk_firmware/pull/16371))', 'tap-dance: Restructure code and document in more detail ([#16394](https://github.com/qmk/qmk_firmware/pull/16394))', 'Teaching the CLI to flash binaries ([#16584](https://github.com/qmk/qmk_firmware/pull/16584))', 'Split ChibiOS usart split driver in protocol and hardware driver part ([#16669](https://github.com/qmk/qmk_firmware/pull/16669))', 'Added Wait time to sending each Keys for Dynamic Macros function ([#16800](https://github.com/qmk/qmk_firmware/pull/16800))', 'Added Delay time to sending each Keys for VIA Macros function feature ([#16810](https://github.com/qmk/qmk_firmware/pull/16810))', 'Improve avr wait_us() ([#16879](https://github.com/qmk/qmk_firmware/pull/16879))', 'Improve ENCODER_DEFAULT_POS to recognize lost ticks ([#16932](https://github.com/qmk/qmk_firmware/pull/16932))', 'Added emacs as an \"operating system\" for input mode. ([#16949](https://github.com/qmk/qmk_firmware/pull/16949))', '24LC32A EEPROM addition ([#16990](https://github.com/qmk/qmk_firmware/pull/16990))', 'Refactor steno and add `STENO_PROTOCOL = [all|txbolt|geminipr]` ([#17065](https://github.com/qmk/qmk_firmware/pull/17065))', 'improvements for Cirque Pinnacle trackpads ([#17091](https://github.com/qmk/qmk_firmware/pull/17091))', 'Use TAP_HOLD_CAPS_DELAY for KC_LOCKING_CAPS_LOCK ([#17099](https://github.com/qmk/qmk_firmware/pull/17099))', 'Improve PS/2 mouse performance ([#17111](https://github.com/qmk/qmk_firmware/pull/17111))', 'Update C standard to GNU11, C++ to GNU++14 ([#17114](https://github.com/qmk/qmk_firmware/pull/17114))', 'Added ws2812_pwm support for WB32 MCU. ([#17142](https://github.com/qmk/qmk_firmware/pull/17142))', 'Added ws2812_spi support for WB32 MCU ([#17143](https://github.com/qmk/qmk_firmware/pull/17143))', 'Make bootloader_jump for dualbank STM32 respect STM32_BOOTLOADER_DUAL_BANK_DELAY ([#17178](https://github.com/qmk/qmk_firmware/pull/17178))', 'Expose the time of the last change to the LED state ([#17222](https://github.com/qmk/qmk_firmware/pull/17222))', '[Code] Add solid reactive gradient mode ([#17228](https://github.com/qmk/qmk_firmware/pull/17228))', 'Add keymap wrappers for introspection into the keymap. ([#17229](https://github.com/qmk/qmk_firmware/pull/17229))', 'Ensure eeconfig initialised before reading EEPROM handedness. ([#17256](https://github.com/qmk/qmk_firmware/pull/17256))', 'Add uf2-split-* make targets. ([#17257](https://github.com/qmk/qmk_firmware/pull/17257))', 'Removes terminal from QMK. ([#17258](https://github.com/qmk/qmk_firmware/pull/17258))', 'Make SPI Mode configurable for AW20216 and change default mode to 3 ([#17263](https://github.com/qmk/qmk_firmware/pull/17263))', 'Move SPLIT_HAND_PIN setup to split_pre_init ([#17271](https://github.com/qmk/qmk_firmware/pull/17271))', 'Allow larger SPLIT_USB_TIMEOUT with default SPLIT_USB_TIMEOUT_POLL ([#17272](https://github.com/qmk/qmk_firmware/pull/17272))', 'Feature-ify Send String ([#17275](https://github.com/qmk/qmk_firmware/pull/17275))', 'Rework paths for eeprom locations. ([#17326](https://github.com/qmk/qmk_firmware/pull/17326))', 'Pca9505/6 driver ([#17333](https://github.com/qmk/qmk_firmware/pull/17333))', 'Cirque Attenuation Setting ([#17342](https://github.com/qmk/qmk_firmware/pull/17342))', 'Scale brigthness for VIA ([#17352](https://github.com/qmk/qmk_firmware/pull/17352))', 'Ensure that rgb+via compiles in all cases ([#17355](https://github.com/qmk/qmk_firmware/pull/17355))', 'Wear-leveling EEPROM drivers: `embedded_flash`, `spi_flash`, `legacy` ([#17376](https://github.com/qmk/qmk_firmware/pull/17376))', 'In honor of king terry ([#17387](https://github.com/qmk/qmk_firmware/pull/17387))', 'tap-dance: Rename tests so that tap_dance is used consistently ([#17396](https://github.com/qmk/qmk_firmware/pull/17396))', 'IS31FL3737 Global Current Setting ([#17420](https://github.com/qmk/qmk_firmware/pull/17420))', '[QP] Add ILI9488 support. ([#17438](https://github.com/qmk/qmk_firmware/pull/17438))', 'Mark GD32VF103 as ChibiOS-Contrib ([#17444](https://github.com/qmk/qmk_firmware/pull/17444))', 'ISSI Drivers Global Current Option ([#17448](https://github.com/qmk/qmk_firmware/pull/17448))', '[Split] pointing transport check ([#17481](https://github.com/qmk/qmk_firmware/pull/17481))', 'Cirque trackpad features: circular scroll, inertial cursor ([#17482](https://github.com/qmk/qmk_firmware/pull/17482))', 'RGB heatmap skip NO_LED ([#17488](https://github.com/qmk/qmk_firmware/pull/17488))', 'Add kb2040 and sparkfun rp2040 converters ([#17514](https://github.com/qmk/qmk_firmware/pull/17514))', '[style] rp2040 stage2 formatting ([#17516](https://github.com/qmk/qmk_firmware/pull/17516))', 'Also check /run/media/ for uf2 drives ([#17517](https://github.com/qmk/qmk_firmware/pull/17517))', 'RP2040 emulated EEPROM. ([#17519](https://github.com/qmk/qmk_firmware/pull/17519))', 'Make debounce algorithms signal matrix changes ([#17554](https://github.com/qmk/qmk_firmware/pull/17554))', 'Update PM2040 I2C pins ([#17578](https://github.com/qmk/qmk_firmware/pull/17578))', 'Added implementation of WB32 MCU wear_leveling_efl. ([#17579](https://github.com/qmk/qmk_firmware/pull/17579))', 'Use Pro Micro SDA/SCL pinout for PM2040 ([#17595](https://github.com/qmk/qmk_firmware/pull/17595))', 'Refactor Pixel Fractal effect ([#17602](https://github.com/qmk/qmk_firmware/pull/17602))', 'Add Blok RP2040 converter ([#17603](https://github.com/qmk/qmk_firmware/pull/17603))', 'Use polled waiting on ChibiOS platforms that support it ([#17607](https://github.com/qmk/qmk_firmware/pull/17607))', 'Stabilize Half-duplex RP2040 PIO split comms ([#17612](https://github.com/qmk/qmk_firmware/pull/17612))', 'PMW33XX drivers overhaul ([#17613](https://github.com/qmk/qmk_firmware/pull/17613))', 'Include stdint.h in avr/i2c_master.h ([#17639](https://github.com/qmk/qmk_firmware/pull/17639))', 'Add led matrix support for CKLED2001 ([#17643](https://github.com/qmk/qmk_firmware/pull/17643))', '`STM32_USB_USE_OTG1` => `USB_ENDPOINTS_ARE_REORDERABLE` ([#17647](https://github.com/qmk/qmk_firmware/pull/17647))', 'Allow MCU-specific overrides for SPI flags. ([#17650](https://github.com/qmk/qmk_firmware/pull/17650))', 'Update LED/RGB Matrix flag function behavior ([#17651](https://github.com/qmk/qmk_firmware/pull/17651))', 'Cirque circular scroll: Support POINTING_DEVICE_COMBINED ([#17654](https://github.com/qmk/qmk_firmware/pull/17654))', 'Add support for PAW3204 Optical Sensor ([#17669](https://github.com/qmk/qmk_firmware/pull/17669))', 'Add LED limits call ([#17679](https://github.com/qmk/qmk_firmware/pull/17679))', 'Move Pointing Device code to a subdirectory ([#17684](https://github.com/qmk/qmk_firmware/pull/17684))', 'Avoid OOB in dynamic_keymap_reset ([#17695](https://github.com/qmk/qmk_firmware/pull/17695))', 'Allow dynamic keymap to compile without `via.h` ([#17703](https://github.com/qmk/qmk_firmware/pull/17703))', 'Use correct angle tune range of +/-127 on PMW33XX ([#17708](https://github.com/qmk/qmk_firmware/pull/17708))', 'Add Bonsai C4 converter ([#17711](https://github.com/qmk/qmk_firmware/pull/17711))', 'VIA Encoder Map Support ([#17734](https://github.com/qmk/qmk_firmware/pull/17734))', 'Move Pointing Device Initialization to after Split Post Initialization ([#17740](https://github.com/qmk/qmk_firmware/pull/17740))', 'Add ability to enter bootloader mode from `QK_MAKE` ([#17745](https://github.com/qmk/qmk_firmware/pull/17745))', 'Add `tap_code16_delay` ([#17748](https://github.com/qmk/qmk_firmware/pull/17748))', 'Implement relative mode for Cirque trackpad ([#17760](https://github.com/qmk/qmk_firmware/pull/17760))', 'Create generic Pointing Device Pin defines ([#17776](https://github.com/qmk/qmk_firmware/pull/17776))', 'Constrain Cirque Pinnacle coordinates ([#17803](https://github.com/qmk/qmk_firmware/pull/17803))', 'Refactor/rename postprocess_steno_user  post_process_steno_user ([#17823](https://github.com/qmk/qmk_firmware/pull/17823))', 'Add Bit-C PRO converter ([#17827](https://github.com/qmk/qmk_firmware/pull/17827))', 'guard RPC invocation by checking RPC info against crc checksum ([#17840](https://github.com/qmk/qmk_firmware/pull/17840))', 'Add ST7735 driver to Quantum Painter ([#17848](https://github.com/qmk/qmk_firmware/pull/17848))', 'Add minimal STM32F103C6 support ([#17853](https://github.com/qmk/qmk_firmware/pull/17853))', 'Remove legacy AVR ssd1306 driver ([#17864](https://github.com/qmk/qmk_firmware/pull/17864))', \"Remove tmk_core 'serial' code ([#17866](https://github.com/qmk/qmk_firmware/pull/17866))\", 'Use LT_ZCAR in place of LT_PLUS for modded kc definitions of keymap_lithuanian_qwerty.h ([#18000](https://github.com/qmk/qmk_firmware/pull/18000))', 'Remove invisible variation selector-15 from keymap_japanese.h ([#18007](https://github.com/qmk/qmk_firmware/pull/18007))', 'define CZ_PERC S(CZ_PLUS)  define CZ_PERC S(CZ_EQL) ([#18008](https://github.com/qmk/qmk_firmware/pull/18008))', 'KR_DQUO S(KR_COLN)  KR_DQUO S(KR_QUOT) in keymap_korean.h ([#18011](https://github.com/qmk/qmk_firmware/pull/18011))', 'Replace ; by : in the shifted symbols ASCII art of keymap_norman ([#18029](https://github.com/qmk/qmk_firmware/pull/18029))', 'Add eeprom defaults for tinyuf2 bootloader ([#18042](https://github.com/qmk/qmk_firmware/pull/18042))', 'Remove duplicate COMBINING HORN in keymap_us_extended.h ([#18045](https://github.com/qmk/qmk_firmware/pull/18045))', 'Nix shell updates for `develop` ([#18131](https://github.com/qmk/qmk_firmware/pull/18131))']\n\nCLI:\n\n['Add cli command to import keyboard|keymap|kbfirmware ([#16668](https://github.com/qmk/qmk_firmware/pull/16668))', 'Publish data as part of API generation ([#17020](https://github.com/qmk/qmk_firmware/pull/17020))', 'Allow encoder config from info.json ([#17295](https://github.com/qmk/qmk_firmware/pull/17295))', '`qmk doctor`: show arch for macOS ([#17356](https://github.com/qmk/qmk_firmware/pull/17356))', 'Use --exclude-from=.gitignore in place of --exclude-standard ([#17399](https://github.com/qmk/qmk_firmware/pull/17399))', 'Improve importer workflow ([#17707](https://github.com/qmk/qmk_firmware/pull/17707))', 'Remove legacy bootmagic cli parsing ([#18099](https://github.com/qmk/qmk_firmware/pull/18099))', 'Align CLI requirements ([#18117](https://github.com/qmk/qmk_firmware/pull/18117))']\n\nSubmodule updates:\n\n['Add Raspberry Pi RP2040 support ([#14877](https://github.com/qmk/qmk_firmware/pull/14877))', 'Update mpaland/printf to eyalroz/printf fork ([#16163](https://github.com/qmk/qmk_firmware/pull/16163))', 'Generic wear-leveling algorithm ([#16996](https://github.com/qmk/qmk_firmware/pull/16996))', 'Update LUFA submodule ([#17368](https://github.com/qmk/qmk_firmware/pull/17368))', 'Update V-USB submodule ([#17385](https://github.com/qmk/qmk_firmware/pull/17385))', 'Update ChibiOS-Contrib ([#17540](https://github.com/qmk/qmk_firmware/pull/17540))', 'Update to latest ChibiOS-Contrib. ([#18016](https://github.com/qmk/qmk_firmware/pull/18016))', 'Update LUFA submodule ([#18168](https://github.com/qmk/qmk_firmware/pull/18168))']\n\nKeyboards:\n\n['GMMK 2 WBG7 MCU compatibility ([#16436](https://github.com/qmk/qmk_firmware/pull/16436))', 'bastardkb: restructure folder hierarchy ([#16778](https://github.com/qmk/qmk_firmware/pull/16778))', 'Add Gentleman 65 SE Solderd PCB support ([#16992](https://github.com/qmk/qmk_firmware/pull/16992))', 'Move/Rename to Hillside48, simplify default keymap ([#17210](https://github.com/qmk/qmk_firmware/pull/17210))', 'IDOBAO ID67 code touch-ups and include factory keymap ([#17231](https://github.com/qmk/qmk_firmware/pull/17231))', 'IDOBAO ID87v2 code rewrite and include factory keymap ([#17232](https://github.com/qmk/qmk_firmware/pull/17232))', 'IDOBAO ID80v3 code rewrite and include factory keymap ([#17234](https://github.com/qmk/qmk_firmware/pull/17234))', 'IDOBAO ID80v1 folder rename ([#17265](https://github.com/qmk/qmk_firmware/pull/17265))', 'Fine!40 PCB Support ([#17426](https://github.com/qmk/qmk_firmware/pull/17426))', 'Update Charybdis code for Extended Mouse reports ([#17435](https://github.com/qmk/qmk_firmware/pull/17435))', '(develop)AP2: Enable support for WL EEPROM Driver ([#17506](https://github.com/qmk/qmk_firmware/pull/17506))', '(develop)Keychron Q2: Enable support for WL EEPROM Driver ([#17507](https://github.com/qmk/qmk_firmware/pull/17507))', 'Add Adafruit Macropad RP2040 ([#17512](https://github.com/qmk/qmk_firmware/pull/17512))', 'Add RP2040 config defaults ([#17557](https://github.com/qmk/qmk_firmware/pull/17557))', 'Add support keyboard Feker IK75 ([#17611](https://github.com/qmk/qmk_firmware/pull/17611))', 'boardsource/holiday/spooky data driven ([#17632](https://github.com/qmk/qmk_firmware/pull/17632))', 'boardsource/lulu data driven ([#17638](https://github.com/qmk/qmk_firmware/pull/17638))', 'Added support for gmmk pro rev2 keyboard. ([#17655](https://github.com/qmk/qmk_firmware/pull/17655))', 'boardsource/microdox data driven ([#17675](https://github.com/qmk/qmk_firmware/pull/17675))', 'Remove full bootmagic config from user files ([#17702](https://github.com/qmk/qmk_firmware/pull/17702))', '(develop) Update bootmagic for Adafruit Macropad ([#17755](https://github.com/qmk/qmk_firmware/pull/17755))', 'Add a kb2040 version of the onkey keyboard that works with the oled keymap ([#17786](https://github.com/qmk/qmk_firmware/pull/17786))', 'Enable mousekeys by default for RGBKB Sol3 ([#17842](https://github.com/qmk/qmk_firmware/pull/17842))', 'More glyph transformations for spidey3 userspace ([#17854](https://github.com/qmk/qmk_firmware/pull/17854))', 'Default rgblight ([#17855](https://github.com/qmk/qmk_firmware/pull/17855))', 'Refactor satt/comet46 to use core OLED driver ([#17856](https://github.com/qmk/qmk_firmware/pull/17856))', 'Convert yosino58 to use split common ([#17861](https://github.com/qmk/qmk_firmware/pull/17861))', 'Migrate crkbd keymaps to oled driver ([#17863](https://github.com/qmk/qmk_firmware/pull/17863))', 'Overhaul uzu42 ([#17868](https://github.com/qmk/qmk_firmware/pull/17868))', 'Update ginkgo65hot to allow use of community layouts ([#17911](https://github.com/qmk/qmk_firmware/pull/17911))', 'Remove `UNUSED_PINS` ([#17931](https://github.com/qmk/qmk_firmware/pull/17931))', 'RESET -> QK_BOOT user keymaps ([#17940](https://github.com/qmk/qmk_firmware/pull/17940))', 'Add cursor layer to DMQ Spin ([#17996](https://github.com/qmk/qmk_firmware/pull/17996))', \"add new keyboard 'soda/cherish' ([#18057](https://github.com/qmk/qmk_firmware/pull/18057))\", 'Move keyboard USB IDs and strings to data driven: develop ([#18152](https://github.com/qmk/qmk_firmware/pull/18152))']\n\nKeyboard fixes:\n\n['Fixup SPI mode 3 => 0 on tzarc/djinn, `develop`. ([#17440](https://github.com/qmk/qmk_firmware/pull/17440))', 'Fixup doio/kb16 ([#17545](https://github.com/qmk/qmk_firmware/pull/17545))', 'Adafruit Macropad: Add VIA keymap, fix default km ([#17735](https://github.com/qmk/qmk_firmware/pull/17735))', 'Fix compilation issues for Charybdis/Dilemma ([#17791](https://github.com/qmk/qmk_firmware/pull/17791))', 'bastardkb: fix info.json changes that got reverted during the last merge from `master` to `develop` ([#17800](https://github.com/qmk/qmk_firmware/pull/17800))', 'Fixup uzu42 ([#17867](https://github.com/qmk/qmk_firmware/pull/17867))', 'use correct function in Dilemma splinky ([#17923](https://github.com/qmk/qmk_firmware/pull/17923))', 'Fix compilation issues for Boardsource Microdox ([#18037](https://github.com/qmk/qmk_firmware/pull/18037))', 'Fixup gmmk/pro/rev2 USB Data ([#18056](https://github.com/qmk/qmk_firmware/pull/18056))']\n\nOthers:\n\n[\"backlight|led 'on state' for DD configuration ([#17383](https://github.com/qmk/qmk_firmware/pull/17383))\", 'Dump out the largest symbols in flash and in RAM. ([#17397](https://github.com/qmk/qmk_firmware/pull/17397))', 'Re-order user space rules inclusion ([#17459](https://github.com/qmk/qmk_firmware/pull/17459))', 'Update feature_split_keyboard.md to add extra detail about left and right matrices. ([#17492](https://github.com/qmk/qmk_firmware/pull/17492))', 'Swap F4x1 default board files away from blackpill ([#17522](https://github.com/qmk/qmk_firmware/pull/17522))', 'Add converter docs ([#17593](https://github.com/qmk/qmk_firmware/pull/17593))', 'Updates to Pointing Device Docs ([#17777](https://github.com/qmk/qmk_firmware/pull/17777))', 'Add deprecated check for RGBLIGHT_ANIMATIONS ([#17832](https://github.com/qmk/qmk_firmware/pull/17832))', 'Remove OLED driver Split Common warning ([#17862](https://github.com/qmk/qmk_firmware/pull/17862))', 'Revert \" Re-order user space rules inclusion (#17459)\" ([#18032](https://github.com/qmk/qmk_firmware/pull/18032))']\n\nBugs:\n\n['Minor schema fixes ([#14200](https://github.com/qmk/qmk_firmware/pull/14200))', 'Fix buffer size for WS2812 PWM driver ([#17046](https://github.com/qmk/qmk_firmware/pull/17046))', 'Fix AVR I2C master 1ms timeout ([#17174](https://github.com/qmk/qmk_firmware/pull/17174))', 'Mouse key kinetic mode fix ([#17176](https://github.com/qmk/qmk_firmware/pull/17176))', 'Fix RGB heatmap to use XY positions and use correct led limits. ([#17184](https://github.com/qmk/qmk_firmware/pull/17184))', 'Fix keys being discarded after using the leader key ([#17287](https://github.com/qmk/qmk_firmware/pull/17287))', 'Fixup pimoroni trackball ([#17335](https://github.com/qmk/qmk_firmware/pull/17335))', 'Fix via builds broken by brightness scaling ([#17354](https://github.com/qmk/qmk_firmware/pull/17354))', 'SPI Bugfix for ChibiOS `21.11.1` => `21.11.2` ([#17371](https://github.com/qmk/qmk_firmware/pull/17371))', 'Additional schema fixes ([#17414](https://github.com/qmk/qmk_firmware/pull/17414))', 'Fix deadlocks on disconnected secondary half ([#17423](https://github.com/qmk/qmk_firmware/pull/17423))', '[Fix] Fix compilation warning for non-split keebs after #17423 ([#17439](https://github.com/qmk/qmk_firmware/pull/17439))', 'Fix Caps Word to treat mod-taps more consistently. ([#17463](https://github.com/qmk/qmk_firmware/pull/17463))', 'Fix docs regarding `USB_SUSPEND_WAKEUP_DELAY` ([#17501](https://github.com/qmk/qmk_firmware/pull/17501))', 'Fixup SSD1351 build after #17438 ([#17533](https://github.com/qmk/qmk_firmware/pull/17533))', 'Fixup SPI init procedure, SPI EEPROM sequencing ([#17534](https://github.com/qmk/qmk_firmware/pull/17534))', 'Fix Caps Word capitalization when used with Combos + Auto Shift. ([#17549](https://github.com/qmk/qmk_firmware/pull/17549))', 'Allow for `keymaps` array to be implemented in a file other than `$(KEYMAP_C)` ([#17559](https://github.com/qmk/qmk_firmware/pull/17559))', '[Fix] printf update aftermath ([#17584](https://github.com/qmk/qmk_firmware/pull/17584))', 'Fix rgbkb/sol/rev2 build issues ([#17601](https://github.com/qmk/qmk_firmware/pull/17601))', 'More DD encoder fixes ([#17615](https://github.com/qmk/qmk_firmware/pull/17615))', '[Fix] Make ChibiOS `_wait.h` independent of `quantum.h` ([#17645](https://github.com/qmk/qmk_firmware/pull/17645))', 'Grammar fixes for docs/feature_converters.md ([#17652](https://github.com/qmk/qmk_firmware/pull/17652))', 'Fix compilation issue with Cirque Guestures file ([#17656](https://github.com/qmk/qmk_firmware/pull/17656))', 'Fix compile issue with LED Matrix ([#17658](https://github.com/qmk/qmk_firmware/pull/17658))', 'Post-bootloader EFL/SPI fixes. ([#17661](https://github.com/qmk/qmk_firmware/pull/17661))', 'Fix LED limit loop ([#17678](https://github.com/qmk/qmk_firmware/pull/17678))', '[Fix] Use correct angle tune range of +/-30 on PMW33XX ([#17693](https://github.com/qmk/qmk_firmware/pull/17693))', 'Fix AVR compilation of FNV by using standard integer typenames. ([#17716](https://github.com/qmk/qmk_firmware/pull/17716))', 'fix syntax error in header file ([#17732](https://github.com/qmk/qmk_firmware/pull/17732))', 'Fix custom debug function and sample output ([#17790](https://github.com/qmk/qmk_firmware/pull/17790))', \"Fix QK_MAKE's reboot check ([#17795](https://github.com/qmk/qmk_firmware/pull/17795))\", 'Chibios: Stop I2C peripheral on transaction error ([#17798](https://github.com/qmk/qmk_firmware/pull/17798))', 'Fix ChibiOS `i2c_master` error codes ([#17808](https://github.com/qmk/qmk_firmware/pull/17808))', 'Update ChibiOS Contrib for RP2040 fixes ([#17817](https://github.com/qmk/qmk_firmware/pull/17817))', 'RP2040 disable PIO IRQs on serial timeout ([#17839](https://github.com/qmk/qmk_firmware/pull/17839))', 'Fix POINTING_DEVICE_GESTURES_SCROLL_ENABLE typo ([#17850](https://github.com/qmk/qmk_firmware/pull/17850))', 'Fixup compilation of printf-like functions with uint32_t args. ([#17904](https://github.com/qmk/qmk_firmware/pull/17904))', 'Fix issue with #17904. ([#17905](https://github.com/qmk/qmk_firmware/pull/17905))', 'Always run pointing device init ([#17936](https://github.com/qmk/qmk_firmware/pull/17936))', 'Align TO() max layers with other keycodes ([#17989](https://github.com/qmk/qmk_firmware/pull/17989))', \"Fix Bpo's BP_NNBS (narrow non-breaking space) ([#17999](https://github.com/qmk/qmk_firmware/pull/17999))\", 'Move Encoder+Encoder Map from generic features ([#18018](https://github.com/qmk/qmk_firmware/pull/18018))', 'Fix wrong varaible in encoder block ([#18020](https://github.com/qmk/qmk_firmware/pull/18020))', 'Fix LV_CCAR and LV_NCED in keymap_latvian.h ([#18025](https://github.com/qmk/qmk_firmware/pull/18025))', 'Use ANSI ASCII art and fix comments for LT_COLN and LT_UNDS in keymap_lithuanian_qwerty.h ([#18028](https://github.com/qmk/qmk_firmware/pull/18028))', 'Partially revert some WB32 specific changes ([#18038](https://github.com/qmk/qmk_firmware/pull/18038))', 'Fix Emulated EEPROM issue with F466 ([#18039](https://github.com/qmk/qmk_firmware/pull/18039))', 'Fix DV_SCLN and DV_COLN in keymap_spanish_dvorak.h ([#18043](https://github.com/qmk/qmk_firmware/pull/18043))', 'Fix missing development_board schema entry ([#18050](https://github.com/qmk/qmk_firmware/pull/18050))', 'Add key event check to `is_tap_record` and remove `is_tap_key` ([#18063](https://github.com/qmk/qmk_firmware/pull/18063))', 'Fix GD32VF103 WS2812 PWM driver ([#18067](https://github.com/qmk/qmk_firmware/pull/18067))', 'Fix new-keyboard default for RP2040 bootloader ([#18100](https://github.com/qmk/qmk_firmware/pull/18100))', 'Fixup F4xx wear-leveling bootloader check ([#18102](https://github.com/qmk/qmk_firmware/pull/18102))', 'Fix PID value for the Keyboardio Atreus 2 bootloader ([#18116](https://github.com/qmk/qmk_firmware/pull/18116))', 'Add missing SS_LOPT and SS_ROPT defines ([#18175](https://github.com/qmk/qmk_firmware/pull/18175))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 11]"
        },
        {
          "title": "QMK Breaking Changes - 2022 November 26 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": {
              "Autocorrect ([#15699](https://github.com/qmk/qmk_firmware/pull/15699)) {#autocorrect}": "_@getreuer_ in their infinite wisdom decided that autocorrect was a feature needed by QMK. As is customary, _@drashna_ adapted it to core and got it into a state that everyone else can use it. See [Feature: Autocorrect](../features/autocorrect) for more ifnormation (grin)."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name                    | New Keyboard Name                    |\n|--------------------------------------|--------------------------------------|\n| converter/numeric_keypad_IIe         | converter/numeric_keypad_iie         |\n| durgod/k3x0/k310                     | durgod/k310                          |\n| durgod/k3x0/k320                     | durgod/k320                          |\n| emptystring/NQG                      | emptystring/nqg                      |\n| handwired/hillside/46                | hillside/46                          |\n| handwired/hillside/48                | hillside/48                          |\n| handwired/hillside/52                | hillside/52                          |\n| maple_computing/christmas_tree/V2017 | maple_computing/christmas_tree/v2017 |",
              "Keycodes refactoring {#keycodes-overhaul-user-action}": "QMK's keycodes got a very significant overhaul this breaking changes cycle, with the bulk of the work done by _@zvecr_ and _@fauxpark_ -- renaming, reordering, removing has been their focus in this area. In an attempt to standardise interoperation with host applications, keycode values now have strong versioning so that any connected application has confidence that the keys it thinks exist on the board actually match up with what's compiled in. These strongly-versioned keycode definitions are now published online and will not change, so tools that remap keycodes have a reference to work with. In future versions of QMK, any new or changed keycodes will result in a new version specification. See [API docs](../api_docs#qmk-constants) for more information on the published versions if you're writing a tool to manage keycodes.\n\nIn most cases user keymaps in the repository have already been updated to reflect the new naming scheme. In some cases user keymaps outside the repository may strike a missing keycode with the old name -- it's highly likely that the name had already been deprecated for some time, and should have been updated previously.\n\nSee below for the full list of changesets.\n\n::: warning\nKeycode aliases have been put in place in most cases to cater for \"old names\" being mapped to \"new names\" -- the documentation already reflects all the new naming of keys.\n:::",
              "Configuration Item Refactoring {#config-refactoring}": "A number of configuration items have been renamed for consistency.\n\nRGB Matrix configuration:\n\n| Old Config              | New Config              |\n|-------------------------|-------------------------|\n| DRIVER_LED_COUNT        | RGB_MATRIX_LED_COUNT    |\n| RGB_DISABLE_TIMEOUT     | RGB_MATRIX_TIMEOUT      |\n| RGB_MATRIX_STARTUP_HUE  | RGB_MATRIX_DEFAULT_HUE  |\n| RGB_MATRIX_STARTUP_MODE | RGB_MATRIX_DEFAULT_MODE |\n| RGB_MATRIX_STARTUP_SAT  | RGB_MATRIX_DEFAULT_SAT  |\n| RGB_MATRIX_STARTUP_SPD  | RGB_MATRIX_DEFAULT_SPD  |\n| RGB_MATRIX_STARTUP_VAL  | RGB_MATRIX_DEFAULT_VAL  |\n\nLED Matrix configuration:\n\n| Old Config              | New Config              |\n|-------------------------|-------------------------|\n| DRIVER_LED_COUNT        | LED_MATRIX_LED_COUNT    |\n| LED_DISABLE_TIMEOUT     | LED_MATRIX_TIMEOUT      |\n| LED_MATRIX_STARTUP_MODE | LED_MATRIX_DEFAULT_MODE |\n| LED_MATRIX_STARTUP_SPD  | LED_MATRIX_DEFAULT_SPD  |\n| LED_MATRIX_STARTUP_VAL  | LED_MATRIX_DEFAULT_VAL  |\n\nJoystick configuration:\n\n| Old Config               | New Config               |\n|--------------------------|--------------------------|\n| JOYSTICK_AXES_COUNT      | JOYSTICK_AXIS_COUNT      |\n| JOYSTICK_AXES_RESOLUTION | JOYSTICK_AXIS_RESOLUTION |",
              "Data-driven USB IDs Refactoring ([#18152](https://github.com/qmk/qmk_firmware/pull/18152)) {#usb-ids-Refactoring}": "QMK has decided to deprecate the specification of USB IDs inside `config.h` in favour of `info.json`, leaving data-driven as the only method to specify USB information. As per the deprecation schedule put forward last breaking changes cycle, USB information must be specified in `info.json` instead.\n\nPreviously in `config.h`:\n\n```\n#define VENDOR_ID    0x1234\n#define PRODUCT_ID   0x5678\n#define DEVICE_VER   0x0001\n#define MANUFACTURER Me\n#define PRODUCT      MyKeyboard\n```\n\nReplaced by `info.json`:\n\n```\n{\n    \"keyboard_name\": \"MyKeyboard\",\n    \"manufacturer\": \"Me\",\n    \"usb\": {\n        \"vid\": \"0x1234\",\n        \"pid\": \"0x5678\",\n        \"device_version\": \"0.0.1\"\n    }\n}\n```",
              "LED Indicator callback refactoring ([#14864](https://github.com/qmk/qmk_firmware/pull/18450)) {#led-callback-refactor}": "_RGB Matrix_ and _LED Matrix_ Indicator display code was traditionally difficult to override in keymaps as they did not follow the standard pattern of `bool *_kb()` deferring to `bool *_user()` functions, allowing signalling to the higher level that processing had already been done.\n\nThis changes the standard callback model to allow for a base implementation to be provided by a keyboard, but also still allow for keymap-level overrides without needing to modify the keyboard's code.\n\nThe old RGB Matrix keymap code went something like this:\n\n```\nvoid rgb_matrix_indicators_user(void) {\n    // keymap LED code\n}\n```\n\n...but the new RGB Matrix keymap code looks like this:\n\n```\nbool rgb_matrix_indicators_user(void) {\n    // keymap LED code\n    return false;\n}\n```\n\nKeyboard designers should now structure their keyboard-level routines like the following, in order to allow for keymap overrides:\n\n```\nbool rgb_matrix_indicators_kb(void) {\n    // Defer to the keymap if they want to override\n    if (!rgb_matrix_indicators_user()) { return false; }\n\n    // keyboard LED code\n    return true;\n}\n```\n\nThe equivalent transformations should be done for LED Matrix boards.",
              "Unicode mode refactoring {#unicode-mode-renaming}": "Unicode modes were renamed in order to prevent collision with equivalent keycodes. The available values for `UNICODE_SELECTED_MODES` changed -- see [Feature: Unicode](../features/unicode#setting-the-input-mode) for the new list of values and how to configure them."
            },
            "Notable core changes {#notable-core}": {
              "Keycodes refactoring {#keycodes-overhaul-core-changes}": "We aren't going to list each and every change -- they're far too numerous -- instead, we'll just list the related PRs in order to convey just how wide-reaching these changes were:\n\n['Align audio keycode names ([#18962](https://github.com/qmk/qmk_firmware/pull/18962))', 'Align dynamic tapping term keycode names ([#18963](https://github.com/qmk/qmk_firmware/pull/18963))', 'Align haptic feedback keycode names ([#18964](https://github.com/qmk/qmk_firmware/pull/18964))', 'Deprecate `CAPS_WORD`/`CAPSWRD` for `CW_TOGG` ([#18834](https://github.com/qmk/qmk_firmware/pull/18834))', 'Deprecate `KC_LEAD` for `QK_LEAD` ([#18792](https://github.com/qmk/qmk_firmware/pull/18792))', 'Deprecate `KC_LOCK` for `QK_LOCK` ([#18796](https://github.com/qmk/qmk_firmware/pull/18796))', 'Deprecate `KEY_OVERRIDE_*` keycodes for `KO_*` ([#18843](https://github.com/qmk/qmk_firmware/pull/18843))', 'Deprecate `ONESHOT_*` keycodes for `QK_ONE_SHOT_*` ([#18844](https://github.com/qmk/qmk_firmware/pull/18844))', 'Deprecate `SECURE_*` keycodes for `QK_SECURE_*` ([#18847](https://github.com/qmk/qmk_firmware/pull/18847))', 'Deprecate `VLK_TOG` for `VK_TOGG` ([#18807](https://github.com/qmk/qmk_firmware/pull/18807))', 'Initial DD keycode migration ([#18643](https://github.com/qmk/qmk_firmware/pull/18643))', 'Macro keycode name refactoring ([#18958](https://github.com/qmk/qmk_firmware/pull/18958))', 'Move mousekey keycodes into newly freed up keycode block ([#16076](https://github.com/qmk/qmk_firmware/pull/16076))', 'Normalise Auto Shift keycodes ([#18892](https://github.com/qmk/qmk_firmware/pull/18892))', 'Normalise Autocorrect keycodes ([#18893](https://github.com/qmk/qmk_firmware/pull/18893))', 'Normalise Combo keycodes ([#18877](https://github.com/qmk/qmk_firmware/pull/18877))', 'Normalise Dynamic Macro keycodes ([#18939](https://github.com/qmk/qmk_firmware/pull/18939))', 'Normalise Joystick and Programmable Button keycodes ([#18832](https://github.com/qmk/qmk_firmware/pull/18832))', 'Normalise MIDI keycodes ([#18972](https://github.com/qmk/qmk_firmware/pull/18972))', 'Normalise output selection (Bluetooth) keycodes ([#19004](https://github.com/qmk/qmk_firmware/pull/19004))', 'Normalise Space Cadet keycodes ([#18864](https://github.com/qmk/qmk_firmware/pull/18864))', 'Normalise Unicode keycodes ([#18898](https://github.com/qmk/qmk_firmware/pull/18898))', 'Publish constants metadata to API ([#19143](https://github.com/qmk/qmk_firmware/pull/19143))', 'Relocate US ANSI shifted keycode aliases ([#18634](https://github.com/qmk/qmk_firmware/pull/18634))', 'Remove `KC_DELT` ([#18882](https://github.com/qmk/qmk_firmware/pull/18882))', 'Remove `UNICODE_KEY_OSX` and `UC_OSX` ([#18290](https://github.com/qmk/qmk_firmware/pull/18290))', 'Remove deprecated RESET keycode alias ([#18271](https://github.com/qmk/qmk_firmware/pull/18271))', 'Remove legacy Debug keycode ([#18769](https://github.com/qmk/qmk_firmware/pull/18769))', 'Remove legacy EEPROM clear keycodes ([#18782](https://github.com/qmk/qmk_firmware/pull/18782))', 'Remove legacy fauxclicky and unicode keycodes ([#18800](https://github.com/qmk/qmk_firmware/pull/18800))', 'Remove legacy Grave Escape keycodes ([#18787](https://github.com/qmk/qmk_firmware/pull/18787))', 'Remove legacy international keycodes ([#18588](https://github.com/qmk/qmk_firmware/pull/18588))', 'Remove legacy keycodes, part 2 ([#18660](https://github.com/qmk/qmk_firmware/pull/18660))', 'Remove legacy keycodes, part 3 ([#18669](https://github.com/qmk/qmk_firmware/pull/18669))', 'Remove legacy keycodes, part 4 ([#18683](https://github.com/qmk/qmk_firmware/pull/18683))', 'Remove legacy keycodes, part 5 ([#18710](https://github.com/qmk/qmk_firmware/pull/18710))', 'Remove legacy keycodes, part 6 ([#18740](https://github.com/qmk/qmk_firmware/pull/18740))', 'Remove legacy locking caps/num/scroll keycodes ([#18601](https://github.com/qmk/qmk_firmware/pull/18601))', 'Remove legacy sendstring keycodes ([#18749](https://github.com/qmk/qmk_firmware/pull/18749))', 'Reworked backlight keycodes. ([#18961](https://github.com/qmk/qmk_firmware/pull/18961))']",
              "Board Converters {#board-converters}": "There was additional work in the space of board converters -- historically QMK allowed for \"converting\" a Pro Micro build to a QMK Proton-C build. The last few versions of QMK have added support for replacement boards much like the Proton-C, and this quarter was no exception:\n\n['Add Bonsai C4 as a platform board file ([#18901](https://github.com/qmk/qmk_firmware/pull/18901))', 'Add converter support to keymap.json ([#18776](https://github.com/qmk/qmk_firmware/pull/18776))', 'Add Elite-C to converters ([#18309](https://github.com/qmk/qmk_firmware/pull/18309))', 'Add Elite-Pi converter ([#18236](https://github.com/qmk/qmk_firmware/pull/18236))', 'Allow QK_MAKE to work with converters ([#18637](https://github.com/qmk/qmk_firmware/pull/18637))']\n\nSee [Feature: Converters](../feature_converters) for the full list of board conversions available.",
              "Pointing and Digitizer device updates {#pointing-and-digitizer}": "Both pointing devices and digitizer got a host of updates this cycle. Inertia, automatic mouse layers, fixes for preventing sleep... you even get more buttons with digitizers!\n\n['add \"inertia\" mode for mouse keys ([#18774](https://github.com/qmk/qmk_firmware/pull/18774))', 'Digitizer feature improvements ([#19034](https://github.com/qmk/qmk_firmware/pull/19034))', 'Enabling Pointing Device support in register code functions ([#18363](https://github.com/qmk/qmk_firmware/pull/18363))', 'Feature: pointing device automatic mouse layer ([#17962](https://github.com/qmk/qmk_firmware/pull/17962))', 'Fix mouse report comparison failing on shared EP (fixes KB preventing sleep) ([#18060](https://github.com/qmk/qmk_firmware/pull/18060))', 'Fix mouse use within send_string ([#18659](https://github.com/qmk/qmk_firmware/pull/18659))', 'Handle mouse keys more consistently ([#18513](https://github.com/qmk/qmk_firmware/pull/18513))', 'Invert pointing device motion pin for cirque touchpads ([#18404](https://github.com/qmk/qmk_firmware/pull/18404))', 'Refactor more host code (programmable button & digitizer) ([#18565](https://github.com/qmk/qmk_firmware/pull/18565))']"
            },
            "Full changelist {#full-changelist}": "Core:\n\n['quantum: led: split out led_update_ports() for customization of led behaviour ([#14452](https://github.com/qmk/qmk_firmware/pull/14452))', \"Add getreuer's Autocorrect feature to core ([#15699](https://github.com/qmk/qmk_firmware/pull/15699))\", 'Move mousekey keycodes into newly freed up keycode block ([#16076](https://github.com/qmk/qmk_firmware/pull/16076))', 'Introduce pointing device specific debug messages ([#17663](https://github.com/qmk/qmk_firmware/pull/17663))', 'PWM Backlight for RP2040 ([#17706](https://github.com/qmk/qmk_firmware/pull/17706))', 'Adjust PWM hardware audio driver for RP2040 ([#17723](https://github.com/qmk/qmk_firmware/pull/17723))', 'Prevent tap dance from wiping dynamic macros ([#17880](https://github.com/qmk/qmk_firmware/pull/17880))', 'Feature: pointing device automatic mouse layer ([#17962](https://github.com/qmk/qmk_firmware/pull/17962))', 'Allow custom timings for WS2812 PIO driver ([#18006](https://github.com/qmk/qmk_firmware/pull/18006))', 'Use `TAP_CODE_DELAY` for encoder mapping by default. Add docs. ([#18098](https://github.com/qmk/qmk_firmware/pull/18098))', 'Move Oneshot mod callbacks to after mods are set ([#18101](https://github.com/qmk/qmk_firmware/pull/18101))', 'mcp23018: add return status to init ([#18178](https://github.com/qmk/qmk_firmware/pull/18178))', 'Switch over MANUFACTURER and PRODUCT to string literals ([#18183](https://github.com/qmk/qmk_firmware/pull/18183))', 'Remove deprecated USBasp and bootloadHID bootloader types ([#18195](https://github.com/qmk/qmk_firmware/pull/18195))', 'Chromeos keycodes ([#18212](https://github.com/qmk/qmk_firmware/pull/18212))', 'VIA V3 - The Custom UI Update ([#18222](https://github.com/qmk/qmk_firmware/pull/18222))', 'Move bootloader.mk to platforms ([#18228](https://github.com/qmk/qmk_firmware/pull/18228))', 'Simplify extrakeys sending at the host driver level ([#18230](https://github.com/qmk/qmk_firmware/pull/18230))', 'Add unicode mode change callbacks ([#18235](https://github.com/qmk/qmk_firmware/pull/18235))', 'Add Elite-Pi converter ([#18236](https://github.com/qmk/qmk_firmware/pull/18236))', 'Better handle EEPROM reset keycode ([#18244](https://github.com/qmk/qmk_firmware/pull/18244))', 'Work around WinCompose issue for U+Axxx or U+Exxx ([#18260](https://github.com/qmk/qmk_firmware/pull/18260))', 'Remove deprecated RESET keycode alias ([#18271](https://github.com/qmk/qmk_firmware/pull/18271))', 'Move Bluetooth-related function calls up to host/keyboard level ([#18274](https://github.com/qmk/qmk_firmware/pull/18274))', 'Added analog support for WB32 MCU. ([#18289](https://github.com/qmk/qmk_firmware/pull/18289))', 'Remove `UNICODE_KEY_OSX` and `UC_OSX` ([#18290](https://github.com/qmk/qmk_firmware/pull/18290))', 'Add Elite-C to converters ([#18309](https://github.com/qmk/qmk_firmware/pull/18309))', 'RN42 driver: small cleanups ([#18310](https://github.com/qmk/qmk_firmware/pull/18310))', 'Reboot wb32 devices after flashing ([#18323](https://github.com/qmk/qmk_firmware/pull/18323))', 'Refactor Unicode feature ([#18333](https://github.com/qmk/qmk_firmware/pull/18333))', 'Move fake EE_HANDS from EEPROM init. ([#18352](https://github.com/qmk/qmk_firmware/pull/18352))', 'Enabling Pointing Device support in register code functions ([#18363](https://github.com/qmk/qmk_firmware/pull/18363))', 'Start Bluetooth API ([#18366](https://github.com/qmk/qmk_firmware/pull/18366))', 'Add UART support for Kinetis boards ([#18370](https://github.com/qmk/qmk_firmware/pull/18370))', '[QP] Add RGB565 surface. Docs clarification, cleanup, tabsification, and reordering. ([#18396](https://github.com/qmk/qmk_firmware/pull/18396))', 'Change `DRIVER_LED_COUNT` to `{LED,RGB}_MATRIX_LED_COUNT` ([#18399](https://github.com/qmk/qmk_firmware/pull/18399))', 'Invert pointing device motion pin for cirque touchpads ([#18404](https://github.com/qmk/qmk_firmware/pull/18404))', 'Change `{LED,RGB}_DISABLE_TIMEOUT` to `{LED,RGB}_MATRIX_TIMEOUT` ([#18415](https://github.com/qmk/qmk_firmware/pull/18415))', 'rewrite locking in split transaction handlers ([#18417](https://github.com/qmk/qmk_firmware/pull/18417))', 'remove busy waiting from rgblight functions ([#18418](https://github.com/qmk/qmk_firmware/pull/18418))', 'Serial-protocol: always clear receive queue on main half of split keyboard ([#18419](https://github.com/qmk/qmk_firmware/pull/18419))', 'Stabilize RP2040 Half-duplex PIO split comms take 2 ([#18421](https://github.com/qmk/qmk_firmware/pull/18421))', 'Copy RP2040 vector table to RAM on startup ([#18424](https://github.com/qmk/qmk_firmware/pull/18424))', 'Further refactoring of joystick feature ([#18437](https://github.com/qmk/qmk_firmware/pull/18437))', 'Start moving towards introspection-based data retrieval ([#18441](https://github.com/qmk/qmk_firmware/pull/18441))', 'RP2040: use built-in integer hardware divider and optimized i64 multiplication ([#18464](https://github.com/qmk/qmk_firmware/pull/18464))', 'Only trigger encoder callbacks on primary side ([#18467](https://github.com/qmk/qmk_firmware/pull/18467))', 'Handle mouse keys more consistently ([#18513](https://github.com/qmk/qmk_firmware/pull/18513))', 'Gentoo install script  build newlib with `nano` USE flag ([#18527](https://github.com/qmk/qmk_firmware/pull/18527))', 'Small un/register_code() cleanups ([#18544](https://github.com/qmk/qmk_firmware/pull/18544))', 'Refactor more host code (programmable button & digitizer) ([#18565](https://github.com/qmk/qmk_firmware/pull/18565))', \"Don't clear keys on layer change unless STRICT_LAYER_RELEASE is enabled ([#18577](https://github.com/qmk/qmk_firmware/pull/18577))\", 'Remove legacy international keycodes ([#18588](https://github.com/qmk/qmk_firmware/pull/18588))', 'onekey: Enable ADC for STM32F072 Discovery ([#18592](https://github.com/qmk/qmk_firmware/pull/18592))', 'Implement split comms watchdog ([#18599](https://github.com/qmk/qmk_firmware/pull/18599))', 'Remove legacy locking caps/num/scroll keycodes ([#18601](https://github.com/qmk/qmk_firmware/pull/18601))', 'Use `get_u16_str` instead of `snprintf` in `autoshift_timer_report` ([#18606](https://github.com/qmk/qmk_firmware/pull/18606))', 'Refactor `send_extra` ([#18615](https://github.com/qmk/qmk_firmware/pull/18615))', 'LUFA: Consolidate report sending code ([#18629](https://github.com/qmk/qmk_firmware/pull/18629))', 'Relocate US ANSI shifted keycode aliases ([#18634](https://github.com/qmk/qmk_firmware/pull/18634))', 'Allow QK_MAKE to work with converters ([#18637](https://github.com/qmk/qmk_firmware/pull/18637))', 'Programmable Button API refactor and improve docs ([#18641](https://github.com/qmk/qmk_firmware/pull/18641))', 'Initial DD keycode migration ([#18643](https://github.com/qmk/qmk_firmware/pull/18643))', 'Remove legacy keycodes, part 2 ([#18660](https://github.com/qmk/qmk_firmware/pull/18660))', 'Remove legacy keycodes, part 3 ([#18669](https://github.com/qmk/qmk_firmware/pull/18669))', 'Remove legacy keycodes, part 4 ([#18683](https://github.com/qmk/qmk_firmware/pull/18683))', 'Revert \"mcp23018: add return status to init\" ([#18709](https://github.com/qmk/qmk_firmware/pull/18709))', 'Remove legacy keycodes, part 5 ([#18710](https://github.com/qmk/qmk_firmware/pull/18710))', 'Make QP driver init functions weak. ([#18717](https://github.com/qmk/qmk_firmware/pull/18717))', 'Add unit tests for HOLD_ON_OTHER_KEY_PRESS ([#18721](https://github.com/qmk/qmk_firmware/pull/18721))', 'Remove legacy keycodes, part 6 ([#18740](https://github.com/qmk/qmk_firmware/pull/18740))', 'Remove legacy sendstring keycodes ([#18749](https://github.com/qmk/qmk_firmware/pull/18749))', '4 Driver support for IS31FL3737 ([#18750](https://github.com/qmk/qmk_firmware/pull/18750))', 'Remove quantum/audio from global VPATH ([#18753](https://github.com/qmk/qmk_firmware/pull/18753))', 'Widen the ARM Cortex-M family support. Allow USB peripheral change. ([#18767](https://github.com/qmk/qmk_firmware/pull/18767))', 'Remove legacy Debug keycode ([#18769](https://github.com/qmk/qmk_firmware/pull/18769))', 'add \"inertia\" mode for mouse keys ([#18774](https://github.com/qmk/qmk_firmware/pull/18774))', 'Remove legacy EEPROM clear keycodes ([#18782](https://github.com/qmk/qmk_firmware/pull/18782))', 'Remove legacy Grave Escape keycodes ([#18787](https://github.com/qmk/qmk_firmware/pull/18787))', 'Deprecate `KC_LEAD` for `QK_LEAD` ([#18792](https://github.com/qmk/qmk_firmware/pull/18792))', 'Deprecate `KC_LOCK` for `QK_LOCK` ([#18796](https://github.com/qmk/qmk_firmware/pull/18796))', 'Remove legacy fauxclicky and unicode keycodes ([#18800](https://github.com/qmk/qmk_firmware/pull/18800))', 'Generalise CTPC logic from common_features ([#18803](https://github.com/qmk/qmk_firmware/pull/18803))', 'Deprecate `VLK_TOG` for `VK_TOGG` ([#18807](https://github.com/qmk/qmk_firmware/pull/18807))', 'ChibiOS USB: Add a dummy IN callback to work around LLD bugs ([#18811](https://github.com/qmk/qmk_firmware/pull/18811))', 'Normalise Joystick and Programmable Button keycodes ([#18832](https://github.com/qmk/qmk_firmware/pull/18832))', 'Deprecate `CAPS_WORD`/`CAPSWRD` for `CW_TOGG` ([#18834](https://github.com/qmk/qmk_firmware/pull/18834))', 'added BS_TOGG so BS_SWAP and BS_NORM can be on a single key ([#18837](https://github.com/qmk/qmk_firmware/pull/18837))', 'Remove some assumptions on sequential keycode ranges ([#18838](https://github.com/qmk/qmk_firmware/pull/18838))', 'Deprecate `KEY_OVERRIDE_*` keycodes for `KO_*` ([#18843](https://github.com/qmk/qmk_firmware/pull/18843))', 'Deprecate `ONESHOT_*` keycodes for `QK_ONE_SHOT_*` ([#18844](https://github.com/qmk/qmk_firmware/pull/18844))', 'Deprecate `SECURE_*` keycodes for `QK_SECURE_*` ([#18847](https://github.com/qmk/qmk_firmware/pull/18847))', 'Normalise Space Cadet keycodes ([#18864](https://github.com/qmk/qmk_firmware/pull/18864))', 'Allow overriding of dynamic keymap start address. ([#18867](https://github.com/qmk/qmk_firmware/pull/18867))', 'Formalise keyboard- and user-specific EEPROM blocks ([#18874](https://github.com/qmk/qmk_firmware/pull/18874))', 'Normalise Combo keycodes ([#18877](https://github.com/qmk/qmk_firmware/pull/18877))', 'Remove rgblight_list.h ([#18878](https://github.com/qmk/qmk_firmware/pull/18878))', 'Remove `KC_DELT` ([#18882](https://github.com/qmk/qmk_firmware/pull/18882))', 'Simplify Keymap Config EEPROM ([#18886](https://github.com/qmk/qmk_firmware/pull/18886))', 'Normalise Auto Shift keycodes ([#18892](https://github.com/qmk/qmk_firmware/pull/18892))', 'Normalise Autocorrect keycodes ([#18893](https://github.com/qmk/qmk_firmware/pull/18893))', 'Normalise Unicode keycodes ([#18898](https://github.com/qmk/qmk_firmware/pull/18898))', 'Add Bonsai C4 as a platform board file ([#18901](https://github.com/qmk/qmk_firmware/pull/18901))', 'Normalise Dynamic Macro keycodes ([#18939](https://github.com/qmk/qmk_firmware/pull/18939))', 'Reduce includes for sequencer header ([#18946](https://github.com/qmk/qmk_firmware/pull/18946))', 'Reduce includes for crc header ([#18947](https://github.com/qmk/qmk_firmware/pull/18947))', 'Reduce includes for caps_word header ([#18948](https://github.com/qmk/qmk_firmware/pull/18948))', 'Reduce includes for wpm header ([#18949](https://github.com/qmk/qmk_firmware/pull/18949))', 'Reduce includes for dip_switch header ([#18951](https://github.com/qmk/qmk_firmware/pull/18951))', 'Reduce includes for send_string header ([#18952](https://github.com/qmk/qmk_firmware/pull/18952))', 'Macro keycode name refactoring ([#18958](https://github.com/qmk/qmk_firmware/pull/18958))', 'Remove thermal printer. ([#18959](https://github.com/qmk/qmk_firmware/pull/18959))', 'Reworked backlight keycodes. ([#18961](https://github.com/qmk/qmk_firmware/pull/18961))', 'Align audio keycode names ([#18962](https://github.com/qmk/qmk_firmware/pull/18962))', 'Align dynamic tapping term keycode names ([#18963](https://github.com/qmk/qmk_firmware/pull/18963))', 'Align haptic feedback keycode names ([#18964](https://github.com/qmk/qmk_firmware/pull/18964))', 'NVRAM refactor, phase 1. ([#18969](https://github.com/qmk/qmk_firmware/pull/18969))', 'Normalise MIDI keycodes ([#18972](https://github.com/qmk/qmk_firmware/pull/18972))', 'Normalise output selection (Bluetooth) keycodes ([#19004](https://github.com/qmk/qmk_firmware/pull/19004))', 'Move EFL wear-leveling driver to be default for F1, F3, F4, L4, G4, WB32, GD32V. ([#19020](https://github.com/qmk/qmk_firmware/pull/19020))', 'Digitizer feature improvements ([#19034](https://github.com/qmk/qmk_firmware/pull/19034))', 'Joystick feature improvements ([#19052](https://github.com/qmk/qmk_firmware/pull/19052))', 'Add default limit to OLED dirty processing ([#19068](https://github.com/qmk/qmk_firmware/pull/19068))', 'Change `RGB_MATRIX_STARTUP_*` defines to `RGB_MATRIX_DEFAULT_*` ([#19079](https://github.com/qmk/qmk_firmware/pull/19079))', 'Change `LED_MATRIX_STARTUP_*` defines to `LED_MATRIX_DEFAULT_*` ([#19080](https://github.com/qmk/qmk_firmware/pull/19080))', 'Extend eeconfig kb/user datablock API ([#19094](https://github.com/qmk/qmk_firmware/pull/19094))', 'Remove .noci functionality ([#19122](https://github.com/qmk/qmk_firmware/pull/19122))']\n\nCLI:\n\n['Reject json with duplicate keys ([#18108](https://github.com/qmk/qmk_firmware/pull/18108))', 'Add pointing device support to data driven config ([#18215](https://github.com/qmk/qmk_firmware/pull/18215))', 'Disconnect `usb.device_ver` ([#18259](https://github.com/qmk/qmk_firmware/pull/18259))', 'Normalise info_config.h define generation ([#18439](https://github.com/qmk/qmk_firmware/pull/18439))', 'Generate DD RGBLight/LED/RGB Matrix animation defines ([#18459](https://github.com/qmk/qmk_firmware/pull/18459))', 'Add converter support to keymap.json ([#18776](https://github.com/qmk/qmk_firmware/pull/18776))', 'Ensure consistent clean behaviour ([#18781](https://github.com/qmk/qmk_firmware/pull/18781))', 'Format DD mappings and schemas ([#18924](https://github.com/qmk/qmk_firmware/pull/18924))', 'Publish hjson files as json ([#18996](https://github.com/qmk/qmk_firmware/pull/18996))', 'Add raw output option for QGF/QFF files. ([#18998](https://github.com/qmk/qmk_firmware/pull/18998))', 'Improve LED config parsing error messages ([#19007](https://github.com/qmk/qmk_firmware/pull/19007))', 'Revert \"Add pointing device support to data driven config (#18215)\" ([#19063](https://github.com/qmk/qmk_firmware/pull/19063))', 'Additional DD backlight config ([#19124](https://github.com/qmk/qmk_firmware/pull/19124))', 'Publish constants metadata to API ([#19143](https://github.com/qmk/qmk_firmware/pull/19143))']\n\nSubmodule updates:\n\n['Use a macro to compute the size of arrays at compile time ([#18044](https://github.com/qmk/qmk_firmware/pull/18044))', 'Update pico-sdk to version 1.4.0 ([#18423](https://github.com/qmk/qmk_firmware/pull/18423))']\n\nKeyboards:\n\n['Rework PS/2 driver selection ([#17892](https://github.com/qmk/qmk_firmware/pull/17892))', 'Durgod K310/K320 Refactor ([#18224](https://github.com/qmk/qmk_firmware/pull/18224))', 'Optimise LAYOUT macro generation ([#18262](https://github.com/qmk/qmk_firmware/pull/18262))', 'Rename keyboards with uppercase letters ([#18268](https://github.com/qmk/qmk_firmware/pull/18268))', 'Remove legacy USE_SERIAL define ([#18292](https://github.com/qmk/qmk_firmware/pull/18292))', 'Resolve conflict merging master to develop ([#18297](https://github.com/qmk/qmk_firmware/pull/18297))', 'Remove legacy define USE_SERIAL_PD2 ([#18298](https://github.com/qmk/qmk_firmware/pull/18298))', 'Remove legacy define SERIAL_USE_MULTI_TRANSACTION ([#18299](https://github.com/qmk/qmk_firmware/pull/18299))', 'Adapt spidey3 userspace to recent unicode refactoring ([#18345](https://github.com/qmk/qmk_firmware/pull/18345))', 'Remove remaining use of terminal keys and related comment labels ([#18402](https://github.com/qmk/qmk_firmware/pull/18402))', 'Add DD mapping for LED/RGB Matrix center ([#18432](https://github.com/qmk/qmk_firmware/pull/18432))', 'develop updates for Drashna Keymaps ([#18472](https://github.com/qmk/qmk_firmware/pull/18472))', 'Remove lingering `DRIVER_LED_TOTAL` references ([#18475](https://github.com/qmk/qmk_firmware/pull/18475))', 'Remove lingering `DRIVER_LED_TOTAL` references ([#18594](https://github.com/qmk/qmk_firmware/pull/18594))', 'update andrebrait GMMK Pro keymap ([#18608](https://github.com/qmk/qmk_firmware/pull/18608))', 'AnnePro2: Adjust RGB flushing ([#18640](https://github.com/qmk/qmk_firmware/pull/18640))', 'Remove lingering `DRIVER_LED_TOTAL` references ([#18662](https://github.com/qmk/qmk_firmware/pull/18662))', \"Update snowe's KC_RESET to use QK_BOOT ([#18667](https://github.com/qmk/qmk_firmware/pull/18667))\", 'Remove some .gitignore files ([#18689](https://github.com/qmk/qmk_firmware/pull/18689))', 'Remove keymaps that still reference legacy macros ([#18690](https://github.com/qmk/qmk_firmware/pull/18690))', 'Remove keymaps that still reference legacy macros ([#18693](https://github.com/qmk/qmk_firmware/pull/18693))', 'Remove stale userspace/keymaps ([#18700](https://github.com/qmk/qmk_firmware/pull/18700))', 'Update keyboards readme ([#18714](https://github.com/qmk/qmk_firmware/pull/18714))', 'Allow changes to the moonlander default music map ([#18715](https://github.com/qmk/qmk_firmware/pull/18715))', 'led_update_kb -> led_update_ports where appropriate ([#18716](https://github.com/qmk/qmk_firmware/pull/18716))', 'Update converter/usb_usb user keymaps to use LAYOUT_fullsize ([#18720](https://github.com/qmk/qmk_firmware/pull/18720))', 'Remove RGBLIGHT_ANIMATION and clean up effect defines for G-K ([#18726](https://github.com/qmk/qmk_firmware/pull/18726))', 'Remove RGBLIGHT_ANIMATION and clean up effect defines for L-Q ([#18727](https://github.com/qmk/qmk_firmware/pull/18727))', 'Remove RGBLIGHT_ANIMATION and clean up effect defines for R-Z ([#18728](https://github.com/qmk/qmk_firmware/pull/18728))', 'Remove RGBLIGHT_ANIMATION and clean up effect defines for layouts+users ([#18729](https://github.com/qmk/qmk_firmware/pull/18729))', 'Update info.json configs to explicitly list RGBLIGHT animations ([#18730](https://github.com/qmk/qmk_firmware/pull/18730))', 'A little personal cleanup after #18726 and #18729 ([#18734](https://github.com/qmk/qmk_firmware/pull/18734))', 'Move Hillside out of handwired ([#18751](https://github.com/qmk/qmk_firmware/pull/18751))', 'wilba_tech: allow keymaps to override backlight_effect_indicators() ([#18791](https://github.com/qmk/qmk_firmware/pull/18791))', 'Remove broken userspace and keymaps ([#18806](https://github.com/qmk/qmk_firmware/pull/18806))', 'Add support for KBDfans Odin V2 ([#18910](https://github.com/qmk/qmk_firmware/pull/18910))', 'Remove more `UNUSED_PINS` defines ([#18940](https://github.com/qmk/qmk_firmware/pull/18940))', 'Remove hardcoded VIA keycode range ([#18956](https://github.com/qmk/qmk_firmware/pull/18956))', 'KC_GESC -> QK_GESC, better alignment for OCD ([#19018](https://github.com/qmk/qmk_firmware/pull/19018))', 'Add missing `manufacturer` fields ([#19065](https://github.com/qmk/qmk_firmware/pull/19065))', 'Update use of legacy keycodes ([#19120](https://github.com/qmk/qmk_firmware/pull/19120))']\n\nKeyboard fixes:\n\n['[GMMK Pro] Fix unintentional taps to the volume keys when using the encoder ([#17129](https://github.com/qmk/qmk_firmware/pull/17129))', 'Luna keyboard pet OLED timeout fix ([#17189](https://github.com/qmk/qmk_firmware/pull/17189))', 'Handle escaping of manufacturer/product strings ([#18194](https://github.com/qmk/qmk_firmware/pull/18194))', 'kegen/gboy: add manufacturer string ([#18196](https://github.com/qmk/qmk_firmware/pull/18196))', 'Ensure all keyboards have a bootloader set ([#18234](https://github.com/qmk/qmk_firmware/pull/18234))', 'Reverse keymap search order ([#18449](https://github.com/qmk/qmk_firmware/pull/18449))', 'Fixup cradio bootloader/processor ([#18477](https://github.com/qmk/qmk_firmware/pull/18477))', 'onekey: enable ADC for Bluepill and Blackpill ([#18545](https://github.com/qmk/qmk_firmware/pull/18545))', 'Fixup controllerworks/mini42 ([#18553](https://github.com/qmk/qmk_firmware/pull/18553))', 'RESET -> QK_BOOT user keymaps ([#18560](https://github.com/qmk/qmk_firmware/pull/18560))', 'Fixup linworks/fave84h ([#18593](https://github.com/qmk/qmk_firmware/pull/18593))', 'Fix compilation of 1upkeyboards on develop ([#18618](https://github.com/qmk/qmk_firmware/pull/18618))', 'Various keyboard fixes ([#18649](https://github.com/qmk/qmk_firmware/pull/18649))', 'Fixup twig50 ([#18651](https://github.com/qmk/qmk_firmware/pull/18651))', 'Fixup handwired/jopr  remove deprecated keycode ([#18668](https://github.com/qmk/qmk_firmware/pull/18668))', 'Fixup keychron/q3 ([#18687](https://github.com/qmk/qmk_firmware/pull/18687))', 'Fixup dumbpad/v3x ([#18692](https://github.com/qmk/qmk_firmware/pull/18692))', 'Fix aurora/sweep ([#18701](https://github.com/qmk/qmk_firmware/pull/18701))', 'Fix build failures uncovered by #18753 ([#18789](https://github.com/qmk/qmk_firmware/pull/18789))', 'Fixup emptystring/nqg ([#18804](https://github.com/qmk/qmk_firmware/pull/18804))', 'Fixup controllerwords/mini36 ([#18840](https://github.com/qmk/qmk_firmware/pull/18840))', 'Fixup 1upkeyboards/pi60_rgb ([#18858](https://github.com/qmk/qmk_firmware/pull/18858))', 'Fixup doio/kb16 ([#18859](https://github.com/qmk/qmk_firmware/pull/18859))', 'Fixup keebio/sinc/rev3 ([#18866](https://github.com/qmk/qmk_firmware/pull/18866))', 'elephant42: fix default keymap ([#18884](https://github.com/qmk/qmk_firmware/pull/18884))', 'Properly fix elephant42 ([#18908](https://github.com/qmk/qmk_firmware/pull/18908))', 'Fix syntax error introduced in #18800 ([#18933](https://github.com/qmk/qmk_firmware/pull/18933))', 'Resolve info.json/rules.mk feature conflicts in three boards ([#18942](https://github.com/qmk/qmk_firmware/pull/18942))', 'Fix DD warnings for RGBKB boards ([#18944](https://github.com/qmk/qmk_firmware/pull/18944))', 'Fix \"no matrix definition\" errors for some boards ([#18954](https://github.com/qmk/qmk_firmware/pull/18954))', 'LED config fixes ([#18973](https://github.com/qmk/qmk_firmware/pull/18973))', '`handwired/swiftrax/walter`: fix layout mismatch ([#18974](https://github.com/qmk/qmk_firmware/pull/18974))', 'Fix use of shifted custom keycode ([#18978](https://github.com/qmk/qmk_firmware/pull/18978))', '`pizzakeyboards/pizza65`: fix layouts ([#18979](https://github.com/qmk/qmk_firmware/pull/18979))', '`cannonkeys/db60/hotswap`: fix layouts ([#18982](https://github.com/qmk/qmk_firmware/pull/18982))', '`handwired/swiftrax/cowfish`: fix layouts ([#18984](https://github.com/qmk/qmk_firmware/pull/18984))', 'Fixup hotdox76v2 on develop ([#18991](https://github.com/qmk/qmk_firmware/pull/18991))', '`mechlovin/adelais/standard_led/avr/rev1`: fix layout ([#18997](https://github.com/qmk/qmk_firmware/pull/18997))', '`gboards/gergoplex`: fix matrix pins ([#18999](https://github.com/qmk/qmk_firmware/pull/18999))', 'Fixup keychron/q1/iso_encoder ([#19006](https://github.com/qmk/qmk_firmware/pull/19006))', 'Rollback unrelated changes from previous PR. ([#19015](https://github.com/qmk/qmk_firmware/pull/19015))', 'Fixup bn006 on develop ([#19029](https://github.com/qmk/qmk_firmware/pull/19029))', 'onekey: disable NKRO and mousekeys by default ([#19038](https://github.com/qmk/qmk_firmware/pull/19038))', 'Fix up laser_ninja/pumpkin_pad ([#19060](https://github.com/qmk/qmk_firmware/pull/19060))', 'Fixup keychron/q6 ([#19066](https://github.com/qmk/qmk_firmware/pull/19066))', 'Fixup handwired/alcor_dactyl ([#19072](https://github.com/qmk/qmk_firmware/pull/19072))', 'Fix some old keycodes ([#19086](https://github.com/qmk/qmk_firmware/pull/19086))', 'Update more `DRIVER_LED_TOTAL` defines to `RGB_MATRIX_LED_COUNT` ([#19089](https://github.com/qmk/qmk_firmware/pull/19089))', 'Fix references to `mouse_report_t` (which doesnt exist) ([#19107](https://github.com/qmk/qmk_firmware/pull/19107))', 'Fixup keychron/q5 ([#19119](https://github.com/qmk/qmk_firmware/pull/19119))', 'Fixup aeboards/satellite ([#19137](https://github.com/qmk/qmk_firmware/pull/19137))', 'Fixup aurora/corne on develop ([#19144](https://github.com/qmk/qmk_firmware/pull/19144))', 'Minor lint fixes for various info.json ([#19146](https://github.com/qmk/qmk_firmware/pull/19146))']\n\nOthers:\n\n['Add DD mapping for LED/RGB Matrix max brightness ([#18403](https://github.com/qmk/qmk_firmware/pull/18403))', 'Add DD mapping for LED/RGB Matrix split count ([#18408](https://github.com/qmk/qmk_firmware/pull/18408))', 'Add DD mapping for LED/RGB Matrix HSVS steps ([#18414](https://github.com/qmk/qmk_firmware/pull/18414))', 'Remove RGBLIGHT_ANIMTION and clean up effect defines for 0-F ([#18725](https://github.com/qmk/qmk_firmware/pull/18725))', 'Merge API update workflow ([#19121](https://github.com/qmk/qmk_firmware/pull/19121))']\n\nBugs:\n\n['Fix layer switching from tap dances by redoing the keymap lookup ([#17935](https://github.com/qmk/qmk_firmware/pull/17935))', 'ws2812: replace RGBLED_NUM with driver-owned constant to decouple driver from RGBLEDs/RGBMATRIX defines ([#18036](https://github.com/qmk/qmk_firmware/pull/18036))', 'Prevent USB peripheral fault when restarting USB on WB32 MCUs ([#18058](https://github.com/qmk/qmk_firmware/pull/18058))', 'Fix mouse report comparison failing on shared EP (fixes KB preventing sleep) ([#18060](https://github.com/qmk/qmk_firmware/pull/18060))', 'Fix incorrect `bluetooth.driver` rules.mk mapping ([#18205](https://github.com/qmk/qmk_firmware/pull/18205))', 'Adjust `EXTRAKEY_ENABLE` ifdefs for `send_extra()` ([#18249](https://github.com/qmk/qmk_firmware/pull/18249))', 'Fix docs regarding cirque pinnacle attenuation ([#18279](https://github.com/qmk/qmk_firmware/pull/18279))', 'Avoid repeated calls to rgblight_set() in tight succession when setting lighting layers ([#18338](https://github.com/qmk/qmk_firmware/pull/18338))', 'Fix cirque tap from secondary side of split keyboard ([#18351](https://github.com/qmk/qmk_firmware/pull/18351))', 'Fix EECONFIG_KEYMAP_UPPER_BYTE init ([#18394](https://github.com/qmk/qmk_firmware/pull/18394))', 'Fix retain brightness when val is changed while a layer is active ([#18426](https://github.com/qmk/qmk_firmware/pull/18426))', 'Update Chibios to latest 21.11.2 changes for RP2040 XIP deadlock mitigation ([#18428](https://github.com/qmk/qmk_firmware/pull/18428))', 'Fix incorrect g_led_config generation ([#18431](https://github.com/qmk/qmk_firmware/pull/18431))', 'Fix Per Key LED Indicator Callbacks ([#18450](https://github.com/qmk/qmk_firmware/pull/18450))', 'Update chibios-contrib for RP2040 i2c fixes take 2 ([#18455](https://github.com/qmk/qmk_firmware/pull/18455))', 'Fix comment of CM_QUES (Colemak question mark) ([#18557](https://github.com/qmk/qmk_firmware/pull/18557))', 'ChibiOS: Fix USB bus disconnect handling ([#18566](https://github.com/qmk/qmk_firmware/pull/18566))', 'Update ChibiOS-Contrib for USB IRQ and bus handling fixes ([#18574](https://github.com/qmk/qmk_firmware/pull/18574))', 'RP2040: only clear RX FIFO for serial pio driver clear ([#18581](https://github.com/qmk/qmk_firmware/pull/18581))', 'Fix ST7565 handler deadlock ([#18609](https://github.com/qmk/qmk_firmware/pull/18609))', 'Fix/Update ChibiOS hardware ID ([#18613](https://github.com/qmk/qmk_firmware/pull/18613))', 'Fix some rp2040 hardware ID errors ([#18617](https://github.com/qmk/qmk_firmware/pull/18617))', 'Fix joystick functionality for ChibiOS and OTG (Blackpill) ([#18631](https://github.com/qmk/qmk_firmware/pull/18631))', 'fix typo in solenoid.h ([#18635](https://github.com/qmk/qmk_firmware/pull/18635))', 'Fix boundary in `RGB_MATRIX_INDICATOR_SET_COLOR` ([#18650](https://github.com/qmk/qmk_firmware/pull/18650))', 'Fix MIDI output endpoint to use the out direction ([#18654](https://github.com/qmk/qmk_firmware/pull/18654))', 'Fix mouse use within send_string ([#18659](https://github.com/qmk/qmk_firmware/pull/18659))', 'Correctly build keymap.json containing additional config ([#18766](https://github.com/qmk/qmk_firmware/pull/18766))', 'Correctly build out of tree keymap.json containing additional config ([#18775](https://github.com/qmk/qmk_firmware/pull/18775))', 'Fix garbled test output ([#18822](https://github.com/qmk/qmk_firmware/pull/18822))', 'Fix rgb_matrix_set_flags_noeeprom declaration ([#18860](https://github.com/qmk/qmk_firmware/pull/18860))', 'Add missing Space Cadet alias ([#18876](https://github.com/qmk/qmk_firmware/pull/18876))', 'Fix oled_render to render all dirty blocks. ([#18887](https://github.com/qmk/qmk_firmware/pull/18887))', 'compiler.txt: ensure file exists before comparison ([#18921](https://github.com/qmk/qmk_firmware/pull/18921))', 'Fix compilation issue with WPM ([#18965](https://github.com/qmk/qmk_firmware/pull/18965))', 'Fix keycode parameter extraction to match the new DD keycodes ([#18977](https://github.com/qmk/qmk_firmware/pull/18977))', 'Fix jump in mouse_report value when scale changes during cirque get report ([#18992](https://github.com/qmk/qmk_firmware/pull/18992))', 'Fixup WS2812 vendor driver ([#19028](https://github.com/qmk/qmk_firmware/pull/19028))', 'Add missing prototype for get_hold_on_other_key_press to resolve #18855 ([#19056](https://github.com/qmk/qmk_firmware/pull/19056))', 'Fix duplicate key in keyboard.jsonschema ([#19058](https://github.com/qmk/qmk_firmware/pull/19058))', 'Fixup `keyboard.jsonschema`. ([#19059](https://github.com/qmk/qmk_firmware/pull/19059))', 'fixed MOUSEKEY_INERTIA on AVR ([#19096](https://github.com/qmk/qmk_firmware/pull/19096))', 'Fix encoder_init call order in keyboard_init ([#19140](https://github.com/qmk/qmk_firmware/pull/19140))', 'Fixup installation procedure for different Fedora versions. ([#19159](https://github.com/qmk/qmk_firmware/pull/19159))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 12]"
        },
        {
          "title": "QMK Breaking Changes - 2023 February 26 Changelog",
          "description": null,
          "content": {
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "`IGNORE_MOD_TAP_INTERRUPT` behaviour changes ([#15741](https://github.com/qmk/qmk_firmware/pull/15741)) {#i-m-t-i}": "`IGNORE_MOD_TAP_INTERRUPT_PER_KEY` has been removed and `IGNORE_MOD_TAP_INTERRUPT` deprecated as a stepping stone towards making `IGNORE_MOD_TAP_INTERRUPT` the new default behavior for mod-taps in the future.\n\nIn place of the now removed `IGNORE_MOD_TAP_INTERRUPT_PER_KEY`, one must use the pre-existing `HOLD_ON_OTHER_KEY_PRESS` option.\n\nIn most cases, updating `get_ignore_mod_tap_interrupt` to `get_hold_on_other_key_press` is simply a matter of renaming the function and swapping every `true` by `false` and vice versa. The one subtlety you may need to look out for is that the `get_ignore_mod_tap_interrupt` was only ever called with mod-taps passed in as the `keycode` argument, while the `keycode` argument of `get_hold_on_other_key_press` can be any dual-role key. This includes not only mod-taps, but also layer-taps, one shot keys, `TT(layer)` and more. This has an impact on the effect of the `default` case in a typical per-key configuration making use of a `switch(keycode)` statement.\n\nTo illustrate, let's take the example of a configuration where we'd want all mod-taps to activate the modifier if another key is pressed while held with the exception of `LCTL_T(KC_A)`, which should ignore keys pressed while it is held and activate the modifier only if it has been held for longer than the tapping term. In addition, we would like to keep the default \"ignore-interrupt\" behavior of layer taps.\n\nAn old way to do this would be via the following code:\n\n```\nbool get_ignore_mod_tap_interrupt(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case LCTL_T(KC_A):\n            return true;\n        default:\n            return false;\n    }\n}\n```\n\nThe correct way to update this code without accidentally changing how the layer-taps work would be the following:\n\n```\nbool get_hold_on_other_key_press(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        // Capture all mod-tap keycodes.\n        case QK_MOD_TAP ... QK_MOD_TAP_MAX:\n            if (keycode == LCTL_T(KC_A)) {\n                // Disable HOLD_ON_OTHER_KEY_PRESS for LCTL_T(KC_A)\n                // aka enable IGNORE_MOD_TAP_INTERRUPT for LCTL_T(KC_A).\n                return false;\n            } else {\n                // Enable HOLD_ON_OTHER_KEY_PRESS for every other mod-tap keycode.\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n```\n\nFor more information, you are invited to read the sections on [IGNORE_MOD_TAP_INTERRUPT](../tap_hold#ignore-mod-tap-interrupt) and [HOLD_ON_OTHER_KEY_PRESS](../tap_hold#hold-on-other-key-press) in the page on [Tap-Hold configuration options](../tap_hold).",
              "`TAPPING_FORCE_HOLD` => `QUICK_TAP_TERM` ([#17007](https://github.com/qmk/qmk_firmware/pull/17007)) {#quick-tap-term}": "`TAPPING_FORCE_HOLD` feature is now replaced by `QUICK_TAP_TERM`. Instead of turning off auto-repeat completely, user will have the option to configure a `QUICK_TAP_TERM` in milliseconds. When the user holds a tap-hold key after tapping it within `QUICK_TAP_TERM`, QMK will send the tap keycode to the host, enabling auto-repeat.\n\nIts value is set to `TAPPING_TERM` by default and it can be reduced to match typing habits to avoid false triggers. To disable auto-repeat completely, set `QUICK_TAP_TERM` to zero.\n\n`TAPPING_FORCE_HOLD_PER_KEY` is also deprecated and replaced by `QUICK_TAP_TERM_PER_KEY`. The old granular control function for tapping force hold is:\n\n```\nbool get_tapping_force_hold(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case LT(1, KC_BSPC):\n            return true;\n        default:\n            return false;\n    }\n}\n```\n\nThat function can be replaced with:\n\n```\nuint16_t get_quick_tap_term(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case SFT_T(KC_SPC):\n            return 0;\n        default:\n            return QUICK_TAP_TERM;\n    }\n}\n```\n\nFor more details, please read the updated documentation section on [Quick Tap Term](../tap_hold#quick-tap-term).",
              "Leader Key Rework {#leader-key-rework ([#19632](https://github.com/qmk/qmk_firmware/pull/19632))}": "The Leader Key feature API has been significantly improved, along with some bugfixes and added tests.\n\nInstead of defining your leader sequences in `matrix_scan_user()`, they are now handled in the `leader_end_user()` callback, and the `LEADER_EXTERNS()`/`LEADER_DICTIONARY()` macros are no longer needed:\n\n```\nvoid leader_end_user(void) {\n    if (leader_sequence_one_key(KC_F)) {\n        // Leader, f => Types the below string\n        SEND_STRING(\"QMK is awesome.\");\n    } else if (leader_sequence_two_keys(KC_D, KC_D)) {\n        // Leader, d, d => Ctrl+A, Ctrl+C\n        SEND_STRING(SS_LCTL(\"a\") SS_LCTL(\"c\"));\n    } else if (leader_sequence_three_keys(KC_D, KC_D, KC_S)) {\n        // Leader, d, d, s => Types the below string\n        SEND_STRING(\"https://start.duckduckgo.com\\n\");\n    } else if (leader_sequence_two_keys(KC_A, KC_S)) {\n        // Leader, a, s => GUI+S\n        tap_code16(LGUI(KC_S));\n    }\n}\n```\n\nFor more information please see the [Leader Key documentation](../features/leader_key).",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "The following keyboards have had their source moved within QMK:\n\n| Old Keyboard Name           | New Keyboard Name        |\n|-----------------------------|--------------------------|\n| ramonimbao/aelith           |  rmi_kb/aelith           |\n| ramonimbao/herringbone/pro  |  rmi_kb/herringbone/pro  |\n| ramonimbao/herringbone/v1   |  rmi_kb/herringbone/v1   |\n| ramonimbao/mona/v1_1        |  rmi_kb/mona/v1_1        |\n| ramonimbao/mona/v1          |  rmi_kb/mona/v1          |\n| ramonimbao/mona/v32a        |  rmi_kb/mona/v32a        |\n| ramonimbao/squishy65        |  rmi_kb/squishy65        |\n| ramonimbao/squishytkl       |  rmi_kb/squishytkl       |\n| ramonimbao/tkl_ff           |  rmi_kb/tkl_ff           |\n| ramonimbao/tkl_ff/v1        |  rmi_kb/tkl_ff/v1        |\n| ramonimbao/tkl_ff/v2        |  rmi_kb/tkl_ff/v2        |\n| ramonimbao/wete/v1          |  rmi_kb/wete/v1          |\n| ramonimbao/wete/v2          |  rmi_kb/wete/v2          |\n| the_uni                     |  stenothe_uni            |\n| xelus/xs60                  |  xelus/xs60/soldered     |"
            },
            "Notable core changes {#notable-core}": "As per last breaking changes cycle, there has been _a lot_ of emphasis on behind-the-scenes changes, mainly around consolidation of core subsystems and constant values, as well as addressing tech debt. Whilst not outwardly visible, this cleanup and refactoring should start paying dividends as it simplifies future development and maintenance.\n\nA handful of examples:\n\n['Standardised the lower/raise/adjust layer change pattern with explicit keycodes and configurable target layers', 'Cleaned up a lot of Makefile logic to simplify and speed up builds', \"Automated tooling to regenerate keycode values has been hooked into the PR pipeline and will trigger failures if they're incorrect\", 'Many more configuration options have moved into `info.json`, such as backlight, encoders', \"Additional unit tests to ensure keycode behaviours don't accidentally change\"]",
            "Full changelist {#full-changelist}": "Core:\n\n['Remove IGNORE_MOD_TAP_INTERRUPT_PER_KEY in favour of HOLD_ON_OTHER_KEY_PRESS_PER_KEY ([#15741](https://github.com/qmk/qmk_firmware/pull/15741))', 'Add combo hook to allow per layer combo reference layers. ([#16699](https://github.com/qmk/qmk_firmware/pull/16699))', 'Replace Tapping Force Hold feature with Quick Tap Term ([#17007](https://github.com/qmk/qmk_firmware/pull/17007))', '[Test] Reset timer for every unit test and provide timestamps for log messages ([#17028](https://github.com/qmk/qmk_firmware/pull/17028))', 'Bug17281 - Retain momentary layers until the end of tapping ([#17282](https://github.com/qmk/qmk_firmware/pull/17282))', 'Detect host OS based on USB fingerprint ([#18463](https://github.com/qmk/qmk_firmware/pull/18463))', 'allow locking the matrix state ([#18852](https://github.com/qmk/qmk_firmware/pull/18852))', 'Initial DD keymap_extras migration ([#19031](https://github.com/qmk/qmk_firmware/pull/19031))', 'Support inverted scan logic for optical switches ([#19053](https://github.com/qmk/qmk_firmware/pull/19053))', 'Corrections to uart driver for Chibios platform ([#19075](https://github.com/qmk/qmk_firmware/pull/19075))', 'Remaining DD keymap_extras migration ([#19110](https://github.com/qmk/qmk_firmware/pull/19110))', 'Add udev rule for the WB32 DFU bootloader ([#19135](https://github.com/qmk/qmk_firmware/pull/19135))', 'Add Michi MCU Converter support ([#19163](https://github.com/qmk/qmk_firmware/pull/19163))', 'Add Split support for Haptic feedback ([#19203](https://github.com/qmk/qmk_firmware/pull/19203))', 'Allow mod-tap hold action on one shot layer ([#19214](https://github.com/qmk/qmk_firmware/pull/19214))', 'Remove RGBLIGHT_ANIMATIONS from core (+cleanup) ([#19216](https://github.com/qmk/qmk_firmware/pull/19216))', 'Revert WB32 ISO workaround ([#19224](https://github.com/qmk/qmk_firmware/pull/19224))', \"Prevent dynamic keymaps from processing layers that don't exist ([#19225](https://github.com/qmk/qmk_firmware/pull/19225))\", 'Add `*_RIGHT` configuration for PMW33XX driver ([#19243](https://github.com/qmk/qmk_firmware/pull/19243))', 'Remove deprecated led_set_kb ([#19273](https://github.com/qmk/qmk_firmware/pull/19273))', 'Tests that caps word stays active after use of OSL ([#19303](https://github.com/qmk/qmk_firmware/pull/19303))', 'Allow overriding of keymap/encodermap layer count. ([#19325](https://github.com/qmk/qmk_firmware/pull/19325))', 'guard action related debug messages ([#19348](https://github.com/qmk/qmk_firmware/pull/19348))', 'use `IS_EVENT` macro instead of `!IS_NOEVENT` ([#19366](https://github.com/qmk/qmk_firmware/pull/19366))', '[Test] Introduce VERIFY_AND_CLEAR shorthand ([#19370](https://github.com/qmk/qmk_firmware/pull/19370))', 'Add RGB565 and RGB888 color support to Quantum Painter ([#19382](https://github.com/qmk/qmk_firmware/pull/19382))', 'Initial DD keycode regen workflow ([#19400](https://github.com/qmk/qmk_firmware/pull/19400))', 'Update RGB matrix reactive gradient timer scale ([#19415](https://github.com/qmk/qmk_firmware/pull/19415))', 'De-obfuscate random8 functions ([#19416](https://github.com/qmk/qmk_firmware/pull/19416))', 'Use random8 for jellybean effect ([#19418](https://github.com/qmk/qmk_firmware/pull/19418))', 'Align definition of unicode_map ([#19452](https://github.com/qmk/qmk_firmware/pull/19452))', 'Add analog support for RP2040 ([#19453](https://github.com/qmk/qmk_firmware/pull/19453))', '[CI] Regenerate Files ([#19463](https://github.com/qmk/qmk_firmware/pull/19463))', 'Build warning when not valid work-tree ([#19475](https://github.com/qmk/qmk_firmware/pull/19475))', \"Migrate 'make git-submodule' to CLI command ([#19479](https://github.com/qmk/qmk_firmware/pull/19479))\", 'Remove cmp checks from Makefile ([#19480](https://github.com/qmk/qmk_firmware/pull/19480))', 'Replace list_keyboards.sh with CLI calls ([#19485](https://github.com/qmk/qmk_firmware/pull/19485))', 'Remove unused Makefile paths ([#19487](https://github.com/qmk/qmk_firmware/pull/19487))', 'Migrate submodule dirty check to CLI ([#19488](https://github.com/qmk/qmk_firmware/pull/19488))', 'Remove `make all-<platform>` build targets ([#19496](https://github.com/qmk/qmk_firmware/pull/19496))', 'Relax converter validation within keymap schema ([#19544](https://github.com/qmk/qmk_firmware/pull/19544))', 'De-duplicate platform detection ([#19545](https://github.com/qmk/qmk_firmware/pull/19545))', 'Add alias support for converters ([#19563](https://github.com/qmk/qmk_firmware/pull/19563))', 'Revert \"De-duplicate platform detection\" ([#19564](https://github.com/qmk/qmk_firmware/pull/19564))', 'Add mmoskal/uf2-stm32f103 bootloader support ([#19594](https://github.com/qmk/qmk_firmware/pull/19594))', 'usb_main.c: remove `CH_KERNEL_MAJOR` check ([#19597](https://github.com/qmk/qmk_firmware/pull/19597))', 'Use the correct keycode when updating WPM ([#19599](https://github.com/qmk/qmk_firmware/pull/19599))', 'De-duplicate platform detection ([#19603](https://github.com/qmk/qmk_firmware/pull/19603))', 'Refactor rain pixel function ([#19606](https://github.com/qmk/qmk_firmware/pull/19606))', 'ChibiOS: Consolidate report sending code ([#19607](https://github.com/qmk/qmk_firmware/pull/19607))', 'Add f303 to tinyuf2 bootloader support ([#19620](https://github.com/qmk/qmk_firmware/pull/19620))', 'Refactor Leader key feature ([#19632](https://github.com/qmk/qmk_firmware/pull/19632))', 'Split out mcu_selection to platform ([#19701](https://github.com/qmk/qmk_firmware/pull/19701))', 'Move MIDI code out of tmk_core ([#19704](https://github.com/qmk/qmk_firmware/pull/19704))', 'Remove deprecated Quantum keycodes ([#19712](https://github.com/qmk/qmk_firmware/pull/19712))', 'QP: Correct rotation and offset when using LVGL ([#19713](https://github.com/qmk/qmk_firmware/pull/19713))', 'Remove usages of config_common.h from config.h files. ([#19714](https://github.com/qmk/qmk_firmware/pull/19714))', 'Relocate diode direction definitions ([#19715](https://github.com/qmk/qmk_firmware/pull/19715))', 'Normalise Swap Hands keycodes ([#19720](https://github.com/qmk/qmk_firmware/pull/19720))', 'Strip out more of config_common ([#19722](https://github.com/qmk/qmk_firmware/pull/19722))', 'Remove `IS_HOST_LED_ON` and migrate usages ([#19753](https://github.com/qmk/qmk_firmware/pull/19753))', 'Move more unicode ranges to DD ([#19755](https://github.com/qmk/qmk_firmware/pull/19755))', 'Tidy up use of keycode range helpers ([#19756](https://github.com/qmk/qmk_firmware/pull/19756))', 'Tri Layer Keys ([#19795](https://github.com/qmk/qmk_firmware/pull/19795))', 'Remove matrix_init_quantum/matrix_scan_quantum ([#19806](https://github.com/qmk/qmk_firmware/pull/19806))', 'Tidy up use of keycode range helpers ([#19813](https://github.com/qmk/qmk_firmware/pull/19813))', 'Remove `config.h` include from quantum files ([#19817](https://github.com/qmk/qmk_firmware/pull/19817))', 'Add rp2040_ce and add elite-pi and helios as alias ([#19830](https://github.com/qmk/qmk_firmware/pull/19830))', 'Add swap hands status function ([#19831](https://github.com/qmk/qmk_firmware/pull/19831))', 'Align sequencer keycodes ([#19875](https://github.com/qmk/qmk_firmware/pull/19875))', 'Align magic keycodes ([#19877](https://github.com/qmk/qmk_firmware/pull/19877))', 'Move `KC_MISSION_CONTROL`/`KC_LAUNCHPAD` keycodes to core ([#19884](https://github.com/qmk/qmk_firmware/pull/19884))', 'Reallocate user/kb keycode ranges ([#19907](https://github.com/qmk/qmk_firmware/pull/19907))', 'Reallocate SAFE_RANGE ([#19909](https://github.com/qmk/qmk_firmware/pull/19909))', 'Hide hex output when building uf2 ([#19940](https://github.com/qmk/qmk_firmware/pull/19940))']\n\nCLI:\n\n['Automate \"Data Driven\" migrations? ([#17820](https://github.com/qmk/qmk_firmware/pull/17820))', 'Generate encodermap output from keymap.json. ([#18915](https://github.com/qmk/qmk_firmware/pull/18915))', 'Publish keymap.json to API ([#19167](https://github.com/qmk/qmk_firmware/pull/19167))', 'Apply suggested workaround for #18371 ([#19226](https://github.com/qmk/qmk_firmware/pull/19226))', 'Align new-keymap with new-keyboard ([#19229](https://github.com/qmk/qmk_firmware/pull/19229))', 'Validate keyboard name before accepting further input ([#19394](https://github.com/qmk/qmk_firmware/pull/19394))', 'Implement XAP style merge semantics for DD keycodes ([#19397](https://github.com/qmk/qmk_firmware/pull/19397))', 'Allow CLI to flash .uf2 files ([#19462](https://github.com/qmk/qmk_firmware/pull/19462))', 'Report submodule status when not valid work-tree ([#19474](https://github.com/qmk/qmk_firmware/pull/19474))', '`qmk compile`/`qmk flash` - Validate keymap argument ([#19530](https://github.com/qmk/qmk_firmware/pull/19530))', 'Add commit info to `version.h` ([#19542](https://github.com/qmk/qmk_firmware/pull/19542))', 'Remove CLI commands: `multibuild`, `cformat`, `fileformat`, `pyformat`. ([#19629](https://github.com/qmk/qmk_firmware/pull/19629))', 'Print distro in doctor output ([#19633](https://github.com/qmk/qmk_firmware/pull/19633))', 'Reduce false positives in layout name validation ([#19646](https://github.com/qmk/qmk_firmware/pull/19646))', 'Add `mass-compile` ability to filter by key existence. ([#19885](https://github.com/qmk/qmk_firmware/pull/19885))']\n\nSubmodule updates:\n\n['Update ChibiOS[-Contrib], SIO driver, configs ([#17915](https://github.com/qmk/qmk_firmware/pull/17915))', 'Quantum Painter - LVGL Integration ([#18499](https://github.com/qmk/qmk_firmware/pull/18499))', '[RP2040] update i2c drivers to reflect peripheral number ([#19277](https://github.com/qmk/qmk_firmware/pull/19277))', 'Update pico-sdk to 1.5.0 ([#19829](https://github.com/qmk/qmk_firmware/pull/19829))']\n\nKeyboards:\n\n['Refactor entire Handwired K552 keyboard ([#18066](https://github.com/qmk/qmk_firmware/pull/18066))', 'Moonlander: Add RGB LED layout map macro ([#18745](https://github.com/qmk/qmk_firmware/pull/18745))', 'Add the Ortho60 v2 Keyboard to QMK ([#18890](https://github.com/qmk/qmk_firmware/pull/18890))', 'Refactor xs60 with soldered and hotswap version ([#19049](https://github.com/qmk/qmk_firmware/pull/19049))', '[GMMK Pro] Change DEBOUNCE_TYPE to sym_eager_pk to reduce latency ([#19153](https://github.com/qmk/qmk_firmware/pull/19153))', 'Add KPrepublic BM16A v2 ([#19194](https://github.com/qmk/qmk_firmware/pull/19194))', 'Add Rama Works M60-B ([#19248](https://github.com/qmk/qmk_firmware/pull/19248))', 'Revert RESET-> QK_BOOT in Read Me files where applicable ([#19262](https://github.com/qmk/qmk_firmware/pull/19262))', 'Remove broken keymap/userspace ([#19271](https://github.com/qmk/qmk_firmware/pull/19271))', 'The Uni change folder location ([#19326](https://github.com/qmk/qmk_firmware/pull/19326))', 'New keymap for ID75 - paryz ([#19350](https://github.com/qmk/qmk_firmware/pull/19350))', 'Remove useless line continuations ([#19399](https://github.com/qmk/qmk_firmware/pull/19399))', 'Add The Uni Utility Belt Keymap ([#19411](https://github.com/qmk/qmk_firmware/pull/19411))', 'Migrate `MCU` and `BOOTLOADER` to data-driven ([#19529](https://github.com/qmk/qmk_firmware/pull/19529))', 'Migrate `LAYOUTS` to data driven ([#19541](https://github.com/qmk/qmk_firmware/pull/19541))', 'Tidy up use of CTPC ([#19570](https://github.com/qmk/qmk_firmware/pull/19570))', 'Remove matrix size defines ([#19581](https://github.com/qmk/qmk_firmware/pull/19581))', 'keebio/iris document LED matrix ([#19588](https://github.com/qmk/qmk_firmware/pull/19588))', 'Add support for current/voltage measurement on Ghoul. ([#19630](https://github.com/qmk/qmk_firmware/pull/19630))', 'Rename ramonimbao folder to rmi_kb ([#19699](https://github.com/qmk/qmk_firmware/pull/19699))', 'Remove commented out backlight config & stray \"backlight levels\" ([#19703](https://github.com/qmk/qmk_firmware/pull/19703))', 'Clean up Force NKRO in config.h ([#19718](https://github.com/qmk/qmk_firmware/pull/19718))', 'Remove unused `MATRIX_HAS_GHOST` from config.h ([#19726](https://github.com/qmk/qmk_firmware/pull/19726))', 'Debounce defines cleanup ([#19742](https://github.com/qmk/qmk_firmware/pull/19742))', 'Remove unused `LOCKING_SUPPORT_ENABLE` from config.h ([#19748](https://github.com/qmk/qmk_firmware/pull/19748))', 'Remove `DEBOUNCE` macro usage ([#19750](https://github.com/qmk/qmk_firmware/pull/19750))', 'Remove unused `GRAVE_ESC_CTRL_OVERRIDE` from config.h ([#19752](https://github.com/qmk/qmk_firmware/pull/19752))', 'Remove unused Bootmagic row/col defines from config.h ([#19761](https://github.com/qmk/qmk_firmware/pull/19761))', 'Remove unused `SOFT_SERIAL_PIN` from config.h ([#19768](https://github.com/qmk/qmk_firmware/pull/19768))', 'Remove `SOFT_SERIAL_PIN` for non-split boards ([#19774](https://github.com/qmk/qmk_firmware/pull/19774))', 'implement missing layouts + DD migration for wilba_tech/wt60_d ([#19777](https://github.com/qmk/qmk_firmware/pull/19777))', 'Move LED indicator config to data driven ([#19800](https://github.com/qmk/qmk_firmware/pull/19800))', 'Migrate `DIRECT_PINS` to data driven ([#19826](https://github.com/qmk/qmk_firmware/pull/19826))', 'Remove lingering `I2CD2` usages w/ RP2040 ([#19833](https://github.com/qmk/qmk_firmware/pull/19833))', 'Brick ([#19851](https://github.com/qmk/qmk_firmware/pull/19851))', 'Remove unused RGBLight defines from config.h ([#19859](https://github.com/qmk/qmk_firmware/pull/19859))', 'Move Bootmagic config to data driven ([#19860](https://github.com/qmk/qmk_firmware/pull/19860))', 'Move `SOFT_SERIAL_PIN` to data driven ([#19863](https://github.com/qmk/qmk_firmware/pull/19863))', 'Move layouts for direct_pins boards to data driven ([#19872](https://github.com/qmk/qmk_firmware/pull/19872))', 'Move QMK LUFA bootloader config to data driven ([#19879](https://github.com/qmk/qmk_firmware/pull/19879))', 'Move backlight config to data driven, part 1 ([#19887](https://github.com/qmk/qmk_firmware/pull/19887))', 'Add license headers to all default layout keymaps ([#19888](https://github.com/qmk/qmk_firmware/pull/19888))', 'Migrate some more layouts to data driven ([#19889](https://github.com/qmk/qmk_firmware/pull/19889))', 'Remove magic bodges from via keymaps ([#19890](https://github.com/qmk/qmk_firmware/pull/19890))', 'Refactor more `KC_MISSION_CONTROL`/`KC_LAUNCHPAD` usages ([#19891](https://github.com/qmk/qmk_firmware/pull/19891))', 'Remove default and unused `BACKLIGHT_LEVELS` ([#19898](https://github.com/qmk/qmk_firmware/pull/19898))', 'Move backlight config to data driven ([#19910](https://github.com/qmk/qmk_firmware/pull/19910))', 'Remove VIA specific use of `MACRO0*` ([#19918](https://github.com/qmk/qmk_firmware/pull/19918))', 'Use standard magic keycodes in `yandrstudio` keymaps ([#19919](https://github.com/qmk/qmk_firmware/pull/19919))', 'Move encoder config to data driven ([#19923](https://github.com/qmk/qmk_firmware/pull/19923))']\n\nKeyboard fixes:\n\n['Partially revert #18940 for Ploopy Thumb Trackball ([#18943](https://github.com/qmk/qmk_firmware/pull/18943))', \"Fix up Info.Json files that weren't parsing correctly ([#19275](https://github.com/qmk/qmk_firmware/pull/19275))\", 'Fix DZTECH Tofu II v1 i2c config ([#19306](https://github.com/qmk/qmk_firmware/pull/19306))', 'Fixup build failures. ([#19332](https://github.com/qmk/qmk_firmware/pull/19332))', 'Fixup horrortroll/handwired_k552 ([#19447](https://github.com/qmk/qmk_firmware/pull/19447))', 'Ignore defaults.hjson values if already set ([#19511](https://github.com/qmk/qmk_firmware/pull/19511))', 'Fix mk0_avr_extra PIN_COMPATIBLE lint warning ([#19640](https://github.com/qmk/qmk_firmware/pull/19640))', 'fix pegasushoof caps light, add via keymap ([#19649](https://github.com/qmk/qmk_firmware/pull/19649))', 'Fixup handwired/jscotto/scotto40 ([#19675](https://github.com/qmk/qmk_firmware/pull/19675))', 'Clean up remaining rules.mk `MCU`/`BOOTLOADER`s ([#19778](https://github.com/qmk/qmk_firmware/pull/19778))', 'Fix errors flagged by generate-api ([#19784](https://github.com/qmk/qmk_firmware/pull/19784))', 'Fix merge error with fave84 board ([#19808](https://github.com/qmk/qmk_firmware/pull/19808))', 'Fixup ek65 -- add processor & bootloader in `info.json` ([#19815](https://github.com/qmk/qmk_firmware/pull/19815))', 'Fixup durgod/dgk6x (scroll lock mis-defined as num lock) ([#19864](https://github.com/qmk/qmk_firmware/pull/19864))', 'Fix API generation ([#19866](https://github.com/qmk/qmk_firmware/pull/19866))', 'Fixup for_science ([#19867](https://github.com/qmk/qmk_firmware/pull/19867))', 'Fix more build failures ([#19869](https://github.com/qmk/qmk_firmware/pull/19869))', 'Fixup pegasushoof VIA keymap ([#19874](https://github.com/qmk/qmk_firmware/pull/19874))', 'Fixup cannonkeys/satisfaction75 (readd `backlight.breathing_period`) ([#19901](https://github.com/qmk/qmk_firmware/pull/19901))', 'Add some missing `#pragma once`s ([#19902](https://github.com/qmk/qmk_firmware/pull/19902))', '`keebio/kbo5000`: fix encoder config ([#19941](https://github.com/qmk/qmk_firmware/pull/19941))']\n\nOthers:\n\n['KC_GESC -> QK_GESC for cn and ja Docs ([#19024](https://github.com/qmk/qmk_firmware/pull/19024))', 'Update files changed action ([#19172](https://github.com/qmk/qmk_firmware/pull/19172))', 'DD bootmagic config ([#19201](https://github.com/qmk/qmk_firmware/pull/19201))', 'Rework input_pressed_state docs ([#19267](https://github.com/qmk/qmk_firmware/pull/19267))', 'Change log for Quick Tap Term ([#19341](https://github.com/qmk/qmk_firmware/pull/19341))', 'Promote CTPC warning to error ([#19565](https://github.com/qmk/qmk_firmware/pull/19565))', 'Run format-text on keyboard PRs ([#19656](https://github.com/qmk/qmk_firmware/pull/19656))', 'Change defines by enums ([#19793](https://github.com/qmk/qmk_firmware/pull/19793))', '[Doc]Remove depracted extension links in vscode guide ([#19842](https://github.com/qmk/qmk_firmware/pull/19842))']\n\nBugs:\n\n['Make Magic handling more consistent in Action Keycode handling ([#9126](https://github.com/qmk/qmk_firmware/pull/9126))', 'Fix functions when `NO_ACTION_TAPPING` is defined ([#11528](https://github.com/qmk/qmk_firmware/pull/11528))', 'Return USB HID GET_REPORT requests ([#14814](https://github.com/qmk/qmk_firmware/pull/14814))', 'Fixed NKRO issue caused by HID_SET_PROTOCOL on Chibios platform ([#17588](https://github.com/qmk/qmk_firmware/pull/17588))', 'kint36: do not restart USB stack after wakeup ([#19077](https://github.com/qmk/qmk_firmware/pull/19077))', 'Fixes to source generation [mostly typographic] ([#19160](https://github.com/qmk/qmk_firmware/pull/19160))', 'Teensy 3.5: do not restart USB stack after wakeup ([#19269](https://github.com/qmk/qmk_firmware/pull/19269))', 'Fixing PMW3389.c so it can compile ([#19301](https://github.com/qmk/qmk_firmware/pull/19301))', 'UCIS: remove `qk_` prefix ([#19302](https://github.com/qmk/qmk_firmware/pull/19302))', 'Leader: remove `qk_` prefix ([#19304](https://github.com/qmk/qmk_firmware/pull/19304))', 'Tap Dance: remove `qk_` prefix ([#19313](https://github.com/qmk/qmk_firmware/pull/19313))', 'Revert changes to keymap_steno.h ([#19412](https://github.com/qmk/qmk_firmware/pull/19412))', 'Use unique name for regen PR branches ([#19464](https://github.com/qmk/qmk_firmware/pull/19464))', 'Restore packing of midi note keycodes ([#19468](https://github.com/qmk/qmk_firmware/pull/19468))', \"Fix 'Need at least one layout defined in info.json' check ([#19537](https://github.com/qmk/qmk_firmware/pull/19537))\", '`qmk doctor` - Handle permission issues while checking udev ([#19548](https://github.com/qmk/qmk_firmware/pull/19548))', '`qmk doctor` - Handle timeouts while checking binaries ([#19549](https://github.com/qmk/qmk_firmware/pull/19549))', 'Fix CLI community detection ([#19562](https://github.com/qmk/qmk_firmware/pull/19562))', 'Fix joystick build for ChibiOS ([#19602](https://github.com/qmk/qmk_firmware/pull/19602))', 'Fix converter alias after 19603 ([#19644](https://github.com/qmk/qmk_firmware/pull/19644))', 'Fix functions with empty params ([#19647](https://github.com/qmk/qmk_firmware/pull/19647))', 'rp2040: fix timer wrap deadlock in ws2812 vendor driver ([#19652](https://github.com/qmk/qmk_firmware/pull/19652))', 'analog.c: Fix `pinToMux()` for STM32F0xx ([#19658](https://github.com/qmk/qmk_firmware/pull/19658))', 'Fix quantum ring_buffer for ChibiOS ([#19683](https://github.com/qmk/qmk_firmware/pull/19683))', 'Regen keycode_table for unit tests ([#19721](https://github.com/qmk/qmk_firmware/pull/19721))', 'Fix midi after recent refactoring ([#19723](https://github.com/qmk/qmk_firmware/pull/19723))', 'Fix build failures with `OPT = 0` due to inline functions ([#19767](https://github.com/qmk/qmk_firmware/pull/19767))', 'Fix tri layer compiler issue if NO_ACTION_LAYER is defined ([#19821](https://github.com/qmk/qmk_firmware/pull/19821))', 'Fixup `develop` compiles. ([#19828](https://github.com/qmk/qmk_firmware/pull/19828))', 'Fix Layer Mod mishandling of right-handed mods, a mixup of 5-bit vs. 8-bit mods representation. ([#19845](https://github.com/qmk/qmk_firmware/pull/19845))', 'Fix compilation issue for Key Overrides ([#19856](https://github.com/qmk/qmk_firmware/pull/19856))', 'Fix regen script for macOS ([#19857](https://github.com/qmk/qmk_firmware/pull/19857))', 'Fix compilation error when defining QUICK_TAP_TERM_PER_KEY ([#19893](https://github.com/qmk/qmk_firmware/pull/19893))', 'VIA Protocol 12 + fixes ([#19916](https://github.com/qmk/qmk_firmware/pull/19916))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 13]"
        },
        {
          "title": "QMK Breaking Changes - 2023 May 28 Changelog",
          "description": null,
          "content": {
            "Notable Changes {#notable-changes}": {
              "Repeat last key ([#19700](https://github.com/qmk/qmk_firmware/pull/19700)) {#repeat-last-key}": "A new pair of keys has been added to QMK -- namely `QK_REPEAT_KEY` and `QK_ALT_REPEAT_KEY` (shortened: `QK_REP`/`QK_AREP`). These allow you to repeat the last key pressed, or in the case of the alternate key, press the \"opposite\" of the last key. For example, if you press `KC_LEFT`, pressing `QK_REPEAT_KEY` afterwards repeats `KC_LEFT`, but pressing `QK_ALT_REPEAT_KEY` instead sends `KC_RIGHT`.\n\nThe full list of default alternate keys is available on the [Repeat Key](../features/repeat_key) documentation.\n\nTo enable these keys, in your keymap's `rules.mk`, add:\n\n```\nREPEAT_KEY_ENABLE = yes\n```\n\n...and add them to your keymap.",
              "User callback for pre process record ([#20584](https://github.com/qmk/qmk_firmware/pull/20584)) {#user-callback-for-pre-process-record}": "Two new boolean callback functions, `pre_process_record_kb` and `pre_process_record_user`, have been added. They are called at the beginning of `process_record`, right before `process_combo`.\n\nSimilar to existing `*_kb` and `*_user` callback functions, returning `false` will halt further processing of key events. The `pre_process_record_user` function will allow user space opportunity to handle or capture an input before it undergoes quantum processing. For example, while action tapping is still resolving the tap or hold output of a mod-tap key, `pre_process_record_user` can capture the next key record of an input event that follows. That key record can be used to influence the [decision of the mod-tap](../tap_hold) key that is currently undergoing quantum processing.",
              "Consolidate modelm ([#14996](https://github.com/qmk/qmk_firmware/pull/14996) {#consolidate-modelm}": "Several build targets for the IBM Model M were cluttered in different folders. The maintainers of several Model M replacement controller projects agreed to consolidate them under one common folder.\n\nThe list of all moved keyboard locations is listed [below](20230528#updated-keyboard-codebases)."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "`IGNORE_MOD_TAP_INTERRUPT` behaviour changes ([#20211](https://github.com/qmk/qmk_firmware/pull/20211)) {#i-m-t-i}": "Following up from the last breaking changes cycle, `IGNORE_MOD_TAP_INTERRUPT` has been removed and if present in keymap code, will now fail to build. The previous functionality for `IGNORE_MOD_TAP_INTERRUPT` is now default, and should you wish to revert to the old behaviour, you can use `HOLD_ON_OTHER_KEY_PRESS` instead.\n\nFor more information, you are invited to read the section on [HOLD_ON_OTHER_KEY_PRESS](../tap_hold#hold-on-other-key-press) in the page on [Tap-Hold configuration options](../tap_hold).",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "| Old Keyboard Name               | New Keyboard Name                   |\n|---------------------------------|-------------------------------------|\n| ashpil/modelm_usbc              | ibm/model_m/ashpil_usbc             |\n| binepad/bn009r2                 | binepad/bn009/r2                    |\n| converter/modelm101             | ibm/model_m/teensypp                |\n| converter/modelm101_teensy2     | ibm/model_m/teensy2                 |\n| converter/modelm_ssk            | ibm/model_m_ssk/teensypp_ssk        |\n| durgod/dgk6x/hades              | durgod/dgk6x/hades_ansi             |\n| handwired/ibm122m               | ibm/model_m_122/ibm122m             |\n| jacky_studio/piggy60/hotswap    | jacky_studio/piggy60/rev1/hotswap   |\n| jacky_studio/piggy60/solder     | jacky_studio/piggy60/rev1/solder    |\n| kamigakushi                     | jaykeeb/kamigakushi                 |\n| massdrop/thekey                 | drop/thekey/v1                      |\n| massdrop/thekey_v2              | drop/thekey/v2                      |\n| mschwingen/modelm               | ibm/model_m/mschwingen              |\n| tronguylabs/m122_3270           | ibm/model_m_122/m122_3270           |\n| tronguylabs/m122_3270/blackpill | ibm/model_m_122/m122_3270/blackpill |\n| tronguylabs/m122_3270/bluepill  | ibm/model_m_122/m122_3270/bluepill  |\n| tronguylabs/m122_3270/teensy    | ibm/model_m_122/m122_3270/teensy    |\n| yugo_m/model_m_101              | ibm/model_m/yugo_m                  |"
            },
            "Notable core changes {#notable-core}": {
              "Encoder functionality fallback ([#20320](https://github.com/qmk/qmk_firmware/pull/20320)) {#encoder-functionality-fallback}": "For keyboards who have not yet been migrated to encoder map, a default set of encoder functionality is now enabled, gracefully degrading functionality depending on which flags are enabled by the keyboard:\n\n['If `EXTRAKEY_ENABLE` is enabled by the keyboard, the encoder will be mapped to `KC_VOLU`/`KC_VOLD`', 'If `MOUSEKEY_ENABLE` is enabled by the keyboard, the encoder will be mapped to `KC_MS_WH_UP`/`KC_MS_WH_DOWN`', 'Otherwise, `KC_PGDN`/`KC_PGUP` will be used']\n\nAdditionally, this ensures that builds on QMK Configurator produce some sort of usable encoder mapping.",
              "OLED Driver Improvements ([#20331](https://github.com/qmk/qmk_firmware/pull/20331)) {#oled-driver-improvements}": "The \"classic\" OLED driver picked up support for additional sizes of OLED displays, support for the SH1107 controller, and SPI-based OLED support.\n\nOther configurable items are available and can be found on the [OLED Driver page](../features/oled_driver)."
            },
            "Full changelist {#full-changelist}": "Core:\n\n['Refactor `keyevent_t` for 1ms timing resolution ([#15847](https://github.com/qmk/qmk_firmware/pull/15847))', 'PS/2 PIO Driver for RP2040 ([#17893](https://github.com/qmk/qmk_firmware/pull/17893))', 'Relocate various modifier defines ([#18638](https://github.com/qmk/qmk_firmware/pull/18638))', 'Added PMW3320 driver ([#19543](https://github.com/qmk/qmk_firmware/pull/19543))', 'Keymap introspection for combos. ([#19670](https://github.com/qmk/qmk_firmware/pull/19670))', 'Add direction to dynamic_macro_record_start_user ([#19689](https://github.com/qmk/qmk_firmware/pull/19689))', 'Add Repeat Key (\"repeat last key\") as a core feature. ([#19700](https://github.com/qmk/qmk_firmware/pull/19700))', '[Cleanup] Quantum Painter ([#19825](https://github.com/qmk/qmk_firmware/pull/19825))', 'Improve robustness of AW20216 driver ([#19849](https://github.com/qmk/qmk_firmware/pull/19849))', 'Make \"detected_host_os()\" available on the SLAVE side of the split keyboard ([#19854](https://github.com/qmk/qmk_firmware/pull/19854))', \"Add RP2040 Community Edition alias for splitkb.com's Liatris controller ([#19966](https://github.com/qmk/qmk_firmware/pull/19966))\", 'Remove some use of keymap.h ([#19980](https://github.com/qmk/qmk_firmware/pull/19980))', 'Merge upstream changes to uf2conv ([#19993](https://github.com/qmk/qmk_firmware/pull/19993))', 'Remove keymap.h ([#20004](https://github.com/qmk/qmk_firmware/pull/20004))', 'Remove some use of keymap.h ([#20006](https://github.com/qmk/qmk_firmware/pull/20006))', 'Quantum Painter QoL enhancements -- auto-poweroff, auto-flush, buffer sizing ([#20013](https://github.com/qmk/qmk_firmware/pull/20013))', 'Make Pointing Device Auto Layer more configurable ([#20061](https://github.com/qmk/qmk_firmware/pull/20061))', 'Add last activity functions for pointing device ([#20079](https://github.com/qmk/qmk_firmware/pull/20079))', 'Caps Word \"Invert on shift\" option:  pressing Shift inverts the shift state. ([#20092](https://github.com/qmk/qmk_firmware/pull/20092))', 'Remove bootloader logic from `mcu_selection.mk` ([#20150](https://github.com/qmk/qmk_firmware/pull/20150))', 'Update qmk_cli container references ([#20154](https://github.com/qmk/qmk_firmware/pull/20154))', 'Clean up APA102 config and add DD mapping ([#20159](https://github.com/qmk/qmk_firmware/pull/20159))', 'Sync activity timestamps between sides. ([#20192](https://github.com/qmk/qmk_firmware/pull/20192))', 'Update Doxygen comments for some headers ([#20194](https://github.com/qmk/qmk_firmware/pull/20194))', 'Make IGNORE_MOD_TAP_INTERRUPT the default behaviour for mod-taps ([#20211](https://github.com/qmk/qmk_firmware/pull/20211))', 'Add some helpers to tidy up XAP ([#20235](https://github.com/qmk/qmk_firmware/pull/20235))', 'Tidy up duplication of MIN/MAX fallback implementations ([#20236](https://github.com/qmk/qmk_firmware/pull/20236))', 'Optionally keep intermediate file listings in order to do comparisons between builds. ([#20237](https://github.com/qmk/qmk_firmware/pull/20237))', 'Add basic profiler. ([#20238](https://github.com/qmk/qmk_firmware/pull/20238))', 'WS2812 driver improvements ([#20262](https://github.com/qmk/qmk_firmware/pull/20262))', 'typing_heatmap: Add macro to configure increase steps ([#20300](https://github.com/qmk/qmk_firmware/pull/20300))', 'Migrate `rgblight.pin` and `RGB_DI_PIN` to `ws2812.pin` ([#20303](https://github.com/qmk/qmk_firmware/pull/20303))', 'Delete config_common.h ([#20312](https://github.com/qmk/qmk_firmware/pull/20312))', 'Allow EEPROM_DRIVER from info.json ([#20313](https://github.com/qmk/qmk_firmware/pull/20313))', 'rp2040: *_PAL_MODE overridable for this platform too ([#20314](https://github.com/qmk/qmk_firmware/pull/20314))', 'Add core/fallback encoder behaviour ([#20320](https://github.com/qmk/qmk_firmware/pull/20320))', 'OLED Driver improvements ([#20331](https://github.com/qmk/qmk_firmware/pull/20331))', '[Chore] Remove stray mod tap interrupt defines and per key functions ([#20347](https://github.com/qmk/qmk_firmware/pull/20347))', 'Add swap hands toggle functions ([#20381](https://github.com/qmk/qmk_firmware/pull/20381))', 'Prevent Tri-Layer keys from stopping caps word ([#20398](https://github.com/qmk/qmk_firmware/pull/20398))', 'quantum/action_util.c: Use uint8_t for oneshot_layer_data ([#20423](https://github.com/qmk/qmk_firmware/pull/20423))', 'Encoder map direction define. ([#20454](https://github.com/qmk/qmk_firmware/pull/20454))', 'Realign and size check EECONFIG structures ([#20541](https://github.com/qmk/qmk_firmware/pull/20541))', 'Clean up ISSI drivers, Add IS31FL3736 support ([#20572](https://github.com/qmk/qmk_firmware/pull/20572))', 'Add a user callback for pre process record ([#20584](https://github.com/qmk/qmk_firmware/pull/20584))', \"Disable debug on QP's internal task ([#20623](https://github.com/qmk/qmk_firmware/pull/20623))\", 'Add required string header file ([#20638](https://github.com/qmk/qmk_firmware/pull/20638))', 'Add Develop is31fl3736 multi drivers ([#20642](https://github.com/qmk/qmk_firmware/pull/20642))', 'Support PS/2 mouse 9-bit output with MOUSE_EXTENDED_REPORT ([#20734](https://github.com/qmk/qmk_firmware/pull/20734))', 'BIOI G60/Morgan65: use custom Bluetooth driver ([#20897](https://github.com/qmk/qmk_firmware/pull/20897))', 'Move `pre_process_record_kb()` before `process_combo()` ([#20969](https://github.com/qmk/qmk_firmware/pull/20969))', 'Implement UF2 device type id extension tag ([#21029](https://github.com/qmk/qmk_firmware/pull/21029))']\n\nCLI:\n\n[\"Add force support to 'qmk git-submodule' ([#19705](https://github.com/qmk/qmk_firmware/pull/19705))\", 'JSON encoder: improve sorting of layout dict keys ([#19974](https://github.com/qmk/qmk_firmware/pull/19974))', 'Increase verbosity of make command ([#20172](https://github.com/qmk/qmk_firmware/pull/20172))', 'Append user variables to the end of make command ([#20177](https://github.com/qmk/qmk_firmware/pull/20177))', 'Strip API specific output from `qmk info` ([#20234](https://github.com/qmk/qmk_firmware/pull/20234))', '`qmk find`: usability improvements ([#20440](https://github.com/qmk/qmk_firmware/pull/20440))', '`qmk format-json`: Expose full key path and respect `sort_keys` ([#20836](https://github.com/qmk/qmk_firmware/pull/20836))', 'Update json2c to use dump_lines ([#21013](https://github.com/qmk/qmk_firmware/pull/21013))']\n\nSubmodule updates:\n\n['Update ChibiOS to latest stable 21.11.x ([#20470](https://github.com/qmk/qmk_firmware/pull/20470))']\n\nKeyboards:\n\n['Allow a larger int for the idle timeout for urbanvanilla keymap ([#19738](https://github.com/qmk/qmk_firmware/pull/19738))', 'Change aidansmithdotdev/fine40 to use Encoder Map ([#19912](https://github.com/qmk/qmk_firmware/pull/19912))', 'Custom keycodes in JSON ([#19925](https://github.com/qmk/qmk_firmware/pull/19925))', 'Remove `\"w\":1` and `\"h\":1` from info.json ([#19961](https://github.com/qmk/qmk_firmware/pull/19961))', 'Move matrix config to info.json, part 1 ([#19985](https://github.com/qmk/qmk_firmware/pull/19985))', 'Move matrix config to info.json, part 2 ([#19987](https://github.com/qmk/qmk_firmware/pull/19987))', 'Move matrix config to info.json, part 3 ([#19991](https://github.com/qmk/qmk_firmware/pull/19991))', 'Move matrix config to info.json, part 4 ([#20001](https://github.com/qmk/qmk_firmware/pull/20001))', 'Move matrix config to info.json, part 5 ([#20003](https://github.com/qmk/qmk_firmware/pull/20003))', 'Move matrix config to info.json, part 6 ([#20019](https://github.com/qmk/qmk_firmware/pull/20019))', 'Move matrix config to info.json, part 7 ([#20020](https://github.com/qmk/qmk_firmware/pull/20020))', 'Move matrix config to info.json, part 8 ([#20030](https://github.com/qmk/qmk_firmware/pull/20030))', 'Remove empty rules.mk from keymaps ([#20056](https://github.com/qmk/qmk_firmware/pull/20056))', 'Adjust offset for some layouts ([#20075](https://github.com/qmk/qmk_firmware/pull/20075))', 'Remove useless \"ifdef KEYBOARD_*\" ([#20078](https://github.com/qmk/qmk_firmware/pull/20078))', 'Remove pointless `USE_I2C` blocks in keyboard headers ([#20084](https://github.com/qmk/qmk_firmware/pull/20084))', 'Add support for ISO version of Durgod Hades ([#20110](https://github.com/qmk/qmk_firmware/pull/20110))', 'Consolidate Binepad BN009 R1 and R2 into common folder ([#20113](https://github.com/qmk/qmk_firmware/pull/20113))', 'Remove more empty headers ([#20155](https://github.com/qmk/qmk_firmware/pull/20155))', 'Remove trailing zeroes in info.json layouts ([#20156](https://github.com/qmk/qmk_firmware/pull/20156))', 'Clean up usage of `QMK_KEYBOARD_H` ([#20167](https://github.com/qmk/qmk_firmware/pull/20167))', 'Move Keychron Q0 and Q0 Plus data-driven configuration; `keychron` keymap `rules.mk` cleanup ([#20168](https://github.com/qmk/qmk_firmware/pull/20168))', 'Move ortho & numpad layouts to data driven ([#20183](https://github.com/qmk/qmk_firmware/pull/20183))', 'Remove `RGB_DI_PIN` ifdefs ([#20218](https://github.com/qmk/qmk_firmware/pull/20218))', 'Add the KJ-Modify RS40 PCB keyboard ([#20243](https://github.com/qmk/qmk_firmware/pull/20243))', 'Move `WS2812_DRIVER` to data driven ([#20248](https://github.com/qmk/qmk_firmware/pull/20248))', '[jacky_studio/piggy60] move AVR PCB under rev1 ([#20253](https://github.com/qmk/qmk_firmware/pull/20253))', 'Move 75% and 96% layouts to data driven ([#20289](https://github.com/qmk/qmk_firmware/pull/20289))', 'Move split layouts to data driven ([#20290](https://github.com/qmk/qmk_firmware/pull/20290))', 'Move 66% and 68% layouts to data driven ([#20293](https://github.com/qmk/qmk_firmware/pull/20293))', 'add jacky_studio/piggy60/rev2 ([#20297](https://github.com/qmk/qmk_firmware/pull/20297))', 'Move 65% layouts to data driven ([#20308](https://github.com/qmk/qmk_firmware/pull/20308))', 'Move TKL F13 and FRL layouts to data driven ([#20310](https://github.com/qmk/qmk_firmware/pull/20310))', 'Remove some use of keymap.h ([#20316](https://github.com/qmk/qmk_firmware/pull/20316))', 'Move fullsize layouts to data driven ([#20317](https://github.com/qmk/qmk_firmware/pull/20317))', 'Add 36-key layout for Beekeeb Piantor ([#20328](https://github.com/qmk/qmk_firmware/pull/20328))', 'Add sriwedari70 and move kamigakushi to new folder ([#20334](https://github.com/qmk/qmk_firmware/pull/20334))', 'Move TKL layouts to data driven ([#20337](https://github.com/qmk/qmk_firmware/pull/20337))', 'Move Alice and Ergodox layouts to data driven ([#20340](https://github.com/qmk/qmk_firmware/pull/20340))', 'Move small macropad-ish layouts to data driven ([#20341](https://github.com/qmk/qmk_firmware/pull/20341))', 'Move `default` layouts to data driven ([#20349](https://github.com/qmk/qmk_firmware/pull/20349))', 'Move `RGB_MATRIX_DRIVER` to data driven ([#20350](https://github.com/qmk/qmk_firmware/pull/20350))', 'Move split space/backspace layouts to data driven ([#20356](https://github.com/qmk/qmk_firmware/pull/20356))', 'Move single `LAYOUT`s to data driven ([#20365](https://github.com/qmk/qmk_firmware/pull/20365))', 'Add encoder map for Iris Rev. 5 VIA ([#20412](https://github.com/qmk/qmk_firmware/pull/20412))', 'Move remaining `LAYOUT`s to data driven ([#20422](https://github.com/qmk/qmk_firmware/pull/20422))', 'Move single `LAYOUT_all`s to data driven ([#20430](https://github.com/qmk/qmk_firmware/pull/20430))', '4pplet/yakiimo Layout Macro Conversion and Additions ([#20436](https://github.com/qmk/qmk_firmware/pull/20436))', 'Move single `60_ansi`, `60_hhkb` and `60_iso` layouts to data driven ([#20438](https://github.com/qmk/qmk_firmware/pull/20438))', 'Update brauner preonic layout ([#20439](https://github.com/qmk/qmk_firmware/pull/20439))', 'AEBoards Satellite Rev1 Layout Macro Conversion ([#20442](https://github.com/qmk/qmk_firmware/pull/20442))', 'Acheron Austin Layout Macro Conversion and Additions ([#20443](https://github.com/qmk/qmk_firmware/pull/20443))', 'Move remaining `LAYOUT_all`s to data driven ([#20463](https://github.com/qmk/qmk_firmware/pull/20463))', 'Update lotus58 RGB config ([#20468](https://github.com/qmk/qmk_firmware/pull/20468))', 'Cleanup `ekow/akira` ([#20474](https://github.com/qmk/qmk_firmware/pull/20474))', 'Move 60% layouts to data driven ([#20477](https://github.com/qmk/qmk_firmware/pull/20477))', 'Move DZ60 and MJ6XY layouts to data driven ([#20478](https://github.com/qmk/qmk_firmware/pull/20478))', 'AEBoards Constellation Layout Macro Updates ([#20487](https://github.com/qmk/qmk_firmware/pull/20487))', 'AI03 Equinox Layout Macro Additions ([#20488](https://github.com/qmk/qmk_firmware/pull/20488))', 'AI03 Vega Layout Macro Additions ([#20489](https://github.com/qmk/qmk_firmware/pull/20489))', 'AKB OGR Layout Macro Additions ([#20490](https://github.com/qmk/qmk_firmware/pull/20490))', 'AKB Vero Layout Macro Additions ([#20491](https://github.com/qmk/qmk_firmware/pull/20491))', 'Alf DC60 Layout Macro Additions ([#20494](https://github.com/qmk/qmk_firmware/pull/20494))', 'Alf X2 Layout Macro Additions ([#20495](https://github.com/qmk/qmk_firmware/pull/20495))', 'Koolertron AMAG23 Touch-Up ([#20496](https://github.com/qmk/qmk_firmware/pull/20496))', 'BIOI G60 Layout Macro Additions ([#20498](https://github.com/qmk/qmk_firmware/pull/20498))', 'BIOI Morgan65 Layout Macro Additions ([#20499](https://github.com/qmk/qmk_firmware/pull/20499))', 'BIOI S65 Layout Macro Additions ([#20500](https://github.com/qmk/qmk_firmware/pull/20500))', 'Boston Layout Macro Additions ([#20504](https://github.com/qmk/qmk_firmware/pull/20504))', 'Potato65S Layout Macro Additions ([#20508](https://github.com/qmk/qmk_firmware/pull/20508))', 'Move miscellaneous layouts to data driven ([#20516](https://github.com/qmk/qmk_firmware/pull/20516))', 'Cable Car Designs Cypher rev6 Layout Additions and Touch-Up ([#20518](https://github.com/qmk/qmk_firmware/pull/20518))', 'Caffeinated Studios Serpent65 Layout Macro Additions ([#20519](https://github.com/qmk/qmk_firmware/pull/20519))', 'CannonKeys Adelie Layout Macro Additions ([#20546](https://github.com/qmk/qmk_firmware/pull/20546))', 'CannonKeys Aella Layout Macro Additions ([#20547](https://github.com/qmk/qmk_firmware/pull/20547))', 'CannonKeys Balance Layout Macro Additions and Touch-Up ([#20548](https://github.com/qmk/qmk_firmware/pull/20548))', 'CannonKeys Brutal v2 1800 Layout Macro Additions ([#20549](https://github.com/qmk/qmk_firmware/pull/20549))', 'CannonKeys Brutal v2 65 Layout Macro Additions ([#20552](https://github.com/qmk/qmk_firmware/pull/20552))', 'CannonKeys Cloudline Layout Macro Additions ([#20553](https://github.com/qmk/qmk_firmware/pull/20553))', 'CannonKeys Crin Layout Macro Additions ([#20554](https://github.com/qmk/qmk_firmware/pull/20554))', 'CannonKeys DevastatingTKL Layout Macro Additions ([#20555](https://github.com/qmk/qmk_firmware/pull/20555))', 'CannonKeys Ellipse Layout Macro Additions ([#20558](https://github.com/qmk/qmk_firmware/pull/20558))', 'CannonKeys Ellipse Hotswap Layout Macro Addition & Touch-Up ([#20560](https://github.com/qmk/qmk_firmware/pull/20560))', 'CannonKeys Gentoo Layout Macro Additions ([#20561](https://github.com/qmk/qmk_firmware/pull/20561))', 'CannonKeys Gentoo Hotswap Touch-Up ([#20562](https://github.com/qmk/qmk_firmware/pull/20562))', 'CannonKeys HoodrowG Layout Macro Additions ([#20563](https://github.com/qmk/qmk_firmware/pull/20563))', 'CannonKeys Moment Layout Macro Additions ([#20564](https://github.com/qmk/qmk_firmware/pull/20564))', 'CannonKeys Moment Hotswap Touch-Up ([#20565](https://github.com/qmk/qmk_firmware/pull/20565))', 'CannonKeys Nearfield Layout Macro Addition ([#20566](https://github.com/qmk/qmk_firmware/pull/20566))', 'CannonKeys Obliterated75 Layout Macro Additions ([#20567](https://github.com/qmk/qmk_firmware/pull/20567))', 'CannonKeys Onyx Layout Macro Additions ([#20568](https://github.com/qmk/qmk_firmware/pull/20568))', 'CannonKeys Rekt1800 Layout Macro Additions ([#20569](https://github.com/qmk/qmk_firmware/pull/20569))', 'CannonKeys Serenity Layout Macro Additions ([#20570](https://github.com/qmk/qmk_firmware/pull/20570))', 'CannonKeys Vector Layout Macro Additions ([#20571](https://github.com/qmk/qmk_firmware/pull/20571))', 'Carbo65 Community Layout support ([#20580](https://github.com/qmk/qmk_firmware/pull/20580))', 'cest73 TKM Layout Macro Additions ([#20583](https://github.com/qmk/qmk_firmware/pull/20583))', 'Charue Charon Layout Macro Additions ([#20585](https://github.com/qmk/qmk_firmware/pull/20585))', 'Charue Sunsetter R2 Layout Macro Additions ([#20586](https://github.com/qmk/qmk_firmware/pull/20586))', 'Remove `FLIP_HALF` layouts and move to data driven ([#20588](https://github.com/qmk/qmk_firmware/pull/20588))', 'update ymdk/id75/rules.mk for develop ([#20592](https://github.com/qmk/qmk_firmware/pull/20592))', 'CherryB Studio CB1800 Layout Macro Additions ([#20593](https://github.com/qmk/qmk_firmware/pull/20593))', 'CherryB Studio CB65 Layout Macro Additions ([#20594](https://github.com/qmk/qmk_firmware/pull/20594))', 'CherryB Studio CB87RGB Layout Macro Additions ([#20595](https://github.com/qmk/qmk_firmware/pull/20595))', 'CheckerBoards G_IDB60 Layout Macro Edits ([#20596](https://github.com/qmk/qmk_firmware/pull/20596))', 'CherryB Studio CB87v2 Layout Macro Additions ([#20597](https://github.com/qmk/qmk_firmware/pull/20597))', 'CX60 Community Layout Support ([#20598](https://github.com/qmk/qmk_firmware/pull/20598))', 'Demiurge Layout Macro Touch-Up ([#20599](https://github.com/qmk/qmk_firmware/pull/20599))', 'Ducky One 2 SF 1967ST Layout Macro Additions ([#20600](https://github.com/qmk/qmk_firmware/pull/20600))', 'Move `FORCE_NKRO` to data driven ([#20604](https://github.com/qmk/qmk_firmware/pull/20604))', 'dyz Synthesis60 Layout Macro Addition ([#20610](https://github.com/qmk/qmk_firmware/pull/20610))', 'DZTech Bocc Layout Macro Additions ([#20611](https://github.com/qmk/qmk_firmware/pull/20611))', 'E88 Layout Macro Additions ([#20612](https://github.com/qmk/qmk_firmware/pull/20612))', 'Emery65 Layout Macro Additions ([#20613](https://github.com/qmk/qmk_firmware/pull/20613))', 'EvyD13 MX5160 Layout Macro Additions ([#20614](https://github.com/qmk/qmk_firmware/pull/20614))', 'FJLabs AD65 Layout Macro Additions ([#20619](https://github.com/qmk/qmk_firmware/pull/20619))', 'FJLabs Avalon Layout Additions and Touch-Up ([#20620](https://github.com/qmk/qmk_firmware/pull/20620))', 'FJLabs Midway60 Layout Macro Additions ([#20621](https://github.com/qmk/qmk_firmware/pull/20621))', 'FJLabs Polaris Layout Additions and Touch-Up ([#20622](https://github.com/qmk/qmk_firmware/pull/20622))', 'FJLabs Sinanju WK Layout Additions and Touch-Up ([#20628](https://github.com/qmk/qmk_firmware/pull/20628))', 'LFK87 refactor ([#20635](https://github.com/qmk/qmk_firmware/pull/20635))', 'Fox Lab Time80 Layout Macro Additions ([#20636](https://github.com/qmk/qmk_firmware/pull/20636))', 'FJLabs Solanis Layout Macro Additions ([#20639](https://github.com/qmk/qmk_firmware/pull/20639))', 'GrayStudio Aero 75 Refactor and Touch-Up ([#20640](https://github.com/qmk/qmk_firmware/pull/20640))', 'Move `USB_MAX_POWER_CONSUMPTION` to data driven ([#20648](https://github.com/qmk/qmk_firmware/pull/20648))', '`info.json` whitespace cleanups ([#20651](https://github.com/qmk/qmk_firmware/pull/20651))', 'Hand88 Layout Macro Additions ([#20657](https://github.com/qmk/qmk_firmware/pull/20657))', 'Cyberstar Handwired Layout Macro Additions ([#20658](https://github.com/qmk/qmk_firmware/pull/20658))', 'split_65 Handwired Layout Macro Addition and Touch-Up ([#20659](https://github.com/qmk/qmk_firmware/pull/20659))', 'Bebol Handwired Layout Macro Additions ([#20660](https://github.com/qmk/qmk_firmware/pull/20660))', 'Glacier Handwired Layout Macro Addition and Touch-Up ([#20661](https://github.com/qmk/qmk_firmware/pull/20661))', 'Koalafications Handwired Layout Macro Additions ([#20662](https://github.com/qmk/qmk_firmware/pull/20662))', 'The Galleon Handwired Layout Macro Additions ([#20663](https://github.com/qmk/qmk_firmware/pull/20663))', 'More `info.json` whitespace cleanups ([#20665](https://github.com/qmk/qmk_firmware/pull/20665))', 'Remove use of layout macros for LFKeyboards LED config ([#20666](https://github.com/qmk/qmk_firmware/pull/20666))', 'Helix rev2: remove 4 rows option ([#20667](https://github.com/qmk/qmk_firmware/pull/20667))', 'Wakizashi40 Handwired Touch-Up ([#20671](https://github.com/qmk/qmk_firmware/pull/20671))', 'yttyx: convert readme to utf-8 encoding ([#20672](https://github.com/qmk/qmk_firmware/pull/20672))', 'Alicia Cook Layout Macro Additions ([#20675](https://github.com/qmk/qmk_firmware/pull/20675))', 'Primus75 Layout Macro Additions ([#20676](https://github.com/qmk/qmk_firmware/pull/20676))', 'Volcano660 Layout Macro Additions ([#20677](https://github.com/qmk/qmk_firmware/pull/20677))', 'Iris Keyboards Iris60 Layout Macro Additions ([#20678](https://github.com/qmk/qmk_firmware/pull/20678))', 'Irene Layout Macro Additions ([#20679](https://github.com/qmk/qmk_firmware/pull/20679))', 'Iron180 Layout Macro Additions ([#20680](https://github.com/qmk/qmk_firmware/pull/20680))', 'kinesis/alvicstep: remove kicad project files ([#20681](https://github.com/qmk/qmk_firmware/pull/20681))', 'Remove more junk files and scripts ([#20682](https://github.com/qmk/qmk_firmware/pull/20682))', 'JKeys Design Gentleman65 Layout Macro Addition and Touch-Up ([#20684](https://github.com/qmk/qmk_firmware/pull/20684))', 'JKeys Design Gentleman65 Suited Edition Layout Macro Addition ([#20685](https://github.com/qmk/qmk_firmware/pull/20685))', 'add additional layouts to `dactyl_manuform` variants ([#20688](https://github.com/qmk/qmk_firmware/pull/20688))', 'TheDogKeyboard Layout Macro Addition ([#20689](https://github.com/qmk/qmk_firmware/pull/20689))', 'KBDfans Bella Soldered Layout Macro Additions ([#20691](https://github.com/qmk/qmk_firmware/pull/20691))', 'KBDfans Bounce75 Hotswap Touch-Up ([#20692](https://github.com/qmk/qmk_firmware/pull/20692))', 'KBDfans KBD66 Layout Additions and Refactor ([#20693](https://github.com/qmk/qmk_firmware/pull/20693))', 'KBDfans Odin RGB Touch-Up ([#20694](https://github.com/qmk/qmk_firmware/pull/20694))', 'KBDfans Odin Soldered Layout Additions and Touch-Up ([#20695](https://github.com/qmk/qmk_firmware/pull/20695))', 'keebzdotnet FMe Layout Additions ([#20696](https://github.com/qmk/qmk_firmware/pull/20696))', 'Kegen G-Boy Layout Additions ([#20697](https://github.com/qmk/qmk_firmware/pull/20697))', 'Escape Unicode characters in info.json ([#20698](https://github.com/qmk/qmk_firmware/pull/20698))', \"Kiko's Lab Ellora65 Layout Additions ([#20699](https://github.com/qmk/qmk_firmware/pull/20699))\", 'Even more `info.json` whitespace cleanups ([#20703](https://github.com/qmk/qmk_firmware/pull/20703))', 'kkatano Bakeneko 65 V3 Layout Additions ([#20706](https://github.com/qmk/qmk_firmware/pull/20706))', 'kopibeng MNK65 Layout Additions ([#20708](https://github.com/qmk/qmk_firmware/pull/20708))', 'kopibeng Typ65+ Layout Additions ([#20710](https://github.com/qmk/qmk_firmware/pull/20710))', 'kopibeng XT60 Layout Additions ([#20711](https://github.com/qmk/qmk_firmware/pull/20711))', 'kopibeng XT60_SINGA Layout Additions ([#20712](https://github.com/qmk/qmk_firmware/pull/20712))', 'kopibeng XT8x Layout Additions ([#20713](https://github.com/qmk/qmk_firmware/pull/20713))', 'Lefty Touch-Up ([#20714](https://github.com/qmk/qmk_firmware/pull/20714))', 'Loki65 Layout Additions ([#20715](https://github.com/qmk/qmk_firmware/pull/20715))', 'Lucid Alexa Solder Layout Additions ([#20716](https://github.com/qmk/qmk_firmware/pull/20716))', 'Lucid Phantom Soldered Layout Additions ([#20717](https://github.com/qmk/qmk_firmware/pull/20717))', 'Leftover30 Layout Addition ([#20718](https://github.com/qmk/qmk_firmware/pull/20718))', 'Matrix Cain RE Touch-Up ([#20719](https://github.com/qmk/qmk_firmware/pull/20719))', 'Matrix Lab 8XV1.2 OG Layout Updates ([#20720](https://github.com/qmk/qmk_firmware/pull/20720))', 'Mechlovin Studio Hex6C Layout Additions ([#20722](https://github.com/qmk/qmk_firmware/pull/20722))', 'Mechlovin.Studio Rogue87 Rev.1 Layout Additions ([#20724](https://github.com/qmk/qmk_firmware/pull/20724))', 'Mechlovin.Studio Rouge87 Rev.1 Layout Additions ([#20725](https://github.com/qmk/qmk_firmware/pull/20725))', 'Mechlovin.Studio infinity87 Rev.1 Layout Additions ([#20726](https://github.com/qmk/qmk_firmware/pull/20726))', 'Mechlovin.Studio Infinity87 RGB Rev1 Layout Additions ([#20727](https://github.com/qmk/qmk_firmware/pull/20727))', 'Mechlovin9 Layout Addition ([#20728](https://github.com/qmk/qmk_firmware/pull/20728))', '1upkeyboards/pi50 WS2812_DI_PIN patch for develop ([#20731](https://github.com/qmk/qmk_firmware/pull/20731))', 'Mechlovin.Studio Infinity87 Rev.2 Layout Additions ([#20735](https://github.com/qmk/qmk_firmware/pull/20735))', 'Mechlovin.Studio Olly JF Layout Additions ([#20736](https://github.com/qmk/qmk_firmware/pull/20736))', 'Mechlovin Studio Serratus Layout Additions ([#20737](https://github.com/qmk/qmk_firmware/pull/20737))', 'MechWild Mercutio Layout Addition ([#20738](https://github.com/qmk/qmk_firmware/pull/20738))', 'MisterKnife Knife66 ISO Layout Addition ([#20739](https://github.com/qmk/qmk_firmware/pull/20739))', 'MNK1800s Layout Addition ([#20740](https://github.com/qmk/qmk_firmware/pull/20740))', 'MNK75 Layout Additions ([#20741](https://github.com/qmk/qmk_firmware/pull/20741))', 'Mode SixtyFive S Layout Additions ([#20742](https://github.com/qmk/qmk_firmware/pull/20742))', 'Mode SeventyFive H Layout Addition ([#20743](https://github.com/qmk/qmk_firmware/pull/20743))', 'Monstargear XO87 Soldered Layout Additions ([#20744](https://github.com/qmk/qmk_firmware/pull/20744))', 'MTBKeys MTB60 Solder Layout Additions ([#20745](https://github.com/qmk/qmk_firmware/pull/20745))', 'Nix Keyboards Day Off 60 Touch-Up and Layout Additions ([#20746](https://github.com/qmk/qmk_firmware/pull/20746))', 'Kastenwagen 1840 Layout Addition ([#20747](https://github.com/qmk/qmk_firmware/pull/20747))', 'Kastenwagen 48 Layout Addition ([#20748](https://github.com/qmk/qmk_firmware/pull/20748))', 'NovelKeys NK87 Touch-Up ([#20749](https://github.com/qmk/qmk_firmware/pull/20749))', 'NovelKeys NK87B Touch-Up ([#20750](https://github.com/qmk/qmk_firmware/pull/20750))', 'Noxary 378 Layout Addition ([#20751](https://github.com/qmk/qmk_firmware/pull/20751))', 'Noxary Valhalla Layout Addition ([#20752](https://github.com/qmk/qmk_firmware/pull/20752))', 'Nightly Boards/DeskDaily Daily60 Layout Additions ([#20753](https://github.com/qmk/qmk_firmware/pull/20753))', 'Odelia Touch-Up ([#20754](https://github.com/qmk/qmk_firmware/pull/20754))', 'One Key Co Dango40 Touch-Up and Layout Addition ([#20755](https://github.com/qmk/qmk_firmware/pull/20755))', 'P3D Glitch Layout Addition ([#20763](https://github.com/qmk/qmk_firmware/pull/20763))', 'Pearl Boards Pandora Layout Additions ([#20764](https://github.com/qmk/qmk_firmware/pull/20764))', 'Pearl Boards Pearl Layout Addition ([#20765](https://github.com/qmk/qmk_firmware/pull/20765))', 'support boards with APM32 instead of the STM32 ([#20770](https://github.com/qmk/qmk_firmware/pull/20770))', 'Pearl Boards Zeus Layout Additions ([#20773](https://github.com/qmk/qmk_firmware/pull/20773))', 'Peej Rosaline Staggered Layout Additions ([#20774](https://github.com/qmk/qmk_firmware/pull/20774))', 'plywrks Lune Layout Touch-Up ([#20775](https://github.com/qmk/qmk_firmware/pull/20775))', 'Project Keyboard Signature65 Layout Additions ([#20776](https://github.com/qmk/qmk_firmware/pull/20776))', 'protoTypist Allison Layout Additions ([#20777](https://github.com/qmk/qmk_firmware/pull/20777))', 'Prototypist J-01 Rev1 Layout Additions ([#20778](https://github.com/qmk/qmk_firmware/pull/20778))', 'Protozoa Cassini Layout Additions ([#20779](https://github.com/qmk/qmk_firmware/pull/20779))', 'Protozoa P.01 Layout Additions ([#20781](https://github.com/qmk/qmk_firmware/pull/20781))', 'QwertleKeys Calice Layout Addition ([#20782](https://github.com/qmk/qmk_firmware/pull/20782))', 'Ramlord WITF Layout Touch-Up and Addition ([#20783](https://github.com/qmk/qmk_firmware/pull/20783))', 'Rart45: rename LAYOUT_all to LAYOUT ([#20784](https://github.com/qmk/qmk_firmware/pull/20784))', 'Rart60 Layout Additions ([#20785](https://github.com/qmk/qmk_firmware/pull/20785))', 'Rart67 Layout Additions ([#20786](https://github.com/qmk/qmk_firmware/pull/20786))', 'Rart67M: rename LAYOUT_all to LAYOUT ([#20787](https://github.com/qmk/qmk_firmware/pull/20787))', 'RART75 Layout Additions ([#20788](https://github.com/qmk/qmk_firmware/pull/20788))', 'RART75 Hotswap Layout Additions ([#20789](https://github.com/qmk/qmk_firmware/pull/20789))', 'RART75M: rename LAYOUT_all to LAYOUT ([#20790](https://github.com/qmk/qmk_firmware/pull/20790))', 'RART80 Hotswap Layout Additions ([#20791](https://github.com/qmk/qmk_firmware/pull/20791))', 'Rartand Layout Additions ([#20799](https://github.com/qmk/qmk_firmware/pull/20799))', 'Rartlice: rename LAYOUT_all to LAYOUT ([#20800](https://github.com/qmk/qmk_firmware/pull/20800))', 'Ratio65 Hotswap: rename LAYOUT_all to LAYOUT_65_ansi_blocker ([#20801](https://github.com/qmk/qmk_firmware/pull/20801))', 'Ratio65 Solder Layout Additions ([#20802](https://github.com/qmk/qmk_firmware/pull/20802))', 'Specifying the default board file is redundant ([#20807](https://github.com/qmk/qmk_firmware/pull/20807))', 'RGBKB Pan Layout Additions ([#20809](https://github.com/qmk/qmk_firmware/pull/20809))', 'saevus cor Layout Additions ([#20810](https://github.com/qmk/qmk_firmware/pull/20810))', 'Clean up trailing commas from info.json ([#20812](https://github.com/qmk/qmk_firmware/pull/20812))', 'Enable LTO on salicylic acid 7skb to reduce size ([#20813](https://github.com/qmk/qmk_firmware/pull/20813))', \"Reduce compiled size for mt64rgb's via keymap ([#20814](https://github.com/qmk/qmk_firmware/pull/20814))\", \"Reduce compiled size for prototypist oceanographer's via keymap ([#20816](https://github.com/qmk/qmk_firmware/pull/20816))\", 'Sauce Mild Layout Additions ([#20818](https://github.com/qmk/qmk_firmware/pull/20818))', 'VCL x SawnsProjects VCL65 Layout Additions ([#20819](https://github.com/qmk/qmk_firmware/pull/20819))', 'senselessclay had60 Layout Additions ([#20820](https://github.com/qmk/qmk_firmware/pull/20820))', 'Space Holdings Nebula12B ([#20821](https://github.com/qmk/qmk_firmware/pull/20821))', 'SmithRune Iron180 Layout Additions ([#20822](https://github.com/qmk/qmk_firmware/pull/20822))', 'Stello65 Beta Layout Additions and Clean-Up ([#20824](https://github.com/qmk/qmk_firmware/pull/20824))', 'Studio Kestra Nue Layout Additions ([#20825](https://github.com/qmk/qmk_firmware/pull/20825))', 'Switchplate Peripherals 910 Layout Additions ([#20827](https://github.com/qmk/qmk_firmware/pull/20827))', 'TKC California Layout Addition and Touch-Up ([#20829](https://github.com/qmk/qmk_firmware/pull/20829))', 'TKC M0lly Layout Additions ([#20830](https://github.com/qmk/qmk_firmware/pull/20830))', 'TKC TKL A/B87 Layout Additions ([#20831](https://github.com/qmk/qmk_firmware/pull/20831))', 'Viendi 8L Layout Additions ([#20832](https://github.com/qmk/qmk_firmware/pull/20832))', 'Viktus Smolka Layout Additions ([#20833](https://github.com/qmk/qmk_firmware/pull/20833))', 'Viktus SP111 Layout Additions ([#20834](https://github.com/qmk/qmk_firmware/pull/20834))', 'Viktus SP_Mini Layout Additions ([#20835](https://github.com/qmk/qmk_firmware/pull/20835))', 'W1-AT Layout Additions ([#20842](https://github.com/qmk/qmk_firmware/pull/20842))', 'Weirdo Geminate60 Layout Additions ([#20843](https://github.com/qmk/qmk_firmware/pull/20843))', 'Cypher rev5 Layout Additions ([#20844](https://github.com/qmk/qmk_firmware/pull/20844))', 'Prophet Layout Additions ([#20845](https://github.com/qmk/qmk_firmware/pull/20845))', 'Tidy up encoder_map directions ([#20847](https://github.com/qmk/qmk_firmware/pull/20847))', 'Rama Works Koyu Community Layout Support ([#20848](https://github.com/qmk/qmk_firmware/pull/20848))', 'Rama Works M65-B Community Layout Support ([#20850](https://github.com/qmk/qmk_firmware/pull/20850))', 'Rama Works M65-BX Community Layout Support ([#20851](https://github.com/qmk/qmk_firmware/pull/20851))', 'Rama Works U80-A Community Layout Support ([#20853](https://github.com/qmk/qmk_firmware/pull/20853))', 'Wilba Tech WT60-B Community Layout Support ([#20854](https://github.com/qmk/qmk_firmware/pull/20854))', 'Wilba Tech WT60-BX Layout Additions and Touch-Up ([#20855](https://github.com/qmk/qmk_firmware/pull/20855))', 'Wilba Tech WT60-C Community Layout Support ([#20858](https://github.com/qmk/qmk_firmware/pull/20858))', 'Wilba Tech WT60-D Layout Addition and Touch-Up ([#20859](https://github.com/qmk/qmk_firmware/pull/20859))', 'Wilba Tech WT60-G Community Layout Support ([#20860](https://github.com/qmk/qmk_firmware/pull/20860))', 'Wilba Tech WT60-G2 Community Layout Support ([#20861](https://github.com/qmk/qmk_firmware/pull/20861))', 'Wilba Tech WT60-H2: rename LAYOUT_all to LAYOUT_60_ansi_tsangan_split_rshift ([#20864](https://github.com/qmk/qmk_firmware/pull/20864))', 'Wilba Tech WT60-XT Layout Additions and Touch-Up ([#20865](https://github.com/qmk/qmk_firmware/pull/20865))', 'Wilba Tech WT65-A Community Layout Support and Touch-Up ([#20866](https://github.com/qmk/qmk_firmware/pull/20866))', 'Wilba Tech WT65-B Layout Addition and Touch-Up ([#20867](https://github.com/qmk/qmk_firmware/pull/20867))', 'Wilba Tech WT65-F Community Layout Support and Touch-Up ([#20869](https://github.com/qmk/qmk_firmware/pull/20869))', 'Wilba Tech WT65-FX Community Layout Support ([#20870](https://github.com/qmk/qmk_firmware/pull/20870))', 'Wilba Tech WT65-G Layout Additions and Touch-Up ([#20871](https://github.com/qmk/qmk_firmware/pull/20871))', 'Wilba Tech WT65-G2 Layout Additions and Touch-Up ([#20872](https://github.com/qmk/qmk_firmware/pull/20872))', 'Wilba Tech WT65-XT: rename LAYOUT_all to LAYOUT_65_xt_ansi_blocker_tsangan ([#20873](https://github.com/qmk/qmk_firmware/pull/20873))', 'Wilba Tech WT65-XTX Layout Additions and Touch-Up ([#20874](https://github.com/qmk/qmk_firmware/pull/20874))', 'Wilba Tech WT69-A Layout Addition and Touch-Up ([#20875](https://github.com/qmk/qmk_firmware/pull/20875))', 'Wilba Tech WT70-JB Layout Addition and Touch-Up ([#20876](https://github.com/qmk/qmk_firmware/pull/20876))', 'Wilba Tech WT75-A Layout Additions and Touch-Up ([#20877](https://github.com/qmk/qmk_firmware/pull/20877))', 'Wilba Tech WT75-B Layout Additions and Touch-Up ([#20878](https://github.com/qmk/qmk_firmware/pull/20878))', 'Wilba Tech WT75-C Layout Additions and Touch-Up ([#20879](https://github.com/qmk/qmk_firmware/pull/20879))', 'Wilba Tech WT80-G Layout Additions and Touch-Up ([#20880](https://github.com/qmk/qmk_firmware/pull/20880))', 'WinKeys Mini Winni: rename LAYOUT_all to LAYOUT_ortho_2x4 ([#20881](https://github.com/qmk/qmk_firmware/pull/20881))', 'Scarlet Bandana Layout Additions ([#20882](https://github.com/qmk/qmk_firmware/pull/20882))', 'Winkeyless B87 Community Layout Support ([#20884](https://github.com/qmk/qmk_firmware/pull/20884))', 'Xelus AkiS Layout Additions ([#20885](https://github.com/qmk/qmk_firmware/pull/20885))', 'Xelus Dharma Layout Additions ([#20886](https://github.com/qmk/qmk_firmware/pull/20886))', 'Xelus Kangaroo Layout Additions ([#20887](https://github.com/qmk/qmk_firmware/pull/20887))', 'Xelus La+ Layout Addition ([#20888](https://github.com/qmk/qmk_firmware/pull/20888))', 'Xelus Pachi Mini 32U4 Community Layout Support ([#20889](https://github.com/qmk/qmk_firmware/pull/20889))', 'Xelus Pachi rev1 Community Layout Support ([#20891](https://github.com/qmk/qmk_firmware/pull/20891))', 'Xelus Trinity XT TKL Layout Additions ([#20892](https://github.com/qmk/qmk_firmware/pull/20892))', 'Xelus Valor FRL TKL Layout Additions ([#20893](https://github.com/qmk/qmk_firmware/pull/20893))', 'YDKB Chili Community Layout Support ([#20895](https://github.com/qmk/qmk_firmware/pull/20895))', 'YDKB Grape Layout Additions ([#20899](https://github.com/qmk/qmk_firmware/pull/20899))', 'YMDK Wings Layout Addition ([#20900](https://github.com/qmk/qmk_firmware/pull/20900))', 'YMDK Wings Hotswap: rename LAYOUT_all to LAYOUT ([#20901](https://github.com/qmk/qmk_firmware/pull/20901))', 'YMDK YM68 Community Layout Support ([#20906](https://github.com/qmk/qmk_firmware/pull/20906))', 'Yugo-M Controller Layout Additions ([#20907](https://github.com/qmk/qmk_firmware/pull/20907))', 'Zicodia TKLFRLNRLMLAO Layout Addition ([#20908](https://github.com/qmk/qmk_firmware/pull/20908))', 'ZTBoards After Layout Addition ([#20912](https://github.com/qmk/qmk_firmware/pull/20912))', 'ZTBoards Noon Layout Addition ([#20913](https://github.com/qmk/qmk_firmware/pull/20913))', 'SawnsProjects Amber80 Solder Community Layout Support ([#20917](https://github.com/qmk/qmk_firmware/pull/20917))', 'Pearl Boards Atlas Layout Additions ([#20918](https://github.com/qmk/qmk_firmware/pull/20918))', 'Xiudi XD004: rename LAYOUT_all to LAYOUT_ortho_1x4 ([#20919](https://github.com/qmk/qmk_firmware/pull/20919))', 'Wilba Tech WT80-BC Community Layout Support ([#20920](https://github.com/qmk/qmk_firmware/pull/20920))', '4pplet Eagle Viper REP Rev B Community Layout Support ([#20921](https://github.com/qmk/qmk_firmware/pull/20921))', 'FR4Boards unix60 Layout Additions ([#20926](https://github.com/qmk/qmk_firmware/pull/20926))', 'MC-76K: rename LAYOUT_all to LAYOUT ([#20927](https://github.com/qmk/qmk_firmware/pull/20927))', 'Mechlovin Studio Jay60 Community Layout Support ([#20928](https://github.com/qmk/qmk_firmware/pull/20928))', 'MisterKnife Knife66 Layout Additions ([#20929](https://github.com/qmk/qmk_firmware/pull/20929))', 'MisterKnife Knife66 ISO Layout Additions II ([#20930](https://github.com/qmk/qmk_firmware/pull/20930))', '4pplet Waffling80 Community Layout Support and Touch-Up ([#20932](https://github.com/qmk/qmk_firmware/pull/20932))', 'Acheron Elongate Delta: rename LAYOUT_all to LAYOUT ([#20956](https://github.com/qmk/qmk_firmware/pull/20956))', 'ADPenrose Akemipad Layout Addition ([#20957](https://github.com/qmk/qmk_firmware/pull/20957))', 'ADPenrose Shisaku: rename LAYOUT_all to LAYOUT ([#20958](https://github.com/qmk/qmk_firmware/pull/20958))', 'AEBoards Aegis Layout Additions ([#20960](https://github.com/qmk/qmk_firmware/pull/20960))', 'rart/rart80:via: restore rules.mk after #20334 ([#21002](https://github.com/qmk/qmk_firmware/pull/21002))', 'Remove HHKB RN42 code ([#21007](https://github.com/qmk/qmk_firmware/pull/21007))', 'Move `thekey` to Drop vendor folder ([#21032](https://github.com/qmk/qmk_firmware/pull/21032))']\n\nKeyboard fixes:\n\n['userspace/community layout fixes ([#19998](https://github.com/qmk/qmk_firmware/pull/19998))', 'Fix layout macro keys with no matrix position ([#20033](https://github.com/qmk/qmk_firmware/pull/20033))', 'Restore matrix pins for ep/40 ([#20083](https://github.com/qmk/qmk_firmware/pull/20083))', 'kbdfans/tiger80: remove duplicate keys in info.json ([#20148](https://github.com/qmk/qmk_firmware/pull/20148))', 'Fixup z70ultra  replace mis-removed file ([#20157](https://github.com/qmk/qmk_firmware/pull/20157))', 'Fixup CI build for F103C6 onekey. ([#20188](https://github.com/qmk/qmk_firmware/pull/20188))', 'Fix layouts containing keys with multiple matrix positions ([#20191](https://github.com/qmk/qmk_firmware/pull/20191))', 'Fix some more missing `#pragma once`s ([#20241](https://github.com/qmk/qmk_firmware/pull/20241))', 'Fixup CI build for `nack`. ([#20292](https://github.com/qmk/qmk_firmware/pull/20292))', 'Fixup Pointing device functions ([#20311](https://github.com/qmk/qmk_firmware/pull/20311))', 'Fix a handful of CLI errors ([#20321](https://github.com/qmk/qmk_firmware/pull/20321))', 'Fix API errors ([#20326](https://github.com/qmk/qmk_firmware/pull/20326))', 'Set up DEFAULT_FOLDER for primekb/meridian ([#20367](https://github.com/qmk/qmk_firmware/pull/20367))', 'Fix up via keymap builds. ([#20383](https://github.com/qmk/qmk_firmware/pull/20383))', 'Fix up via keymap builds. ([#20397](https://github.com/qmk/qmk_firmware/pull/20397))', 'Fix some missing QMK_KEYBOARD_H includes in user keymaps ([#20417](https://github.com/qmk/qmk_firmware/pull/20417))', 'Update ymdk/id75 config ([#20432](https://github.com/qmk/qmk_firmware/pull/20432))', 'Fix info.json LTO and format encoder definitions ([#20456](https://github.com/qmk/qmk_firmware/pull/20456))', 'Fixup dymium65 RGB Pin on develop ([#20473](https://github.com/qmk/qmk_firmware/pull/20473))', 'Fixup missing include in mxss `via` keymap ([#20475](https://github.com/qmk/qmk_firmware/pull/20475))', 'Fix nk plus ws2812 config ([#20524](https://github.com/qmk/qmk_firmware/pull/20524))', 'cannonkeys/ellipse_hs: correct layout macro references ([#20577](https://github.com/qmk/qmk_firmware/pull/20577))', 'Remove use of layout macros for `music_map` ([#20634](https://github.com/qmk/qmk_firmware/pull/20634))', 'Vertex/angle65 WS2812 pin fix ([#20653](https://github.com/qmk/qmk_firmware/pull/20653))', 'Fix ws2812 pin for phantagom boards ([#20670](https://github.com/qmk/qmk_firmware/pull/20670))', 'Fixup 1upkeyboards/pi50 ([#20733](https://github.com/qmk/qmk_firmware/pull/20733))', 'Fix `test_json2c_no_json()` ([#20756](https://github.com/qmk/qmk_firmware/pull/20756))', 'Fix mxss rgblight.c compilation issues ([#20804](https://github.com/qmk/qmk_firmware/pull/20804))', 'Fixup paladin64 ([#20805](https://github.com/qmk/qmk_firmware/pull/20805))', 'Fixup dogtag ([#20808](https://github.com/qmk/qmk_firmware/pull/20808))', 'Fixup zwag75 ([#20923](https://github.com/qmk/qmk_firmware/pull/20923))', 'Fixup latinpadble ([#20924](https://github.com/qmk/qmk_firmware/pull/20924))', 'Add missing layout data for a handful of boards ([#20931](https://github.com/qmk/qmk_firmware/pull/20931))', 'Fixup evo70 ([#20949](https://github.com/qmk/qmk_firmware/pull/20949))', 'Fixup Crkbd default keymap ([#20962](https://github.com/qmk/qmk_firmware/pull/20962))', 'Fix key display on Corne OLED ([#21044](https://github.com/qmk/qmk_firmware/pull/21044))']\n\nOthers:\n\n['Add layer-cycle example ([#19069](https://github.com/qmk/qmk_firmware/pull/19069))', 'Remove remnants of Vagrant. ([#20000](https://github.com/qmk/qmk_firmware/pull/20000))', 'Develop cleanup IS31FL3736 docs ([#20633](https://github.com/qmk/qmk_firmware/pull/20633))', 'Organise config/rules <-> info mappings ([#20723](https://github.com/qmk/qmk_firmware/pull/20723))', 'Add a change log for PR20584 ([#20998](https://github.com/qmk/qmk_firmware/pull/20998))']\n\nBugs:\n\n['Strip whitespace from CONVERT_TO variables ([#19948](https://github.com/qmk/qmk_firmware/pull/19948))', 'Check all rows have the correct number of columns when parsing `g_led_config` ([#19954](https://github.com/qmk/qmk_firmware/pull/19954))', 'Fix OSMs getting stuck ([#20034](https://github.com/qmk/qmk_firmware/pull/20034))', \"Fix rgblight layers when animations aren't enabled ([#20097](https://github.com/qmk/qmk_firmware/pull/20097))\", 'Fixed split keyboard issue where custom LED indicators could activate incorrect LEDs (#20203) ([#20204](https://github.com/qmk/qmk_firmware/pull/20204))', 'Reduce _validate complexity ([#20274](https://github.com/qmk/qmk_firmware/pull/20274))', '`qmk info`: account for ISO enter when calculating layout X offset ([#20325](https://github.com/qmk/qmk_firmware/pull/20325))', 'Disable specific warnings to mitigate compilation problems with `KEEP_INTERMEDIATES=yes`. ([#20339](https://github.com/qmk/qmk_firmware/pull/20339))', 'Fix compilation issue with Swap Hands and Encoder Map ([#20348](https://github.com/qmk/qmk_firmware/pull/20348))', 'Fix preprocessor condition for SPLIT_HAPTIC_ENABLE ([#20411](https://github.com/qmk/qmk_firmware/pull/20411))', 'Fix compilation issues with PS/2 driver on F4x1 controllers ([#20433](https://github.com/qmk/qmk_firmware/pull/20433))', 'Fix capital letters not getting sent with sendstring_swiss_fr.h ([#20515](https://github.com/qmk/qmk_firmware/pull/20515))', 'Duplicate board files for blok converter ([#20629](https://github.com/qmk/qmk_firmware/pull/20629))', 'Fix Mod-Tap combo regression ([#20669](https://github.com/qmk/qmk_firmware/pull/20669))', 'Revert use of legacy wear leveling driver now ChibiOS is fixed ([#20806](https://github.com/qmk/qmk_firmware/pull/20806))', 'Fix compilation error introduced by #20669 ([#20849](https://github.com/qmk/qmk_firmware/pull/20849))', 'Fix English word list retrieval in qmk generate-autocorrect-data ([#20915](https://github.com/qmk/qmk_firmware/pull/20915))', 'Improve keymap folder resolution ([#20981](https://github.com/qmk/qmk_firmware/pull/20981))', 'Fix issue with Repeat Key-Combo test ([#21005](https://github.com/qmk/qmk_firmware/pull/21005))', '`qmk info` - Remove printing of \"Keyboard Folder\" ([#21033](https://github.com/qmk/qmk_firmware/pull/21033))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 14]"
        },
        {
          "title": "QMK Breaking Changes - 2023 Aug 27 Changelog",
          "description": null,
          "content": {
            "Notable Changes {#notable-changes}": {
              "RGB Matrix optimizations ([#21134](https://github.com/qmk/qmk_firmware/pull/21134), [#21135](https://github.com/qmk/qmk_firmware/pull/21135)) {#rgb-matrix-optimizations}": "Most RGB Matrix implementations now check whether or not RGB LED data has changed and skip transmission if it hasn't. This was measured to improve scan frequency in cases of static or infrequently-changing colors.",
              "Audio optimizations ([#21496](https://github.com/qmk/qmk_firmware/pull/21496), [#21498](https://github.com/qmk/qmk_firmware/pull/21498))": "Some audio code relating to \"notes\" used `double` datatypes, which are implemented in software floating-point for most ARM microcontrollers. This has been changed to use `float` datatypes instead, which are implemented in hardware floating-point on most ARM microcontrollers. This change increases performance as well as reduces the firmware size by significant number of bytes.\n\nAVR sees minimal (if any) benefit -- `double` was interpreted as `float` on AVR anyway."
            },
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "| Old Keyboard Name                     | New Keyboard Name                   |\n|---------------------------------------|-------------------------------------|\n| capsunlocked/cu80/v2_ansi/base        | capsunlocked/cu80/v2/ansi           |\n| capsunlocked/cu80/v2_iso/base         | capsunlocked/cu80/v2/iso            |\n| handwired/dactyl_manuform/3x5_3       | handwired/dactyl_minidox            |\n| handwired/dactyl_manuform/6x6_kinesis | handwired/dactyl_kinesis            |\n| handwired/jscotto/scotto36            | handwired/scottokeebs/scotto36      |\n| handwired/jscotto/scotto40            | handwired/scottokeebs/scotto40      |\n| handwired/jscotto/scotto9             | handwired/scottokeebs/scotto9       |\n| handwired/jscotto/scottocmd           | handwired/scottokeebs/scottocmd     |\n| handwired/jscotto/scottostarter       | handwired/scottokeebs/scottostarter |\n| hfdkb/keyboard_sw/k83                 | inland/kb83                         |\n| idb_60                                | idb/idb_60                          |\n| kamigakushi                           | jaykeeb/kamigakushi                 |\n| kbdfans/kbd67mkiirgb                  | kbdfans/kbd67/mkiirgb               |\n| modelh                                | ibm/model_m/modelh                  |\n| vinta                                 | coarse/vinta                        |",
              "Remove encoder in-matrix workaround code ([#20389](https://github.com/qmk/qmk_firmware/pull/20389)) {#remove-encoder-in-matrix-workaround-code}": "Some keyboards \"hacked\" encoder support into spare slots in the key matrix in order to interoperate with VIA. This workaround is no longer necessary, and the code has been removed. If you have a keyboard that uses this workaround, you will need to update your keymap to use the new [Encoder Map](../features/encoders#encoder-map) API instead.",
              "Unicodemap keycodes rename ([#21092](https://github.com/qmk/qmk_firmware/pull/21092)) {#unicodemap-keycodes-rename}": "The Unicodemap keycodes have been renamed:\n\n| Old       | New       |\n|-----------|-----------|\n| `X(i)`    | `UM(i)`   |\n| `XP(i,j)` | `UP(i,j)` |",
              "Remove old OLED API code ([#21651](https://github.com/qmk/qmk_firmware/pull/21651)) {#remove-old-oled-api-code}": "Old OLED code using `ssd1306.c` `ssd1306.h`, and `SSD1306OLED` and other similar files have been consolidated to use the standard OLED driver. External user keymaps will need to be updated to use the standard OLED driver accordingly.",
              "Driver naming consolidation ([#21551](https://github.com/qmk/qmk_firmware/pull/21551), [#21558](https://github.com/qmk/qmk_firmware/pull/21558), [#21580](https://github.com/qmk/qmk_firmware/pull/21580), [#21594](https://github.com/qmk/qmk_firmware/pull/21594), [#21624](https://github.com/qmk/qmk_firmware/pull/21624), [#21710](https://github.com/qmk/qmk_firmware/pull/21710)) {#driver-naming-consolidation}": "In most circumstances this won't affect users -- only keyboard designers with currently-unmerged boards. The only users affected are people who have modified existing keyboards in order to add/modify haptics, lighting, or bluetooth -- and only if the base keyboard did not configure them already. Driver naming has been modified to be lowercase.\n\nRGBLight (`RGBLIGHT_DRIVER` / `rgblight.driver`):\n\n| Old    | New    |\n|--------|--------|\n| `WS2812` | `ws2812` |\n| `APA102` | `apa102` |\n\nLED Matrix (`LED_MATRIX_DRIVER` / `led_matrix.driver`):\n\n| Old         | New         |\n|-------------|-------------|\n| `IS31FL3731`  | `is31fl3731`  |\n| `IS31FL3742A` | `is31fl3742a` |\n| `IS31FL3743A` | `is31fl3743a` |\n| `IS31FL3745`  | `is31fl3745`  |\n| `IS31FL3746A` | `is31fl3746a` |\n| `CKLED2001`   | `ckled2001`   |\n\nRGB Matrix (`RGB_MATRIX_DRIVER` / `rgb_matrix.driver`):\n\n| Old         | New         |\n|-------------|-------------|\n| `AW20216`     | `aw20216`     |\n| `IS31FL3731`  | `is31fl3731`  |\n| `IS31FL3733`  | `is31fl3733`  |\n| `IS31FL3736`  | `is31fl3736`  |\n| `IS31FL3737`  | `is31fl3737`  |\n| `IS31FL3741`  | `is31fl3741`  |\n| `IS31FL3742A` | `is31fl3742a` |\n| `IS31FL3743A` | `is31fl3743a` |\n| `IS31FL3745`  | `is31fl3745`  |\n| `IS31FL3746A` | `is31fl3746a` |\n| `CKLED2001`   | `ckled2001`   |\n| `WS2812`      | `ws2812`      |\n\nOLED (`OLED_DRIVER`):\n\n| Old     | New     |\n|---------|---------|\n| `SSD1306` | `ssd1306` |\n\nHaptic (`HAPTIC_DRIVER`):\n\n| Old      | New      |\n|----------|----------|\n| `DRV2605L` | `drv2605l` |\n| `SOLENOID` | `solenoid` |\n\nBluetooth (`BLUETOOTH_DRIVER` / `bluetooth.driver`):\n\n| Old         | New          |\n|-------------|--------------|\n| `BluefruitLE` | `bluefruit_le` |\n| `RN42`        | `rn42`         |"
            },
            "Full changelist {#full-changelist}": "Core:\n\n['On-each-release tap dance function ([#20255](https://github.com/qmk/qmk_firmware/pull/20255))', 'Send a dummy keycode to neutralize flashing modifiers in retro tap and key overrides ([#20992](https://github.com/qmk/qmk_firmware/pull/20992))', 'Adds a way to separate tab from AUTO_SHIFT_SPECIAL. ([#20996](https://github.com/qmk/qmk_firmware/pull/20996))', '[Enhancement] More info on `apply_autocorrect` ([#21056](https://github.com/qmk/qmk_firmware/pull/21056))', 'Remove quantum/keymap.h ([#21086](https://github.com/qmk/qmk_firmware/pull/21086))', 'Unicodemap keycodes rename ([#21092](https://github.com/qmk/qmk_firmware/pull/21092))', 'Merge upstream uf2conv.py changes ([#21107](https://github.com/qmk/qmk_firmware/pull/21107))', 'Add a dynamic_macro_stop_recording(void) function. ([#21108](https://github.com/qmk/qmk_firmware/pull/21108))', 'platforms: chibios: wait: only define the frequency ([#21115](https://github.com/qmk/qmk_firmware/pull/21115))', '[Enhancement] Decouple autocorrect logic ([#21116](https://github.com/qmk/qmk_firmware/pull/21116))', 'Optimisation - Add RGB LED colour set check in drivers ([#21134](https://github.com/qmk/qmk_firmware/pull/21134))', 'RGB matrix ws2812 update ([#21135](https://github.com/qmk/qmk_firmware/pull/21135))', 'Pixel rain: Refactor the rain light decision operator ([#21139](https://github.com/qmk/qmk_firmware/pull/21139))', 'Use unsigned integer for kinetic speed ([#21151](https://github.com/qmk/qmk_firmware/pull/21151))', 'Reset `matrix_need_update` properly in eager debouncing algorithms ([#21154](https://github.com/qmk/qmk_firmware/pull/21154))', 'Refactor kinetic mouse key feature ([#21164](https://github.com/qmk/qmk_firmware/pull/21164))', 'RGB Matrix limit basic indicators to the last render ([#21169](https://github.com/qmk/qmk_firmware/pull/21169))', 'dynamic keymap: Rely on introspection to handle OOB access. ([#21247](https://github.com/qmk/qmk_firmware/pull/21247))', 'add VIA support for LED Matrix ([#21281](https://github.com/qmk/qmk_firmware/pull/21281))', 'Refactor times inverse of sqrt 2 calculation ([#21293](https://github.com/qmk/qmk_firmware/pull/21293))', 'Move protocol makefiles into their respective folders ([#21332](https://github.com/qmk/qmk_firmware/pull/21332))', 'Remove use of __flash within LED drivers ([#21343](https://github.com/qmk/qmk_firmware/pull/21343))', 'STM32H723 support ([#21352](https://github.com/qmk/qmk_firmware/pull/21352))', 'Remove CORTEX_ENABLE_WFI_IDLE from keyboards. ([#21353](https://github.com/qmk/qmk_firmware/pull/21353))', 'Get rid of `USB_LED_KANA` and `USB_LED_COMPOSE` ([#21366](https://github.com/qmk/qmk_firmware/pull/21366))', 'Minor board clean-up after #19780 ([#21391](https://github.com/qmk/qmk_firmware/pull/21391))', 'Get rid of `USB_LED_SCROLL_LOCK` ([#21405](https://github.com/qmk/qmk_firmware/pull/21405))', 'Get rid of `USB_LED_NUM_LOCK` ([#21424](https://github.com/qmk/qmk_firmware/pull/21424))', 'Simplify audio_duration_to_ms() and audio_ms_to_duration(), reduce firmware size by a few bytes. ([#21427](https://github.com/qmk/qmk_firmware/pull/21427))', 'Allow key override to respect weak mods caused by caps word ([#21434](https://github.com/qmk/qmk_firmware/pull/21434))', 'Get rid of `USB_LED_CAPS_LOCK` ([#21436](https://github.com/qmk/qmk_firmware/pull/21436))', 'tmk_core: remove direct `quantum.h` includes ([#21465](https://github.com/qmk/qmk_firmware/pull/21465))', 'bootmagic mods covering the case when swapped mods are pressed at the same time (#21320) ([#21472](https://github.com/qmk/qmk_firmware/pull/21472))', 'drivers: remove direct `quantum.h` includes ([#21473](https://github.com/qmk/qmk_firmware/pull/21473))', 'debounce: remove direct `quantum.h` includes ([#21480](https://github.com/qmk/qmk_firmware/pull/21480))', 'keymap_extras: remove direct `quantum.h` includes ([#21485](https://github.com/qmk/qmk_firmware/pull/21485))', 'process_keycode: remove direct `quantum.h` includes ([#21486](https://github.com/qmk/qmk_firmware/pull/21486))', 'Add MOUSEKEY_WHEEL_DELTA documentation ([#21493](https://github.com/qmk/qmk_firmware/pull/21493))', 'Reduce needless precision in audio note frequency calculation ([#21496](https://github.com/qmk/qmk_firmware/pull/21496))', 'Remove needless precision in additive DAC sample generation ([#21498](https://github.com/qmk/qmk_firmware/pull/21498))', 'quantum: remove direct `quantum.h` includes ([#21507](https://github.com/qmk/qmk_firmware/pull/21507))', 'process_combo: restore wait.h header ([#21514](https://github.com/qmk/qmk_firmware/pull/21514))', 'Eliminate `TMK_COMMON_*` in makefiles ([#21517](https://github.com/qmk/qmk_firmware/pull/21517))', 'backlight: split AVR PWM and timer drivers ([#21540](https://github.com/qmk/qmk_firmware/pull/21540))', 'haptic: naming cleanups ([#21551](https://github.com/qmk/qmk_firmware/pull/21551))', 'rgblight: driver selection cleanups ([#21558](https://github.com/qmk/qmk_firmware/pull/21558))', 'LED Matrix: driver naming cleanups ([#21580](https://github.com/qmk/qmk_firmware/pull/21580))', 'Unify MIDI note calculation with the audio feature (from #21496) ([#21588](https://github.com/qmk/qmk_firmware/pull/21588))', 'Allow the user to select a single tone for the additive DAC ([#21591](https://github.com/qmk/qmk_firmware/pull/21591))', 'RGB Matrix: driver naming cleanups ([#21594](https://github.com/qmk/qmk_firmware/pull/21594))', 'Raw HID: documentation improvements ([#21596](https://github.com/qmk/qmk_firmware/pull/21596))', 'Unicode: move keycode aliases to a separate header ([#21613](https://github.com/qmk/qmk_firmware/pull/21613))', 'Bluetooth: driver naming cleanups ([#21624](https://github.com/qmk/qmk_firmware/pull/21624))', 'Remove old OLED API code ([#21651](https://github.com/qmk/qmk_firmware/pull/21651))', 'haptic: further naming cleanups ([#21682](https://github.com/qmk/qmk_firmware/pull/21682))', 'Simplfy RGB/LED matrix effect logic ([#21703](https://github.com/qmk/qmk_firmware/pull/21703))', 'OLED: driver naming cleanups ([#21710](https://github.com/qmk/qmk_firmware/pull/21710))']\n\nCLI:\n\n['Add *_MATRIX_LED_COUNT generation/validation ([#19515](https://github.com/qmk/qmk_firmware/pull/19515))', 'Revert \"Add *_MATRIX_LED_COUNT generation/validation\" ([#21109](https://github.com/qmk/qmk_firmware/pull/21109))', 'Add *_MATRIX_LED_COUNT generation ([#21110](https://github.com/qmk/qmk_firmware/pull/21110))', 'feat, docs: WB32 flashing ([#21217](https://github.com/qmk/qmk_firmware/pull/21217))', 'Improve error messages when layout key matrix row/col is OOB ([#21640](https://github.com/qmk/qmk_firmware/pull/21640))']\n\nSubmodule updates:\n\n['Update ChibiOS-Contrib ([#21553](https://github.com/qmk/qmk_firmware/pull/21553))']\n\nKeyboards:\n\n['Add support for Rastersoft MiniTKL ([#20230](https://github.com/qmk/qmk_firmware/pull/20230))', 'Remove encoder in-matrix workaround code ([#20389](https://github.com/qmk/qmk_firmware/pull/20389))', 'Revamp `dactyl_manuform` readme.md ([#20395](https://github.com/qmk/qmk_firmware/pull/20395))', 'added hackpad keyboard ([#20402](https://github.com/qmk/qmk_firmware/pull/20402))', 'Add `handwired/dactyl_cc` keyboard ([#20517](https://github.com/qmk/qmk_firmware/pull/20517))', 'Add Mino Plus  Hotswap ([#20534](https://github.com/qmk/qmk_firmware/pull/20534))', 'Move kb83 keyboard. ([#20761](https://github.com/qmk/qmk_firmware/pull/20761))', 'Rename `dactyl_manuform` variant `3x5_3` ([#21015](https://github.com/qmk/qmk_firmware/pull/21015))', 'Update `k34` layout to `split_3x5_2` ([#21046](https://github.com/qmk/qmk_firmware/pull/21046))', 'giabalanai keymaps: transpose added ([#21054](https://github.com/qmk/qmk_firmware/pull/21054))', 'Move `RGBLIGHT_SLEEP` to data driven ([#21072](https://github.com/qmk/qmk_firmware/pull/21072))', 'update layouts of `dactyl_manuform/4x5_5` ([#21094](https://github.com/qmk/qmk_firmware/pull/21094))', 'Move `RGBLIGHT_LED_MAP` to data driven ([#21095](https://github.com/qmk/qmk_firmware/pull/21095))', 'Move `RGBLED_SPLIT` to data driven ([#21113](https://github.com/qmk/qmk_firmware/pull/21113))', 'Update `dactyl_promicro` readme ([#21144](https://github.com/qmk/qmk_firmware/pull/21144))', 'Delete jscotto directory ([#21157](https://github.com/qmk/qmk_firmware/pull/21157))', 'correct and modernise `dactyl_manuform/6x7` variant ([#21176](https://github.com/qmk/qmk_firmware/pull/21176))', 'Move `RGBLIGHT_SPLIT` to data driven ([#21190](https://github.com/qmk/qmk_firmware/pull/21190))', 'Minor amendment to `bcat` userspace to prevent build failure ([#21205](https://github.com/qmk/qmk_firmware/pull/21205))', 'FJLabs Swordfish Layout Macro Refactor ([#21234](https://github.com/qmk/qmk_firmware/pull/21234))', 'Add skyloong/Dt40 keyboard ([#21237](https://github.com/qmk/qmk_firmware/pull/21237))', '`dactyl_manuform/6x7` correction ([#21240](https://github.com/qmk/qmk_firmware/pull/21240))', 'Amend `ryanbaekr` boards by pin definitions ([#21248](https://github.com/qmk/qmk_firmware/pull/21248))', 'EC Pro X JIS Layout Touch-Up ([#21260](https://github.com/qmk/qmk_firmware/pull/21260))', 'Eason Aeroboard Refactor ([#21271](https://github.com/qmk/qmk_firmware/pull/21271))', 'Move `RGBLED_NUM` to data driven ([#21278](https://github.com/qmk/qmk_firmware/pull/21278))', 'Remove default `TAPPING_TERM` from keyboard config.h ([#21284](https://github.com/qmk/qmk_firmware/pull/21284))', 'Move `RGBLIGHT_HUE/SAT/VAL_STEP` to data driven ([#21292](https://github.com/qmk/qmk_firmware/pull/21292))', 'Move `TAPPING_TERM` to data driven ([#21296](https://github.com/qmk/qmk_firmware/pull/21296))', 'Modernize, correct, and uniform `dactyl_manuform` variant `5x6_68` ([#21299](https://github.com/qmk/qmk_firmware/pull/21299))', 'rename and modernise `dactyl_manuform/6x6_kinesis` ([#21302](https://github.com/qmk/qmk_firmware/pull/21302))', 'ProtoTypist PT-60 Refactor ([#21322](https://github.com/qmk/qmk_firmware/pull/21322))', 'ProtoTypist PT-80 Refactor ([#21325](https://github.com/qmk/qmk_firmware/pull/21325))', 'add jels60v2 support ([#21337](https://github.com/qmk/qmk_firmware/pull/21337))', 'Move `RGB_MATRIX_HUE/SAT/VAL/SPD_STEP` to data driven ([#21354](https://github.com/qmk/qmk_firmware/pull/21354))', 'Move `TAPPING_TOGGLE` to data driven ([#21360](https://github.com/qmk/qmk_firmware/pull/21360))', 'Move `TAP_CODE_DELAY` to data driven ([#21363](https://github.com/qmk/qmk_firmware/pull/21363))', 'gmmk/pro: Turn off RGB when suspended ([#21370](https://github.com/qmk/qmk_firmware/pull/21370))', 'Move miscellaneous defines to data driven ([#21382](https://github.com/qmk/qmk_firmware/pull/21382))', 'kyria: remove `LAYOUT_stack` ([#21384](https://github.com/qmk/qmk_firmware/pull/21384))', 'Reduce `keebio/bamfk1:via` firmware size ([#21432](https://github.com/qmk/qmk_firmware/pull/21432))', 'Refactor `capsunlocked/cu80/v2` ([#21454](https://github.com/qmk/qmk_firmware/pull/21454))', 'Mechlovin Zed65 rev1 Develop Touch-Up ([#21476](https://github.com/qmk/qmk_firmware/pull/21476))', 'Add PW88 keyboard ([#21482](https://github.com/qmk/qmk_firmware/pull/21482))', 'Prepare ymdk/ymd75 for rev4 ([#21484](https://github.com/qmk/qmk_firmware/pull/21484))', 'Move `DEBOUNCE_TYPE` to data driven ([#21489](https://github.com/qmk/qmk_firmware/pull/21489))', 'aleblazer/zodiark:via: Disable two RGB effects ([#21495](https://github.com/qmk/qmk_firmware/pull/21495))', 'Spruce up `dactyl_lightcycle` and `dactyl_maximus` layouts ([#21519](https://github.com/qmk/qmk_firmware/pull/21519))', 'Amend layout and matrix positions for `dactyl_cc` ([#21523](https://github.com/qmk/qmk_firmware/pull/21523))', 'moved model h controller under ibm/model_m ([#21526](https://github.com/qmk/qmk_firmware/pull/21526))', 'tominabox1/le_chiffre refactor pt 1 ([#21567](https://github.com/qmk/qmk_firmware/pull/21567))', 'Update ERA65 PCB ([#21592](https://github.com/qmk/qmk_firmware/pull/21592))', 'Update `usb.`* for dactyl_cc ([#21612](https://github.com/qmk/qmk_firmware/pull/21612))', 'Kintwin controller for kinesis keyboard, split layout ([#21614](https://github.com/qmk/qmk_firmware/pull/21614))', 'Add STM32f3 Discovery onekey ([#21625](https://github.com/qmk/qmk_firmware/pull/21625))', 'Automata02 Alisaie Develop Touch-Up ([#21630](https://github.com/qmk/qmk_firmware/pull/21630))', 'Move RGBLight animations to data driven ([#21635](https://github.com/qmk/qmk_firmware/pull/21635))', 'Refactoring entirely Caticorn PCB ([#21644](https://github.com/qmk/qmk_firmware/pull/21644))', 'AMJKeyboard AMJ84 Develop Touch-Up ([#21645](https://github.com/qmk/qmk_firmware/pull/21645))', 'Remove layout aliases from keyboard_aliases.hjson ([#21658](https://github.com/qmk/qmk_firmware/pull/21658))', 'kikoslab/kl90: Remove invalid config option ([#21708](https://github.com/qmk/qmk_firmware/pull/21708))', 'Remove more legacy config.h options ([#21709](https://github.com/qmk/qmk_firmware/pull/21709))', 'add willoucom/keypad ([#21714](https://github.com/qmk/qmk_firmware/pull/21714))', 'Tidy up encoder in matrix references ([#21718](https://github.com/qmk/qmk_firmware/pull/21718))', 'Add city42 ([#21727](https://github.com/qmk/qmk_firmware/pull/21727))', 'feat: add squigglybob splitkb kyria rev2 keymap ([#21751](https://github.com/qmk/qmk_firmware/pull/21751))', 'Align SENSE75 with recent Drop additions ([#21757](https://github.com/qmk/qmk_firmware/pull/21757))']\n\nKeyboard fixes:\n\n['fix `scheikled` keymap for `dactyl_manuform/4x6` ([#21206](https://github.com/qmk/qmk_firmware/pull/21206))', 'Fixup `dekunukem/duckypad` ([#21298](https://github.com/qmk/qmk_firmware/pull/21298))', 'Fixup `nightly_boards/n40_o` ([#21307](https://github.com/qmk/qmk_firmware/pull/21307))', 'Fix `rate/pistachio_pro:via` ([#21339](https://github.com/qmk/qmk_firmware/pull/21339))', 'Fix encoder map declarations ([#21435](https://github.com/qmk/qmk_firmware/pull/21435))', 'jones/v1: fix layout offset and disable audio on via keymap ([#21468](https://github.com/qmk/qmk_firmware/pull/21468))', 'Fix backlight support for some boards ([#21554](https://github.com/qmk/qmk_firmware/pull/21554))', 'kinesis: remove stacked split layouts ([#21569](https://github.com/qmk/qmk_firmware/pull/21569))', 'Fix layout offsets for a handful of boards ([#21636](https://github.com/qmk/qmk_firmware/pull/21636))', 'doio/kb38: fix layout ([#21704](https://github.com/qmk/qmk_firmware/pull/21704))', 'Fix drop/shift/v2 compilation ([#21800](https://github.com/qmk/qmk_firmware/pull/21800))', 'Fix keyboards with old RGB driver names ([#21815](https://github.com/qmk/qmk_firmware/pull/21815))', 'Fix keyboards with old RGB driver names ([#21817](https://github.com/qmk/qmk_firmware/pull/21817))']\n\nOthers:\n\n['Rework info.json reference ([#21324](https://github.com/qmk/qmk_firmware/pull/21324))', 'Enable auto-merge of develop to riot ([#21389](https://github.com/qmk/qmk_firmware/pull/21389))']\n\nBugs:\n\n['Fix non-functional S3 wakeup / resume from suspense ([#19780](https://github.com/qmk/qmk_firmware/pull/19780))', '[Bugfix] Check `NULL` pointers on QP ([#20481](https://github.com/qmk/qmk_firmware/pull/20481))', 'Fix PS2_MOUSE_INVERT_BUTTONS ([#20646](https://github.com/qmk/qmk_firmware/pull/20646))', 'Fix backlight sync on suspend_power_down for split keyboards ([#21079](https://github.com/qmk/qmk_firmware/pull/21079))', 'Consolidate `KEYBOARD_OUTPUT`+`KEYMAP_OUTPUT`=>`INTERMEDIATE_OUTPUT` ([#21272](https://github.com/qmk/qmk_firmware/pull/21272))', 'Chibios USB: Take into account if host wants remote wakeup or not ([#21287](https://github.com/qmk/qmk_firmware/pull/21287))', 'Fix anchor IDs for some API references ([#21345](https://github.com/qmk/qmk_firmware/pull/21345))', 'Pixel fractal: Set minimum middle column value ([#21365](https://github.com/qmk/qmk_firmware/pull/21365))', 'Fix ili9xxx inversion opcode entry ([#21422](https://github.com/qmk/qmk_firmware/pull/21422))', 'Relocate backlight drivers ([#21444](https://github.com/qmk/qmk_firmware/pull/21444))', 'Fixup STM32-DFU ([#21447](https://github.com/qmk/qmk_firmware/pull/21447))', 'keycode aliases: work around ChibiOS ch.h include guard ([#21497](https://github.com/qmk/qmk_firmware/pull/21497))', 'Fix compilation error when Split Watchdog enabled ([#21543](https://github.com/qmk/qmk_firmware/pull/21543))', 'Revert \" Fix compilation error when Split Watchdog enabled\" ([#21572](https://github.com/qmk/qmk_firmware/pull/21572))', 'quantum.h: clean up process_keycode includes ([#21579](https://github.com/qmk/qmk_firmware/pull/21579))', 'Fix stuck note with square wave in additive DAC ([#21589](https://github.com/qmk/qmk_firmware/pull/21589))', '[Fix] USB HID tests compliance ([#21626](https://github.com/qmk/qmk_firmware/pull/21626))', 'Fix Dynamic Macro Compilation for avr-gcc 5.4.0 + Linux ([#21653](https://github.com/qmk/qmk_firmware/pull/21653))', 'Unicode, Unicodemap and UCIS refactor ([#21659](https://github.com/qmk/qmk_firmware/pull/21659))', \"Audio: Don't play the first note of zero-note melodies ([#21661](https://github.com/qmk/qmk_firmware/pull/21661))\", 'Fix mouse-key spamming empty reports ([#21663](https://github.com/qmk/qmk_firmware/pull/21663))', 'Restore usb suspend wakeup delay ([#21676](https://github.com/qmk/qmk_firmware/pull/21676))', 'Fix compilation error for APA on ChibiOS ([#21773](https://github.com/qmk/qmk_firmware/pull/21773))', 'fix: restore rgb matrix indicators to jellybean_raindrops animation ([#21792](https://github.com/qmk/qmk_firmware/pull/21792))', 'Remove `led_matrix.hue_steps` and `led_matrix.sat_steps` from schema ([#21827](https://github.com/qmk/qmk_firmware/pull/21827))', 'Revert  changes to ChibiOS Suspend Code ([#21830](https://github.com/qmk/qmk_firmware/pull/21830))', 'Add \"apm32-dfu\" in keyboard.jsonschema ([#21842](https://github.com/qmk/qmk_firmware/pull/21842))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 15]"
        },
        {
          "title": "QMK Breaking Changes - 2023 November 26 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": "As per last few breaking changes cycles, there have been _a lot_ of behind-the-scenes changes, mainly around consolidation of config into `info.json` files, cleanup of `info.json` files, cleaning up driver naming, as well as addressing technical debt.\n\nAs a followup to last cycle's [notable changes](20230827#notable-changes), as `qmk/qmk_firmware` is no longer accepting PRs for keymaps we're pleased to announce that storing and building keymaps externally from the normal QMK Firmware repository is now possible. This is done through the new [External Userspace](../newbs_external_userspace) feature, more details below!",
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "| Old Keyboard Name                     | New Keyboard Name             |\n|---------------------------------------|-------------------------------|\n| adm42                                 | adm42/rev4                    |\n| dp3000                                | dp3000/rev1                   |\n| handwired/dactyl_manuform/dmote/62key | handwired/dmote               |\n| keychron/q0/rev_0130                  | keychron/q0/base              |\n| keychron/q0/rev_0131                  | keychron/q0/plus              |\n| keychron/q1/ansi                      | keychron/q1v1/ansi            |\n| keychron/q1/ansi_encoder              | keychron/q1v1/ansi_encoder    |\n| keychron/q1/iso                       | keychron/q1v1/iso             |\n| keychron/q1/iso_encoder               | keychron/q1v1/iso_encoder     |\n| keychron/q4/ansi_v1                   | keychron/q4/ansi              |\n| kprepublic/bm40hsrgb                  | kprepublic/bm40hsrgb/rev1     |\n| matchstickworks/southpad              | matchstickworks/southpad/rev2 |\n| soda/mango                            | magic_force/mf17              |\n| soda/pocket                           | magic_force/mf34              |\n| studiokestra/line_tkl                 | studiokestra/line_friends_tkl |\n| ymdk/melody96                         | ymdk/melody96/soldered        |"
            },
            "Notable core changes {#notable-core}": {
              "External Userspace ([#22222](https://github.com/qmk/qmk_firmware/pull/22222))": "As mentioned above, the new External Userspace feature allows for keymaps to be stored and built externally from the main QMK Firmware repository. This allows for keymaps to be stored separately -- usually in their own repository -- and for users to be able to maintain and build their keymaps without needing to fork the main QMK Firmware repository.\n\nSee the [External Userspace documentation](../newbs_external_userspace) for more details.\n\nA significant portion of user keymaps have already been removed from `qmk/qmk_firmware` and more will follow in coming weeks. You can still recover your keymap from the tag [user-keymaps-still-present](https://github.com/qmk/qmk_firmware/tree/user-keymaps-still-present) if required -- a perfect time to migrate to the new External Userspace!\n\n::: warning\nThis feature is still in beta, and we're looking for feedback on it. Please try it out and let us know what you think -- a new `#help-userspace` channel has been set up on Discord.\n:::",
              "Improve and Cleanup Shutdown callbacks ([#21060](https://github.com/qmk/qmk_firmware/pull/20160)) {#improve-and-cleanup-shutdown-callbacks}": "Shutdown callbacks at the keyboard level were never present, preventing safe shutdown sequencing for peripherals such as OLEDs, RGB LEDs, and other devices. This PR adds a new `shutdown_kb` function, as well as amending `shutdown_user`, allowing for safe shutdown of peripherals at both keyboard and keymap level.\n\nSee the [Keyboard Shutdown/Reboot Code](../custom_quantum_functions#keyboard-shutdown-reboot-code) documentation for more details.",
              "OLED Force Flush ([#20953](https://github.com/qmk/qmk_firmware/pull/20953)) {#oled-force-flush}": "Along with the new `shutdown_kb` function, a new API `oled_render_dirty(bool)` function has been added. This allows OLED contents to be written deterministically when supplied with `true` -- that is, the OLED will be updated immediately, rather than waiting for the next OLED update cycle. This allows for OLEDs to show things such as \"BOOTLOADER MODE\" and the like if resetting to bootloader from QMK.",
              "Switch statement helpers for keycode ranges ([#20059](https://github.com/qmk/qmk_firmware/pull/20059)) {#switch-statement-helpers-for-keycode-ranges}": "Predefined ranges usable within switch statements have been added for groups of similar keycodes, where people who wish to handle entire blocks at once can do so. This allows keymaps to be immune to changes in keycode values, and also allows for more efficient code generation.\n\nThe ranges are as follows:\n\n| Name                                | Mapping                                                                |\n|-------------------------------------|------------------------------------------------------------------------|\n| `INTERNAL_KEYCODE_RANGE`            | `KC_NO ... KC_TRANSPARENT`                                             |\n| `BASIC_KEYCODE_RANGE`               | `KC_A ... KC_EXSEL`                                                    |\n| `SYSTEM_KEYCODE_RANGE`              | `KC_SYSTEM_POWER ... KC_SYSTEM_WAKE`                                   |\n| `CONSUMER_KEYCODE_RANGE`            | `KC_AUDIO_MUTE ... KC_LAUNCHPAD`                                       |\n| `MOUSE_KEYCODE_RANGE`               | `KC_MS_UP ... KC_MS_ACCEL2`                                            |\n| `MODIFIER_KEYCODE_RANGE`            | `KC_LEFT_CTRL ... KC_RIGHT_GUI`                                        |\n| `SWAP_HANDS_KEYCODE_RANGE`          | `QK_SWAP_HANDS_TOGGLE ... QK_SWAP_HANDS_ONE_SHOT`                      |\n| `MAGIC_KEYCODE_RANGE`               | `QK_MAGIC_SWAP_CONTROL_CAPS_LOCK ... QK_MAGIC_TOGGLE_ESCAPE_CAPS_LOCK` |\n| `MIDI_KEYCODE_RANGE`                | `QK_MIDI_ON ... QK_MIDI_PITCH_BEND_UP`                                 |\n| `SEQUENCER_KEYCODE_RANGE`           | `QK_SEQUENCER_ON ... QK_SEQUENCER_STEPS_CLEAR`                         |\n| `JOYSTICK_KEYCODE_RANGE`            | `QK_JOYSTICK_BUTTON_0 ... QK_JOYSTICK_BUTTON_31`                       |\n| `PROGRAMMABLE_BUTTON_KEYCODE_RANGE` | `QK_PROGRAMMABLE_BUTTON_1 ... QK_PROGRAMMABLE_BUTTON_32`               |\n| `AUDIO_KEYCODE_RANGE`               | `QK_AUDIO_ON ... QK_AUDIO_VOICE_PREVIOUS`                              |\n| `STENO_KEYCODE_RANGE`               | `QK_STENO_BOLT ... QK_STENO_COMB_MAX`                                  |\n| `MACRO_KEYCODE_RANGE`               | `QK_MACRO_0 ... QK_MACRO_31`                                           |\n| `BACKLIGHT_KEYCODE_RANGE`           | `QK_BACKLIGHT_ON ... QK_BACKLIGHT_TOGGLE_BREATHING`                    |\n| `RGB_KEYCODE_RANGE`                 | `RGB_TOG ... RGB_MODE_TWINKLE`                                         |\n| `QUANTUM_KEYCODE_RANGE`             | `QK_BOOTLOADER ... QK_ALT_REPEAT_KEY`                                  |\n| `KB_KEYCODE_RANGE`                  | `QK_KB_0 ... QK_KB_31`                                                 |\n| `USER_KEYCODE_RANGE`                | `QK_USER_0 ... QK_USER_31`                                             |\n\nUsage:\n\n```\n    switch (keycode) {\n        case KC_A ... KC_EXSEL:\n        case KC_LEFT_CTRL ... KC_RIGHT_GUI:\n        /* do stuff with basic and modifier keycodes */\n```\n\nBecomes:\n\n```\n    switch (keycode) {\n        case BASIC_KEYCODE_RANGE:\n        case MODIFIER_KEYCODE_RANGE:\n        /* do stuff with basic and modifier keycodes */\n```",
              "Quantum Painter OLED support ([#19997](https://github.com/qmk/qmk_firmware/pull/19997)) {#quantum-painter-oled-support}": "Quantum Painter has picked up support for SH1106 displays -- commonly seen as 128x64 OLEDs. Support for both I2C and SPI displays is available.\n\nIf you're already using OLED through `OLED_DRIVER_ENABLE = yes` or equivalent in `info.json` and wish to use Quantum Painter instead, you'll need to disable the old OLED system, instead enabling Quantum Painter as well as enabling the appropriate SH1106 driver. See the [Quantum Painter driver documentation](../quantum_painter#quantum-painter-drivers) for more details. The old OLED driver is still available, and keymaps do not require migrating to Quantum Painter if you don't want to do so.",
              "RGB/LED lighting driver naming and cleanup ([#21890](https://github.com/qmk/qmk_firmware/pull/21890), [#21891](https://github.com/qmk/qmk_firmware/pull/21891), [#21892](https://github.com/qmk/qmk_firmware/pull/21892), [#21903](https://github.com/qmk/qmk_firmware/pull/21903), [#21904](https://github.com/qmk/qmk_firmware/pull/21904), [#21905](https://github.com/qmk/qmk_firmware/pull/21905), [#21918](https://github.com/qmk/qmk_firmware/pull/21918), [#21929](https://github.com/qmk/qmk_firmware/pull/21929), [#21938](https://github.com/qmk/qmk_firmware/pull/21938), [#22004](https://github.com/qmk/qmk_firmware/pull/22004), [#22008](https://github.com/qmk/qmk_firmware/pull/22008), [#22009](https://github.com/qmk/qmk_firmware/pull/22009), [#22071](https://github.com/qmk/qmk_firmware/pull/22071), [#22090](https://github.com/qmk/qmk_firmware/pull/22090), [#22099](https://github.com/qmk/qmk_firmware/pull/22099), [#22126](https://github.com/qmk/qmk_firmware/pull/22126), [#22133](https://github.com/qmk/qmk_firmware/pull/22133), [#22163](https://github.com/qmk/qmk_firmware/pull/22163), [#22200](https://github.com/qmk/qmk_firmware/pull/22200), [#22308](https://github.com/qmk/qmk_firmware/pull/22308), [#22309](https://github.com/qmk/qmk_firmware/pull/22309), [#22311](https://github.com/qmk/qmk_firmware/pull/22311), [#22325](https://github.com/qmk/qmk_firmware/pull/22325), [#22365](https://github.com/qmk/qmk_firmware/pull/22365), [#22379](https://github.com/qmk/qmk_firmware/pull/22379), [#22380](https://github.com/qmk/qmk_firmware/pull/22380), [#22381](https://github.com/qmk/qmk_firmware/pull/22381), [#22383](https://github.com/qmk/qmk_firmware/pull/22383), [#22436](https://github.com/qmk/qmk_firmware/pull/22436))": "As you can probably tell by the list of PRs just above, there has been a lot of cleanup and consolidation this cycle when it comes to RGB/LED lighting drivers. The number of changes is too large to list here, but the general theme has been focusing on consistency of naming, both of drivers themselves and their respective implementation and configuration. Most changes only affect keyboard designers -- if you find that your in-development keyboard is no longer building due to naming of defines changing, your best bet is to refer to another board already in the repository which has had the changes applied.",
              "Peripheral subsystem enabling ([#22253](https://github.com/qmk/qmk_firmware/pull/22253), [#22448](https://github.com/qmk/qmk_firmware/pull/22448), [#22106](https://github.com/qmk/qmk_firmware/pull/22106)) {#peripheral-subsystem-enabling}": "When enabling peripherals such as I2C, SPI, or Analog/ADC, some required manual inclusion of source files in order to provide driver support, and in some cases, when multiple drivers were using the same underlying peripheral, files were being added to the build multiple times.\n\nMost systems requiring other peripherals now mark their respective dependencies as \"required\", allowing the build system to check whether peripherals are necessary before including them in the build rather than having each location enable them manually.\n\nFor a concrete example, users or keyboard designers who previously added `SRC += analog.c` in order to allow for analog readings via an ADC now should specify `ANALOG_DRIVER_REQUIRED = yes` instead. The full list of added options is as follows:\n\n| New option                     | Old Equivalent                                             |\n|--------------------------------|------------------------------------------------------------|\n| `ANALOG_DRIVER_REQUIRED = yes` | `SRC += analog.c`                                          |\n| `APA102_DRIVER_REQUIRED = yes` | `SRC += apa102.c`                                          |\n| `I2C_DRIVER_REQUIRED = yes`    | `SRC += i2c_master.c` or `QUANTUM_LIB_SRC += i2c_master.c` |\n| `SPI_DRIVER_REQUIRED = yes`    | `SRC += spi_master.c` or `QUANTUM_LIB_SRC += spi_master.c` |\n| `UART_DRIVER_REQUIRED = yes`   | `SRC += uart.c`                                            |\n| `WS2812_DRIVER_REQUIRED = yes` | `SRC += ws2812.c`                                          |",
              "NKRO on V-USB boards ([#22398](https://github.com/qmk/qmk_firmware/pull/22398)) {#vusb-nkro}": "NKRO is now available for ATmega32A and 328P-based keyboards (including PS2AVRGB/Bootmapper boards), thanks to some internal refactoring and cleanup. To enable it, the process is the same as always - add `NKRO_ENABLE = yes` to your `rules.mk`, then assign and press the `NK_TOGG` keycode to switch modes."
            },
            "Full changelist {#full-changelist}": "Core:\n\n['Compilation warning if both `keymap.json` and `keymap.c` exist ([#19939](https://github.com/qmk/qmk_firmware/pull/19939))', '[QP] Add support for OLED, variable framebuffer bpp ([#19997](https://github.com/qmk/qmk_firmware/pull/19997))', 'Generate switch statement helpers for keycode ranges ([#20059](https://github.com/qmk/qmk_firmware/pull/20059))', 'Chibios SPI driver: allow some SPI pins to be left unassigned ([#20315](https://github.com/qmk/qmk_firmware/pull/20315))', 'Take care of scroll divisor remainders for PS/2 drag scroll ([#20732](https://github.com/qmk/qmk_firmware/pull/20732))', 'Add `RGBLIGHT_DEFAULT_ON` macro configuration option ([#20857](https://github.com/qmk/qmk_firmware/pull/20857))', 'Allow force flush of oled display. ([#20953](https://github.com/qmk/qmk_firmware/pull/20953))', 'Improve and Cleanup Shutdown callbacks ([#21060](https://github.com/qmk/qmk_firmware/pull/21060))', '[Enhancement] QP Getters ([#21171](https://github.com/qmk/qmk_firmware/pull/21171))', 'Russian typewriter keymap file for popular legacy layout. ([#21174](https://github.com/qmk/qmk_firmware/pull/21174))', 'Improve directional transition of overlapping mouse keys ([#21494](https://github.com/qmk/qmk_firmware/pull/21494))', 'Add full solenoid support on split keyboards ([#21583](https://github.com/qmk/qmk_firmware/pull/21583))', 'Reduce popping during audio initialization using the additive DAC ([#21642](https://github.com/qmk/qmk_firmware/pull/21642))', '[Maintenance] USB HID control packet as struct ([#21688](https://github.com/qmk/qmk_firmware/pull/21688))', 'Bump mouse endpoint packet size to 16 bytes ([#21711](https://github.com/qmk/qmk_firmware/pull/21711))', 'Allow customizing PWM frequency ([#21717](https://github.com/qmk/qmk_firmware/pull/21717))', 'Add simpler method for relocating functions to RAM. ([#21804](https://github.com/qmk/qmk_firmware/pull/21804))', 'Clean up RGB LED type ([#21859](https://github.com/qmk/qmk_firmware/pull/21859))', 'is31fl3741: Allow changing config register ([#21861](https://github.com/qmk/qmk_firmware/pull/21861))', 'Add _DEFAULT_ON lighting configuration options ([#21865](https://github.com/qmk/qmk_firmware/pull/21865))', 'Modify split config is_keyboard_master/left checks. ([#21875](https://github.com/qmk/qmk_firmware/pull/21875))', 'Remove old `IS_LED_ON/OFF()` macros ([#21878](https://github.com/qmk/qmk_firmware/pull/21878))', 'ckled2001: driver naming cleanups ([#21890](https://github.com/qmk/qmk_firmware/pull/21890))', 'aw20216: driver naming cleanups ([#21891](https://github.com/qmk/qmk_firmware/pull/21891))', 'is31fl3218: driver naming cleanups ([#21892](https://github.com/qmk/qmk_firmware/pull/21892))', 'is31fl3736: driver naming cleanups ([#21903](https://github.com/qmk/qmk_firmware/pull/21903))', 'is31fl3737: driver naming cleanups ([#21904](https://github.com/qmk/qmk_firmware/pull/21904))', 'is31fl3733: driver naming cleanups ([#21905](https://github.com/qmk/qmk_firmware/pull/21905))', 'Enable RP2040 support for apa102 RGB LED driver ([#21908](https://github.com/qmk/qmk_firmware/pull/21908))', 'is31fl3731: driver naming cleanups ([#21918](https://github.com/qmk/qmk_firmware/pull/21918))', 'is31fl3741: driver naming cleanups ([#21929](https://github.com/qmk/qmk_firmware/pull/21929))', 'refactor: move default RGB/LED matrix #defines ([#21938](https://github.com/qmk/qmk_firmware/pull/21938))', 'Added flower blooming on RGB Matrix effect ([#21948](https://github.com/qmk/qmk_firmware/pull/21948))', \"Remove 'Firmware size check does not yet support' message ([#21977](https://github.com/qmk/qmk_firmware/pull/21977))\", 'chibios: mark boot2 bootlader data readonly ([#21986](https://github.com/qmk/qmk_firmware/pull/21986))', 'Complete RGB Matrix support for IS31FL3218 ([#22004](https://github.com/qmk/qmk_firmware/pull/22004))', 'Default wear leveling logical size to half backing ([#22006](https://github.com/qmk/qmk_firmware/pull/22006))', 'chibios: disable RWX segment warning on newer GNU lds ([#22007](https://github.com/qmk/qmk_firmware/pull/22007))', 'Add and use I2C address defines for ISSI LED drivers ([#22008](https://github.com/qmk/qmk_firmware/pull/22008))', 'Add and use PWM frequency defines for ISSI LED drivers ([#22009](https://github.com/qmk/qmk_firmware/pull/22009))', 'directly use object files when linking ELF ([#22025](https://github.com/qmk/qmk_firmware/pull/22025))', 'Lvgl rate control ([#22049](https://github.com/qmk/qmk_firmware/pull/22049))', 'Rename CKLED2001 driver to SNLED27351 ([#22071](https://github.com/qmk/qmk_firmware/pull/22071))', 'Move `PACKED` define to util.h ([#22074](https://github.com/qmk/qmk_firmware/pull/22074))', 'Simplify more feature driver defines ([#22090](https://github.com/qmk/qmk_firmware/pull/22090))', 'Update ISSI LED types ([#22099](https://github.com/qmk/qmk_firmware/pull/22099))', 'Move velocikey to within rgblight ([#22123](https://github.com/qmk/qmk_firmware/pull/22123))', 'is31fl3218: Add LED Matrix support ([#22126](https://github.com/qmk/qmk_firmware/pull/22126))', 'Set default board files for uf2boot bootloader ([#22129](https://github.com/qmk/qmk_firmware/pull/22129))', 'is31fl3736: extract single-color API ([#22133](https://github.com/qmk/qmk_firmware/pull/22133))', 'is31fl3737/3741: add LED Matrix support ([#22163](https://github.com/qmk/qmk_firmware/pull/22163))', 'Rename `DRIVER_ADDR_n` defines ([#22200](https://github.com/qmk/qmk_firmware/pull/22200))', 'New RGB Animations - 4 \"Starlight\" Animation Variations ([#22212](https://github.com/qmk/qmk_firmware/pull/22212))', 'QMK Userspace ([#22222](https://github.com/qmk/qmk_firmware/pull/22222))', 'Dedupe I2C, SPI, UART driver inclusions ([#22253](https://github.com/qmk/qmk_firmware/pull/22253))', 'Add \"AC Next Keyboard Layout Select\" consumer usage entry (macOS Globe key) ([#22256](https://github.com/qmk/qmk_firmware/pull/22256))', 'Separate 6KRO and NKRO report structs ([#22267](https://github.com/qmk/qmk_firmware/pull/22267))', 'Azoteq IQS5xx support ([#22280](https://github.com/qmk/qmk_firmware/pull/22280))', 'Add `_flush()` functions to LED drivers ([#22308](https://github.com/qmk/qmk_firmware/pull/22308))', 'Add `_LED_COUNT` defines to LED drivers ([#22309](https://github.com/qmk/qmk_firmware/pull/22309))', 'Infer LED DRIVER_COUNT from configured addresses ([#22311](https://github.com/qmk/qmk_firmware/pull/22311))', 'Added gamma values for ST7735 displays ([#22313](https://github.com/qmk/qmk_firmware/pull/22313))', 'Consolidate some EEPROM Driver configuration ([#22321](https://github.com/qmk/qmk_firmware/pull/22321))', 'V-USB: Add generic `send_report()` function ([#22323](https://github.com/qmk/qmk_firmware/pull/22323))', 'V-USB: Implement `GET_PROTOCOL` and `SET_PROTOCOL` handling ([#22324](https://github.com/qmk/qmk_firmware/pull/22324))', 'RGB/LED matrix use limits size optimisation ([#22325](https://github.com/qmk/qmk_firmware/pull/22325))', 'Relocate LED driver init code ([#22365](https://github.com/qmk/qmk_firmware/pull/22365))', 'WT RGB cleanups ([#22379](https://github.com/qmk/qmk_firmware/pull/22379))', 'LED drivers: use `PACKED` define from util.h ([#22380](https://github.com/qmk/qmk_firmware/pull/22380))', 'LED drivers: clean up `SWx`/`CSy` pullup/down resistor config ([#22381](https://github.com/qmk/qmk_firmware/pull/22381))', 'LED drivers: add defines for PWM and LED control register counts ([#22383](https://github.com/qmk/qmk_firmware/pull/22383))', 'V-USB: implement NKRO ([#22398](https://github.com/qmk/qmk_firmware/pull/22398))', 'Allow generic_features to handle subdirectories ([#22400](https://github.com/qmk/qmk_firmware/pull/22400))', 'Migrate some common features to generic ([#22403](https://github.com/qmk/qmk_firmware/pull/22403))', 'Remove requirement for `keymap_steno.h` include in keymaps ([#22423](https://github.com/qmk/qmk_firmware/pull/22423))', 'LED drivers: register naming cleanups ([#22436](https://github.com/qmk/qmk_firmware/pull/22436))', 'Slight refactor of joystick axis type into typedef ([#22445](https://github.com/qmk/qmk_firmware/pull/22445))', 'Generalise analog SRC inclusion ([#22448](https://github.com/qmk/qmk_firmware/pull/22448))', 'Revert \"chibios: disable RWX segment warning on newer GNU lds\" ([#22469](https://github.com/qmk/qmk_firmware/pull/22469))', 'chibios: disable RWX segment warning on newer GNU lds ([#22471](https://github.com/qmk/qmk_firmware/pull/22471))']\n\nCLI:\n\n['Implement data driven lighting defaults ([#21825](https://github.com/qmk/qmk_firmware/pull/21825))', 'Generate keymap.json config options more forcefully ([#21960](https://github.com/qmk/qmk_firmware/pull/21960))', 'Implement data driven dip switches ([#22017](https://github.com/qmk/qmk_firmware/pull/22017))', 'Improve argument handling of c2json ([#22170](https://github.com/qmk/qmk_firmware/pull/22170))', 'Support additional split sync items for info.json ([#22193](https://github.com/qmk/qmk_firmware/pull/22193))', 'CLI refactoring for common build target APIs ([#22221](https://github.com/qmk/qmk_firmware/pull/22221))', 'Add dd mapping for hardware based split handedness ([#22369](https://github.com/qmk/qmk_firmware/pull/22369))', 'CLI parallel search updates ([#22525](https://github.com/qmk/qmk_firmware/pull/22525))', 'Remove duplicates from search results ([#22528](https://github.com/qmk/qmk_firmware/pull/22528))']\n\nKeyboards:\n\n['Add KPRepublic/BM40hsrgb rev2 ([#16689](https://github.com/qmk/qmk_firmware/pull/16689))', 'update to data driven - superseeds part of https://github.com/qmk/qmk ([#20220](https://github.com/qmk/qmk_firmware/pull/20220))', 'Modernize `dactyl_manuform/dmote` keyboard ([#20427](https://github.com/qmk/qmk_firmware/pull/20427))', 'add Skyloong/GK61_V1 keyboard ([#21364](https://github.com/qmk/qmk_firmware/pull/21364))', '[Refactor] Make changes to some pins ([#21380](https://github.com/qmk/qmk_firmware/pull/21380))', 'Add missing fullsize extended default layouts ([#21402](https://github.com/qmk/qmk_firmware/pull/21402))', 'Add Skyloong/Gk61 PRO keyboard ([#21450](https://github.com/qmk/qmk_firmware/pull/21450))', 'Added skyloong/Qk21 v1 Number Pad ([#21467](https://github.com/qmk/qmk_firmware/pull/21467))', 'matchstickworks/southpad - Move files to rev1, add rev2 ([#21574](https://github.com/qmk/qmk_firmware/pull/21574))', 'partially modernize `dactyl_minidox` ([#21576](https://github.com/qmk/qmk_firmware/pull/21576))', 'tominabox1/le_chiffre oled rework ([#21611](https://github.com/qmk/qmk_firmware/pull/21611))', 'Add Skyloong/Gk61_pro_48 keyboard ([#21654](https://github.com/qmk/qmk_firmware/pull/21654))', 'Adding support for new Waffling60 revision ([#21664](https://github.com/qmk/qmk_firmware/pull/21664))', 'Leeloo revision 2 updates. ([#21671](https://github.com/qmk/qmk_firmware/pull/21671))', 'rename og60 to tofu60 ([#21684](https://github.com/qmk/qmk_firmware/pull/21684))', 'add tofujr v2 keyboard ([#21740](https://github.com/qmk/qmk_firmware/pull/21740))', 'Rotary numpad ([#21744](https://github.com/qmk/qmk_firmware/pull/21744))', 'Update era/divine ([#21767](https://github.com/qmk/qmk_firmware/pull/21767))', '1UpKeyboards Pi60 Layout Additions ([#21874](https://github.com/qmk/qmk_firmware/pull/21874))', 'BIOI keyboards: use core UART driver ([#21879](https://github.com/qmk/qmk_firmware/pull/21879))', 'Resolve some \"Layout should not contain name of keyboard\" lint warnings ([#21898](https://github.com/qmk/qmk_firmware/pull/21898))', 'fc660c/fc980c: clean up actuation point adjustment code ([#21964](https://github.com/qmk/qmk_firmware/pull/21964))', 'Chromatonemini info json revised to support qmk 0.22.2 ([#21966](https://github.com/qmk/qmk_firmware/pull/21966))', 'Migrate spi_flash WEAR_LEVELING_DRIVER to info.json ([#21978](https://github.com/qmk/qmk_firmware/pull/21978))', 'Remove duplication of RP2040 EEPROM defaults ([#21979](https://github.com/qmk/qmk_firmware/pull/21979))', 'Remove duplication of STM32L432 EEPROM defaults ([#21981](https://github.com/qmk/qmk_firmware/pull/21981))', 'Migrate spi EEPROM_DRIVER to info.json ([#21991](https://github.com/qmk/qmk_firmware/pull/21991))', 'Update Keychron Q1v1 ([#21993](https://github.com/qmk/qmk_firmware/pull/21993))', 'Update Keychron Q2 ([#21994](https://github.com/qmk/qmk_firmware/pull/21994))', 'Update Keychron Q3 ([#21995](https://github.com/qmk/qmk_firmware/pull/21995))', 'Update Keychron Q4 ([#21996](https://github.com/qmk/qmk_firmware/pull/21996))', 'Migrate WEAR_LEVELING_*_SIZE to info.json ([#22010](https://github.com/qmk/qmk_firmware/pull/22010))', 'Remove duplication of EEPROM defaults ([#22011](https://github.com/qmk/qmk_firmware/pull/22011))', 'Migrate i2c EEPROM_DRIVER to info.json ([#22013](https://github.com/qmk/qmk_firmware/pull/22013))', 'Remove config.h which only set DYNAMIC_KEYMAP_LAYER_COUNT ([#22034](https://github.com/qmk/qmk_firmware/pull/22034))', 'Add community layout support to tofu60 ([#22041](https://github.com/qmk/qmk_firmware/pull/22041))', 'Update Keychron Q0 ([#22068](https://github.com/qmk/qmk_firmware/pull/22068))', 'Remove custom ISSI lighting code ([#22073](https://github.com/qmk/qmk_firmware/pull/22073))', 'add dp3000 rev2 featuring rgblight ([#22084](https://github.com/qmk/qmk_firmware/pull/22084))', 'Remove ALLOW_WARNINGS and PICO_INTRINSICS_ENABLED ([#22085](https://github.com/qmk/qmk_firmware/pull/22085))', 'Partially migrate `DYNAMIC_KEYMAP_LAYER_COUNT` ([#22087](https://github.com/qmk/qmk_firmware/pull/22087))', 'feat(eyeohdesigns/babyv): rgb matrix ([#22105](https://github.com/qmk/qmk_firmware/pull/22105))', 'input_club/infinity60: remove custom 3731 code, convert to LED Matrix ([#22117](https://github.com/qmk/qmk_firmware/pull/22117))', 'YMDK Melody96 Break-Up ([#22121](https://github.com/qmk/qmk_firmware/pull/22121))', 'Remove duplicated rgblight implementation from mxss ([#22122](https://github.com/qmk/qmk_firmware/pull/22122))', 'KC60 Layout Standardization and Cleanup ([#22125](https://github.com/qmk/qmk_firmware/pull/22125))', 'Convert adm42 to data driven ([#22144](https://github.com/qmk/qmk_firmware/pull/22144))', 'Update Drop keyboards for develop ([#22145](https://github.com/qmk/qmk_firmware/pull/22145))', 'move soda/mango and soda/pocket to magic_force/mf17 and magic_force/mf34 ([#22151](https://github.com/qmk/qmk_firmware/pull/22151))', 'GMMK2 65% ISO Community Layout Support ([#22152](https://github.com/qmk/qmk_firmware/pull/22152))', 'Leeloo v2.1 revision 3 updates. ([#22236](https://github.com/qmk/qmk_firmware/pull/22236))', 'jian/rev1: convert to DIP Switch ([#22248](https://github.com/qmk/qmk_firmware/pull/22248))', 'Enable linking of encoders to switch within layout macros ([#22264](https://github.com/qmk/qmk_firmware/pull/22264))', 'Migrate recently introduced sync items ([#22305](https://github.com/qmk/qmk_firmware/pull/22305))', 'Rename LINE FRIENDS TKL keyboard ([#22310](https://github.com/qmk/qmk_firmware/pull/22310))', 'feat(mechwild/clunker): new layouts ([#22342](https://github.com/qmk/qmk_firmware/pull/22342))', 'Remove use of broken split.main ([#22363](https://github.com/qmk/qmk_firmware/pull/22363))', 'whitefox: remove pointless file ([#22366](https://github.com/qmk/qmk_firmware/pull/22366))', 'Migrate some EEPROM config to info.json ([#22434](https://github.com/qmk/qmk_firmware/pull/22434))', 'Remove unnecessary driver counts ([#22435](https://github.com/qmk/qmk_firmware/pull/22435))', 'Migrate some dip switch config to info.json ([#22437](https://github.com/qmk/qmk_firmware/pull/22437))', 'Remove userspace keymaps ([#22544](https://github.com/qmk/qmk_firmware/pull/22544))', 'Stub out community layout directory structure ([#22545](https://github.com/qmk/qmk_firmware/pull/22545))', 'Remove symbolic linked userspace folder ([#22548](https://github.com/qmk/qmk_firmware/pull/22548))']\n\nKeyboard fixes:\n\n['fix unxmaal for 60_iso ([#21975](https://github.com/qmk/qmk_firmware/pull/21975))', 'Fix input_club/k_type when RGB Matrix disabled ([#22021](https://github.com/qmk/qmk_firmware/pull/22021))', 'Fixup snes_macropad on develop ([#22444](https://github.com/qmk/qmk_firmware/pull/22444))', 'Fix missed shutdown callbacks ([#22549](https://github.com/qmk/qmk_firmware/pull/22549))']\n\nOthers:\n\n['Implement data driven wear leveling ([#21906](https://github.com/qmk/qmk_firmware/pull/21906))', 'More data driven RGB/LED Matrix config ([#21939](https://github.com/qmk/qmk_firmware/pull/21939))', 'Update WS2812 docs and add APA102 docs ([#22106](https://github.com/qmk/qmk_firmware/pull/22106))', 'Add DD mappings for locking switch ([#22242](https://github.com/qmk/qmk_firmware/pull/22242))']\n\nBugs:\n\n['Improve test invocation, fix Retro Shift bugs, and add Auto+Retro Shift test cases ([#15889](https://github.com/qmk/qmk_firmware/pull/15889))', '[Bugfix] `qp_ellipse` overflow ([#19005](https://github.com/qmk/qmk_firmware/pull/19005))', 'Cater for ECC failures in EFL wear-leveling. ([#19749](https://github.com/qmk/qmk_firmware/pull/19749))', 'Fix OSM on a OSL activated layer ([#20410](https://github.com/qmk/qmk_firmware/pull/20410))', 'Fixed WB32 MCU remote wakeup issue ([#20863](https://github.com/qmk/qmk_firmware/pull/20863))', 'Optimize the additive DAC code, fixing performance-related hangs ([#21662](https://github.com/qmk/qmk_firmware/pull/21662))', '[Enhancement] Improvements for debounce test coverage + bug fixes for sym_defer_g and sym_eager_pr ([#21667](https://github.com/qmk/qmk_firmware/pull/21667))', 'fix: make clicky delay silent ([#21866](https://github.com/qmk/qmk_firmware/pull/21866))', 'Add `mousekey.h` include to `quantum.h` ([#21897](https://github.com/qmk/qmk_firmware/pull/21897))', 'Fix default layer value in eeconfig_init ([#21909](https://github.com/qmk/qmk_firmware/pull/21909))', 'Add RTC IRQ Priority to RP2040 board files ([#21926](https://github.com/qmk/qmk_firmware/pull/21926))', 'Update AW20216S LED type ([#22072](https://github.com/qmk/qmk_firmware/pull/22072))', 'LED/RGB Matrix: prefix driver defines ([#22088](https://github.com/qmk/qmk_firmware/pull/22088))', 'RGBLight/Backlight: add prefixed driver defines ([#22089](https://github.com/qmk/qmk_firmware/pull/22089))', 'Fix lower cpi bound on PMW33XX ([#22108](https://github.com/qmk/qmk_firmware/pull/22108))', 'Fix parsing/validation for 21939 ([#22148](https://github.com/qmk/qmk_firmware/pull/22148))', 'is31fl3733: complete LED Matrix support ([#22149](https://github.com/qmk/qmk_firmware/pull/22149))', 'Fix memory leak in realloc failure handling ([#22188](https://github.com/qmk/qmk_firmware/pull/22188))', 'avrdude: Version 7.2 changes the text output ([#22235](https://github.com/qmk/qmk_firmware/pull/22235))', 'Resolve invalid keyboard alias targets ([#22239](https://github.com/qmk/qmk_firmware/pull/22239))', 'Prep work for NKRO report separation ([#22268](https://github.com/qmk/qmk_firmware/pull/22268))', 'ChibiOS pin defs: use only vendor if present ([#22297](https://github.com/qmk/qmk_firmware/pull/22297))', 'Fix invalid LED driver config ([#22312](https://github.com/qmk/qmk_firmware/pull/22312))', 'Fix compilation error when led/rgb process limit is zero. ([#22328](https://github.com/qmk/qmk_firmware/pull/22328))', 'V-USB: Fix `GET_IDLE/SET_IDLE` ([#22332](https://github.com/qmk/qmk_firmware/pull/22332))', 'QP getters correction ([#22357](https://github.com/qmk/qmk_firmware/pull/22357))', \"Fix 'to_c' for config.h mappings ([#22364](https://github.com/qmk/qmk_firmware/pull/22364))\", 'snled27351: fix missing `i2c_init()` ([#22446](https://github.com/qmk/qmk_firmware/pull/22446))', 'Move BACKLIGHT_PWM_PERIOD to correct docs section ([#22480](https://github.com/qmk/qmk_firmware/pull/22480))', '`qmk find`: Fix failure with multiple filters ([#22497](https://github.com/qmk/qmk_firmware/pull/22497))', 'Fix `qmk find` failure due to circular imports ([#22523](https://github.com/qmk/qmk_firmware/pull/22523))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 16]"
        },
        {
          "title": "QMK Breaking Changes - 2024 February 25 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": "_0.24.0_ is mainly a maintenance release of QMK Firmware -- as per last few breaking changes cycles, there have been a lot of behind-the-scenes changes, mainly:\n\n['continued purge of user keymaps', 'migration of RGB matrix configuration into `info.json` files', 'standardisation of `LAYOUT` naming', 'keyboard relocations', 'addressing technical debt']",
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Windows Driver Changes ([QMK Toolbox 0.3.0 Release](https://github.com/qmk/qmk_toolbox/releases/tag/0.3.0))": "Flashing keyboards that target `atmel-dfu` or `qmk-dfu` on Windows using `qmk flash` or QMK Toolbox have traditionally used _libusb_ for access to the DFU USB device. Since QMK Toolbox 0.3.0, this has changed to WinUSB.\n\nIf you update QMK Toolbox or update QMK MSYS, you may find that flashing Atmel DFU keyboards no longer functions as intended. If you strike such issues when flashing new firmware, you will need to replace the _libusb_ driver with _WinUSB_ using Zadig. You can follow the [Recovering from Installation to Wrong Device](../driver_installation_zadig#recovering-from-installation-to-wrong-device) instructions to replace the driver associated with the Atmel DFU bootloader, skipping the section about removal as Zadig will safely replace the driver instead. Please ensure your keyboard is in bootloader mode and has _libusb_ as the existing driver before attempting to use Zadig to replace the driver. If instead you see _HidUsb_ you're not in bootloader mode and should not continue with driver replacement.",
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "One note with updated keyboard names -- historical keyboard names are still considered valid when using [External Userspace](../newbs_external_userspace) for builds. If you're already using External Userspace, you do not need to move your keymap inside your repository.\n\n| Old Keyboard Name       | New Keyboard Name               |\n|-------------------------|---------------------------------|\n| enter67                 | kezewa/enter67                  |\n| enter80                 | kezewa/enter80                  |\n| epoch80                 | kbdfans/epoch80                 |\n| eu_isolation            | p3d/eu_isolation                |\n| flygone60/rev3          | shandoncodes/flygone60/rev3     |\n| hub16                   | joshajohnson/hub16              |\n| hub20                   | joshajohnson/hub20              |\n| jm60                    | kbdfans/jm60                    |\n| kira75                  | kira/kira75                     |\n| kira80                  | kira/kira80                     |\n| kmac                    | kbdmania/kmac                   |\n| kmac_pad                | kbdmania/kmac_pad               |\n| kudox/columner          | kumaokobo/kudox/columner        |\n| kudox/rev1              | kumaokobo/kudox/rev1            |\n| kudox/rev2              | kumaokobo/kudox/rev2            |\n| kudox/rev3              | kumaokobo/kudox/rev3            |\n| kudox_full/rev1         | kumaokobo/kudox_full/rev1       |\n| kudox_game              | kumaokobo/kudox_game            |\n| kudox_game/rev1         | kumaokobo/kudox_game/rev1       |\n| kudox_game/rev2         | kumaokobo/kudox_game/rev2       |\n| laser_ninja/pumpkin_pad | laser_ninja/pumpkinpad          |\n| late9/rev1              | rookiebwoy/late9/rev1           |\n| lefty                   | smoll/lefty                     |\n| lefty/rev1              | smoll/lefty/rev1                |\n| lefty/rev2              | smoll/lefty/rev2                |\n| lpad                    | laneware/lpad                   |\n| lw67                    | laneware/lw67                   |\n| lw75                    | laneware/lw75                   |\n| macro1                  | laneware/macro1                 |\n| macro3                  | handwired/macro3                |\n| miniaxe                 | kagizaraya/miniaxe              |\n| mino/hotswap            | shandoncodes/mino/hotswap       |\n| mino_plus/hotswap       | shandoncodes/mino_plus/hotswap  |\n| mino_plus/soldered      | shandoncodes/mino_plus/soldered |\n| mnk1800s                | monokei/mnk1800s                |\n| mnk50                   | monokei/mnk50                   |\n| mnk75                   | monokei/mnk75                   |\n| moonlander              | zsa/moonlander                  |\n| neopad/rev1             | rookiebwoy/neopad/rev1          |\n| pico/65keys             | kumaokobo/pico/65keys           |\n| pico/70keys             | kumaokobo/pico/70keys           |\n| pw88                    | smoll/pw88                      |\n| q4z                     | p3d/q4z                         |\n| raindrop                | laneware/raindrop               |\n| redox_w                 | redox/wireless                  |\n| riot_pad                | shandoncodes/riot_pad           |\n| spacey                  | p3d/spacey                      |\n| synapse                 | p3d/synapse                     |\n| tw40                    | p3d/tw40                        |\n| w1_at                   | geonworks/w1_at                 |\n| z12                     | zigotica/z12                    |\n| z34                     | zigotica/z34                    |"
            },
            "Notable core changes {#notable-core}": {
              "Renaming Arduino-style GPIO pin functions ([#23085](https://github.com/qmk/qmk_firmware/pull/23085), [#23093](https://github.com/qmk/qmk_firmware/pull/23093)) {#gpio-rename}": "QMK has long used Arduino-style GPIO naming conventions. This has been confusing for users, as over time they've had new variations added, as well as users mistakenly thinking that QMK supports the rest of the Arduino ecosystem.\n\nThe decision was made to rename the GPIO manipulation functions with ones matching QMK Firmware's code styling.\n\n| Old                          | New                                   |\n|------------------------------|---------------------------------------|\n| `setPinInput(pin)`           | `gpio_set_pin_input(pin)`             |\n| `setPinInputHigh(pin)`       | `gpio_set_pin_input_high(pin)`        |\n| `setPinInputLow(pin)`        | `gpio_set_pin_input_low(pin)`         |\n| `setPinOutput(pin)`          | `gpio_set_pin_output(pin)`            |\n| `setPinOutputPushPull(pin)`  | `gpio_set_pin_output_push_pull(pin)`  |\n| `setPinOutputOpenDrain(pin)` | `gpio_set_pin_output_open_drain(pin)` |\n| `writePinHigh(pin)`          | `gpio_write_pin_high(pin)`            |\n| `writePinLow(pin)`           | `gpio_write_pin_low(pin)`             |\n| `writePin(pin, level)`       | `gpio_write_pin(pin, level)`          |\n| `readPin(pin)`               | `gpio_read_pin(pin)`                  |\n| `togglePin(pin)`             | `gpio_toggle_pin(pin)`                |",
              "I2C driver API Changes ([#22905](https://github.com/qmk/qmk_firmware/pull/22905))": "Much like the GPIO refactoring, I2C APIs were also updated to conform to QMK naming standards. This is largely irrelevant to people using subsystem abstractions such as touchpads or RGB lighting, and only affects people manually communicating with other peripherals.\n\n| Old API            | New API                  |\n|--------------------|--------------------------|\n| `i2c_readReg()`    | `i2c_read_register()`    |\n| `i2c_readReg16()`  | `i2c_read_register16()`  |\n| `i2c_writeReg()`   | `i2c_write_register()`   |\n| `i2c_writeReg16()` | `i2c_write_register16()` |",
              "Renaming _Bootmagic Lite_ => _Bootmagic_ ([#22970](https://github.com/qmk/qmk_firmware/pull/22970), [#22979](https://github.com/qmk/qmk_firmware/pull/22979)) {#bootmagic-rename}": "Bootmagic \"Lite\" had no real meaning once the historical Bootmagic \"Full\" was deprecated and removed. Any references to _Bootmagic Lite_ should now just refer to _Bootmagic_. We hope we got the majority of the code and the documentation, so if you find any more, let us know!",
              "Threshold for automatic mouse layer activation ([#21398](https://github.com/qmk/qmk_firmware/pull/21398)) {#auto-mouse-layer}": "In some cases, accidental automatic activation of the mouse layer made it difficult to continue typing, such as when brushing across a trackball. `AUTO_MOUSE_THRESHOLD` is now a configurable option in `config.h` which allows for specifying what the movement threshold is before automatically activating the mouse layer.",
              "DIP Switch Mapping ([#22543](https://github.com/qmk/qmk_firmware/pull/22543)) {#dip-switch-map}": "Much like Encoder Mapping, DIP Switch Mapping allows for specifying a table of actions to execute when a DIP switch state changes. See the [DIP Switch Documentation](../features/dip_switch#dip-switch-map) for more information.\n\n```\n#if defined(DIP_SWITCH_MAP_ENABLE)\nconst uint16_t PROGMEM dip_switch_map[NUM_DIP_SWITCHES][NUM_DIP_STATES] = {\n    DIP_SWITCH_OFF_ON(DF(0), DF(1)),\n    DIP_SWITCH_OFF_ON(EC_NORM, EC_SWAP)\n};\n#endif\n```",
              "Quantum Painter updates ([#18521](https://github.com/qmk/qmk_firmware/pull/18521), [#20645](https://github.com/qmk/qmk_firmware/pull/20645), [#22358](https://github.com/qmk/qmk_firmware/pull/22358)) {#qp-updates}": "Quantum Painter picked up support for the following:\n\n['ILI9486 displays', 'SSD1306 displays, including smaller OLEDs', 'Native panel pixel format support for fonts']\n\nQuantum Painter now supports the majority of common OLED panels supported by the basic OLED driver, so if you're using an ARM-based board you may find Quantum Painter a much more feature-rich API in comparison."
            },
            "Full changelist {#full-changelist}": "Core:\n\n['[Driver] ILI9486 on Quantum Painter ([#18521](https://github.com/qmk/qmk_firmware/pull/18521))', 'Insert delay between shifted chars in send_string_with_delay ([#19280](https://github.com/qmk/qmk_firmware/pull/19280))', '[QP] Native palette support for fonts ([#20645](https://github.com/qmk/qmk_firmware/pull/20645))', 'I2C driver cleanup ([#21273](https://github.com/qmk/qmk_firmware/pull/21273))', 'Add option for auto mouse movement threshold ([#21398](https://github.com/qmk/qmk_firmware/pull/21398))', 'Add Canadian French input locale ([#21456](https://github.com/qmk/qmk_firmware/pull/21456))', 'Add encoder abstraction. ([#21548](https://github.com/qmk/qmk_firmware/pull/21548))', 'Converted RGB matrix to use last_input_activity_elapsed(). ([#21687](https://github.com/qmk/qmk_firmware/pull/21687))', 'Ignore space cadet key release when caps word is active ([#21721](https://github.com/qmk/qmk_firmware/pull/21721))', 'Add OS detection callbacks ([#21777](https://github.com/qmk/qmk_firmware/pull/21777))', 'joystick weights ([#21883](https://github.com/qmk/qmk_firmware/pull/21883))', 'Add RGB matrix & LED Matrix support for IS31FL3729 ([#21944](https://github.com/qmk/qmk_firmware/pull/21944))', 'dac_additive: Decouple the buffer length from the waveform length ([#22276](https://github.com/qmk/qmk_firmware/pull/22276))', 'Add missing rgb matrix default parameters ([#22281](https://github.com/qmk/qmk_firmware/pull/22281))', 'Remove console out endpoint ([#22304](https://github.com/qmk/qmk_firmware/pull/22304))', 'Add ADC support STM32L4xx and STM32G4xx series MCUs ([#22341](https://github.com/qmk/qmk_firmware/pull/22341))', 'Add QP support for smaller OLED displays and SSD1306 ([#22358](https://github.com/qmk/qmk_firmware/pull/22358))', 'Add Imera converter ([#22419](https://github.com/qmk/qmk_firmware/pull/22419))', 'LED drivers: refactor page selection ([#22518](https://github.com/qmk/qmk_firmware/pull/22518))', 'Rework RGBLight driver system ([#22529](https://github.com/qmk/qmk_firmware/pull/22529))', 'Add `APA102_LED_COUNT` define ([#22530](https://github.com/qmk/qmk_firmware/pull/22530))', 'Add latam spanish headers ([#22542](https://github.com/qmk/qmk_firmware/pull/22542))', 'Keymap introspection for Dip Switches ([#22543](https://github.com/qmk/qmk_firmware/pull/22543))', 'Add basic presence check for cirque trackpad. ([#22546](https://github.com/qmk/qmk_firmware/pull/22546))', 'Rename `RGBLED_NUM` -> `RGBLIGHT_LED_COUNT` ([#22570](https://github.com/qmk/qmk_firmware/pull/22570))', 'LED drivers: change \"TWI\" to \"I2C\" ([#22617](https://github.com/qmk/qmk_firmware/pull/22617))', 'LED drivers: extract IS31FL3742A from IS31COMMON ([#22620](https://github.com/qmk/qmk_firmware/pull/22620))', 'Align Dip Switch feature ([#22625](https://github.com/qmk/qmk_firmware/pull/22625))', 'LED/RGB Matrix: add header for drivers ([#22628](https://github.com/qmk/qmk_firmware/pull/22628))', 'LED drivers: extract IS31FL3743A from IS31COMMON ([#22635](https://github.com/qmk/qmk_firmware/pull/22635))', 'LED drivers: extract IS31FL3745 from IS31COMMON ([#22636](https://github.com/qmk/qmk_firmware/pull/22636))', 'LED drivers: extract IS31FL3746A from IS31COMMON ([#22637](https://github.com/qmk/qmk_firmware/pull/22637))', 'Update keyboard LED driver configs ([#22638](https://github.com/qmk/qmk_firmware/pull/22638))', 'Solid reactive: improve fading effect ([#22656](https://github.com/qmk/qmk_firmware/pull/22656))', 'Remove redundant RGB/LED matrix eeconfig init ([#22673](https://github.com/qmk/qmk_firmware/pull/22673))', 'Remove redundant rgblight eeconfig init ([#22674](https://github.com/qmk/qmk_firmware/pull/22674))', 'Remove redundant steno eeconfig init ([#22680](https://github.com/qmk/qmk_firmware/pull/22680))', 'Rename `LED_DISABLE_WHEN_USB_SUSPENDED` -> `LED_MATRIX_SLEEP` ([#22681](https://github.com/qmk/qmk_firmware/pull/22681))', 'Rename `RGB_DISABLE_WHEN_USB_SUSPENDED` -> `RGB_MATRIX_SLEEP` ([#22682](https://github.com/qmk/qmk_firmware/pull/22682))', 'Align VUSB suspend protocol logic ([#22688](https://github.com/qmk/qmk_firmware/pull/22688))', '[Audio] Enable Complementary output for PWM Hardware driver ([#22726](https://github.com/qmk/qmk_firmware/pull/22726))', 'Remove redundant audio eeconfig init ([#22736](https://github.com/qmk/qmk_firmware/pull/22736))', 'Align location of tap dance keycode ([#22742](https://github.com/qmk/qmk_firmware/pull/22742))', 'Align `SPLIT_HAND_MATRIX_GRID` left/right logic with `SPLIT_HAND_PIN` ([#22775](https://github.com/qmk/qmk_firmware/pull/22775))', '[CI] Regenerate Files ([#22795](https://github.com/qmk/qmk_firmware/pull/22795))', 'Remove IS31FLCOMMON code ([#22800](https://github.com/qmk/qmk_firmware/pull/22800))', 'Cirque reachable calibration aide ([#22803](https://github.com/qmk/qmk_firmware/pull/22803))', 'LED drivers: rename \"simple\" to \"mono\" ([#22814](https://github.com/qmk/qmk_firmware/pull/22814))', 'is31fl3733: change `write_register()` return type to `void` ([#22824](https://github.com/qmk/qmk_firmware/pull/22824))', 'snled27351: change `write_register()` return type to `void` ([#22825](https://github.com/qmk/qmk_firmware/pull/22825))', 'apa102: cleanups ([#22826](https://github.com/qmk/qmk_firmware/pull/22826))', 'Remove PWM advanced check for WS2812 driver ([#22830](https://github.com/qmk/qmk_firmware/pull/22830))', 'Allow ChibiOS `SIO` driver for `UART` driver ([#22839](https://github.com/qmk/qmk_firmware/pull/22839))', 'LED drivers: more formatting ([#22865](https://github.com/qmk/qmk_firmware/pull/22865))', 'LED drivers: change `write_pwm_buffer()` return type to `void` ([#22869](https://github.com/qmk/qmk_firmware/pull/22869))', '[CI] Regenerate Files ([#22872](https://github.com/qmk/qmk_firmware/pull/22872))', 'LED drivers: switch to i2c_writeReg() ([#22878](https://github.com/qmk/qmk_firmware/pull/22878))', 'LED drivers: remove `write_pwm_buffer()` from public API ([#22884](https://github.com/qmk/qmk_firmware/pull/22884))', 'i2c: rename read/write register functions ([#22905](https://github.com/qmk/qmk_firmware/pull/22905))', 'LED drivers: update I2C API usage ([#22951](https://github.com/qmk/qmk_firmware/pull/22951))', 'LED drivers: create structs to hold PWM/scaling buffers ([#22955](https://github.com/qmk/qmk_firmware/pull/22955))', 'Migrate and remove deprecated debug utils ([#22961](https://github.com/qmk/qmk_firmware/pull/22961))', 'Remove call to removed i2c function in azoteq driver ([#22966](https://github.com/qmk/qmk_firmware/pull/22966))', 'Tidy up print/debug logging headers ([#22969](https://github.com/qmk/qmk_firmware/pull/22969))', 'Begin removal of bootmagic lite terminology ([#22970](https://github.com/qmk/qmk_firmware/pull/22970))', 'LED drivers: place I2C addresses into an array ([#22975](https://github.com/qmk/qmk_firmware/pull/22975))', 'Removal of bootmagic lite terminology ([#22979](https://github.com/qmk/qmk_firmware/pull/22979))', 'Init pins for Analog Joystick sensor ([#22985](https://github.com/qmk/qmk_firmware/pull/22985))', 'Workaround for G431 eeprom emulation ([#23002](https://github.com/qmk/qmk_firmware/pull/23002))', 'is31fl3741: split PWM and scaling buffers ([#23049](https://github.com/qmk/qmk_firmware/pull/23049))', 'LED drivers: update PWM register defines for `g_<driver>_leds` ([#23052](https://github.com/qmk/qmk_firmware/pull/23052))', 'LED drivers: add support for shutdown pin ([#23058](https://github.com/qmk/qmk_firmware/pull/23058))', 'AW20216S: combine EN pin defines ([#23067](https://github.com/qmk/qmk_firmware/pull/23067))', 'Update naming convention for GPIO control macros ([#23085](https://github.com/qmk/qmk_firmware/pull/23085))', 'Update GPIO macro usages in core ([#23093](https://github.com/qmk/qmk_firmware/pull/23093))', 'OS Detection - Entire file should not be wrapped with ifdef ([#23108](https://github.com/qmk/qmk_firmware/pull/23108))', 'IS31FL3729 updates ([#23109](https://github.com/qmk/qmk_firmware/pull/23109))', 'Nix shell updates (Nixpkgs 2024-02-23, QMK CLI 1.1.5) ([#23143](https://github.com/qmk/qmk_firmware/pull/23143))']\n\nCLI:\n\n['[Refactor] `qmk find` ([#21096](https://github.com/qmk/qmk_firmware/pull/21096))', \"[Refactor] Break `QGFImageFile`'s `_save` function into smaller pieces ([#21124](https://github.com/qmk/qmk_firmware/pull/21124))\", '[Enhancement] Prepare for `SyntaxWarning` ([#22562](https://github.com/qmk/qmk_firmware/pull/22562))', 'Flag invalid keyboard features during lint ([#22832](https://github.com/qmk/qmk_firmware/pull/22832))']\n\nSubmodule updates:\n\n['chore(chibios-contrib): sync with chibios-21.11.x ([#22560](https://github.com/qmk/qmk_firmware/pull/22560))']\n\nKeyboards:\n\n['Move `redox_w` into `redox` ([#21448](https://github.com/qmk/qmk_firmware/pull/21448))', 'null ST110R2.1 (SaikouType) basic support with layouts ([#21623](https://github.com/qmk/qmk_firmware/pull/21623))', 'New keyboard addition: Orthograph ([#21770](https://github.com/qmk/qmk_firmware/pull/21770))', 'Add Olly JF Rev.2 ([#21775](https://github.com/qmk/qmk_firmware/pull/21775))', 'Cleanup Satisfaction75 Firmware and add new revisions ([#22082](https://github.com/qmk/qmk_firmware/pull/22082))', 'Migrate dynamic_keymap.layer_count < 4 where requried ([#22091](https://github.com/qmk/qmk_firmware/pull/22091))', 'Bastard Keyboards: Add support for Dilemma v2 (3x5+3) ([#22185](https://github.com/qmk/qmk_firmware/pull/22185))', 'Karn: correct layout data ([#22201](https://github.com/qmk/qmk_firmware/pull/22201))', 'zk3mod : added OLED ([#22303](https://github.com/qmk/qmk_firmware/pull/22303))', 'Adds support for the Iron180 V2 PCBs ([#22314](https://github.com/qmk/qmk_firmware/pull/22314))', 'Add 5x13 and 6x13 ortho community layouts ([#22315](https://github.com/qmk/qmk_firmware/pull/22315))', 'Cipulot refactoring ([#22368](https://github.com/qmk/qmk_firmware/pull/22368))', 'Remove era/klein ([#22384](https://github.com/qmk/qmk_firmware/pull/22384))', 'consolidate firmware folder in smoll parent folder ([#22401](https://github.com/qmk/qmk_firmware/pull/22401))', '`keycapsss/plaid_pad`: switch to encoder map ([#22474](https://github.com/qmk/qmk_firmware/pull/22474))', 'Add EE-AT and move W1-AT under geonworks ([#22526](https://github.com/qmk/qmk_firmware/pull/22526))', 'refactor: projectcain/vault35 ([#22558](https://github.com/qmk/qmk_firmware/pull/22558))', 'Update Q5 ([#22575](https://github.com/qmk/qmk_firmware/pull/22575))', 'Update Q7 ([#22577](https://github.com/qmk/qmk_firmware/pull/22577))', 'Update Q8 ([#22578](https://github.com/qmk/qmk_firmware/pull/22578))', 'Update Q9 ([#22579](https://github.com/qmk/qmk_firmware/pull/22579))', 'Remove \"empty\" files ([#22603](https://github.com/qmk/qmk_firmware/pull/22603))', 'Rename Pumpkin Pad to Pumkinpad ([#22651](https://github.com/qmk/qmk_firmware/pull/22651))', 'Noodlepad Additions and Updates ([#22701](https://github.com/qmk/qmk_firmware/pull/22701))', 'Refactor: move miniaxe into kagizaraya ([#22708](https://github.com/qmk/qmk_firmware/pull/22708))', 'Refactor: move keyboards into zigotica folder ([#22709](https://github.com/qmk/qmk_firmware/pull/22709))', 'Refactor: move keyboards into laneware folder ([#22710](https://github.com/qmk/qmk_firmware/pull/22710))', 'Refactor: move keyboards into kezewa ([#22712](https://github.com/qmk/qmk_firmware/pull/22712))', 'Refactor: move keyboards into kbdmania folder ([#22714](https://github.com/qmk/qmk_firmware/pull/22714))', 'Refactor: move keyboards into monokei folder ([#22715](https://github.com/qmk/qmk_firmware/pull/22715))', 'Refactor: move keyboards into kumaokobo ([#22719](https://github.com/qmk/qmk_firmware/pull/22719))', 'Updating NCC1701KB and adding via support ([#22721](https://github.com/qmk/qmk_firmware/pull/22721))', 'Move Moonlander to ZSA folder ([#22740](https://github.com/qmk/qmk_firmware/pull/22740))', 'Refactor: group shandoncodes keyboards ([#22743](https://github.com/qmk/qmk_firmware/pull/22743))', 'Refactor: group rookiebwoy keyboards ([#22745](https://github.com/qmk/qmk_firmware/pull/22745))', 'Default folder correction for kumaokobo ([#22750](https://github.com/qmk/qmk_firmware/pull/22750))', 'Default folder correction for rookiebwoy ([#22753](https://github.com/qmk/qmk_firmware/pull/22753))', 'Refactor: move macro3 into handwired folder ([#22759](https://github.com/qmk/qmk_firmware/pull/22759))', 'Refactor: group kira keyboards ([#22760](https://github.com/qmk/qmk_firmware/pull/22760))', 'Refactor: group hub keyboards ([#22762](https://github.com/qmk/qmk_firmware/pull/22762))', 'Refactor: move p3d keyboards ([#22763](https://github.com/qmk/qmk_firmware/pull/22763))', 'Refactor: group kbdfans keyboards ([#22764](https://github.com/qmk/qmk_firmware/pull/22764))', 'Remove incorrect use of WS2812_PIO_USE_PIO1 ([#22771](https://github.com/qmk/qmk_firmware/pull/22771))', 'Migrate LED Matrix config to info.json ([#22792](https://github.com/qmk/qmk_firmware/pull/22792))', 'Migrate RGB Matrix config to info.json - [0-9] ([#22797](https://github.com/qmk/qmk_firmware/pull/22797))', 'Migrate RGB Matrix config to info.json - A ([#22798](https://github.com/qmk/qmk_firmware/pull/22798))', 'Late9 keymaps update, added VIA support ([#22801](https://github.com/qmk/qmk_firmware/pull/22801))', 'Migrate RGB Matrix config to info.json - B ([#22806](https://github.com/qmk/qmk_firmware/pull/22806))', 'Migrate RGB Matrix config to info.json - C ([#22807](https://github.com/qmk/qmk_firmware/pull/22807))', 'Migrate RGB Matrix config to info.json - EF ([#22808](https://github.com/qmk/qmk_firmware/pull/22808))', 'Migrate RGB Matrix config to info.json - D ([#22811](https://github.com/qmk/qmk_firmware/pull/22811))', 'H87g2 updates ([#22819](https://github.com/qmk/qmk_firmware/pull/22819))', 'WT boards: extract `g_is31fl3736_leds` from wt_mono_backlight ([#22823](https://github.com/qmk/qmk_firmware/pull/22823))', 'Migrate RGB Matrix config to info.json - G ([#22859](https://github.com/qmk/qmk_firmware/pull/22859))', 'Use existing columns for 3x5 layout ([#22860](https://github.com/qmk/qmk_firmware/pull/22860))', 'Migrate RGB Matrix config to info.json - H ([#22861](https://github.com/qmk/qmk_firmware/pull/22861))', 'Migrate RGB Matrix config to info.json - J ([#22862](https://github.com/qmk/qmk_firmware/pull/22862))', 'Migrate RGB Matrix config to info.json - I ([#22863](https://github.com/qmk/qmk_firmware/pull/22863))', 'Migrate RGB Matrix config to info.json - L ([#22864](https://github.com/qmk/qmk_firmware/pull/22864))', 'Migrate RGB Matrix config to info.json - NOPQ ([#22866](https://github.com/qmk/qmk_firmware/pull/22866))', 'Migrate RGB Matrix config to info.json - XZY ([#22879](https://github.com/qmk/qmk_firmware/pull/22879))', 'Zed65/no_backlight/cor65 correct data layout ([#22898](https://github.com/qmk/qmk_firmware/pull/22898))', 'Migrate RGB Matrix config to info.json - M ([#22908](https://github.com/qmk/qmk_firmware/pull/22908))', 'Migrate RGB Matrix config to info.json - RS ([#22909](https://github.com/qmk/qmk_firmware/pull/22909))', 'Migrate RGB Matrix config to info.json - TUVW ([#22910](https://github.com/qmk/qmk_firmware/pull/22910))', 'Migrate RGB Matrix config to info.json - K ([#22911](https://github.com/qmk/qmk_firmware/pull/22911))', 'Remove `LAYOUTS_HAS_RGB` ([#22917](https://github.com/qmk/qmk_firmware/pull/22917))', 'Migrate lighting defaults to info.json ([#22920](https://github.com/qmk/qmk_firmware/pull/22920))', 'Ensure LTO is enabled as a `info.json` build config option ([#22932](https://github.com/qmk/qmk_firmware/pull/22932))', 'refactor(keyboard): quokka ([#22942](https://github.com/qmk/qmk_firmware/pull/22942))', 'Sango Keyboard ([#22971](https://github.com/qmk/qmk_firmware/pull/22971))', 'Add FS streampad ([#22991](https://github.com/qmk/qmk_firmware/pull/22991))', 'Remove always enabled effects from lighting animation list ([#22992](https://github.com/qmk/qmk_firmware/pull/22992))', 'Migrate RGB Matrix config to info.json - keychron ([#22998](https://github.com/qmk/qmk_firmware/pull/22998))', 'Migrate RGB Matrix config to info.json - Misc ([#23000](https://github.com/qmk/qmk_firmware/pull/23000))', 'Remove ee_hands config from ferris/sweep firmware ([#23029](https://github.com/qmk/qmk_firmware/pull/23029))', 'Migrate dip switch config to info.json - keychron ([#23037](https://github.com/qmk/qmk_firmware/pull/23037))', '[unicorne] Add a layout alias ([#23056](https://github.com/qmk/qmk_firmware/pull/23056))', 'nacly/sodium62: Update vid, pid, and add via keymap ([#23063](https://github.com/qmk/qmk_firmware/pull/23063))', 'LED drivers: update keyboard LED configs ([#23073](https://github.com/qmk/qmk_firmware/pull/23073))', 'Remove invalid keyboard level features ([#23074](https://github.com/qmk/qmk_firmware/pull/23074))', 'Migrate WEAR_LEVELING_* to info.json ([#23077](https://github.com/qmk/qmk_firmware/pull/23077))', '[Keymap Removal] keyboard with most keymaps ([#23081](https://github.com/qmk/qmk_firmware/pull/23081))', 'Remove obvious user keymaps, keyboards/{v,x,y,z}* edition. ([#23083](https://github.com/qmk/qmk_firmware/pull/23083))', 'Remove obvious user keymaps, keyboards/{s,t}* edition. ([#23084](https://github.com/qmk/qmk_firmware/pull/23084))', '[Keymap Removal] keyboard with most keymaps ([#23092](https://github.com/qmk/qmk_firmware/pull/23092))', 'Fiuxup takashicompany/heavy_left ([#23094](https://github.com/qmk/qmk_firmware/pull/23094))', 'Remove obvious user keymaps, keyboards/{i,j,k}* edition ([#23102](https://github.com/qmk/qmk_firmware/pull/23102))', 'Manual user keymap removal ([#23104](https://github.com/qmk/qmk_firmware/pull/23104))', 'Manual user keymap removal ([#23119](https://github.com/qmk/qmk_firmware/pull/23119))', 'Migrate `RGBLED_NUM` -> `RGBLIGHT_LED_COUNT` in remaining non-user keymaps ([#23128](https://github.com/qmk/qmk_firmware/pull/23128))']\n\nKeyboard fixes:\n\n['Fix VID and PID for AnnePro2 ([#22263](https://github.com/qmk/qmk_firmware/pull/22263))', 'fix(kikoslab/kl90): Fix firmware to support encoder knobs properly ([#22649](https://github.com/qmk/qmk_firmware/pull/22649))', 'fix: improper usage of keyboard/user-level functions ([#22652](https://github.com/qmk/qmk_firmware/pull/22652))', 'Temporary fix for mechlovin/olly/octagon ([#22796](https://github.com/qmk/qmk_firmware/pull/22796))', 'Keychron Q11 usb poweron fix ([#22799](https://github.com/qmk/qmk_firmware/pull/22799))', 'capsunlocked/cu80/v2: Fix invalid RGB matrix config ([#22873](https://github.com/qmk/qmk_firmware/pull/22873))', 'Fix typo in Redox config ([#22899](https://github.com/qmk/qmk_firmware/pull/22899))', 'Fixup doio/kb16 ([#22921](https://github.com/qmk/qmk_firmware/pull/22921))', 'Fixup takashicompany/minizone ([#22922](https://github.com/qmk/qmk_firmware/pull/22922))', 'Fixup sofle ([#22934](https://github.com/qmk/qmk_firmware/pull/22934))', 'Fix Issue with RGB Matrix not understanding the split keyboard ([#22997](https://github.com/qmk/qmk_firmware/pull/22997))', 'Fixup sawnsprojects/krush60 ([#23095](https://github.com/qmk/qmk_firmware/pull/23095))', 'Fixup kbd67/rev1 ([#23096](https://github.com/qmk/qmk_firmware/pull/23096))', 'Fixup boardsource/equals ([#23106](https://github.com/qmk/qmk_firmware/pull/23106))', 'Fixup inett_studio/sq80 ([#23121](https://github.com/qmk/qmk_firmware/pull/23121))', 'Add LED/RGB Matrix drivers to info.json schema ([#23127](https://github.com/qmk/qmk_firmware/pull/23127))', 'Fix for multiple AMUX usage ([#23155](https://github.com/qmk/qmk_firmware/pull/23155))']\n\nBugs:\n\n['MIDI sustain effect fix on qmk 0.22.2 ([#22114](https://github.com/qmk/qmk_firmware/pull/22114))', 'Prevent `qmk migrate` processing unparsed info.json values ([#22374](https://github.com/qmk/qmk_firmware/pull/22374))', 'Remove redundant backlight eeconfig init ([#22675](https://github.com/qmk/qmk_firmware/pull/22675))', 'pointing_device ifdef indentation fix ([#22802](https://github.com/qmk/qmk_firmware/pull/22802))', 'Ensure LED config is extracted when feature is disabled ([#22809](https://github.com/qmk/qmk_firmware/pull/22809))', 'Generate true/false for _DEFAULT_ON options ([#22829](https://github.com/qmk/qmk_firmware/pull/22829))', 'is31fl3733: fix driver sync backwards compatibility defines ([#22851](https://github.com/qmk/qmk_firmware/pull/22851))', 'LED drivers: misc formatting and typos ([#22857](https://github.com/qmk/qmk_firmware/pull/22857))', 'Allow generation of both LED and RGB Matrix config ([#22896](https://github.com/qmk/qmk_firmware/pull/22896))', 'LED drivers: remove PWM register offsets ([#22897](https://github.com/qmk/qmk_firmware/pull/22897))', '`qmk format-json`: Force Unix line endings and ensure LF at EOF ([#22901](https://github.com/qmk/qmk_firmware/pull/22901))', 'Fix cirque connected check ([#22948](https://github.com/qmk/qmk_firmware/pull/22948))', 'Fix joystick initialization ([#22953](https://github.com/qmk/qmk_firmware/pull/22953))', 'Workaround for `make test:all DEBUG=1` ([#23047](https://github.com/qmk/qmk_firmware/pull/23047))', 'Fix unit test execution ([#23048](https://github.com/qmk/qmk_firmware/pull/23048))', 'Fix git-submodule running in wrong location ([#23059](https://github.com/qmk/qmk_firmware/pull/23059))', 'WS2812 bitbang: prefix for `NOP_FUDGE` define ([#23110](https://github.com/qmk/qmk_firmware/pull/23110))', 'Fix make clean test:os_detection ([#23112](https://github.com/qmk/qmk_firmware/pull/23112))', 'Fix pmw33xx sensor corruption on get-cpi call ([#23116](https://github.com/qmk/qmk_firmware/pull/23116))', 'Ensure `qmk generate-compilation-database` copies to userspace as well. ([#23129](https://github.com/qmk/qmk_firmware/pull/23129))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 17]"
        },
        {
          "title": "QMK Breaking Changes - 2024 May 26 Changelog",
          "description": null,
          "content": {
            "Notable Features {#notable-features}": "May 2024 brings about another heavy maintenance release of QMK. Of the 209 PRs created this breaking changes cycle against the `develop` branch, 174 behind-the-scenes PRs (83%!) were aimed at converting, consolidating, and cleaning up keyboards and their configuration data. Not the most glamorous work, but it means QMK is in a much more manageable spot than what it was 3 months prior. The work steadily continues!",
            "Changes Requiring User Action {#changes-requiring-user-action}": {
              "Updated Keyboard Codebases {#updated-keyboard-codebases}": "One note with updated keyboard names -- historical keyboard names are still considered valid when using [External Userspace](../newbs_external_userspace) for builds. If you're already using External Userspace, you do not need to move your keymap inside your repository.\n\n| Old Keyboard Name            | New Keyboard Name                 |\n|------------------------------|-----------------------------------|\n| adkb96                       | adkb96/rev1                       |\n| canary/canary60rgb           | canary/canary60rgb/v1             |\n| handwired/meck_tkl           | handwired/meck_tkl/blackpill_f401 |\n| handwired/qc60               | handwired/qc60/proto              |\n| handwired/stef9998/split_5x7 | handwired/stef9998/split_5x7/rev1 |\n| junco                        | junco/rev1                        |\n| keaboard                     | keaboard/rev1                     |\n| kprepublic/jj40              | kprepublic/jj40/rev1              |\n| kprepublic/jj50              | kprepublic/jj50/rev1              |\n| melgeek/mj65                 | melgeek/mj65/rev3                 |\n| melgeek/mojo68               | melgeek/mojo68/rev1               |\n| melgeek/mojo75               | melgeek/mojo75/rev1               |\n| melgeek/tegic                | melgeek/tegic/rev1                |\n| melgeek/z70ultra             | melgeek/z70ultra/rev1             |\n| miiiw/blackio83              | miiiw/blackio83/rev_0100          |\n| murcielago                   | murcielago/rev1                   |\n| polilla                      | polilla/rev1                      |\n| qwertyydox                   | qwertyydox/rev1                   |\n| spaceholdings/nebula68b      | spaceholdings/nebula68b/solder    |\n| splitty                      | splitty/rev1                      |\n| xiudi/xd004                  | xiudi/xd004/v1                    |",
              "Remove deprecated quantum keycodes ([#23407](https://github.com/qmk/qmk_firmware/pull/23407))": "A bunch of legacy keycodes have been removed -- check [the affected keycodes](https://github.com/qmk/qmk_firmware/blob/70e34e491c297231a3f987fd69760d38e79dbfa4/quantum/quantum_keycodes_legacy.h) if you run into compilation problems, as it'll show you what the problematic keycodes should be replaced with.\n\nThe latest of these were officially deprecated within QMK in the August 2023 breaking changes -- the new keycodes are the way forward.",
              "P3D Spacey Layout Updates ([#23329](https://github.com/qmk/qmk_firmware/pull/23329)) {#spacey-layout-updates}": "This PR removed the `LAYOUT` macro that was configured for the Spacey.\nIf you have a keymap for this keyboard, you will need to update your\nkeymap using the following steps:\n\n['Change your layout macro to `LAYOUT_all`.', 'Remove the two `KC_NO` keycodes following the Space and Delete keys\\non the bottom row.', 'Move the keycode for the encoder pushbutton (customarily Mute) to the\\nend of the top row, after the customary Backspace key.', 'Move the keycode for the Right Arrow to the end of the Shift row,\\nafter the Down Arrow key.']",
              "MechKeys ACR60 Layout Updates ([#23309](https://github.com/qmk/qmk_firmware/pull/23309)) {#acr60-layout-updates}": {
                "`LAYOUT_hhkb` {#acr60-layout-hhkb}": [
                  "Change your layout macro to `LAYOUT_60_hhkb`.",
                  "Remove any keycodes for the key between Left Shift and QWERTY Z."
                ],
                "`LAYOUT_true_hhkb` {#acr60-layout-true-hhkb}": [
                  "Change your layout macro to `LAYOUT_60_true_hhkb`.",
                  "Remove any keycodes for the key between Left Shift and QWERTY Z."
                ],
                "`LAYOUT_directional` {#acr60-layout-directional}": [
                  "Change your layout macro to `LAYOUT_60_ansi_arrow_split_bs`.",
                  "Remove any keycodes for the key between Left Shift and QWERTY Z.",
                  "Remove any keycodes for the keys immediately before *and* after the 1.25u key of Split Spacebar."
                ],
                "`LAYOUT_mitchsplit` {#acr60-layout-mitchsplit}": [
                  "Use `LAYOUT_60_ansi_split_space_split_rshift`."
                ]
              }
            },
            "Notable core changes {#notable-core}": {
              "Introduction of `keyboard.json` ([22891](https://github.com/qmk/qmk_firmware/pull/22891)) {#keyboard-json}": "One longer term goal of QMK is increased maintainability.\nAs part of the continued push towards [Data Driven Configuration](../data_driven_config), the build system has been updated to simplify the existing codebase, and power future workflows.\n\nThe `keyboard.json` configuration file allows the support of a single data file for keyboard level config.\n\nAdditionally,\n\n['`info.json` now represents potential fragments of config that can be shared across keyboard revisions.', '`rules.mk` is now optional - Completely blank files are no longer required.', 'Currently supported keyboards have been migrated to reflect this change. ']\n\nBackwards compatibility of the old system has been maintained, but will be removed in a future breaking changes cycle.",
              "Refactor ChibiOS USB endpoints to be fully async ([#21656](https://github.com/qmk/qmk_firmware/pull/21656))": "For most users, this change will mean suspend and resume on ARM-based boards works correctly. Others will notice that their keyboard now works correctly in BIOS/UEFI.\n\nEssentially, changes were made in the internals of how QMK interacts with USB for ARM-based devices. Before this change, whenever a packet was attempted to be sent from the keyboard to the host machine, QMK would wait for the transmission to complete. After this change, those packets are queued and sent when opportune; this results in much better \"correctness\" as far as the USB protocol is concerned, and means far less likelihood of failure scenarios such as \"stuck keys\" or \"random lockups\" and the like.\n\nCompliance checks were run against QMK firmwares for the most popular ARM microcontrollers, as well as suspend/resume tests. As far as we can tell, a whole host of hard-to-reproduce issues are mitigated by this change."
            },
            "Deprecation Notices": {
              "Migration of VIA keymaps to VIA team control": "The QMK team has been in discussion with the VIA maintainers and all VIA-related keymaps in the `qmk_firmware` repository will transition to a `qmk_userspace`-style repository under the VIA team's control at the end of the next breaking changes period. This allows the VIA team to support many more custom keyboard configurations, as well as reduces the turnaround time for any changes to the VIA protocol they wish to make.\n\nAt the end of the breaking changes cycle ending 2024-08-25, VIA-enabled keymaps will no longer be accepted into the QMK repository. At the time of migration, any open PRs against `qmk_firmware` which include new VIA-related keymaps will be subsequently be asked to remove those keymaps and instead raise a PR against the userspace repository containing all VIA keymaps."
            },
            "Full changelist {#full-changelist}": "Core:\n\n['Refactor vusb to protocol use pre/post task ([#14944](https://github.com/qmk/qmk_firmware/pull/14944))', 'Refactor ChibiOS USB endpoints to be fully async ([#21656](https://github.com/qmk/qmk_firmware/pull/21656))', 'Infer eeconfig identifiers ([#22135](https://github.com/qmk/qmk_firmware/pull/22135))', '[Audio] Add support for audio shutdown pin ([#22731](https://github.com/qmk/qmk_firmware/pull/22731))', \"Enable 'keyboard.json' as a build target ([#22891](https://github.com/qmk/qmk_firmware/pull/22891))\", 'Remove unuseful layer_on() call ([#23055](https://github.com/qmk/qmk_firmware/pull/23055))', 'Add init function to RGBLight driver struct ([#23076](https://github.com/qmk/qmk_firmware/pull/23076))', 'Add utility functions for Pointing Device Auto Mouse feature ([#23144](https://github.com/qmk/qmk_firmware/pull/23144))', 'Remove midi_ep_task from ChibiOS ([#23162](https://github.com/qmk/qmk_firmware/pull/23162))', 'LED drivers: add support for IS31FL3236 ([#23264](https://github.com/qmk/qmk_firmware/pull/23264))', 'Un-`extern` RGBLight `led[]` array ([#23322](https://github.com/qmk/qmk_firmware/pull/23322))', 'Update I2C API usage in keyboard code ([#23360](https://github.com/qmk/qmk_firmware/pull/23360))', 'Update GPIO expander API naming ([#23375](https://github.com/qmk/qmk_firmware/pull/23375))', 'Remove deprecated quantum keycodes ([#23407](https://github.com/qmk/qmk_firmware/pull/23407))', 'Add MacOS Czech ISO and ANSI keymaps #23346 ([#23412](https://github.com/qmk/qmk_firmware/pull/23412))', 'Rename `process_{led,rgb}_matrix()` ([#23422](https://github.com/qmk/qmk_firmware/pull/23422))', 'Separate keycode handling for LED Matrix and Backlight ([#23426](https://github.com/qmk/qmk_firmware/pull/23426))', 'Add new set of keycodes for LED Matrix ([#23432](https://github.com/qmk/qmk_firmware/pull/23432))', 'Oneshot locked mods split transaction ([#23434](https://github.com/qmk/qmk_firmware/pull/23434))', 'Bodge consolidation. ([#23448](https://github.com/qmk/qmk_firmware/pull/23448))', 'LED Matrix: replace backlight keycodes with newly added ones ([#23455](https://github.com/qmk/qmk_firmware/pull/23455))', 'Add new set of keycodes for RGB Matrix ([#23463](https://github.com/qmk/qmk_firmware/pull/23463))', 'Refactoring successive press() release() calls into tap_key() calls ([#23573](https://github.com/qmk/qmk_firmware/pull/23573))', 'Rename `RGBW` define to `WS2812_RGBW` ([#23585](https://github.com/qmk/qmk_firmware/pull/23585))', 'Normalise RGBLight (underglow) keycodes ([#23656](https://github.com/qmk/qmk_firmware/pull/23656))', 'split_util: rename `usbIsActive` to `usb_bus_detected` ([#23657](https://github.com/qmk/qmk_firmware/pull/23657))', 'Insert delay between shifted chars in send_string_with_delay for AVR ([#23673](https://github.com/qmk/qmk_firmware/pull/23673))', 'Remove useless `LED/RGB_MATRIX_ENABLE` ifdefs ([#23726](https://github.com/qmk/qmk_firmware/pull/23726))']\n\nCLI:\n\n['Some metadata on QGF/QFF files ([#20101](https://github.com/qmk/qmk_firmware/pull/20101))', '`qmk new-keyboard` - detach community layout when selecting \"none of the above\" ([#20405](https://github.com/qmk/qmk_firmware/pull/20405))', 'Initial `qmk test-c` functionality ([#23038](https://github.com/qmk/qmk_firmware/pull/23038))', 'Reject duplicate matrix locations in LAYOUT macros ([#23273](https://github.com/qmk/qmk_firmware/pull/23273))', \"Align 'qmk lint' argument handling ([#23297](https://github.com/qmk/qmk_firmware/pull/23297))\", 'Produce warning if keyboard is not configured via `keyboard.json` ([#23321](https://github.com/qmk/qmk_firmware/pull/23321))']\n\nSubmodule updates:\n\n['Update ChibiOS submodules. ([#23405](https://github.com/qmk/qmk_firmware/pull/23405))']\n\nKeyboards:\n\n['Move `SPLIT_KEYBOARD` to data driven ([#21410](https://github.com/qmk/qmk_firmware/pull/21410))', 'Change to `development_board` ([#21695](https://github.com/qmk/qmk_firmware/pull/21695))', 'Add solid_reactive effects for MIIIW BlackIO83 ([#22251](https://github.com/qmk/qmk_firmware/pull/22251))', 'Migrate content where only parent info.json exists ([#22895](https://github.com/qmk/qmk_firmware/pull/22895))', 'Remove redundant disabling of features ([#22926](https://github.com/qmk/qmk_firmware/pull/22926))', 'Update ScottoAlp handwired keyboard to 12 column layout ([#22962](https://github.com/qmk/qmk_firmware/pull/22962))', 'Overhaul ploopyco devices ([#22967](https://github.com/qmk/qmk_firmware/pull/22967))', 'Add rp2040_ce option to lotus58 ([#23185](https://github.com/qmk/qmk_firmware/pull/23185))', 'Migrate features from rules.mk to data driven - 0-9 ([#23202](https://github.com/qmk/qmk_firmware/pull/23202))', 'Change default RGB effect for momokai keypads to solid white ([#23217](https://github.com/qmk/qmk_firmware/pull/23217))', 'Migrate annepro2 away from custom matrix ([#23221](https://github.com/qmk/qmk_firmware/pull/23221))', 'Update BAMFK-1 ([#23236](https://github.com/qmk/qmk_firmware/pull/23236))', 'Migrate features from rules.mk to data driven - ABCD ([#23247](https://github.com/qmk/qmk_firmware/pull/23247))', 'Migrate features from rules.mk to data driven - EFGH ([#23248](https://github.com/qmk/qmk_firmware/pull/23248))', 'Remove 60_ansi_arrow_split_bs_7u_spc Community Layout ([#23259](https://github.com/qmk/qmk_firmware/pull/23259))', 'Migrate features from rules.mk to data driven - IJK ([#23276](https://github.com/qmk/qmk_firmware/pull/23276))', 'Migrate features from rules.mk to data driven - LMN ([#23277](https://github.com/qmk/qmk_firmware/pull/23277))', 'Migrate features from rules.mk to data driven - OPQR ([#23285](https://github.com/qmk/qmk_firmware/pull/23285))', 'Migrate features from rules.mk to data driven - ST ([#23286](https://github.com/qmk/qmk_firmware/pull/23286))', 'Migrate features from rules.mk to data driven - UVWXYZ ([#23287](https://github.com/qmk/qmk_firmware/pull/23287))', 'Swift65 Hotswap Layout Name Standardization ([#23288](https://github.com/qmk/qmk_firmware/pull/23288))', 'Swift65 Solder Layout Name Standardization ([#23289](https://github.com/qmk/qmk_firmware/pull/23289))', 'Migrate build target markers to keyboard.json ([#23293](https://github.com/qmk/qmk_firmware/pull/23293))', 'KPRepublic JJ50 rev1 Refactor ([#23294](https://github.com/qmk/qmk_firmware/pull/23294))', 'KPRepublic JJ40 rev1 Refactor ([#23299](https://github.com/qmk/qmk_firmware/pull/23299))', 'Migrate features and LTO from rules.mk to data driven ([#23302](https://github.com/qmk/qmk_firmware/pull/23302))', 'Add RGB lighting for the PetruziaMini ([#23305](https://github.com/qmk/qmk_firmware/pull/23305))', 'Migrate features and LTO from rules.mk to data driven ([#23307](https://github.com/qmk/qmk_firmware/pull/23307))', 'MechKeys ACR60 Layout Updates ([#23309](https://github.com/qmk/qmk_firmware/pull/23309))', 'Remove RGBLight `led[]` references ([#23311](https://github.com/qmk/qmk_firmware/pull/23311))', 'Reduce firmware size of helix/rev3 ([#23324](https://github.com/qmk/qmk_firmware/pull/23324))', 'P3D Spacey Layout Updates ([#23329](https://github.com/qmk/qmk_firmware/pull/23329))', 'Data-Driven Keyboard Conversions: 0-9 ([#23357](https://github.com/qmk/qmk_firmware/pull/23357))', 'Update GPIO API usage in keyboard code ([#23361](https://github.com/qmk/qmk_firmware/pull/23361))', 'Remove \"w\": 1 from keyboards/ ([#23367](https://github.com/qmk/qmk_firmware/pull/23367))', 'Remove `quantum.h` includes from keyboard custom `matrix.c`s ([#23371](https://github.com/qmk/qmk_firmware/pull/23371))', 'refactor: mechwild/bbs ([#23373](https://github.com/qmk/qmk_firmware/pull/23373))', \"Remove 'NO_USB_STARTUP_CHECK = no' from keyboards ([#23376](https://github.com/qmk/qmk_firmware/pull/23376))\", 'Remove completely redundant DEFAULT_FOLDER from keyboards ([#23377](https://github.com/qmk/qmk_firmware/pull/23377))', 'Miscellaneous keyboard.json migrations ([#23378](https://github.com/qmk/qmk_firmware/pull/23378))', 'Data-Driven Keyboard Conversions: A ([#23379](https://github.com/qmk/qmk_firmware/pull/23379))', 'refactor: flehrad/bigswitch ([#23384](https://github.com/qmk/qmk_firmware/pull/23384))', 'add second encoder to matrix info of arrowmechanics/wings ([#23390](https://github.com/qmk/qmk_firmware/pull/23390))', 'Change the VID and PID of the file kb38 info.json ([#23393](https://github.com/qmk/qmk_firmware/pull/23393))', 'Remove `quantum.h` includes from keyboard code ([#23394](https://github.com/qmk/qmk_firmware/pull/23394))', '[ UPDATE 15PAD & 6PAD ] ([#23397](https://github.com/qmk/qmk_firmware/pull/23397))', 'Remove more unnecessary `quantum.h` includes ([#23402](https://github.com/qmk/qmk_firmware/pull/23402))', 'KB name change to Part.1-75-HS ([#23403](https://github.com/qmk/qmk_firmware/pull/23403))', 'Tidy up keyboards/zvecr ([#23418](https://github.com/qmk/qmk_firmware/pull/23418))', '\"features.split\" is not a valid key ([#23419](https://github.com/qmk/qmk_firmware/pull/23419))', 'Migrate build target markers to keyboard.json - YZ ([#23421](https://github.com/qmk/qmk_firmware/pull/23421))', 'refactor: mechwild/waka60 ([#23423](https://github.com/qmk/qmk_firmware/pull/23423))', 'Convert some AVR GPIO operations to macros ([#23424](https://github.com/qmk/qmk_firmware/pull/23424))', 'Data-Driven Keyboard Conversions: B ([#23425](https://github.com/qmk/qmk_firmware/pull/23425))', 'Tidy up default layer handling in keymaps ([#23436](https://github.com/qmk/qmk_firmware/pull/23436))', 'Added Chapter1 ([#23452](https://github.com/qmk/qmk_firmware/pull/23452))', 'Data-driven Keyboard Conversions: C ([#23453](https://github.com/qmk/qmk_firmware/pull/23453))', 'Migrate build target markers to keyboard.json - X ([#23460](https://github.com/qmk/qmk_firmware/pull/23460))', 'Data-Driven Keyboard Conversions: D ([#23461](https://github.com/qmk/qmk_firmware/pull/23461))', 'Miscellaneous keyboard.json migrations ([#23486](https://github.com/qmk/qmk_firmware/pull/23486))', 'Migrate build target markers to keyboard.json - 0AB ([#23488](https://github.com/qmk/qmk_firmware/pull/23488))', 'Migrate build target markers to keyboard.json - W ([#23511](https://github.com/qmk/qmk_firmware/pull/23511))', 'Data-Driven Keyboard Conversions: E ([#23512](https://github.com/qmk/qmk_firmware/pull/23512))', 'Migrate build target markers to keyboard.json - TUV ([#23514](https://github.com/qmk/qmk_firmware/pull/23514))', 'Migrate build target markers to keyboard.json - DE ([#23515](https://github.com/qmk/qmk_firmware/pull/23515))', 'Data-Driven Keyboard Conversions: F ([#23516](https://github.com/qmk/qmk_firmware/pull/23516))', 'Data-Driven Keyboard Conversions: G ([#23522](https://github.com/qmk/qmk_firmware/pull/23522))', 'Data-Driven Keyboard Conversions: H, Part 1 ([#23524](https://github.com/qmk/qmk_firmware/pull/23524))', 'Data-Driven Keyboard Conversions: H, Part 2 ([#23525](https://github.com/qmk/qmk_firmware/pull/23525))', 'Migrate build target markers to keyboard.json - C ([#23529](https://github.com/qmk/qmk_firmware/pull/23529))', 'Data-Driven Keyboard Conversions: H, Part 3 ([#23530](https://github.com/qmk/qmk_firmware/pull/23530))', 'Migrate build target markers to keyboard.json - S ([#23532](https://github.com/qmk/qmk_firmware/pull/23532))', 'Data-Driven Keyboard Conversions: I ([#23533](https://github.com/qmk/qmk_firmware/pull/23533))', 'Migrate build target markers to keyboard.json - FG ([#23534](https://github.com/qmk/qmk_firmware/pull/23534))', 'Migrate build target markers to keyboard.json - HI ([#23540](https://github.com/qmk/qmk_firmware/pull/23540))', 'Remove *_SUPPORTED = yes ([#23541](https://github.com/qmk/qmk_firmware/pull/23541))', 'Migrate build target markers to keyboard.json - R ([#23542](https://github.com/qmk/qmk_firmware/pull/23542))', 'Data-Driven Keyboard Conversions: J ([#23547](https://github.com/qmk/qmk_firmware/pull/23547))', 'Data-Driven Keyboard Conversions: K, Part 1 ([#23556](https://github.com/qmk/qmk_firmware/pull/23556))', 'Tidy use of raw hid within keyboards ([#23557](https://github.com/qmk/qmk_firmware/pull/23557))', 'Data-Driven Keyboard Conversions: K, Part 2 ([#23562](https://github.com/qmk/qmk_firmware/pull/23562))', 'Migrate build target markers to keyboard.json - OQ ([#23564](https://github.com/qmk/qmk_firmware/pull/23564))', 'Migrate build target markers to keyboard.json - P ([#23565](https://github.com/qmk/qmk_firmware/pull/23565))', 'Data-Driven Keyboard Conversions: K, Part 3 ([#23566](https://github.com/qmk/qmk_firmware/pull/23566))', 'Data-Driven Keyboard Conversions: K, Part 4 ([#23567](https://github.com/qmk/qmk_firmware/pull/23567))', 'Data-Driven Keyboard Conversions: K, Part 5 ([#23569](https://github.com/qmk/qmk_firmware/pull/23569))', 'Data-Driven Keyboard Conversions: L ([#23576](https://github.com/qmk/qmk_firmware/pull/23576))', 'Migrate build target markers to keyboard.json - JK ([#23588](https://github.com/qmk/qmk_firmware/pull/23588))', 'Migrate build target markers to keyboard.json - N ([#23589](https://github.com/qmk/qmk_firmware/pull/23589))', 'Data-Driven Keyboard Conversions: M, Part 1 ([#23590](https://github.com/qmk/qmk_firmware/pull/23590))', 'Add haptic driver to keyboard.json schema ([#23591](https://github.com/qmk/qmk_firmware/pull/23591))', 'Migrate build target markers to keyboard.json - Keychron ([#23593](https://github.com/qmk/qmk_firmware/pull/23593))', 'Remove RGBLIGHT_SPLIT in rules.mk ([#23599](https://github.com/qmk/qmk_firmware/pull/23599))', 'Data-Driven Keyboard Conversions: M, Part 2 ([#23601](https://github.com/qmk/qmk_firmware/pull/23601))', 'Align NO_SUSPEND_POWER_DOWN keyboard config ([#23606](https://github.com/qmk/qmk_firmware/pull/23606))', 'Migrate build target markers to keyboard.json - L ([#23607](https://github.com/qmk/qmk_firmware/pull/23607))', 'Migrate build target markers to keyboard.json - Misc ([#23609](https://github.com/qmk/qmk_firmware/pull/23609))', 'Migrate build target markers to keyboard.json - Misc ([#23612](https://github.com/qmk/qmk_firmware/pull/23612))', 'Data-Driven Keyboard Conversions: M, Part 3 ([#23614](https://github.com/qmk/qmk_firmware/pull/23614))', 'Add audio driver to keyboard.json schema ([#23616](https://github.com/qmk/qmk_firmware/pull/23616))', 'Data-Driven Keyboard Conversions: BastardKB ([#23622](https://github.com/qmk/qmk_firmware/pull/23622))', 'Data-Driven Keyboard Conversions: Mechlovin ([#23624](https://github.com/qmk/qmk_firmware/pull/23624))', 'Migrate build target markers to keyboard.json - BM ([#23627](https://github.com/qmk/qmk_firmware/pull/23627))', 'gh80_3000 - Enable indicator LED functionality ([#23633](https://github.com/qmk/qmk_firmware/pull/23633))', 'Iris keymap update ([#23635](https://github.com/qmk/qmk_firmware/pull/23635))', 'Migrate build target markers to keyboard.json - Misc ([#23653](https://github.com/qmk/qmk_firmware/pull/23653))', 'Add via support for craftwalk ([#23658](https://github.com/qmk/qmk_firmware/pull/23658))', 'Align RGBKB keyboards to current standards ([#23663](https://github.com/qmk/qmk_firmware/pull/23663))', \"Remove 'split.transport.protocol=serial_usart' ([#23668](https://github.com/qmk/qmk_firmware/pull/23668))\", 'Remove redundant keymap templates ([#23685](https://github.com/qmk/qmk_firmware/pull/23685))', 'Change all RGB mode keycodes to short aliases ([#23691](https://github.com/qmk/qmk_firmware/pull/23691))', 'Adjust keycode alignment around `QK_BOOT` ([#23697](https://github.com/qmk/qmk_firmware/pull/23697))', 'Remove RGB keycodes from boards with no RGB config ([#23709](https://github.com/qmk/qmk_firmware/pull/23709))', 'Miscellaneous Data-Driven Keyboard Conversions ([#23712](https://github.com/qmk/qmk_firmware/pull/23712))', 'Delete trivial keymap readmes ([#23714](https://github.com/qmk/qmk_firmware/pull/23714))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: 0-9 ([#23716](https://github.com/qmk/qmk_firmware/pull/23716))', 'Add media key support to Riot Pad ([#23719](https://github.com/qmk/qmk_firmware/pull/23719))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: A-C, Part 1 ([#23745](https://github.com/qmk/qmk_firmware/pull/23745))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: A-C, Part 2 ([#23746](https://github.com/qmk/qmk_firmware/pull/23746))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: A-C, Part 3 ([#23747](https://github.com/qmk/qmk_firmware/pull/23747))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: D, Part 1 ([#23749](https://github.com/qmk/qmk_firmware/pull/23749))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: D, Part 2 ([#23750](https://github.com/qmk/qmk_firmware/pull/23750))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: E ([#23751](https://github.com/qmk/qmk_firmware/pull/23751))', 'Move VIA config to keymap level ([#23754](https://github.com/qmk/qmk_firmware/pull/23754))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: F ([#23757](https://github.com/qmk/qmk_firmware/pull/23757))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: G ([#23758](https://github.com/qmk/qmk_firmware/pull/23758))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: H, Part 1 ([#23759](https://github.com/qmk/qmk_firmware/pull/23759))', 'Remove includes of config.h ([#23760](https://github.com/qmk/qmk_firmware/pull/23760))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: H, Part 2 ([#23762](https://github.com/qmk/qmk_firmware/pull/23762))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: H, Part 3 ([#23763](https://github.com/qmk/qmk_firmware/pull/23763))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: H, Part 4 ([#23764](https://github.com/qmk/qmk_firmware/pull/23764))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: I-J ([#23767](https://github.com/qmk/qmk_firmware/pull/23767))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: K, Part 1 ([#23768](https://github.com/qmk/qmk_firmware/pull/23768))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: K, Part 2 ([#23769](https://github.com/qmk/qmk_firmware/pull/23769))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: K, Part 3 ([#23770](https://github.com/qmk/qmk_firmware/pull/23770))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: L ([#23771](https://github.com/qmk/qmk_firmware/pull/23771))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: M, Part 1 ([#23772](https://github.com/qmk/qmk_firmware/pull/23772))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: M, Part 2 ([#23773](https://github.com/qmk/qmk_firmware/pull/23773))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: N ([#23774](https://github.com/qmk/qmk_firmware/pull/23774))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: O ([#23778](https://github.com/qmk/qmk_firmware/pull/23778))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: P, Part 1 ([#23779](https://github.com/qmk/qmk_firmware/pull/23779))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: P, Part 2 ([#23780](https://github.com/qmk/qmk_firmware/pull/23780))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: Q-R ([#23781](https://github.com/qmk/qmk_firmware/pull/23781))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: S, Part 1 ([#23783](https://github.com/qmk/qmk_firmware/pull/23783))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: S, Part 2 ([#23784](https://github.com/qmk/qmk_firmware/pull/23784))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: T ([#23785](https://github.com/qmk/qmk_firmware/pull/23785))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: U-V ([#23786](https://github.com/qmk/qmk_firmware/pull/23786))', 'Remove some useless code from keymaps ([#23787](https://github.com/qmk/qmk_firmware/pull/23787))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: W, Part 1 ([#23788](https://github.com/qmk/qmk_firmware/pull/23788))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: W, Part 2 ([#23789](https://github.com/qmk/qmk_firmware/pull/23789))', 'Migrate `LOCKING_*_ENABLE` to Data-Driven: X-Z ([#23790](https://github.com/qmk/qmk_firmware/pull/23790))', 'Update GPIO macros in keymaps ([#23792](https://github.com/qmk/qmk_firmware/pull/23792))', \"noroadsleft's 0.25.0 Changelogs and Touch-Ups ([#23793](https://github.com/qmk/qmk_firmware/pull/23793))\"]\n\nKeyboard fixes:\n\n['Fix mapping of GUI/ALT for Win/Mac layers ([#22662](https://github.com/qmk/qmk_firmware/pull/22662))', 'Adding standard keymap for wave keyboard to fix #22695 ([#22741](https://github.com/qmk/qmk_firmware/pull/22741))', 'Fixup qk100 (firmware size) ([#23169](https://github.com/qmk/qmk_firmware/pull/23169))', 'Fixup mechlovin/octagon ([#23179](https://github.com/qmk/qmk_firmware/pull/23179))', 'Fix up scanning for Djinn, post-asyncUSB. ([#23188](https://github.com/qmk/qmk_firmware/pull/23188))', 'Fixup annepro2 ([#23206](https://github.com/qmk/qmk_firmware/pull/23206))', 'Fixed keychron q1v1 led config for iso layout ([#23222](https://github.com/qmk/qmk_firmware/pull/23222))', 'Fixes for idobao vendor keymaps ([#23246](https://github.com/qmk/qmk_firmware/pull/23246))', 'Fixup work_board ([#23266](https://github.com/qmk/qmk_firmware/pull/23266))', 'Linworks FAve 87H Keymap Refactor/Bugfix ([#23292](https://github.com/qmk/qmk_firmware/pull/23292))', 'Align encoder layout validation with encoder.h logic ([#23330](https://github.com/qmk/qmk_firmware/pull/23330))', '0xcb/splaytoraid: remove `CONVERT_TO` at keyboard level ([#23395](https://github.com/qmk/qmk_firmware/pull/23395))', '40percentclub/gherkin: remove `CONVERT_TO` at keyboard level ([#23396](https://github.com/qmk/qmk_firmware/pull/23396))', 'Fix spaceholdings/nebula68b ([#23399](https://github.com/qmk/qmk_firmware/pull/23399))', 'Fix failing keyboards on develop ([#23406](https://github.com/qmk/qmk_firmware/pull/23406))', 'Corrections to split keyboard migrations ([#23462](https://github.com/qmk/qmk_firmware/pull/23462))', 'Fix iris via keymap ([#23652](https://github.com/qmk/qmk_firmware/pull/23652))', 'xiudi/xd75 - Fix backlight compilation issues ([#23655](https://github.com/qmk/qmk_firmware/pull/23655))']\n\nBugs:\n\n['WS2812 PWM: prefix for DMA defines ([#23111](https://github.com/qmk/qmk_firmware/pull/23111))', 'Fix rgblight init ([#23335](https://github.com/qmk/qmk_firmware/pull/23335))', 'Fix WAIT_FOR_USB handling ([#23598](https://github.com/qmk/qmk_firmware/pull/23598))', 'Fix PS/2 Trackpoint mouse clicks (#22265) ([#23694](https://github.com/qmk/qmk_firmware/pull/23694))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 18]"
        },
        {
          "title": "QMK Breaking Changes - 2024 August 25 Changelog",
          "description": null,
          "content": {
            "Notable Features": "August 2024 brings another maintenance release of QMK. Almost all PRs this cycle were to do with cleanup or re-organization of existing features and code.\n\nOne key item is that there are no longer any `via`-enabled keymaps in the QMK repository -- these have all transitioned to an [External Userspace](../newbs_external_userspace) repository under the VIA team's control. Going forward, all PRs to `qmk_firmware` must not contain `via` keymaps; these should instead be redirected to the [VIA QMK Userspace](https://github.com/the-via/qmk_userspace_via) repository.",
            "Changes Requiring User Action": {
              "Updated Keyboard Codebases": "One note with updated keyboard names -- historical keyboard names are still considered valid when using [External Userspace](../newbs_external_userspace) for builds. If you're already using External Userspace, you do not need to move your keymap inside your repository.\n\n| Old Keyboard Name                | New Keyboard Name             |\n|----------------------------------|-------------------------------|\n| dnworks/9973                     | dnworks/tkl87                 |\n| maple_computing/lets_split_eh/eh | maple_computing/lets_split_eh |\n| planck/ez/base                   | zsa/planck_ez/base            |",
              "SparkFun Pro Micro RP2040 converter renamed ([#24192](https://github.com/qmk/qmk_firmware/pull/24192))": "The converter for the SparkFun Pro Micro RP2040 has been renamed.\n\n| Old               | New               |\n|-------------------|-------------------|\n| `promicro_rp2040` | `sparkfun_rp2040` |\n\nThis change was made to avoid confusion between the clones named ProMicro RP2040 and the SparkFun Pro Micro RP2040. The clones should be using the `rp2040_ce` option.",
              "Key Override `keymap.c` signature change ([#24120](https://github.com/qmk/qmk_firmware/pull/24120))": "Changes were made to key overrides in order to hook them into the keymap introspection system.\n\nIf you're using key overrides, your `keymap.c` will need a change to the signature of your list of key overrides, as well as removing the `NULL` terminator.\n\nFor example, you'll need to change existing code from (note the highlighted lines):\n\n```\nconst key_override_t **key_overrides = (const key_override_t *[]){\n    &my_override_1,\n    &my_override_2,\n    NULL\n};\n```\n\nto:\n\n```\nconst key_override_t *key_overrides[] = {\n    &my_override_1,\n    &my_override_2,\n};\n```",
              "ADNS9800 and PMW33xx firmware upload now opt-in ([#24001](https://github.com/qmk/qmk_firmware/pull/24001))": "Due to ambiguity with licensing compatibility, QMK has made the firmware ROM uploads for the ADNS9800 and PMW33xx lines of pointing device sensors temporarily opt-in with the view to removing them. Historically they were included by default, but as of this PR this is now no longer the case.\n\nPlease get in touch with the QMK team if your sensor no longer functions without the firmware upload -- so far we've tested each device type and they still seem to function without a new firmware, but this has not been a 100% exhaustive validation.\n\nTo re-enable firmware upload for your own builds, add the following to your keymap's `config.h`:\n\n| Sensor   | Define                         |\n|----------|--------------------------------|\n| ADNS9800 | `#define ADNS9800_UPLOAD_SROM` |\n| PMW33xx  | `#define PMW33XX_UPLOAD_SROM`  |\n\n:::info Note\nIf no issues arise during this current breaking changes cycle, these sensor firmware ROMs will be removed from QMK entirely.\n:::"
            },
            "Deprecation Notices": {
              "Migration of VIA keymaps to VIA team control": "Last breaking changes cycle, the QMK team informed that [`via` keymaps are moving](./20240526#migration-of-via-keymaps-to-via-team-control) to the control of the VIA team. As of this merge, any `via`-enabled keymaps should now be PR'ed to the [VIA QMK Userspace](https://github.com/the-via/qmk_userspace_via) repository.\n\nAny existing or newly-opened PRs against `qmk_firmware` will now be asked to remove any `via`-enabled keymaps from their submissions.",
              "ADNS9800 and PMW33xx sensor firmware ROM removal": "As mentioned above, there's license compatibility issues between QMK and the firmware blobs historically uploaded for the ADNS9800 and PMW33xx sensors. This notice is to inform users that these firmware blobs will almost certainly be removed from QMK in the next breaking changes merge.\n\nAs previously noted this does not seem to have any detrimental effect to any of those devices, as they seem to include firmware on-chip without requiring one to be uploaded. Please get in touch with the QMK team on Discord if your sensor is no longer functional."
            },
            "Full changelist": "Core:\n\n[\"EEPROM: Don't erase if we don't have to. Adding eeprom_driver_format abstraction. ([#18332](https://github.com/qmk/qmk_firmware/pull/18332))\", 'Generate keymap dd keycodes to header ([#20273](https://github.com/qmk/qmk_firmware/pull/20273))', '[wear_leveling] efl updates ([#22489](https://github.com/qmk/qmk_firmware/pull/22489))', 'GC9xxx LCD family drivers (GC9107 and GC9A01) ([#23091](https://github.com/qmk/qmk_firmware/pull/23091))', '[build_test] set CONSOLE_ENABLE=yes if DEBUG > 0 ([#23097](https://github.com/qmk/qmk_firmware/pull/23097))', 'Enhance overlapping mouse keys control ([#23341](https://github.com/qmk/qmk_firmware/pull/23341))', 'APA102: API rework ([#23355](https://github.com/qmk/qmk_firmware/pull/23355))', '[WIP] Adds bus acquire/release semantics to SPI start/stop. ([#23439](https://github.com/qmk/qmk_firmware/pull/23439))', 'add farsi keymap extras ([#23650](https://github.com/qmk/qmk_firmware/pull/23650))', 'Update atomic GPIO macros in keyboard custom matrix ([#23796](https://github.com/qmk/qmk_firmware/pull/23796))', 'Check LED flags for Pixel Fractal effect ([#23881](https://github.com/qmk/qmk_firmware/pull/23881))', 'Add STM32F405RG ld script for tinyuf2 ([#23885](https://github.com/qmk/qmk_firmware/pull/23885))', 'SPI flash API cleanup, add async erase capability. ([#23894](https://github.com/qmk/qmk_firmware/pull/23894))', 'Add process_keycode handlers for new RGB Matrix and Underglow keycodes ([#23896](https://github.com/qmk/qmk_firmware/pull/23896))', 'Decouple VIA from STM32 L0/L1 EEPROM implementation ([#23901](https://github.com/qmk/qmk_firmware/pull/23901))', 'Normalise mouse keycodes ([#23975](https://github.com/qmk/qmk_firmware/pull/23975))', 'Remove deprecated `led_set_user` ([#23979](https://github.com/qmk/qmk_firmware/pull/23979))', 'Change ADNS9800 and PMW33XX SROM uploads to opt in. ([#24001](https://github.com/qmk/qmk_firmware/pull/24001))', 'Rename encoder pins defines ([#24003](https://github.com/qmk/qmk_firmware/pull/24003))', 'Change suspend condition check order on ChibiOS ([#24020](https://github.com/qmk/qmk_firmware/pull/24020))', 'Tap dance introspection ([#24049](https://github.com/qmk/qmk_firmware/pull/24049))', 'Allow overriding `get_hardware_id()`. ([#24051](https://github.com/qmk/qmk_firmware/pull/24051))', 'Align LUFA suspend logic ([#24055](https://github.com/qmk/qmk_firmware/pull/24055))', 'Add support for key override introspection. ([#24120](https://github.com/qmk/qmk_firmware/pull/24120))', 'Dynamic macro callbacks ([#24142](https://github.com/qmk/qmk_firmware/pull/24142))', 'Rename promicro_rp2040 converter to sparkfun_pm2040 ([#24192](https://github.com/qmk/qmk_firmware/pull/24192))', 'Refactor starlight RGB matrix effects ([#24202](https://github.com/qmk/qmk_firmware/pull/24202))', 'Refactor riverflow RGB matrix loop ([#24203](https://github.com/qmk/qmk_firmware/pull/24203))']\n\nCLI:\n\n['Remove handling of keyboard level keymap templates ([#24234](https://github.com/qmk/qmk_firmware/pull/24234))', 'Small tweaks to keymap generation ([#24240](https://github.com/qmk/qmk_firmware/pull/24240))']\n\nKeyboards:\n\n['refactor: keyboard/ncr80/r2 ([#22670](https://github.com/qmk/qmk_firmware/pull/22670))', 'Implement data driven joysticks ([#22947](https://github.com/qmk/qmk_firmware/pull/22947))', 'Whitefacemountain Ampersand ([#23437](https://github.com/qmk/qmk_firmware/pull/23437))', 'Add TRKeyboard TRK1 keyboard ([#23642](https://github.com/qmk/qmk_firmware/pull/23642))', 'Rename dnworks/9973 to dnworks/tkl87 ([#23692](https://github.com/qmk/qmk_firmware/pull/23692))', 'Update Underglow keycodes ([#23765](https://github.com/qmk/qmk_firmware/pull/23765))', 'Add boardsource/the_q ([#23782](https://github.com/qmk/qmk_firmware/pull/23782))', 'BastardKB: remove legacy board `tbk` ([#23818](https://github.com/qmk/qmk_firmware/pull/23818))', 'Update ZSA Moonlander ([#23911](https://github.com/qmk/qmk_firmware/pull/23911))', 'Move Planck EZ to ZSA vendor folder ([#23917](https://github.com/qmk/qmk_firmware/pull/23917))', 'Migrate SPLIT_HAND_PIN to json ([#23924](https://github.com/qmk/qmk_firmware/pull/23924))', 'Migrate SERIAL_DRIVER to json ([#23925](https://github.com/qmk/qmk_firmware/pull/23925))', 'Migrate RGB Matrix layout for two boards ([#23963](https://github.com/qmk/qmk_firmware/pull/23963))', 'Migrate `led_update_kb` implementations to DD ([#23980](https://github.com/qmk/qmk_firmware/pull/23980))', 'Migrate `led_update_kb` implementations to DD ([#23981](https://github.com/qmk/qmk_firmware/pull/23981))', 'Migrate `led_update_kb` implementations to DD ([#23983](https://github.com/qmk/qmk_firmware/pull/23983))', 'Migrate `led_update_kb` implementations to DD ([#23985](https://github.com/qmk/qmk_firmware/pull/23985))', 'Relocate m256wh VIA logic ([#24006](https://github.com/qmk/qmk_firmware/pull/24006))', 'Relocate winry315 VIA logic ([#24008](https://github.com/qmk/qmk_firmware/pull/24008))', 'Relocate m256ws VIA logic ([#24009](https://github.com/qmk/qmk_firmware/pull/24009))', '`atreus`: misc cleanups ([#24010](https://github.com/qmk/qmk_firmware/pull/24010))', 'Relocate work_louder VIA logic ([#24011](https://github.com/qmk/qmk_firmware/pull/24011))', 'Relocate xelus/pachi/rgb/rev2 VIA logic ([#24016](https://github.com/qmk/qmk_firmware/pull/24016))', 'Remove custom keycodes from nullbitsco/snap ([#24017](https://github.com/qmk/qmk_firmware/pull/24017))', 'added bear_face/v3 ([#24032](https://github.com/qmk/qmk_firmware/pull/24032))', 'Remove DEFAULT_FOLDER from maple_computing/lets_split_eh ([#24054](https://github.com/qmk/qmk_firmware/pull/24054))', 'refactor bear_face/v1, v2 ([#24060](https://github.com/qmk/qmk_firmware/pull/24060))', 'Convert `eeconfig_init_kb` implementations to config ([#24087](https://github.com/qmk/qmk_firmware/pull/24087))', 'Remove broken keymap from keebio/iris ([#24094](https://github.com/qmk/qmk_firmware/pull/24094))', 'Move LED Matrix LED config to data driven ([#24122](https://github.com/qmk/qmk_firmware/pull/24122))', 'Move split.soft_serial_pin to split.serial.pin ([#24127](https://github.com/qmk/qmk_firmware/pull/24127))', 'Remove pointless `RGB_MATRIX_LED_COUNT`s ([#24133](https://github.com/qmk/qmk_firmware/pull/24133))', '`hs60/v1`: separate into ANSI and ISO revisions ([#24136](https://github.com/qmk/qmk_firmware/pull/24136))', 'Migrate half-duplex `SERIAL_USART_TX_PIN` to DD ([#24143](https://github.com/qmk/qmk_firmware/pull/24143))', 'Migrate split.soft_serial_pin to split.serial.pin O-Z ([#24146](https://github.com/qmk/qmk_firmware/pull/24146))', 'Migrate split.soft_serial_pin to split.serial.pin 0-H ([#24155](https://github.com/qmk/qmk_firmware/pull/24155))', 'Remove instances of MASTER_LEFT. ([#24163](https://github.com/qmk/qmk_firmware/pull/24163))', 'Rename EC Type-K ([#24180](https://github.com/qmk/qmk_firmware/pull/24180))', 'Migrate split.soft_serial_pin to split.serial.pin H-O ([#24185](https://github.com/qmk/qmk_firmware/pull/24185))', 'Remove split.transport.protocol=serial ([#24191](https://github.com/qmk/qmk_firmware/pull/24191))', 'Refactor use of `matrix_scan_kb` ([#24200](https://github.com/qmk/qmk_firmware/pull/24200))', 'Eliminate use of `#include \"../default/keymap.c\"`. ([#24215](https://github.com/qmk/qmk_firmware/pull/24215))', 'Remove keyboard level `QK_BOOT` implementations ([#24231](https://github.com/qmk/qmk_firmware/pull/24231))', 'Remove `handwired/pytest/has_template` ([#24232](https://github.com/qmk/qmk_firmware/pull/24232))', 'Refactor opendeck/32 ([#24233](https://github.com/qmk/qmk_firmware/pull/24233))', 'Refactor printedpad ([#24236](https://github.com/qmk/qmk_firmware/pull/24236))', 'Refactor orthocode ([#24237](https://github.com/qmk/qmk_firmware/pull/24237))', 'Remove unnecessary RGB Matrix shutdown hooks ([#24238](https://github.com/qmk/qmk_firmware/pull/24238))', 'Remove all via-enabled keymaps, including `via`. ([#24322](https://github.com/qmk/qmk_firmware/pull/24322))']\n\nKeyboard fixes:\n\n['Fix dogtag/info.json ([#23520](https://github.com/qmk/qmk_firmware/pull/23520))', 'splitkb/kyria: remove `CONVERT_TO` at keyboard level ([#23857](https://github.com/qmk/qmk_firmware/pull/23857))', 'Fixup mt/mt84 ([#23883](https://github.com/qmk/qmk_firmware/pull/23883))', 'Fix for encoders and support ENCODER_MAP_ENABLE on Planck rev7 ([#23967](https://github.com/qmk/qmk_firmware/pull/23967))', '`handwired/swiftrax/bumblebee`: fix layout name ([#24064](https://github.com/qmk/qmk_firmware/pull/24064))', 'Fixup boardsource/the_q RGB matrix coordinates ([#24086](https://github.com/qmk/qmk_firmware/pull/24086))', 'Various fixes for keyboards not implementing callbacks correctly ([#24092](https://github.com/qmk/qmk_firmware/pull/24092))', 'Various fixes for keyboards not implementing callbacks correctly ([#24116](https://github.com/qmk/qmk_firmware/pull/24116))', 'Remove duplicate calls to `housekeeping_task_user` ([#24201](https://github.com/qmk/qmk_firmware/pull/24201))', 'Fixup `handwired/dactyl_minidox` ([#24253](https://github.com/qmk/qmk_firmware/pull/24253))', 'Fix build failure on zsa/moonlander with DYNAMIC_MACRO_ENABLE ([#24316](https://github.com/qmk/qmk_firmware/pull/24316))']\n\nOthers:\n\n['LED drivers: extract documentation from LED/RGB Matrix pages ([#23630](https://github.com/qmk/qmk_firmware/pull/23630))', 'Implement data driven serial driver ([#23923](https://github.com/qmk/qmk_firmware/pull/23923))', 'Remove skipped schema files ([#23987](https://github.com/qmk/qmk_firmware/pull/23987))', 'Update RGBLight (Underglow) keycode names ([#23999](https://github.com/qmk/qmk_firmware/pull/23999))']\n\nBugs:\n\n['Fix NKRO and Mouse Emulation on arm_atsam ([#23945](https://github.com/qmk/qmk_firmware/pull/23945))', 'Force `dump_lines()` to always use Unix line endings ([#23954](https://github.com/qmk/qmk_firmware/pull/23954))', 'Fixup home link. ([#24068](https://github.com/qmk/qmk_firmware/pull/24068))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 19]"
        },
        {
          "title": "QMK Breaking Changes - 2024 November 24 Changelog",
          "description": null,
          "content": {
            "Notable Features": "November 2024 brings a relatively lightweight QMK release. As with previous cycles, almost all PRs were related to cleanup or re-organization of aspects of QMK.\n\nOne notable item is the removal of `arm_atsam` -- this affects users with `massdrop/ctrl` or `massdrop/alt` keyboards. These have no current replacement, but support for an alternative to the `arm_atsam` backend is nearing completion. Unfortunately the alternative backend didn't make this quarter's list of merges, so there's a temporary removal of these boards. Users who need to build for these targets should stay on the `0.26.x` version of QMK until these boards have been restored.",
            "Changes Requiring User Action": {
              "Updated Keyboard Codebases": "One note with updated keyboard names -- historical keyboard names are still considered valid when using [External Userspace](../newbs_external_userspace) for builds. If you're already using External Userspace, you do not need to move your keymap inside your repository.\n\n| Old Keyboard Name | New Keyboard Name       |\n|-------------------|-------------------------|\n| saevus/cor        | concreteflowers/cor     |\n| saevus/cor_tkl    | concreteflowers/cor_tkl |"
            },
            "Deprecation Notices": {
              "RGB Keycode Overhaul ([#23679](https://github.com/qmk/qmk_firmware/pull/23679), [#24484](https://github.com/qmk/qmk_firmware/pull/24484), [#24490](https://github.com/qmk/qmk_firmware/pull/24490))": "RGB keycodes have been reworked to allow for both rgblight and rgb_matrix to coexist for the handful of boards in the repo with both enabled. Previously, `RGB_xxx` style keycodes were available, but now for rgblight we have `UG_xxx` (underglow), and `RM_xxx` for rgb_matrix. Default keymaps have been updated to reflect whichever system the respective board enables.\n\nLonger-term, `RGB_xxx` style keycodes will be removed, but for now they act as if they're `UG_xxx`, and `UG_xxx` keycodes act upon both rgblight and rgb_matrix simultaneously. Put simply, the existing `RGB_xxx` keycodes act as they always have, giving users time to transition across to the new keycodes instead.",
              "ADNS9800 and PMW33xx sensor firmware ROM removal ([#24428](https://github.com/qmk/qmk_firmware/pull/24428))": "Following on from the last Breaking Changes cycle, Binary blobs for optical sensors have been removed from the QMK codebase. Hooks allowing users to supply their own have been put in place; users wishing to source firmware blobs and integrate them into their keymap may do so. Doing so renders their firmware un-distributable due to licensing incompatibility with the GPL -- as such user firmware containing such blobs must not be distributed.\n\nPlease get in touch with the QMK team on Discord if your sensor is no longer functional."
            },
            "Full changelist": "Core:\n\n['Refactor F4 ld files to use common files ([#18059](https://github.com/qmk/qmk_firmware/pull/18059))', 'Add LD7032 support to QP. ([#20828](https://github.com/qmk/qmk_firmware/pull/20828))', 'Add combo key repress feature ([#22858](https://github.com/qmk/qmk_firmware/pull/22858))', 'Add Layer Lock feature ([#23430](https://github.com/qmk/qmk_firmware/pull/23430))', 'Added MCU support for ArteryTek AT32F415 ([#23445](https://github.com/qmk/qmk_firmware/pull/23445))', 'Allow codegen of `keymap.json` => `keymap.c` without requiring layers/layout etc. ([#23451](https://github.com/qmk/qmk_firmware/pull/23451))', 'Separate RGBLight/RGB Matrix keycode handling ([#23679](https://github.com/qmk/qmk_firmware/pull/23679))', 'Allow for inverted SPI CS logic ([#23699](https://github.com/qmk/qmk_firmware/pull/23699))', 'Add timer_save and _restore functions. ([#23887](https://github.com/qmk/qmk_firmware/pull/23887))', 'Allow for `get_hardware_id()` to be used for serial number. ([#24053](https://github.com/qmk/qmk_firmware/pull/24053))', 'Segregrate keycode at pre-process record quantum ([#24194](https://github.com/qmk/qmk_firmware/pull/24194))', 'Add ability to poweroff ADNS5050 sensor ([#24223](https://github.com/qmk/qmk_firmware/pull/24223))', 'quantum: util: add bit and bitmask helpers ([#24229](https://github.com/qmk/qmk_firmware/pull/24229))', 'Add new connection keycodes for Bluetooth, 2.4GHz. ([#24251](https://github.com/qmk/qmk_firmware/pull/24251))', '`usb_device_state`: consolidate usb state handling across implementations ([#24258](https://github.com/qmk/qmk_firmware/pull/24258))', 'Remove global k_rgb_matrix_split ([#24348](https://github.com/qmk/qmk_firmware/pull/24348))', 'util: uf2families: sync with upstream ([#24351](https://github.com/qmk/qmk_firmware/pull/24351))', '[Maintenance] builddefs: common_rules: overhaul debug information generation ([#24352](https://github.com/qmk/qmk_firmware/pull/24352))', 'Add easier way to set default single layer ([#24376](https://github.com/qmk/qmk_firmware/pull/24376))', 'Tweak OS detect, add OS_DETECTION_SINGLE_REPORT ([#24379](https://github.com/qmk/qmk_firmware/pull/24379))', 'Reinstate global `k_rgb_matrix_split` ([#24388](https://github.com/qmk/qmk_firmware/pull/24388))', 'Bring supported STM32F4 configs in line with F4x1 ([#24413](https://github.com/qmk/qmk_firmware/pull/24413))', 'Extended wheel reports ([#24422](https://github.com/qmk/qmk_firmware/pull/24422))', 'Remove binary blobs from optical sensors. ([#24428](https://github.com/qmk/qmk_firmware/pull/24428))', 'Remove `STM32_PWM_USE_ADVANCED` references ([#24432](https://github.com/qmk/qmk_firmware/pull/24432))', 'Remove `RING_BUFFERED_6KRO_REPORT_ENABLE` due to disuse. ([#24433](https://github.com/qmk/qmk_firmware/pull/24433))', 'Move pointing device driver code ([#24445](https://github.com/qmk/qmk_firmware/pull/24445))', 'Add svlinky converter ([#24449](https://github.com/qmk/qmk_firmware/pull/24449))', 'Update combo user function variable ([#24467](https://github.com/qmk/qmk_firmware/pull/24467))', '`qmk find`: expand operator support ([#24468](https://github.com/qmk/qmk_firmware/pull/24468))', 'Rename RGB and HSV structs ([#24471](https://github.com/qmk/qmk_firmware/pull/24471))', 'RGBLight: Improve RGB Test animation ([#24477](https://github.com/qmk/qmk_firmware/pull/24477))', 'Change default ARM hardware PWM WS2812 tick frequency to 800kHz ([#24508](https://github.com/qmk/qmk_firmware/pull/24508))', 'Add pointing tests ([#24513](https://github.com/qmk/qmk_firmware/pull/24513))', 'Joystick: add support for 8-way hat switch ([#24515](https://github.com/qmk/qmk_firmware/pull/24515))', 'Refactor Riverflow matrix effect with runner ([#24520](https://github.com/qmk/qmk_firmware/pull/24520))', 'Update Pixel Rain to respect LED range limits ([#24532](https://github.com/qmk/qmk_firmware/pull/24532))', 'Update Jellybean Raindrops to respect LED range limits ([#24534](https://github.com/qmk/qmk_firmware/pull/24534))', 'Refactor Breathing effect with runner ([#24535](https://github.com/qmk/qmk_firmware/pull/24535))', 'Refactor LED Breathing effect with runner ([#24540](https://github.com/qmk/qmk_firmware/pull/24540))', 'Expose rgb_matrix_update_pwm_buffers to be available in keymaps ([#24573](https://github.com/qmk/qmk_firmware/pull/24573))', 'Simple Python script to show polling rate ([#24622](https://github.com/qmk/qmk_firmware/pull/24622))', 'Add keycode PDF(layer) to set the default layer in EEPROM ([#24630](https://github.com/qmk/qmk_firmware/pull/24630))', 'Provide method to save a single default layer in the full range of 0-31 ([#24639](https://github.com/qmk/qmk_firmware/pull/24639))']\n\nCLI:\n\n['Refactor painter arguments to table instead of commandline ([#24456](https://github.com/qmk/qmk_firmware/pull/24456))', '`qmk new-keyboard`: separate dev board and MCU selection ([#24548](https://github.com/qmk/qmk_firmware/pull/24548))', 'Bump minimum required Python version ([#24554](https://github.com/qmk/qmk_firmware/pull/24554))']\n\nSubmodule updates:\n\n['Remove `arm_atsam` platform ([#24337](https://github.com/qmk/qmk_firmware/pull/24337))']\n\nKeyboards:\n\n['add ergodox Community Layout for LAYOUT_ergodox keyboards ([#22963](https://github.com/qmk/qmk_firmware/pull/22963))', 'Cutie Club Fidelity Layout Additions ([#23838](https://github.com/qmk/qmk_firmware/pull/23838))', 'Add Ploopyco functions for host state control ([#23953](https://github.com/qmk/qmk_firmware/pull/23953))', 'Corne rev4 ([#24084](https://github.com/qmk/qmk_firmware/pull/24084))', 'Rename saevus to concreteflowers ([#24249](https://github.com/qmk/qmk_firmware/pull/24249))', 'Remove `60_tsangan_hhkb` community layout ([#24355](https://github.com/qmk/qmk_firmware/pull/24355))', 'add USART configuration to config.h for PS/2 mouse support ([#24398](https://github.com/qmk/qmk_firmware/pull/24398))', 'Add SteelSeries Prime+ mouse ([#24408](https://github.com/qmk/qmk_firmware/pull/24408))', 'Rename RGB/HSV structs: keyboard-level code ([#24476](https://github.com/qmk/qmk_firmware/pull/24476))', 'xiudi/xd002: Remove broken oversized `multilayer_rgb` keymap ([#24480](https://github.com/qmk/qmk_firmware/pull/24480))', 'Update keycodes for keyboards with RGB Matrix ([#24484](https://github.com/qmk/qmk_firmware/pull/24484))', 'Cipulot Updates ([#24539](https://github.com/qmk/qmk_firmware/pull/24539))', 'Update keymaps to use PDF keycode ([#24633](https://github.com/qmk/qmk_firmware/pull/24633))', 'Remove keyboard use of eeconfig_read_default_layer ([#24635](https://github.com/qmk/qmk_firmware/pull/24635))']\n\nKeyboard fixes:\n\n['Fix rendering of `keymap_config.no_gui` within `led_update_kb` ([#24473](https://github.com/qmk/qmk_firmware/pull/24473))', 'Fix duplication of core `GU_TOGG` keycode ([#24474](https://github.com/qmk/qmk_firmware/pull/24474))', 'keebio/nyquist: Remove invalid I2C config ([#24479](https://github.com/qmk/qmk_firmware/pull/24479))', 'horrortroll/nyx/rev1: Fix compilation of custom RGB effect ([#24481](https://github.com/qmk/qmk_firmware/pull/24481))']\n\nOthers:\n\n['Improve consistency of syntax within `data/constants/keycodes` ([#24528](https://github.com/qmk/qmk_firmware/pull/24528))']\n\nBugs:\n\n['WS2812 API rework ([#24364](https://github.com/qmk/qmk_firmware/pull/24364))', 'Backward compatibility for new RGB keycode handling ([#24490](https://github.com/qmk/qmk_firmware/pull/24490))', 'Fix compiliation issues with OS Detection ([#24502](https://github.com/qmk/qmk_firmware/pull/24502))', 'Revert removal of `QK_OUTPUT_AUTO`, fixup docs to reflect. ([#24593](https://github.com/qmk/qmk_firmware/pull/24593))', 'Review fixes for layer lock feature ([#24627](https://github.com/qmk/qmk_firmware/pull/24627))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 20]"
        },
        {
          "title": "QMK Breaking Changes - 2025 February 23 Changelog",
          "description": null,
          "content": {
            "Notable Features": {
              "Community Modules ([#24848](https://github.com/qmk/qmk_firmware/pull/24848))": "Community Modules are a feature within QMK which allows code to be implemented by third parties, making it available for other people to import into their own builds.\n\nThese modules can provide implementations which override or enhance normal QMK processing; initialization, key processing, suspend, and shutdown are some of the provided hooks which modules may currently implement.\n\nSee the [Community Modules documentation](../features/community_modules) for more information, including the full list of available hooks.\n\nFirst-class support for [External Userspace](../newbs_external_userspace) is included out of the box, so there's even more reason to take the plunge and convert your keymap builds to a userspace repository!\n\n::: tip\nAn example with a new keycode and some debugging information in the QMK repository [lives here](https://github.com/qmk/qmk_firmware/tree/master/modules/qmk/hello_world), and a community module port of [getreuer's SOCD Cleaner](https://getreuer.info/posts/keyboards/socd-cleaner/) can be found in [tzarc's modules repo](https://github.com/tzarc/qmk_modules).\n:::",
              "Chordal Hold ([#24560](https://github.com/qmk/qmk_firmware/pull/24560))": "Chordal Hold implements, by default, an \"opposite hands\" rule. Suppose a tap-hold key is pressed and then, before the tapping term, another key is pressed. With Chordal Hold, the tap-hold key is settled as tapped if the two keys are on the same hand.\n\nChordal Hold may be useful to avoid accidental modifier activation with mod-taps, particularly in rolled keypresses when using home row mods.\n\nSee the [Chordal Hold documentation](../tap_hold#chordal-hold) for more information."
            },
            "Changes Requiring User Action": {
              "Updated Keyboard Codebases": "| Old Keyboard Name       | New Keyboard Name           |\n|-------------------------|-----------------------------|\n| cxt_studio              | cxt_studio/12e4             |\n| ergodox_stm32           | handwired/ergodox_stm32     |\n| ploopyco/mouse          | ploopyco/mouse/rev1_002     |\n| ploopyco/trackball/rev1 | ploopyco/trackball/rev1_004 |\n| ymdk/id75               | ymdk/id75/f103              |"
            },
            "Deprecation Notices": {
              "DEFAULT_FOLDER removal ([#24836](https://github.com/qmk/qmk_firmware/pull/24836))": "`DEFAULT_FOLDER` was originally introduced to work around limitations within the build system.\nParent folders containing common configuration would create invalid build targets.\n\nWith the introduction of [`keyboard.json`](./20240526#keyboard-json) as a configuration file, the build system now has a consistent method to detect build targets.\nThe `DEFAULT_FOLDER` functionality is now redundant and the intent is for `rules.mk` to become pure configuration.\n\nBackwards compatibility of build targets has been maintained where possible."
            },
            "Full changelist": "Core:\n\n['Chaining OSL and MO ([#23065](https://github.com/qmk/qmk_firmware/pull/23065))', 'Add extra keymap for EurKEY layout ([#24241](https://github.com/qmk/qmk_firmware/pull/24241))', 'Add leader_add_user callback ([#24266](https://github.com/qmk/qmk_firmware/pull/24266))', 'always return audio pin to 0 on ARM ([#24503](https://github.com/qmk/qmk_firmware/pull/24503))', 'Update Starlight matrix effects ([#24521](https://github.com/qmk/qmk_firmware/pull/24521))', 'Refactor Hue Breathing matrix effect with runner ([#24525](https://github.com/qmk/qmk_firmware/pull/24525))', 'Ensure timer_read() is safe to call from interrupt handlers on ARM ([#24529](https://github.com/qmk/qmk_firmware/pull/24529))', 'Update Raindrops effect to respect LED range limits ([#24531](https://github.com/qmk/qmk_firmware/pull/24531))', 'Add Chordal Hold, an \"opposite hands rule\" tap-hold option similar to Achordion, Bilateral Combinations. ([#24560](https://github.com/qmk/qmk_firmware/pull/24560))', 'Azoteq - improve I2C behaviour while polling. ([#24611](https://github.com/qmk/qmk_firmware/pull/24611))', 'macOS install: remove bad ARM toolchains ([#24637](https://github.com/qmk/qmk_firmware/pull/24637))', 'small refactoring of TIMER_DIFF ([#24678](https://github.com/qmk/qmk_firmware/pull/24678))', 'Subscript alef correction ([#24707](https://github.com/qmk/qmk_firmware/pull/24707))', 'Created SH1107 driver for quantum painter ([#24724](https://github.com/qmk/qmk_firmware/pull/24724))', '[CI] Regenerate Files ([#24772](https://github.com/qmk/qmk_firmware/pull/24772))', 'Patch up issue for inverted complementary output on Backlight ([#24794](https://github.com/qmk/qmk_firmware/pull/24794))', 'Patch up issue when compile with APA102 driver ([#24800](https://github.com/qmk/qmk_firmware/pull/24800))', 'Consolidate send_string implementations. ([#24817](https://github.com/qmk/qmk_firmware/pull/24817))', 'Consolidate timer_elapsed implementations ([#24830](https://github.com/qmk/qmk_firmware/pull/24830))', '`i2c_master`: remove deprecated functions ([#24832](https://github.com/qmk/qmk_firmware/pull/24832))', 'Resolve keyboard_aliases when processing keyboard make targets ([#24834](https://github.com/qmk/qmk_firmware/pull/24834))', 'LED drivers: remove deprecated defines ([#24837](https://github.com/qmk/qmk_firmware/pull/24837))', '`ferris/0_1`: update I2C API usage ([#24839](https://github.com/qmk/qmk_firmware/pull/24839))', 'Unify i2c_master headers ([#24846](https://github.com/qmk/qmk_firmware/pull/24846))', 'Community modules ([#24848](https://github.com/qmk/qmk_firmware/pull/24848))', 'Relocate base WS2812 code ([#24850](https://github.com/qmk/qmk_firmware/pull/24850))', 'Unify UART headers ([#24855](https://github.com/qmk/qmk_firmware/pull/24855))', 'Unify spi_master headers ([#24857](https://github.com/qmk/qmk_firmware/pull/24857))', 'Invoke `process_record_via` after `_user`/`_kb` have a chance to handle it. ([#24879](https://github.com/qmk/qmk_firmware/pull/24879))']\n\nCLI:\n\n[\"Extend lint to reject 'blank' files ([#23994](https://github.com/qmk/qmk_firmware/pull/23994))\", '`qmk docs`: restore `--port` and `--browser` arguments ([#24623](https://github.com/qmk/qmk_firmware/pull/24623))', 'Update via2json layout macro searching ([#24640](https://github.com/qmk/qmk_firmware/pull/24640))', 'Change `new-keymap` keymap name prompt ([#24701](https://github.com/qmk/qmk_firmware/pull/24701))', 'default_keyboard.h generation tweaks ([#24715](https://github.com/qmk/qmk_firmware/pull/24715))', 'Ensure `qmk flash` rejects invalid files for uf2 compatible bootloaders ([#24802](https://github.com/qmk/qmk_firmware/pull/24802))', 'Reject readme dummy content ([#24913](https://github.com/qmk/qmk_firmware/pull/24913))']\n\nSubmodule updates:\n\n['chibios: usb_main: remove OTG sof workaround ([#24259](https://github.com/qmk/qmk_firmware/pull/24259))', 'Update ChibiOS to latest stable branch. ([#24651](https://github.com/qmk/qmk_firmware/pull/24651))', 'Update ChibiOS `stable_21.11.x`. ([#24714](https://github.com/qmk/qmk_firmware/pull/24714))', 'Update ChibiOS-Contrib. ([#24803](https://github.com/qmk/qmk_firmware/pull/24803))']\n\nKeyboards:\n\n['refactor: move ymdk/id75 to revision ([#24590](https://github.com/qmk/qmk_firmware/pull/24590))', 'skyloong/gk61: Remove overriding of core keycode behaviour ([#24655](https://github.com/qmk/qmk_firmware/pull/24655))', 'moky/moky88: Remove use of deprecated defines ([#24656](https://github.com/qmk/qmk_firmware/pull/24656))', 'Updating Promenade keyboard (Missing keys in matrix, other minor changes to keymap) ([#24705](https://github.com/qmk/qmk_firmware/pull/24705))', 'Moving cxt_studio keyboard to own folder ([#24748](https://github.com/qmk/qmk_firmware/pull/24748))', 'Add CXT Studio 12E3 keyboard ([#24749](https://github.com/qmk/qmk_firmware/pull/24749))', 'Add Silakka54 keyboard ([#24757](https://github.com/qmk/qmk_firmware/pull/24757))', 'Add more layout for skiller_sgk50_s4 ([#24784](https://github.com/qmk/qmk_firmware/pull/24784))', 'Add watchdog service to RGBKB Sol 3 ([#24786](https://github.com/qmk/qmk_firmware/pull/24786))', 'Migrate some DEFAULT_FOLDER to keyboard_aliases.hjson ([#24835](https://github.com/qmk/qmk_firmware/pull/24835))', 'Remove DEFAULT_FOLDER where keyboard aliases already exists ([#24838](https://github.com/qmk/qmk_firmware/pull/24838))', 'Migrate some DEFAULT_FOLDER to keyboard_aliases.hjson ([#24845](https://github.com/qmk/qmk_firmware/pull/24845))', \"Update for 'A-JAZZ AKC084' ('A-JAZZ AKP846') ([#24868](https://github.com/qmk/qmk_firmware/pull/24868))\", 'handwired/xealous - Remove DEFAULT_FOLDER ([#24877](https://github.com/qmk/qmk_firmware/pull/24877))', 'Updates to Ploopy Classic, Mouse, and Thumb for RP2040 hardware upgrade ([#24880](https://github.com/qmk/qmk_firmware/pull/24880))', 'Move Ergodox STM32 to handwired folder ([#24903](https://github.com/qmk/qmk_firmware/pull/24903))', 'Remove readme dummy content ([#24912](https://github.com/qmk/qmk_firmware/pull/24912))', 'Migrate some DEFAULT_FOLDER to keyboard_aliases.hjson ([#24915](https://github.com/qmk/qmk_firmware/pull/24915))', 'Migrate some DEFAULT_FOLDER to keyboard_aliases.hjson ([#24938](https://github.com/qmk/qmk_firmware/pull/24938))']\n\nKeyboard fixes:\n\n['Fix up CI with `DEFAULT_FOLDER`. ([#24842](https://github.com/qmk/qmk_firmware/pull/24842))', 'rgbkb/pan - Remove invalid build target ([#24844](https://github.com/qmk/qmk_firmware/pull/24844))']\n\nOthers:\n\n['Formally deprecate DEFAULT_FOLDER ([#24836](https://github.com/qmk/qmk_firmware/pull/24836))', 'Correct I2C API reference ([#24840](https://github.com/qmk/qmk_firmware/pull/24840))']\n\nBugs:\n\n['Retro Tapping Re-Write; Key Roll Fix ([#23641](https://github.com/qmk/qmk_firmware/pull/23641))', 'Fix Quantum Painter compiliation issues with heavy optimization ([#24667](https://github.com/qmk/qmk_firmware/pull/24667))', 'Bugfix and update for AT32F415 ([#24807](https://github.com/qmk/qmk_firmware/pull/24807))', 'Fix for Chordal Hold: stuck mods when mod-taps are pressed in a stuttered sequence. ([#24878](https://github.com/qmk/qmk_firmware/pull/24878))', 'fix EEPROM driver for STM32L0/1 cat.1 devices ([#24928](https://github.com/qmk/qmk_firmware/pull/24928))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 21]"
        },
        {
          "title": "QMK Breaking Changes - 2025 May 25 Changelog",
          "description": null,
          "content": {
            "Notable Features": {
              "Flow Tap ([#25125](https://github.com/qmk/qmk_firmware/pull/25125))": "Adds Flow Tap as a core tap-hold option to disable HRMs during fast typing, aka Global Quick Tap, Require Prior Idle.\n\nFlow Tap modifies mod-tap MT and layer-tap LT keys such that when pressed within a short timeout of the preceding key, the tapping behavior is triggered. It basically disables the hold behavior during fast typing, creating a \"flow of taps.\" It also helps to reduce the input lag of tap-hold keys during fast typing, since the tapped behavior is sent immediately.\n\nSee the [Flow Tap documentation](../tap_hold#flow-tap) for more information.",
              "Community Modules `1.1.1` ([#25050](https://github.com/qmk/qmk_firmware/pull/25050), [#25187](https://github.com/qmk/qmk_firmware/pull/25187))": "Version `1.1.1` introduces support for module defined RGB matrix effects and indicator callbacks, as well as pointing and layer state callbacks.\n\nSee the [Community Modules documentation](../features/community_modules) for more information, including the full list of available hooks."
            },
            "Changes Requiring User Action": {
              "Updated Keyboard Codebases": "| Old Keyboard Name      | New Keyboard Name    |\n|------------------------|----------------------|\n| chew                   | chew/split           |\n| deemen17/de60fs        | deemen17/de60/r1     |\n| keyten/kt60hs_t        | keyten/kt60hs_t/v1   |\n| plywrks/ply8x          | plywrks/ply8x/solder |\n| rookiebwoy/late9/rev1  | ivndbt/late9/rev1    |\n| rookiebwoy/neopad/rev1 | ivndbt/neopad/rev1   |"
            },
            "Deprecation Notices": {
              "Deprecation of `qmk generate-compilation-database` ([#25237](https://github.com/qmk/qmk_firmware/pull/25237))": "This command has been deprecated as it cannot take into account configurables such as [converters](/feature_converters) or environment variables normally specified on the command line; please use the `--compiledb` flag with `qmk compile` instead.",
              "Deprecation of `usb.force_nkro`/`FORCE_NKRO` ([#25262](https://github.com/qmk/qmk_firmware/pull/25262))": "Unpicking the assumption that only USB can do NKRO, forcing of NKRO on every boot has been deprecated. As this setting persists, it produces unnecessary user confusion when the various NKRO keycodes (for example `NK_TOGG`) do not behave as expected.\n\nThe new defaults can be configured in the following ways:\n\n:::::tabs\n\n==== keyboard.json\n\n```\n{\n    \"host\": { // [!code focus]\n        \"default\": { // [!code focus]\n            \"nkro\": true // [!code focus]\n        } // [!code focus]\n    } // [!code focus]\n}\n\n```\n\n==== keymap.json\n\n```\n{\n    \"config\": {\n        \"host\": { // [!code focus]\n            \"default\": { // [!code focus]\n                \"nkro\": true // [!code focus]\n            } // [!code focus]\n        } // [!code focus]\n    }\n}\n\n```\n\n==== config.h\n\n```\n#pragma once\n\n#define NKRO_DEFAULT_ON true // [!code focus]\n```\n\n:::::\n\nThe deprecated options will be removed in a future breaking changes cycle.",
              "`CTPC`/`CONVERT_TO_PROTON_C` removal ([#25111](https://github.com/qmk/qmk_firmware/pull/25111))": "Deprecated build options `CTPC` and `CONVERT_TO_PROTON_C` have been removed. Users should of these should migrate to `CONVERT_TO=proton_c`.\n\nsee the [Converters Feature](../feature_converters)  documentation for more information.",
              "`DEFAULT_FOLDER` removal ([#23281](https://github.com/qmk/qmk_firmware/pull/23281))": "`DEFAULT_FOLDER` was originally introduced to work around limitations within the build system.\nParent folders containing common configuration would create invalid build targets.\n\nWith the introduction of [`keyboard.json`](./20240526#keyboard-json) as a configuration file, the build system now has a consistent method to detect build targets.\nThe `DEFAULT_FOLDER` functionality is now redundant and the intent is for `rules.mk` to become pure configuration.\n\nBackwards compatibility of build targets has been maintained where possible.",
              "Converter `Pin Compatible` updates ([#20330](https://github.com/qmk/qmk_firmware/pull/20330))": "Converter support will be further limited to only function if a keyboard declares that is is compatible.\n\nThis can be configured in the following ways:\n\n:::::tabs\n\n==== keyboard.json\n\n```\n{\n    \"development_board\": \"promicro\", // [!code focus]\n}\n```\n\n==== rules.mk\n\n```\nPIN_COMPATIBLE = promicro\n```\n\n:::::\n\nsee the [Converters Feature](../feature_converters)  documentation for more information.",
              "Deprecation of `encoder_update_{kb|user}`": "These callbacks are now considered end-of-life and will be removed over the next breaking changes cycle, ending August 2025. PRs containing these callbacks will be asked to change to use [encoder mapping](/features/encoders#encoder-map).\n\n`ENCODER_MAP_ENABLE` will subsequently be changed to \"default-on\" when encoders are enabled, and future breaking changes cycles will remove this flag entirely.\n\nTo migrate usage of `encoder_update_user` to encoder map you'll need to handle all of the following changes in your `keymap.c`:\n\n:::::tabs\n\n=== 1. Add keycode definitions\n\nDefine new keycodes:\n\n```\nenum {\n    MY_ENCODER_LEFT = QK_USER, // [!code focus]\n    MY_ENCODER_RIGHT, // [!code focus]\n};\n```\n\n=== 2. Add encoder mapping\n\nAdd the keycodes to a new encoder map (optionally with transparent layers above, if you want identical functionality of layer-independence):\n\n```\n#if defined(ENCODER_MAP_ENABLE)\nconst uint16_t PROGMEM encoder_map[][NUM_ENCODERS][NUM_DIRECTIONS] = {\n    [0] = { ENCODER_CCW_CW(MY_ENCODER_LEFT, MY_ENCODER_RIGHT) }, // [!code focus]\n    [1] = { ENCODER_CCW_CW(KC_TRNS, KC_TRNS) }, // [!code focus]\n    [2] = { ENCODER_CCW_CW(KC_TRNS, KC_TRNS) }, // [!code focus]\n    [3] = { ENCODER_CCW_CW(KC_TRNS, KC_TRNS) }, // [!code focus]\n};\n#endif\n```\n\n=== 3. Add keycode processing\n\nHandle the new keycodes within `process_record_user`, much like any other keycode in your keymap:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n  switch (keycode) {\n    case MY_ENCODER_LEFT: // [!code focus]\n      if (record->event.pressed) { // [!code focus]\n        // Add the same code you had in your `encoder_update_user` for the left-rotation code // [!code focus]\n      } // [!code focus]\n      return false; // Skip all further processing of this keycode // [!code focus]\n    case MY_ENCODER_RIGHT: // [!code focus]\n      if (record->event.pressed) { // [!code focus]\n        // Add the same code you had in your `encoder_update_user` for the right-rotation code // [!code focus]\n      } // [!code focus]\n      return false; // Skip all further processing of this keycode // [!code focus]\n  }\n}\n```\n\n=== 4. Remove old code\n\nRemove your implementation of `encoder_update_user` from your `keymap.c`.\n\n::::::\n\nIf your board has multiple encoders, each encoder will need its own pair of keycodes defined as per above."
            },
            "Full changelist": "Core:\n\n['Non-volatile memory data repository pattern ([#24356](https://github.com/qmk/qmk_firmware/pull/24356))', 'High resolution scrolling (without feature report parsing) ([#24423](https://github.com/qmk/qmk_firmware/pull/24423))', 'Implement battery level interface ([#24666](https://github.com/qmk/qmk_firmware/pull/24666))', 'get_keycode_string(): function to format keycodes as strings, for more readable debug logging. ([#24787](https://github.com/qmk/qmk_firmware/pull/24787))', '[Cleanup] Handling of optional `*.mk` files ([#24952](https://github.com/qmk/qmk_firmware/pull/24952))', 'Add EOL to non-keyboard files ([#24990](https://github.com/qmk/qmk_firmware/pull/24990))', 'use `keycode_string` in unit tests ([#25042](https://github.com/qmk/qmk_firmware/pull/25042))', 'Add additional hooks for Community modules ([#25050](https://github.com/qmk/qmk_firmware/pull/25050))', 'Remove `CTPC`/`CONVERT_TO_PROTON_C` options ([#25111](https://github.com/qmk/qmk_firmware/pull/25111))', 'Flow Tap tap-hold option to disable HRMs during fast typing (aka Global Quick Tap, Require Prior Idle). ([#25125](https://github.com/qmk/qmk_firmware/pull/25125))', 'Remove `bluefruit_le_read_battery_voltage` function ([#25129](https://github.com/qmk/qmk_firmware/pull/25129))', 'Avoid duplication in generated community modules `rules.mk` ([#25135](https://github.com/qmk/qmk_firmware/pull/25135))', '[chore]: move and rename mouse/scroll min/max defines ([#25141](https://github.com/qmk/qmk_firmware/pull/25141))', 'Ignore the Layer Lock key in Repeat Key and Caps Word. ([#25171](https://github.com/qmk/qmk_firmware/pull/25171))', 'Allow for disabling EEPROM subsystem entirely. ([#25173](https://github.com/qmk/qmk_firmware/pull/25173))', 'Implement connection keycode logic ([#25176](https://github.com/qmk/qmk_firmware/pull/25176))', 'Align ChibiOS `USB_WAIT_FOR_ENUMERATION` implementation ([#25184](https://github.com/qmk/qmk_firmware/pull/25184))', 'Enable community modules to define LED matrix and RGB matrix effects. ([#25187](https://github.com/qmk/qmk_firmware/pull/25187))', 'Bind Bluetooth driver to `host_driver_t` ([#25199](https://github.com/qmk/qmk_firmware/pull/25199))', 'Enhance Flow Tap to work better for rolls over multiple tap-hold keys. ([#25200](https://github.com/qmk/qmk_firmware/pull/25200))', 'Remove force disable of NKRO when Bluetooth enabled ([#25201](https://github.com/qmk/qmk_firmware/pull/25201))', '[New Feature/Core] New RGB Matrix Animation \"Starlight Smooth\" ([#25203](https://github.com/qmk/qmk_firmware/pull/25203))', 'Add battery changed callbacks ([#25207](https://github.com/qmk/qmk_firmware/pull/25207))', 'Generate versions to keycode headers ([#25219](https://github.com/qmk/qmk_firmware/pull/25219))', 'Add raw_hid support to host driver ([#25255](https://github.com/qmk/qmk_firmware/pull/25255))', 'Deprecate `usb.force_nkro`/`FORCE_NKRO` ([#25262](https://github.com/qmk/qmk_firmware/pull/25262))', '[Chore] use {rgblight,rgb_matrix}_hsv_to_rgb overrides ([#25271](https://github.com/qmk/qmk_firmware/pull/25271))', 'Remove outdated `nix` support due to bit-rot. ([#25280](https://github.com/qmk/qmk_firmware/pull/25280))']\n\nCLI:\n\n['Align to latest CLI dependencies ([#24553](https://github.com/qmk/qmk_firmware/pull/24553))', 'Exclude external userspace from lint checking ([#24680](https://github.com/qmk/qmk_firmware/pull/24680))', '[Modules] Provide access to current path in `rules.mk`. ([#25061](https://github.com/qmk/qmk_firmware/pull/25061))', 'Add \"license\" field to Community Module JSON schema. ([#25085](https://github.com/qmk/qmk_firmware/pull/25085))', 'Prompt for converter when creating new keymap ([#25116](https://github.com/qmk/qmk_firmware/pull/25116))', 'Extend lint checks to reject duplication of defaults ([#25149](https://github.com/qmk/qmk_firmware/pull/25149))', 'Add lint warning for empty url ([#25182](https://github.com/qmk/qmk_firmware/pull/25182))', 'Deprecate `qmk generate-compilation-database`. ([#25237](https://github.com/qmk/qmk_firmware/pull/25237))', 'Use relative paths for schemas, instead of $id. Enables VScode validation. ([#25251](https://github.com/qmk/qmk_firmware/pull/25251))']\n\nSubmodule updates:\n\n['STM32G0x1 support ([#24301](https://github.com/qmk/qmk_firmware/pull/24301))', 'Update develop branch to Pico SDK 1.5.1 ([#25178](https://github.com/qmk/qmk_firmware/pull/25178))', 'Add `compiler_support.h` ([#25274](https://github.com/qmk/qmk_firmware/pull/25274))']\n\nKeyboards:\n\n['add 75_(ansi|iso) Community Layouts to mechlovin/olly/octagon ([#22459](https://github.com/qmk/qmk_firmware/pull/22459))', 'Add the plywrks ply8x hotswap variant. ([#23558](https://github.com/qmk/qmk_firmware/pull/23558))', 'Add Community Layout support to daskeyboard4 ([#23884](https://github.com/qmk/qmk_firmware/pull/23884))', 'New standard layout for Savage65 (65_ansi_blocker_tsangan_split_bs) ([#24690](https://github.com/qmk/qmk_firmware/pull/24690))', 'Add Icebreaker keyboard ([#24723](https://github.com/qmk/qmk_firmware/pull/24723))', 'Update Tractyl Manuform and add F405 (weact) variant ([#24764](https://github.com/qmk/qmk_firmware/pull/24764))', 'Chew folders ([#24785](https://github.com/qmk/qmk_firmware/pull/24785))', 'modelh: add prerequisites for via support ([#24932](https://github.com/qmk/qmk_firmware/pull/24932))', 'Only configure `STM32_HSECLK` within `board.h` ([#25001](https://github.com/qmk/qmk_firmware/pull/25001))', 'Allow LVGL onekey keymap to be able compile for other board ([#25005](https://github.com/qmk/qmk_firmware/pull/25005))', \"Remove Sofle `rgb_default` keymap & tidy readme's ([#25010](https://github.com/qmk/qmk_firmware/pull/25010))\", 'Migrate remaining `split.soft_serial_pin` to `split.serial.pin` ([#25046](https://github.com/qmk/qmk_firmware/pull/25046))', 'Update keymap for keycult 1800 ([#25070](https://github.com/qmk/qmk_firmware/pull/25070))', 'Add kt60HS-T v2 PCB ([#25080](https://github.com/qmk/qmk_firmware/pull/25080))', 'Refactor Deemen17 Works DE60 ([#25088](https://github.com/qmk/qmk_firmware/pull/25088))', 'Rookiebwoy to ivndbt ([#25142](https://github.com/qmk/qmk_firmware/pull/25142))', 'Remove duplication of RGB Matrix defaults ([#25146](https://github.com/qmk/qmk_firmware/pull/25146))', 'ymdk/id75/rp2040 ([#25157](https://github.com/qmk/qmk_firmware/pull/25157))', 'Remove duplication of RGBLight defaults ([#25169](https://github.com/qmk/qmk_firmware/pull/25169))', 'Remove empty `url` fields ([#25181](https://github.com/qmk/qmk_firmware/pull/25181))', 'Remove more duplication of defaults ([#25189](https://github.com/qmk/qmk_firmware/pull/25189))', 'Remove `\"console\":false` from keyboards ([#25190](https://github.com/qmk/qmk_firmware/pull/25190))', 'Remove `\"command\":false` from keyboards ([#25193](https://github.com/qmk/qmk_firmware/pull/25193))', 'Remove redundant keyboard headers ([#25208](https://github.com/qmk/qmk_firmware/pull/25208))', 'Add debounce to duplicated defaults check ([#25246](https://github.com/qmk/qmk_firmware/pull/25246))', 'Remove duplicate of SPI default config from keyboards ([#25266](https://github.com/qmk/qmk_firmware/pull/25266))', 'Resolve miscellaneous keyboard lint warnings ([#25268](https://github.com/qmk/qmk_firmware/pull/25268))', 'Configure boards to use development_board - 0-9 ([#25287](https://github.com/qmk/qmk_firmware/pull/25287))', 'Configure boards to use development_board - UVWXYZ ([#25288](https://github.com/qmk/qmk_firmware/pull/25288))', 'Configure boards to use development_board - S ([#25293](https://github.com/qmk/qmk_firmware/pull/25293))', 'Configure boards to use development_board - T ([#25294](https://github.com/qmk/qmk_firmware/pull/25294))']\n\nKeyboard fixes:\n\n['Fix `boardsource/beiwagon` RGB Matrix coordinates ([#25018](https://github.com/qmk/qmk_firmware/pull/25018))', 'amptrics/0422 - Prevent OOB in `update_leds_for_layer` ([#25209](https://github.com/qmk/qmk_firmware/pull/25209))', 'salicylic_acid3/getta25 - Fix oled keymap ([#25295](https://github.com/qmk/qmk_firmware/pull/25295))']\n\nOthers:\n\n[\"Require 'x'/'y' properties for LED/RGB Matrix layout ([#24997](https://github.com/qmk/qmk_firmware/pull/24997))\", 'Align `new-keyboard` template to current standards ([#25191](https://github.com/qmk/qmk_firmware/pull/25191))']\n\nBugs:\n\n['Fix OS_DETECTION_KEYBOARD_RESET ([#25015](https://github.com/qmk/qmk_firmware/pull/25015))', 'Fix outdated GPIO control function usage ([#25060](https://github.com/qmk/qmk_firmware/pull/25060))', 'Cater for use of `__errno_r()` in ChibiOS syscalls.c with newer picolibc revisions ([#25121](https://github.com/qmk/qmk_firmware/pull/25121))', 'Fixup eeconfig lighting reset. ([#25166](https://github.com/qmk/qmk_firmware/pull/25166))', 'Fix for Flow Tap: fix handling of distinct taps and timer updates. ([#25175](https://github.com/qmk/qmk_firmware/pull/25175))', 'Minimise force-included files ([#25194](https://github.com/qmk/qmk_firmware/pull/25194))', 'Ensure `qmk_userspace_paths` maintains detected order ([#25204](https://github.com/qmk/qmk_firmware/pull/25204))', 'Resolve alias for `qmk new-keymap` keyboard prompts ([#25210](https://github.com/qmk/qmk_firmware/pull/25210))', 'gcc15 AVR compilation fixes ([#25238](https://github.com/qmk/qmk_firmware/pull/25238))', 'Fix typos introduced by PR #25050 ([#25250](https://github.com/qmk/qmk_firmware/pull/25250))', 'Fix Wear Leveling compilation ([#25254](https://github.com/qmk/qmk_firmware/pull/25254))', 'Remove more USB only branches from NKRO handling ([#25263](https://github.com/qmk/qmk_firmware/pull/25263))', '[Fix] lib8tion: enable fixed scale8 and blend functions ([#25272](https://github.com/qmk/qmk_firmware/pull/25272))', 'Fix tap_hold code blocks ([#25298](https://github.com/qmk/qmk_firmware/pull/25298))']"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 106, \"subpages\", 22]"
        }
      ],
      "path": "[\"subpages\", 106]"
    },
    {
      "title": "Drivers",
      "description": "Documentation section: drivers",
      "content": {},
      "metadata": {
        "type": "directory",
        "path": "/home/anhnh/CodeWikiBench/data/qmk_firmware/original/docs/drivers"
      },
      "subpages": [
        {
          "title": "ADC Driver",
          "description": null,
          "content": {
            "Usage": "To use this driver, add the following to your `rules.mk`:\n\n```\nANALOG_DRIVER_REQUIRED = yes\n```\n\nThen place this include at the top of your code:\n\n```\n#include \"analog.h\"\n```",
            "Channels": {
              "AVR": "|Channel|AT90USB64/128|ATmega16/32U4|ATmega32A|ATmega328/P|\n|-------|-------------|-------------|---------|----------|\n|0      |`F0`         |`F0`         |`A0`     |`C0`      |\n|1      |`F1`         |`F1`         |`A1`     |`C1`      |\n|2      |`F2`         |             |`A2`     |`C2`      |\n|3      |`F3`         |             |`A3`     |`C3`      |\n|4      |`F4`         |`F4`         |`A4`     |`C4`      |\n|5      |`F5`         |`F5`         |`A5`     |`C5`      |\n|6      |`F6`         |`F6`         |`A6`     |*         |\n|7      |`F7`         |`F7`         |`A7`     |*         |\n|8      |             |`D4`         |         |          |\n|9      |             |`D6`         |         |          |\n|10     |             |`D7`         |         |          |\n|11     |             |`B4`         |         |          |\n|12     |             |`B5`         |         |          |\n|13     |             |`B6`         |         |          |\n\n<sup>\\* The ATmega328/P possesses two extra ADC channels; however, they are not present on the DIP pinout, and are not shared with GPIO pins. You can use `adc_read()` directly to gain access to these.</sup>",
              "ARM": {
                "STM32": "Note that some of these pins are doubled-up on ADCs with the same channel. This is because the pins can be used for either ADC.\n\nAlso note that the F0 and F3 use different numbering schemes. The F0 has a single ADC and the channels are 0-indexed, whereas the F3 has 4 ADCs and the channels are 1-indexed. This is because the F0 uses the `ADCv1` implementation of the ADC, whereas the F3 uses the `ADCv3` implementation.\n\n|ADC|Channel|STM32F0xx|STM32F1xx|STM32F3xx|STM32F4xx|\n|---|-------|---------|---------|---------|---------|\n|1  |0      |`A0`     |`A0`     |         |`A0`     |\n|1  |1      |`A1`     |`A1`     |`A0`     |`A1`     |\n|1  |2      |`A2`     |`A2`     |`A1`     |`A2`     |\n|1  |3      |`A3`     |`A3`     |`A2`     |`A3`     |\n|1  |4      |`A4`     |`A4`     |`A3`     |`A4`     |\n|1  |5      |`A5`     |`A5`     |`F4`     |`A5`     |\n|1  |6      |`A6`     |`A6`     |`C0`     |`A6`     |\n|1  |7      |`A7`     |`A7`     |`C1`     |`A7`     |\n|1  |8      |`B0`     |`B0`     |`C2`     |`B0`     |\n|1  |9      |`B1`     |`B1`     |`C3`     |`B1`     |\n|1  |10     |`C0`     |`C0`     |`F2`     |`C0`     |\n|1  |11     |`C1`     |`C1`     |         |`C1`     |\n|1  |12     |`C2`     |`C2`     |         |`C2`     |\n|1  |13     |`C3`     |`C3`     |         |`C3`     |\n|1  |14     |`C4`     |`C4`     |         |`C4`     |\n|1  |15     |`C5`     |`C5`     |         |`C5`     |\n|1  |16     |         |         |         |         |\n|2  |0      |         |`A0`    |         |`A0`    |\n|2  |1      |         |`A1`    |`A4`     |`A1`    |\n|2  |2      |         |`A2`    |`A5`     |`A2`    |\n|2  |3      |         |`A3`    |`A6`     |`A3`    |\n|2  |4      |         |`A4`    |`A7`     |`A4`    |\n|2  |5      |         |`A5`    |`C4`     |`A5`    |\n|2  |6      |         |`A6`    |`C0`     |`A6`    |\n|2  |7      |         |`A7`    |`C1`     |`A7`    |\n|2  |8      |         |`B0`    |`C2`     |`B0`    |\n|2  |9      |         |`B1`    |`C3`     |`B1`    |\n|2  |10     |         |`C0`    |`F2`     |`C0`    |\n|2  |11     |         |`C1`    |`C5`     |`C1`    |\n|2  |12     |         |`C2`    |`B2`     |`C2`    |\n|2  |13     |         |`C3`    |         |`C3`    |\n|2  |14     |         |`C4`    |         |`C4`    |\n|2  |15     |         |`C5`    |         |`C5`    |\n|2  |16     |         |         |         |         |\n|3  |0      |         |`A0`    |         |`A0`    |\n|3  |1      |         |`A1`    |`B1`     |`A1`    |\n|3  |2      |         |`A2`    |`E9`     |`A2`    |\n|3  |3      |         |`A3`    |`E13`    |`A3`    |\n|3  |4      |         |`F6`    |         |`F6`    |\n|3  |5      |         |`F7`    |`B13`    |`F7`    |\n|3  |6      |         |`F8`    |`E8`     |`F8`    |\n|3  |7      |         |`F9`    |`D10`    |`F9`    |\n|3  |8      |         |`F10`   |`D11`    |`F10`   |\n|3  |9      |         |         |`D12`    |`F3`    |\n|3  |10     |         |`C0`    |`D13`    |`C0`    |\n|3  |11     |         |`C1`    |`D14`    |`C1`    |\n|3  |12     |         |`C2`    |`B0`     |`C2`    |\n|3  |13     |         |`C3`    |`E7`     |`C3`    |\n|3  |14     |         |         |`E10`    |`F4`    |\n|3  |15     |         |         |`E11`    |`F5`    |\n|3  |16     |         |         |`E12`    |         |\n|4  |1      |         |         |`E14`    |         |\n|4  |2      |         |         |`E15`    |         |\n|4  |3      |         |         |`B12`    |         |\n|4  |4      |         |         |`B14`    |         |\n|4  |5      |         |         |`B15`    |         |\n|4  |6      |         |         |`E8`     |         |\n|4  |7      |         |         |`D10`    |         |\n|4  |8      |         |         |`D11`    |         |\n|4  |9      |         |         |`D12`    |         |\n|4  |10     |         |         |`D13`    |         |\n|4  |11     |         |         |`D14`    |         |\n|4  |12     |         |         |`D8`     |         |\n|4  |13     |         |         |`D9`     |         |\n|4  |14     |         |         |         |         |\n|4  |15     |         |         |         |         |\n|4  |16     |         |         |         |         |\n\n<sup> As of ChibiOS 20.3.4, the ADC driver for STM32F1xx devices supports only ADC1, therefore any configurations involving ADC2 or ADC3 cannot actually be used. In particular, pins `F6``F10`, which are present at least on some STM32F103x[C-G] devices, cannot be used as ADC inputs because of this driver limitation.</sup>\n\n<sup> Not all STM32F4xx devices have ADC2 and/or ADC3, therefore some configurations shown in this table may be unavailable; in particular, pins `F4``F10` cannot be used as ADC inputs on devices which do not have ADC3. Check the device datasheet to confirm which pin functions are supported.</sup>",
                "RP2040": "RP2040 has only a single ADC (`ADCD1` in ChibiOS); in the QMK API the index for that ADC is 0.\n\n|Channel|Pin                |\n|-------|-------------------|\n|0      |`GP26`             |\n|1      |`GP27`             |\n|2      |`GP28`             |\n|3      |`GP29`             |\n|4      |Temperature sensor*|\n\n<sup>* The temperature sensor is disabled by default and needs to be enabled by the RP2040-specific function: `adcRPEnableTS(&ADCD1)`.  The ADC must be initialized before calling that function; an easy way to ensure that is to perform a dummy conversion.</sup>"
              }
            },
            "Functions": {
              "AVR": "|Function                    |Description                                                                                                        |\n|----------------------------|-------------------------------------------------------------------------------------------------------------------|\n|`analogReference(mode)`     |Sets the analog voltage reference source. Must be one of `ADC_REF_EXTERNAL`, `ADC_REF_POWER` or `ADC_REF_INTERNAL`.|\n|`analogReadPin(pin)`        |Reads the value from the specified pin, eg. `F6` for ADC6 on the ATmega32U4.                                       |\n|`pinToMux(pin)`             |Translates a given pin to a mux value. If an unsupported pin is given, returns the mux value for \"0V (GND)\".       |\n|`adc_read(mux)`             |Reads the value from the ADC according to the specified mux. See your MCU's datasheet for more information.        |",
              "ARM": "|Function                    |Description                                                                                                                                                                                                                                                                                           |\n|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|`analogReadPin(pin)`        |Reads the value from the specified pin, eg. `A0` for channel 0 on the STM32F0 and ADC1 channel 1 on the STM32F3. Note that if a pin can be used for multiple ADCs, it will pick the lower numbered ADC for this function. eg. `C0` will be channel 6 of ADC 1 when it could be used for ADC 2 as well.|\n|`analogReadPinAdc(pin, adc)`|Reads the value from the specified pin and ADC, eg. `C0, 1` will read from channel 6, ADC 2 instead of ADC 1. Note that the ADCs are 0-indexed for this function.                                                                                                                                     |\n|`pinToMux(pin)`             |Translates a given pin to a channel and ADC combination. If an unsupported pin is given, returns the mux value for \"0V (GND)\".                                                                                                                                                                        |\n|`adc_read(mux)`             |Reads the value from the ADC according to the specified pin and ADC combination. See your MCU's datasheet for more information.                                                                                                                                                                       |"
            },
            "Configuration": "",
            "ARM": "The ARM implementation of the ADC has a few additional options that you can override in your own keyboards and keymaps to change how it operates. Please consult the corresponding `hal_adc_lld.h` in ChibiOS for your specific microcontroller for further documentation on your available options.\n\n|`#define`            |Type  |Default                                       |Description                                                                                                                                                                                                 |\n|---------------------|------|----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|`ADC_CIRCULAR_BUFFER`|`bool`|`false`                                       |If `true`, then the implementation will use a circular buffer.                                                                                                                                              |\n|`ADC_NUM_CHANNELS`   |`int` |`1`                                           |Sets the number of channels that will be scanned as part of an ADC operation. The current implementation only supports `1`.                                                                                 |\n|`ADC_BUFFER_DEPTH`   |`int` |`2`                                           |Sets the depth of each result. Since we are only getting a 10-bit result by default, we set this to 2 bytes so we can contain our one value. This could be set to 1 if you opt for an 8-bit or lower result.|\n|`ADC_SAMPLING_RATE`  |`int` |`ADC_SMPR_SMP_1P5`                            |Sets the sampling rate of the ADC. By default, it is set to the fastest setting.                                                                                                                            |\n|`ADC_RESOLUTION`     |`int` |`ADC_CFGR1_RES_10BIT` or `ADC_CFGR_RES_10BITS`|The resolution of your result. We choose 10 bit by default, but you can opt for 12, 10, 8, or 6 bit. Different MCUs use slightly different names for the resolution constants.                              |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 0]"
        },
        {
          "title": "APA102 Driver {#apa102-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "In most cases, the APA102 driver code is automatically included if you are using either the [RGBLight](../features/rgblight) or [RGB Matrix](../features/rgb_matrix) feature with the `apa102` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add the following to your `rules.mk`:\n\n```\nAPA102_DRIVER_REQUIRED = yes\n```\n\nYou can then call the APA102 API by including `apa102.h` in your code.",
            "Basic Configuration {#basic-configuration}": "Add the following to your `config.h`:\n\n|Define                     |Default      |Description                                                       |\n|---------------------------|-------------|------------------------------------------------------------------|\n|`APA102_DI_PIN`            |*Not defined*|The GPIO pin connected to the DI pin of the first LED in the chain|\n|`APA102_CI_PIN`            |*Not defined*|The GPIO pin connected to the CI pin of the first LED in the chain|\n|`APA102_DEFAULT_BRIGHTNESS`|`31`         |The default global brightness level of the LEDs, from 0 to 31     |",
            "API {#api}": {
              "`void apa102_init(void)` {#api-apa102-init}": "Initialize the LED driver. This function should be called first.\n\n[]",
              "`void apa102_set_color(uint16_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-apa102-set-color}": {
                "Arguments {#api-apa102-set-color-arguments}": [
                  "`uint16_t index`  \nThe LED index in the APA102 chain.",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void apa102_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-apa102-set-color-all}": {
                "Arguments {#api-apa102-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void apa102_flush(void)` {#api-apa102-flush}": "Flush the PWM values to the LED chain.\n\n[]",
              "`void apa102_set_brightness(uint8_t brightness)` {#api-apa102-set-brightness}": {
                "Arguments {#api-apa102-set-brightness-arguments}": [
                  "`uint8_t brightness`  \nThe brightness level to set, from 0 to 31."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 1]"
        },
        {
          "title": "Audio Driver {#audio-driver}",
          "description": null,
          "content": {
            "AVR {#avr}": "Boards built around an Atmega32U4 can use two sets of PWM capable pins, each driving a separate speaker.\nThe possible configurations are:\n\n|              | Timer3      | Timer1       |\n|--------------|-------------|--------------|\n| one speaker  | C4,C5 or C6 |              |\n| one speaker  |             | B4, B5 or B7 |\n| two speakers | C4,C5 or C6 | B4, B5 or B7 |\n\nCurrently there is only one/default driver for AVR based boards, which is automatically configured to:\n\n```\nAUDIO_DRIVER = pwm_hardware\n```",
            "ARM {#arm}": {
              "DAC basic {#dac-basic}": "The default driver for ARM boards, in absence of an overriding configuration.\nThis driver needs one Timer per enabled/used DAC channel, to trigger conversion; and a third timer to trigger state updates with the audio-core.\n\nAdditionally, in the board config, you'll want to make changes to enable the DACs, GPT for Timers 6, 7 and 8:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_DAC TRUE // [!code focus]\n#define HAL_USE_GPT TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_DAC_USE_DAC1_CH1 // [!code focus]\n#define STM32_DAC_USE_DAC1_CH1 TRUE // [!code focus]\n#undef STM32_DAC_USE_DAC1_CH2 // [!code focus]\n#define STM32_DAC_USE_DAC1_CH2 TRUE // [!code focus]\n#undef STM32_GPT_USE_TIM6 // [!code focus]\n#define STM32_GPT_USE_TIM6 TRUE // [!code focus]\n#undef STM32_GPT_USE_TIM7 // [!code focus]\n#define STM32_GPT_USE_TIM7 TRUE // [!code focus]\n#undef STM32_GPT_USE_TIM8 // [!code focus]\n#define STM32_GPT_USE_TIM8 TRUE // [!code focus]\n```\n\n:::\n\n::: tip\nNote: DAC1 (A4) uses TIM6, DAC2 (A5) uses TIM7, and the audio state timer uses TIM8 (configurable). \n:::\n\nYou can also change the timer used for the overall audio state by defining the driver.  For instance: \n\n```\n#define AUDIO_STATE_TIMER GPTD9\n```",
              "DAC additive {#dac-additive}": "only needs one timer (GPTD6, Tim6) to trigger the DAC unit to do a conversion; the audio state updates are in turn triggered during the DAC callback.\n\nAdditionally, in the board config, you'll want to make changes to enable the DACs, GPT for Timer 6:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_DAC TRUE // [!code focus]\n#define HAL_USE_GPT TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_DAC_USE_DAC1_CH1 // [!code focus]\n#define STM32_DAC_USE_DAC1_CH1 TRUE // [!code focus]\n#undef STM32_DAC_USE_DAC1_CH2 // [!code focus]\n#define STM32_DAC_USE_DAC1_CH2 TRUE // [!code focus]\n#undef STM32_GPT_USE_TIM6 // [!code focus]\n#define STM32_GPT_USE_TIM6 TRUE // [!code focus]\n```\n\n:::",
              "DAC Config": {
                "Notes on buffer size {#buffer-size}": "By default, the buffer size attempts to keep to these constraints:\n\n[\"The interval between buffer refills can't be too short, since the microcontroller would then only be servicing buffer refills and would freeze up.\", \"On the additive driver, the interval between buffer refills can't be too long, since matrix scanning would suffer lengthy pauses every so often, which would delay key presses or releases or lose some short taps altogether.\", 'The interval between buffer refills is kept to a minimum, which allows notes to stop as soon as possible after they should.', 'For greater compatibility, the buffer size should be a power of 2.', 'The buffer size being too large causes resource exhaustion leading to build failures or freezing at runtime: RAM usage (on the additive driver) or flash usage (on the basic driver).']\n\nYou can lower the buffer size if you need a bit more space in your firmware, or raise it if your keyboard freezes up.\n\n```\n        /* zero crossing (or approach, whereas zero == DAC_OFF_VALUE, which can be configured to anything from 0 to DAC_SAMPLE_MAX)\n         * ============================*=*========================== AUDIO_DAC_SAMPLE_MAX\n         *                          *       *\n         *                        *           *\n         * ---------------------------------------------------------\n         *                     *                 *                  } AUDIO_DAC_SAMPLE_MAX/100\n         * --------------------------------------------------------- AUDIO_DAC_OFF_VALUE\n         *                  *                       *               } AUDIO_DAC_SAMPLE_MAX/100\n         * ---------------------------------------------------------\n         *               *\n         * *           *\n         *   *       *\n         * =====*=*================================================= 0x0\n         */\n```"
              },
              "PWM hardware {#pwm-hardware}": "This driver uses the ChibiOS-PWM system to produce a square-wave on specific output pins that are connected to the PWM hardware.\nThe hardware directly toggles the pin via its alternate function. See your MCU's data-sheet for which pin can be driven by what timer - looking for TIMx_CHy and the corresponding alternate function.\n\nA configuration example for the STM32F103C8 would be:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_PWM TRUE // [!code focus]\n#define HAL_USE_PAL TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_PWM_USE_TIM1 // [!code focus]\n#define STM32_PWM_USE_TIM1 TRUE // [!code focus]\n```\n\n:::\n\nIf we now target pin A8, looking through the data-sheet of the STM32F103C8, for the timers and alternate functions\n\n['TIM1_CH1 = PA8 <- alternate0', 'TIM1_CH2 = PA9', 'TIM1_CH3 = PA10', 'TIM1_CH4 = PA11']\n\nwith all this information, the configuration would contain these lines:\n\n```\n//config.h:\n#define AUDIO_PIN A8\n#define AUDIO_PWM_DRIVER PWMD1\n#define AUDIO_PWM_CHANNEL 1\n```\n\nChibiOS uses GPIOv1 for the F103, which only knows of one alternate function.\nOn 'larger' STM32s, GPIOv2 or GPIOv3 are used; with them it is also necessary to configure `AUDIO_PWM_PAL_MODE` to the correct alternate function for the selected pin, timer and timer-channel.\n\nYou can also use the Complementary output (`TIMx_CHyN`) for PWM on supported controllers.  To enable this functionality, you will need to make the following changes:\n\n```\n// config.h:\n#define AUDIO_PWM_COMPLEMENTARY_OUTPUT\n```",
              "PWM software {#pwm-software}": "This driver uses the PWM callbacks from PWMD1 with TIM1_CH1 to toggle the selected AUDIO_PIN in software.\nDuring the same callback, with AUDIO_PIN_ALT_AS_NEGATIVE set, the AUDIO_PIN_ALT is toggled inversely to AUDIO_PIN. This is useful for setups that drive a piezo from two pins (instead of one and Gnd).\n\nYou can also change the timer used for software PWM by defining the driver.  For instance: \n\n```\n#define AUDIO_STATE_TIMER GPTD8\n```",
              "Testing Notes {#testing-notes}": "While not an exhaustive list, the following table provides the scenarios that have been partially validated:\n\n|                          |     DAC basic      |    DAC additive    |    PWM hardware    |    PWM software    |\n| ------------------------ | ------------------ | ------------------ | ------------------ | ------------------ |\n| Atmega32U4               | :o:                | :o:                | :heavy_check_mark: | :o:                |\n| RP2040                   | :x:                | :x:                | :heavy_check_mark: | ?                  |\n| STM32F103C8 (bluepill)   | :x:                | :x:                | :heavy_check_mark: | :heavy_check_mark: |\n| STM32F303CCT6 (proton-c) | :heavy_check_mark: | :heavy_check_mark: | ?                  | :heavy_check_mark: |\n| STM32F405VG              | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: |\n| L0xx                     | :x: (no Tim8)      | ?                  | ?                  | ?                  |\n\n:heavy_check_mark: : works and was tested  \n:o: : does not apply  \n:x: : not supported by MCU\n\n*Other supported ChibiOS boards and/or pins may function, it will be highly chip and configuration dependent.*"
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 2]"
        },
        {
          "title": "AW20216S Driver {#aw20216s-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The AW20216S driver code is automatically included if you are using the [RGB Matrix](../features/rgb_matrix) feature with the `aw20216s` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led\nSRC += aw20216s.c\nSPI_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. To adjust it, add the following to your `config.h`:\n\n```\n#define AW20216S_GLOBAL_CURRENT_MAX 150\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure SPI](spi#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst aw20216s_led_t PROGMEM g_aw20216s_leds[AW20216S_LED_COUNT] = {\n/* Driver\n *   |  R          G          B */\n    {0, SW1_CS1,   SW1_CS2,   SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the first LED index on driver 0 has its red channel on `SW1_CS1`, green on `SW1_CS2` and blue on `SW1_CS3`.\n\nThese values correspond to the matrix locations as shown in the datasheet on page 16, figure 16.",
            "API {#api}": {
              "`struct aw20216s_led_t` {#api-aw20216s-led-t}": {
                "Members {#api-aw20216s-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel.",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel.",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel."
                ]
              },
              "`void aw20216s_init(pin_t cs_pin)` {#api-aw20216s-init}": {
                "Arguments {#api-aw20216s-init-arguments}": [
                  "`pin_t cs_pin`  \nThe GPIO connected to the Chip Select pin of the LED driver to initialize."
                ]
              },
              "`void aw20216s_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-aw20216s-set-color}": {
                "Arguments {#api-aw20216s-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_aw20216s_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void aw20216s_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-aw20216s-set-color-all}": {
                "Arguments {#api-aw20216s-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void aw20216s_update_pwm_buffers(pin_t cs_pin, uint8_t index)` {#api-aw20216s-update-pwm-buffers}": {
                "Arguments {#api-aw20216s-update-pwm-buffers-arguments}": [
                  "`pin_t cs_pin`  \nThe GPIO connected to the Chip Select pin of the driver.",
                  "`uint8_t index`  \nThe index of the driver."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 3]"
        },
        {
          "title": "Battery Driver",
          "description": null,
          "content": {
            "Usage": "To use this driver, add the following to your `rules.mk`:\n\n```\nBATTERY_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": "Add the following to your `config.h`:\n\n|Define                    |Default |Description                                       |\n|--------------------------|--------|--------------------------------------------------|\n|`BATTERY_SAMPLE_INTERVAL` |`30000` |The time between battery samples in milliseconds. |",
            "Driver Configuration {#driver-configuration}": {
              "ADC Driver {#adc-driver}": "This is the default battery driver. The default configuration assumes the battery is connected to a ADC capable pin through a voltage divider.\n\n```\nBATTERY_DRIVER = adc\n```\n\nThe following `#define`s apply only to the `adc` driver:\n\n|Define                       |Default       |Description                                                   |\n|-----------------------------|--------------|--------------------------------------------------------------|\n|`BATTERY_PIN`                |*Not defined* |The GPIO pin connected to the voltage divider.                |\n|`BATTERY_REF_VOLTAGE_MV`     |`3300`        |The ADC reverence voltage, in millivolts.                     |\n|`BATTERY_VOLTAGE_DIVIDER_R1` |`100`         |The voltage divider resistance, in kOhm. Set to 0 to disable. |\n|`BATTERY_VOLTAGE_DIVIDER_R2` |`100`         |The voltage divider resistance, in kOhm. Set to 0 to disable. |\n|`BATTERY_ADC_RESOLUTION`     |`10`          |The ADC resolution configured for the ADC Driver.             |"
            },
            "Functions": {
              "`uint8_t battery_get_percent(void)` {#api-battery-get-percent}": {
                "Return Value {#api-battery-get-percent-return}": "The battery percentage, in the range 0-100."
              }
            },
            "Callbacks": {
              "`void battery_percent_changed_user(uint8_t level)` {#api-battery-percent-changed-user}": "User hook called when battery level changed.",
              "Arguments {#api-battery-percent-changed-user-arguments}": [
                "`uint8_t level`  \nThe battery percentage, in the range 0-100."
              ],
              "`void battery_percent_changed_kb(uint8_t level)` {#api-battery-percent-changed-kb}": "Keyboard hook called when battery level changed.",
              "Arguments {#api-battery-percent-changed-kb-arguments}": [
                "`uint8_t level`  \nThe battery percentage, in the range 0-100."
              ]
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 4]"
        },
        {
          "title": "EEPROM Driver Configuration {#eeprom-driver-configuration}",
          "description": null,
          "content": {
            "Vendor Driver Configuration {#vendor-eeprom-driver-configuration}": "STM32 L0/L1 Configuration {#stm32l0l1-eeprom-driver-configuration}\n\n::: warning\nResetting EEPROM using an STM32L0/L1 device takes up to 1 second for every 1kB of internal EEPROM used.\n:::\n\n`config.h` override                 | Description                                                                                                              | Default Value\n------------------------------------|--------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------\n`#define STM32_ONBOARD_EEPROM_SIZE` | The size of the EEPROM to use, in bytes. Erase times can be high, so it's configurable here, if not using the default value. | Minimum required to cover base _eeconfig_ data, or `1024` if VIA is enabled.",
            "I2C Driver Configuration {#i2c-eeprom-driver-configuration}": "Currently QMK supports 24xx-series chips over I2C. As such, requires a working i2c_master driver configuration. You can override the driver configuration via your config.h:\n\n`config.h` override                         | Description                                                                         | Default Value\n------------------------------------------- | ----------------------------------------------------------------------------------- | ------------------------------------\n`#define EXTERNAL_EEPROM_I2C_BASE_ADDRESS`  | Base I2C address for the EEPROM -- shifted left by 1 as per i2c_master requirements | 0b10100000\n`#define EXTERNAL_EEPROM_I2C_ADDRESS(addr)` | Calculated I2C address for the EEPROM                                               | `(EXTERNAL_EEPROM_I2C_BASE_ADDRESS)`\n`#define EXTERNAL_EEPROM_BYTE_COUNT`        | Total size of the EEPROM in bytes                                                   | 8192\n`#define EXTERNAL_EEPROM_PAGE_SIZE`         | Page size of the EEPROM in bytes, as specified in the datasheet                     | 32\n`#define EXTERNAL_EEPROM_ADDRESS_SIZE`      | The number of bytes to transmit for the memory location within the EEPROM           | 2\n`#define EXTERNAL_EEPROM_WRITE_TIME`        | Write cycle time of the EEPROM, as specified in the datasheet                       | 5\n`#define EXTERNAL_EEPROM_WP_PIN`            | If defined the WP pin will be toggled appropriately when writing to the EEPROM.     | _none_\n\nSome I2C EEPROM manufacturers explicitly recommend against hardcoding the WP pin to ground. This is in order to protect the eeprom memory content during power-up/power-down/brown-out conditions at low voltage where the eeprom is still operational, but the i2c master output might be unpredictable. If a WP pin is configured, then having an external pull-up on the WP pin is recommended.\n\nDefault values and extended descriptions can be found in `drivers/eeprom/eeprom_i2c.h`.\n\nAlternatively, there are pre-defined hardware configurations for available chips/modules:\n\nModule           | Equivalent `#define`            | Source\n-----------------|---------------------------------|------------------------------------------\nCAT24C512 EEPROM | `#define EEPROM_I2C_CAT24C512`  | <https://www.sparkfun.com/products/14764>\nRM24C512C EEPROM | `#define EEPROM_I2C_RM24C512C`  | <https://www.sparkfun.com/products/14764>\n24LC32A EEPROM   | `#define EEPROM_I2C_24LC32A`    | <https://www.microchip.com/en-us/product/24LC32A>\n24LC64 EEPROM    | `#define EEPROM_I2C_24LC64`     | <https://www.microchip.com/en-us/product/24LC64>\n24LC128 EEPROM   | `#define EEPROM_I2C_24LC128`    | <https://www.microchip.com/en-us/product/24LC128>\n24LC256 EEPROM   | `#define EEPROM_I2C_24LC256`    | <https://www.sparkfun.com/products/525>\nMB85RC256V FRAM  | `#define EEPROM_I2C_MB85RC256V` | <https://www.adafruit.com/product/1895>\n\n::: tip\nIf you find that the EEPROM is not cooperating, ensure you've correctly shifted up your EEPROM address by 1. For example, the datasheet might state the address as `0b01010000` -- the correct value of `EXTERNAL_EEPROM_I2C_BASE_ADDRESS` needs to be `0b10100000`.\n:::",
            "SPI Driver Configuration {#spi-eeprom-driver-configuration}": "Currently QMK supports 25xx-series chips over SPI. As such, requires a working spi_master driver configuration. You can override the driver configuration via your config.h:\n\n`config.h` override                            | Default Value | Description\n-----------------------------------------------|---------------|-------------------------------------------------------------------------------------\n`#define EXTERNAL_EEPROM_SPI_SLAVE_SELECT_PIN` | _none_        | SPI Slave select pin in order to inform that the EEPROM is currently being addressed\n`#define EXTERNAL_EEPROM_SPI_CLOCK_DIVISOR`    | `64`          | Clock divisor used to divide the peripheral clock to derive the SPI frequency\n`#define EXTERNAL_EEPROM_BYTE_COUNT`           | `8192`        | Total size of the EEPROM in bytes\n`#define EXTERNAL_EEPROM_PAGE_SIZE`            | `32`          | Page size of the EEPROM in bytes, as specified in the datasheet\n`#define EXTERNAL_EEPROM_ADDRESS_SIZE`         | `2`           | The number of bytes to transmit for the memory location within the EEPROM\n\nDefault values and extended descriptions can be found in `drivers/eeprom/eeprom_spi.h`.\n\nAlternatively, there are pre-defined hardware configurations for available chips/modules:\n\nModule           | Equivalent `#define`            | Source\n-----------------|---------------------------------|------------------------------------------\nMB85RS64V FRAM   | `define EEPROM_SPI_MB85RS64V`   | <https://www.adafruit.com/product/1897>\n\n::: warning\nThere's no way to determine if there is an SPI EEPROM actually responding. Generally, this will result in reads of nothing but zero.\n:::",
            "Transient Driver configuration {#transient-eeprom-driver-configuration}": "The only configurable item for the transient EEPROM driver is its size:\n\n`config.h` override             | Description                               | Default Value\n------------------------------- | ----------------------------------------- | -------------\n`#define TRANSIENT_EEPROM_SIZE` | Total size of the EEPROM storage in bytes | 64\n\nDefault values and extended descriptions can be found in `drivers/eeprom/eeprom_transient.h`.",
            "Wear-leveling Driver Configuration {#wear_leveling-eeprom-driver-configuration}": "The wear-leveling driver uses an algorithm to minimise the number of erase cycles on the underlying MCU flash memory.\n\nThere is no specific configuration for this driver, but the wear-leveling system used by this driver may need configuration. See the [wear-leveling configuration](#wear_leveling-configuration) section for more information."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 5]"
        },
        {
          "title": "FLASH Driver Configuration {#flash-driver-configuration}",
          "description": null,
          "content": {
            "SPI FLASH Driver Configuration {#spi-flash-driver-configuration}": "Currently QMK supports almost all NOR Flash chips over SPI. As such, requires a working spi_master driver configuration. You can override the driver configuration via your config.h:\n\n`config.h` override                            | Description                                                                          | Default Value\n-----------------------------------------------|--------------------------------------------------------------------------------------|-----------------\n`#define EXTERNAL_FLASH_SPI_SLAVE_SELECT_PIN`  | SPI Slave select pin in order to inform that the FLASH is currently being addressed  | _none_\n`#define EXTERNAL_FLASH_SPI_CLOCK_DIVISOR`     | Clock divisor used to divide the peripheral clock to derive the SPI frequency        | `8`\n`#define EXTERNAL_FLASH_PAGE_SIZE`             | The Page size of the FLASH in bytes, as specified in the datasheet                   | `256`\n`#define EXTERNAL_FLASH_SECTOR_SIZE`           | The sector size of the FLASH in bytes, as specified in the datasheet                 | `(4 * 1024)`\n`#define EXTERNAL_FLASH_BLOCK_SIZE`            | The block size of the FLASH in bytes, as specified in the datasheet                  | `(64 * 1024)`\n`#define EXTERNAL_FLASH_SIZE`                  | The total size of the FLASH in bytes, as specified in the datasheet                  | `(512 * 1024)`\n`#define EXTERNAL_FLASH_ADDRESS_SIZE`          | The Flash address size in bytes, as specified in datasheet                           | `3`\n\n::: warning\nAll the above default configurations are based on MX25L4006E NOR Flash.\n:::"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 6]"
        },
        {
          "title": "GPIO Control {#gpio-control}",
          "description": null,
          "content": {
            "Macros {#macros}": "The following macros provide basic control of GPIOs and are found in `platforms/<platform>/gpio.h`.\n\n|Macro                                |Description                                                          |\n|-------------------------------------|---------------------------------------------------------------------|\n|`gpio_set_pin_input(pin)`            |Set pin as input with high impedance (High-Z)                        |\n|`gpio_set_pin_input_high(pin)`       |Set pin as input with builtin pull-up resistor                       |\n|`gpio_set_pin_input_low(pin)`        |Set pin as input with builtin pull-down resistor (unavailable on AVR)|\n|`gpio_set_pin_output(pin)`           |Set pin as output (alias of `gpio_set_pin_output_push_pull`)         |\n|`gpio_set_pin_output_push_pull(pin)` |Set pin as output, push/pull mode                                    |\n|`gpio_set_pin_output_open_drain(pin)`|Set pin as output, open-drain mode (unavailable on AVR)              |\n|`gpio_write_pin_high(pin)`           |Set pin level as high, assuming it is an output                      |\n|`gpio_write_pin_low(pin)`            |Set pin level as low, assuming it is an output                       |\n|`gpio_write_pin(pin, level)`         |Set pin level, assuming it is an output                              |\n|`gpio_read_pin(pin)`                 |Returns the level of the pin                                         |\n|`gpio_toggle_pin(pin)`               |Invert pin level, assuming it is an output                           |",
            "Advanced Settings {#advanced-settings}": "Each microcontroller can have multiple advanced settings regarding its GPIO. This abstraction layer does not limit the use of architecture-specific functions. Advanced users should consult the datasheet of their desired device. For AVR, the standard `avr/io.h` library is used; for STM32, the ChibiOS [PAL library](https://chibios.sourceforge.net/docs3/hal/group___p_a_l.html) is used.",
            "Atomic Operation {#atomic-operation}": "The above functions are not always guaranteed to work atomically. Therefore, if you want to prevent interruptions in the middle of operations when using multiple combinations of the above functions, use the following `ATOMIC_BLOCK_FORCEON` macro.\n\neg.\n\n```\nvoid some_function(void) {\n     // some process\n     ATOMIC_BLOCK_FORCEON {\n        // Atomic Processing\n     }\n     // some process\n}\n```\n\n`ATOMIC_BLOCK_FORCEON` forces interrupts to be disabled before the block is executed, without regard to whether they are enabled or disabled. Then, after the block is executed, the interrupt is enabled.\n\nNote that `ATOMIC_BLOCK_FORCEON` can therefore be used if you know that interrupts are enabled before the execution of the block, or if you know that it is OK to enable interrupts at the completion of the block."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 7]"
        },
        {
          "title": "I2C Master Driver {#i2c-master-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "In most cases, the I2C Master driver code is automatically included if you are using a feature or driver which requires it, such as [OLED](../features/oled_driver).\n\nHowever, if you need to use the driver standalone, add the following to your `rules.mk`:\n\n```\nI2C_DRIVER_REQUIRED = yes\n```\n\nYou can then call the I2C API by including `i2c_master.h` in your code.",
            "I2C Addressing {#note-on-i2c-addresses}": "I2C addresses listed on datasheets and the internet are usually represented as a 7-bit value. The eighth bit (the least significant bit) controls whether the operation is a read or a write.\n\nAll of the address parameters expected by the driver API should therefore be pushed to the upper 7 bits of the address byte; the driver will take care of setting the read/write bit as appropriate.\n\nThis is easy to do via the bitwise left shift operator. For example, if your device has an address of `0x18` you might create a define for convenience:\n\n```\n#define MY_I2C_ADDRESS (0x18 << 1)\n```\n\nOr, you can shift the address ahead of time:\n\n```\n#define MY_I2C_ADDRESS 0x30\n```\n\nSee https://www.robot-electronics.co.uk/i2c-tutorial for more information about I2C addressing and other technical details.",
            "AVR Configuration {#avr-configuration}": "The following defines can be used to configure the I2C master driver:\n\n|`config.h` Override|Description          |Default |\n|-------------------|---------------------|--------|\n|`F_SCL`            |Clock frequency in Hz|`400000`|\n\nNo further setup is required - just connect the `SDA` and `SCL` pins of your I2C devices to the matching pins on the MCU:\n\n|MCU          |`SCL`|`SDA`|\n|-------------|-----|-----|\n|ATmega16/32U4|`D0` |`D1` |\n|AT90USB64/128|`D0` |`D1` |\n|ATmega32A    |`C0` |`C1` |\n|ATmega328/P  |`C5` |`C4` |\n\n::: tip\nThe ATmega16/32U2 does not possess I2C functionality, and so cannot use this driver.\n:::",
            "ChibiOS/ARM Configuration {#arm-configuration}": {
              "I2Cv1 {#arm-configuration-i2cv1}": [
                "STM32F1xx",
                "STM32F2xx",
                "STM32F4xx",
                "STM32L0xx",
                "STM32L1xx"
              ],
              "I2Cv2 {#arm-configuration-i2cv2}": [
                "STM32F0xx",
                "STM32F3xx",
                "STM32F7xx",
                "STM32L4xx"
              ]
            },
            "API {#api}": {
              "`void i2c_init(void)` {#api-i2c-init}": "Initialize the I2C driver. This function must be called only once, before any of the below functions can be called.\n\nThis function is weakly defined, meaning it can be overridden if necessary for your particular use case:\n\n```\nvoid i2c_init(void) {\n    gpio_set_pin_input(B6); // Try releasing special pins for a short time\n    gpio_set_pin_input(B7);\n    wait_ms(10); // Wait for the release to happen\n\n    palSetPadMode(GPIOB, 6, PAL_MODE_ALTERNATE(4) | PAL_STM32_OTYPE_OPENDRAIN | PAL_STM32_PUPDR_PULLUP); // Set B6 to I2C function\n    palSetPadMode(GPIOB, 7, PAL_MODE_ALTERNATE(4) | PAL_STM32_OTYPE_OPENDRAIN | PAL_STM32_PUPDR_PULLUP); // Set B7 to I2C function\n}\n```\n\n[]",
              "`i2c_status_t i2c_transmit(uint8_t address, const uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-transmit}": {
                "Arguments {#api-i2c-transmit-arguments}": [
                  "`uint8_t address`  \nThe 7-bit I2C address of the device.",
                  "`const uint8_t* data`  \nA pointer to the data to transmit.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-transmit-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_transmit_P(uint8_t address, const uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-transmit-p}": {
                "Arguments {#api-i2c-transmit-p-arguments}": [
                  "`uint8_t address`  \nThe 7-bit I2C address of the device.",
                  "`const uint8_t* data`  \nA pointer to the data to transmit.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-transmit-p-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_receive(uint8_t address, uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-receive}": {
                "Arguments {#api-i2c-receive-arguments}": [
                  "`uint8_t address`  \nThe 7-bit I2C address of the device.",
                  "`uint8_t* data`  \nA pointer to a buffer to read into.",
                  "`uint16_t length`  \nThe number of bytes to read. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-receive-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_write_register(uint8_t devaddr, uint8_t regaddr, const uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-write-register}": {
                "Arguments {#api-i2c-write-register-arguments}": [
                  "`uint8_t devaddr`  \nThe 7-bit I2C address of the device.",
                  "`uint8_t regaddr`  \nThe register address to write to.",
                  "`const uint8_t* data`  \nA pointer to the data to transmit.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-write-register-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_write_register16(uint8_t devaddr, uint16_t regaddr, const uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-write-register16}": {
                "Arguments {#api-i2c-write-register16-arguments}": [
                  "`uint8_t devaddr`  \nThe 7-bit I2C address of the device.",
                  "`uint16_t regaddr`  \nThe register address to write to.",
                  "`const uint8_t* data`  \nA pointer to the data to transmit.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-write-register16-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_read_register(uint8_t devaddr, uint8_t regaddr, uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-read-register}": {
                "Arguments {#api-i2c-read-register-arguments}": [
                  "`uint8_t devaddr`  \nThe 7-bit I2C address of the device.",
                  "`uint8_t regaddr`  \nThe register address to read from.",
                  "`uint8_t data`  \nA pointer to a buffer to read into.",
                  "`uint16_t length`  \nThe number of bytes to read. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-read-register-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_read_register16(uint8_t devaddr, uint16_t regaddr, uint8_t* data, uint16_t length, uint16_t timeout)` {#api-i2c-read-register16}": {
                "Arguments {#api-i2c-read-register16-arguments}": [
                  "`uint8_t devaddr`  \nThe 7-bit I2C address of the device.",
                  "`uint16_t regaddr`  \nThe register address to read from.",
                  "`uint8_t* data`  \nA pointer to a buffer to read into.",
                  "`uint16_t length`  \nThe number of bytes to read. Take care not to overrun the length of `data`.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-read-register16-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`.\n\n[]"
              },
              "`i2c_status_t i2c_ping_address(uint8_t address, uint16_t timeout)` {#api-i2c-ping-address}": {
                "Arguments {#api-i2c-ping-address-arguments}": [
                  "`uint8_t address`  \nThe 7-bit I2C address of the device.",
                  "`uint16_t timeout`  \nThe time in milliseconds to wait for a response from the target device."
                ],
                "Return Value {#api-i2c-ping-address-return}": "`I2C_STATUS_TIMEOUT` if the timeout period elapses, `I2C_STATUS_ERROR` if some other error occurs, otherwise `I2C_STATUS_SUCCESS`."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 8]"
        },
        {
          "title": "IS31FL3218 Driver {#is31fl3218-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3218 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3218` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3218-mono.c # For single-color\nSRC += is31fl3218.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3218's 7-bit IC address is `0x54`, available as `IS31FL3218_I2C_ADDRESS`."
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3218_led_t PROGMEM g_is31fl3218_leds[IS31FL3218_LED_COUNT] = {\n/*   R     G     B */\n    {OUT1, OUT2, OUT3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index all have their anodes connected to `VCC`, and their cathodes on the `OUT1`, `OUT2` and `OUT3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3218_led_t PROGMEM g_is31fl3218_leds[IS31FL3218_LED_COUNT] = {\n/*   V */\n    {OUT1},\n    // etc...\n};\n```",
            "API {#api}": {
              "`struct is31fl3218_led_t` {#api-is31fl3218-led-t}": {
                "Members {#api-is31fl3218-led-t-members}": [
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3218_init(void)` {#api-is31fl3218-init}": "Initialize the LED driver. This function should be called first.\n\n[]",
              "`void is31fl3218_write_register(uint8_t reg, uint8_t data)` {#api-is31fl3218-write-register}": {
                "Arguments {#api-is31fl3218-write-register-arguments}": [
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3218_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3218-set-color}": {
                "Arguments {#api-is31fl3218-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3218_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3218_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3218-set-color-all}": {
                "Arguments {#api-is31fl3218-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3218_set_value(int index, uint8_t value)` {#api-is31fl3218-set-value}": {
                "Arguments {#api-is31fl3218-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3218_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3218_set_value_all(uint8_t value)` {#api-is31fl3218-set-value-all}": {
                "Arguments {#api-is31fl3218-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3218_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3218-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3218-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3218_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3218_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3218-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3218-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3218_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3218_update_pwm_buffers(void)` {#api-is31fl3218-update-pwm-buffers}": "Flush the PWM values to the LED driver.\n\n[]",
              "`void is31fl3218_update_led_control_registers(void)` {#api-is31fl3218-update-led-control-registers}": "Flush the LED control register values to the LED driver."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 9]"
        },
        {
          "title": "IS31FL3236 Driver {#is31fl3236-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3236 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3236` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3236-mono.c # For single-color\nSRC += is31fl3236.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3236 has four possible 7-bit IC addresses, depending on how the `AD` pin is connected.\n\nTo configure this, set the `IS31FL3236_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                      |Value |\n|----------------------------|------|\n|`IS31FL3236_I2C_ADDRESS_GND`|`0x3C`|\n|`IS31FL3236_I2C_ADDRESS_SCL`|`0x3D`|\n|`IS31FL3236_I2C_ADDRESS_SDA`|`0x3E`|\n|`IS31FL3236_I2C_ADDRESS_VCC`|`0x3F`|"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3236_led_t PROGMEM g_is31fl3236_leds[IS31FL3236_LED_COUNT] = {\n/* Driver\n     |  R     G     B */\n    {0, OUT1, OUT2, OUT3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to `VCC`, and their cathodes on the `OUT1`, `OUT2` and `OUT3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3236_led_t PROGMEM g_is31fl3236_leds[IS31FL3236_LED_COUNT] = {\n/* Driver\n     |  V */\n    {0, OUT1},\n    // etc...\n};\n```",
            "API {#api}": {
              "`struct is31fl3236_led_t` {#api-is31fl3236-led-t}": {
                "Members {#api-is31fl3236-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3236_init(uint8_t index)` {#api-is31fl3236-init}": {
                "Arguments {#api-is31fl3236-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3236_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3236-write-register}": {
                "Arguments {#api-is31fl3236-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3236_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3236-set-color}": {
                "Arguments {#api-is31fl3236-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3236_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3236_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3236-set-color-all}": {
                "Arguments {#api-is31fl3236-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3236_set_value(int index, uint8_t value)` {#api-is31fl3236-set-value}": {
                "Arguments {#api-is31fl3236-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3236_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3236_set_value_all(uint8_t value)` {#api-is31fl3236-set-value-all}": {
                "Arguments {#api-is31fl3236-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3236_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3236-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3236-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3236_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3236_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3236-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3236-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3236_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3236_update_pwm_buffers(uint8_t index)` {#api-is31fl3236-update-pwm-buffers}": {
                "Arguments {#api-is31fl3236-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3236_update_led_control_registers(uint8_t index)` {#api-is31fl3236-update-led-control-registers}": {
                "Arguments {#api-is31fl3236-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 10]"
        },
        {
          "title": "IS31FL3729 Driver {#is31fl3729-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3729 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3729` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3729-mono.c # For single-color\nSRC += is31fl3729.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3729 has four possible 7-bit IC addresses, depending on how the `AD` pin is connected.\n\nTo configure this, set the `IS31FL3729_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                      |Value |\n|----------------------------|------|\n|`IS31FL3729_I2C_ADDRESS_GND`|`0x34`|\n|`IS31FL3729_I2C_ADDRESS_SCL`|`0x35`|\n|`IS31FL3729_I2C_ADDRESS_SDA`|`0x36`|\n|`IS31FL3729_I2C_ADDRESS_VCC`|`0x37`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted by adding the following to your `config.h`:\n\n```\n#define IS31FL3729_PWM_FREQUENCY IS31FL3729_PWM_FREQUENCY_32K_HZ\n```\n\nValid values are:\n\n|Define                            |Frequency       |\n|----------------------------------|----------------|\n|`IS31FL3729_PWM_FREQUENCY_55K_HZ` |55 kHz          |\n|`IS31FL3729_PWM_FREQUENCY_32K_HZ` |32 kHz (default)|\n|`IS31FL3729_PWM_FREQUENCY_4K_HZ`  |4 kHz           |\n|`IS31FL3729_PWM_FREQUENCY_2K_HZ`  |2 kHz           |\n|`IS31FL3729_PWM_FREQUENCY_1K_HZ`  |1 kHz           |\n|`IS31FL3729_PWM_FREQUENCY_500_HZ` |500 Hz          |\n|`IS31FL3729_PWM_FREQUENCY_250_HZ` |250 Hz          |\n|`IS31FL3729_PWM_FREQUENCY_80K_HZ` |80 kHz          |",
              "De-Ghosting {#de-ghosting}": "These settings control the pulldown and pullup resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 18) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3729_SW_PULLDOWN IS31FL3729_SW_PULLDOWN_2K_OHM_SW_OFF\n#define IS31FL3729_CS_PULLUP IS31FL3729_CS_PULLUP_2K_OHM_CS_OFF\n```\n\nValid values for `IS31FL3729_SW_PULLDOWN` are:\n\n|Define                                 |Resistance                    |\n|---------------------------------------|------------------------------|\n|`IS31FL3729_SW_PULLDOWN_0_OHM`         |None                          |\n|`IS31FL3729_SW_PULLDOWN_0K5_OHM_SW_OFF`|0.5 k in SWy off time        |\n|`IS31FL3729_SW_PULLDOWN_1K_OHM_SW_OFF` |1 k in SWy off time          |\n|`IS31FL3729_SW_PULLDOWN_2K_OHM_SW_OFF` |2 k in SWy off time (default)|\n|`IS31FL3729_SW_PULLDOWN_1K_OHM`        |1 k                          |\n|`IS31FL3729_SW_PULLDOWN_2K_OHM`        |2 k                          |\n|`IS31FL3729_SW_PULLDOWN_4K_OHM`        |4 k                          |\n|`IS31FL3729_SW_PULLDOWN_8K_OHM`        |8 k                          |\n\nValid values for `IS31FL3729_CS_PULLUP` are:\n\n|Define                               |Resistance                    |\n|-------------------------------------|------------------------------|\n|`IS31FL3729_CS_PULLUP_0_OHM`         |None                          |\n|`IS31FL3729_CS_PULLUP_0K5_OHM_CS_OFF`|0.5 k in CSx off time        |\n|`IS31FL3729_CS_PULLUP_1K_OHM_CS_OFF` |1 k in CSx off time          |\n|`IS31FL3729_CS_PULLUP_2K_OHM_CS_OFF` |2 k in CSx off time (default)|\n|`IS31FL3729_CS_PULLUP_1K_OHM`        |1 k                          |\n|`IS31FL3729_CS_PULLUP_2K_OHM`        |2 k                          |\n|`IS31FL3729_CS_PULLUP_4K_OHM`        |4 k                          |\n|`IS31FL3729_CS_PULLUP_8K_OHM`        |8 k                          |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is 64, but if you need to adjust it, add the following to your `config.h`:\n\n```\n#define IS31FL3729_GLOBAL_CURRENT 0x40\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3729_led_t PROGMEM g_is31fl3729_leds[IS31FL3729_LED_COUNT] = {\n/* Driver\n *   |  R        G        B */\n    {0, SW1_CS1, SW1_CS2, SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3729_led_t PROGMEM g_is31fl3729_leds[IS31FL3729_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 12, figure 9.",
            "API {#api}": {
              "`struct is31fl3729_led_t` {#api-is31fl3729-led-t}": {
                "Members {#api-is31fl3729-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3729_init(uint8_t index)` {#api-is31fl3729-init}": {
                "Arguments {#api-is31fl3729-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3729_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3729-write-register}": {
                "Arguments {#api-is31fl3729-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3729_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3729-set-color}": {
                "Arguments {#api-is31fl3729-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3729_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3729_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3729-set-color-all}": {
                "Arguments {#api-is31fl3729-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3729_set_value(int index, uint8_t value)` {#api-is31fl3729-set-value}": {
                "Arguments {#api-is31fl3729-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3729_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3729_set_value_all(uint8_t value)` {#api-is31fl3729-set-value-all}": {
                "Arguments {#api-is31fl3729-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3729_set_scaling_register(uint8_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3729-set-scaling-register-rgb}": {
                "Arguments {#api-is31fl3729-set-scaling-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3729_leds` array).",
                  "`uint8_t red`  \nThe scaling value for the red channel.",
                  "`uint8_t green`  \nThe scaling value for the green channel.",
                  "`uint8_t blue`  \nThe scaling value for the blue channel."
                ]
              },
              "`void is31fl3729_set_scaling_register(uint8_t index, uint8_t value)` {#api-is31fl3729-set-scaling-register-mono}": {
                "Arguments {#api-is31fl3729-set-scaling-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3729_leds` array).",
                  "`uint8_t value`  \nThe scaling value for the LED."
                ]
              },
              "`void is31fl3729_update_pwm_buffers(uint8_t index)` {#api-is31fl3729-update-pwm-buffers}": {
                "Arguments {#api-is31fl3729-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3729_update_scaling_registers(uint8_t index)` {#api-is31fl3729-update-scaling-registers}": {
                "Arguments {#api-is31fl3729-update-scaling-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 11]"
        },
        {
          "title": "IS31FL3731 Driver {#is31fl3731-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3731 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3731` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3731-mono.c # For single-color\nSRC += is31fl3731.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3731 has four possible 7-bit IC addresses, depending on how the `AD` pin is connected.\n\nTo configure this, set the `IS31FL3731_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                      |Value |\n|----------------------------|------|\n|`IS31FL3731_I2C_ADDRESS_GND`|`0x74`|\n|`IS31FL3731_I2C_ADDRESS_SCL`|`0x75`|\n|`IS31FL3731_I2C_ADDRESS_SDA`|`0x76`|\n|`IS31FL3731_I2C_ADDRESS_VCC`|`0x77`|",
              "De-Ghosting {#de-ghosting}": "This setting enables the de-ghosting feature on the IS31FL3731. See this [Application Note](https://www.lumissil.com/assets/pdf/core/IS31FL3731_AN.pdf) (p. 15) for more information.\n\nTo enable, add the following to your `config.h`:\n\n```\n#define IS31FL3731_DEGHOST\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3731_led_t PROGMEM g_is31fl3731_leds[IS31FL3731_LED_COUNT] = {\n/* Driver\n *   |  R     G     B */\n    {0, C1_1, C1_2, C1_3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their cathodes connected to the `CA1` pin, and their anodes on the `CA2`, `CA3` and `CA4` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3731_led_t PROGMEM g_is31fl3731_leds[IS31FL3731_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, C1_1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 11, figure 8.",
            "API {#api}": {
              "`struct is31fl3731_led_t` {#api-is31fl3731-led-t}": {
                "Members {#api-is31fl3731-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3731_init(uint8_t index)` {#api-is31fl3731-init}": {
                "Arguments {#api-is31fl3731-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3731_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3731-write-register}": {
                "Arguments {#api-is31fl3731-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3731_select_page(uint8_t index, uint8_t page)` {#api-is31fl3731-select-page}": {
                "Arguments {#api-is31fl3731-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3731_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3731-set-color}": {
                "Arguments {#api-is31fl3731-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3731_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3731_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3731-set-color-all}": {
                "Arguments {#api-is31fl3731-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3731_set_value(int index, uint8_t value)` {#api-is31fl3731-set-value}": {
                "Arguments {#api-is31fl3731-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3731_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3731_set_value_all(uint8_t value)` {#api-is31fl3731-set-value-all}": {
                "Arguments {#api-is31fl3731-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3731_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3731-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3731-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3731_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3731_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3731-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3731-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3731_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3731_update_pwm_buffers(uint8_t index)` {#api-is31fl3731-update-pwm-buffers}": {
                "Arguments {#api-is31fl3731-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3731_update_led_control_registers(uint8_t index)` {#api-is31fl3731-update-led-control-registers}": {
                "Arguments {#api-is31fl3731-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 12]"
        },
        {
          "title": "IS31FL3733 Driver {#is31fl3733-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3733 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3733` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3733-mono.c # For single-color\nSRC += is31fl3733.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3733 has 16 possible 7-bit IC addresses, depending on how the `ADDR1` and `ADDR2` pins are connected.\n\nTo configure this, set the `IS31FL3733_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                          |Value |\n|--------------------------------|------|\n|`IS31FL3733_I2C_ADDRESS_GND_GND`|`0x50`|\n|`IS31FL3733_I2C_ADDRESS_GND_SCL`|`0x51`|\n|`IS31FL3733_I2C_ADDRESS_GND_SDA`|`0x52`|\n|`IS31FL3733_I2C_ADDRESS_GND_VCC`|`0x53`|\n|`IS31FL3733_I2C_ADDRESS_SCL_GND`|`0x54`|\n|`IS31FL3733_I2C_ADDRESS_SCL_SCL`|`0x55`|\n|`IS31FL3733_I2C_ADDRESS_SCL_SDA`|`0x56`|\n|`IS31FL3733_I2C_ADDRESS_SCL_VCC`|`0x57`|\n|`IS31FL3733_I2C_ADDRESS_SDA_GND`|`0x58`|\n|`IS31FL3733_I2C_ADDRESS_SDA_SCL`|`0x59`|\n|`IS31FL3733_I2C_ADDRESS_SDA_SDA`|`0x5A`|\n|`IS31FL3733_I2C_ADDRESS_SDA_VCC`|`0x5B`|\n|`IS31FL3733_I2C_ADDRESS_VCC_GND`|`0x5C`|\n|`IS31FL3733_I2C_ADDRESS_VCC_SCL`|`0x5D`|\n|`IS31FL3733_I2C_ADDRESS_VCC_SDA`|`0x5E`|\n|`IS31FL3733_I2C_ADDRESS_VCC_VCC`|`0x5F`|",
              "Multi-Driver Synchronization {#multi-driver-synchronization}": "Multiple IS31FL3733 drivers can be synchronized by connecting the `SYNC` pins together. One driver must be designated as the \"master\", and the others configured as \"slave\".\n\nTo do this, set the `IS31FL3733_SYNC_n` defines accordingly in your `config.h`, where *n* denotes the driver index:\n\n|Define                  |Value                      |\n|------------------------|---------------------------|\n|`IS31FL3733_SYNC_NONE`  |No synchronization         |\n|`IS31FL3733_SYNC_MASTER`|Driver configured as master|\n|`IS31FL3733_SYNC_SLAVE` |Driver configured as slave |",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted (for IS31FL3733B only) by adding the following to your `config.h`:\n\n```\n#define IS31FL3733_PWM_FREQUENCY IS31FL3733_PWM_FREQUENCY_8K4_HZ\n```\n\nValid values are:\n\n|Define                            |Frequency        |\n|----------------------------------|-----------------|\n|`IS31FL3733_PWM_FREQUENCY_8K4_HZ` |8.4 kHz (default)|\n|`IS31FL3733_PWM_FREQUENCY_4K2_HZ` |4.2 kHz          |\n|`IS31FL3733_PWM_FREQUENCY_26K7_HZ`|26.7 kHz         |\n|`IS31FL3733_PWM_FREQUENCY_2K1_HZ` |2.1 kHz          |\n|`IS31FL3733_PWM_FREQUENCY_1K05_HZ`|1.05 kHz         |",
              "De-Ghosting {#de-ghosting}": "These settings control the pullup and pulldown resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3733_SW_PULLUP IS31FL3733_PUR_0_OHM\n#define IS31FL3733_CS_PULLDOWN IS31FL3733_PUR_0_OHM\n```\n\nValid values for `IS31FL3733_SW_PULLUP` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3733_PUR_0_OHM`  |None (default)|\n|`IS31FL3733_PUR_0K5_OHM`|0.5 k        |\n|`IS31FL3733_PUR_1K_OHM` |1 k          |\n|`IS31FL3733_PUR_2K_OHM` |2 k          |\n|`IS31FL3733_PUR_4K_OHM` |4 k          |\n|`IS31FL3733_PUR_8K_OHM` |8 k          |\n|`IS31FL3733_PUR_16K_OHM`|16 k         |\n|`IS31FL3733_PUR_32K_OHM`|32 k         |\n\nValid values for `IS31FL3733_CS_PULLDOWN` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3733_PDR_0_OHM`  |None (default)|\n|`IS31FL3733_PDR_0K5_OHM`|0.5 k        |\n|`IS31FL3733_PDR_1K_OHM` |1 k          |\n|`IS31FL3733_PDR_2K_OHM` |2 k          |\n|`IS31FL3733_PDR_4K_OHM` |4 k          |\n|`IS31FL3733_PDR_8K_OHM` |8 k          |\n|`IS31FL3733_PDR_16K_OHM`|16 k         |\n|`IS31FL3733_PDR_32K_OHM`|32 k         |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3733_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3733_led_t PROGMEM g_is31fl3733_leds[IS31FL3733_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their cathodes connected to the `SW1` pin, and their anodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3733_led_t PROGMEM g_is31fl3733_leds[IS31FL3733_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 15, figure 9.",
            "API {#api}": {
              "`struct is31fl3733_led_t` {#api-is31fl3733-led-t}": {
                "Members {#api-is31fl3733-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3733_init(uint8_t index)` {#api-is31fl3733-init}": {
                "Arguments {#api-is31fl3733-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3733_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3733-write-register}": {
                "Arguments {#api-is31fl3733-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3733_select_page(uint8_t index, uint8_t page)` {#api-is31fl3733-select-page}": {
                "Arguments {#api-is31fl3733-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3733_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3733-set-color}": {
                "Arguments {#api-is31fl3733-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3733_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3733_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3733-set-color-all}": {
                "Arguments {#api-is31fl3733-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3733_set_value(int index, uint8_t value)` {#api-is31fl3733-set-value}": {
                "Arguments {#api-is31fl3733-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3733_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3733_set_value_all(uint8_t value)` {#api-is31fl3733-set-value-all}": {
                "Arguments {#api-is31fl3733-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3733_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3733-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3733-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3733_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3733_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3733-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3733-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3733_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3733_update_pwm_buffers(uint8_t index)` {#api-is31fl3733-update-pwm-buffers}": {
                "Arguments {#api-is31fl3733-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3733_update_led_control_registers(uint8_t index)` {#api-is31fl3733-update-led-control-registers}": {
                "Arguments {#api-is31fl3733-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 13]"
        },
        {
          "title": "IS31FL3736 Driver {#is31fl3736-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3736 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3736` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3736-mono.c # For single-color\nSRC += is31fl3736.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3736 has 16 possible 7-bit IC addresses, depending on how the `ADDR1` and `ADDR2` pins are connected.\n\nTo configure this, set the `IS31FL3736_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                          |Value |\n|--------------------------------|------|\n|`IS31FL3736_I2C_ADDRESS_GND_GND`|`0x50`|\n|`IS31FL3736_I2C_ADDRESS_GND_SCL`|`0x51`|\n|`IS31FL3736_I2C_ADDRESS_GND_SDA`|`0x52`|\n|`IS31FL3736_I2C_ADDRESS_GND_VCC`|`0x53`|\n|`IS31FL3736_I2C_ADDRESS_SCL_GND`|`0x54`|\n|`IS31FL3736_I2C_ADDRESS_SCL_SCL`|`0x55`|\n|`IS31FL3736_I2C_ADDRESS_SCL_SDA`|`0x56`|\n|`IS31FL3736_I2C_ADDRESS_SCL_VCC`|`0x57`|\n|`IS31FL3736_I2C_ADDRESS_SDA_GND`|`0x58`|\n|`IS31FL3736_I2C_ADDRESS_SDA_SCL`|`0x59`|\n|`IS31FL3736_I2C_ADDRESS_SDA_SDA`|`0x5A`|\n|`IS31FL3736_I2C_ADDRESS_SDA_VCC`|`0x5B`|\n|`IS31FL3736_I2C_ADDRESS_VCC_GND`|`0x5C`|\n|`IS31FL3736_I2C_ADDRESS_VCC_SCL`|`0x5D`|\n|`IS31FL3736_I2C_ADDRESS_VCC_SDA`|`0x5E`|\n|`IS31FL3736_I2C_ADDRESS_VCC_VCC`|`0x5F`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted (for IS31FL3736B only) by adding the following to your `config.h`:\n\n```\n#define IS31FL3736_PWM_FREQUENCY IS31FL3736_PWM_FREQUENCY_8K4_HZ\n```\n\nValid values are:\n\n|Define                            |Frequency        |\n|----------------------------------|-----------------|\n|`IS31FL3736_PWM_FREQUENCY_8K4_HZ` |8.4 kHz (default)|\n|`IS31FL3736_PWM_FREQUENCY_4K2_HZ` |4.2 kHz          |\n|`IS31FL3736_PWM_FREQUENCY_26K7_HZ`|26.7 kHz         |\n|`IS31FL3736_PWM_FREQUENCY_2K1_HZ` |2.1 kHz          |\n|`IS31FL3736_PWM_FREQUENCY_1K05_HZ`|1.05 kHz         |",
              "De-Ghosting {#de-ghosting}": "These settings control the pullup and pulldown resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 25) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3736_SW_PULLUP IS31FL3736_PUR_0_OHM\n#define IS31FL3736_CS_PULLDOWN IS31FL3736_PDR_0_OHM\n```\n\nValid values for `IS31FL3736_SW_PULLUP` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3736_PUR_0_OHM`  |None (default)|\n|`IS31FL3736_PUR_0K5_OHM`|0.5 k        |\n|`IS31FL3736_PUR_1K_OHM` |1 k          |\n|`IS31FL3736_PUR_2K_OHM` |2 k          |\n|`IS31FL3736_PUR_4K_OHM` |4 k          |\n|`IS31FL3736_PUR_8K_OHM` |8 k          |\n|`IS31FL3736_PUR_16K_OHM`|16 k         |\n|`IS31FL3736_PUR_32K_OHM`|32 k         |\n\nValid values for `IS31FL3736_CS_PULLDOWN` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3736_PDR_0_OHM`  |None (default)|\n|`IS31FL3736_PDR_0K5_OHM`|0.5 k        |\n|`IS31FL3736_PDR_1K_OHM` |1 k          |\n|`IS31FL3736_PDR_2K_OHM` |2 k          |\n|`IS31FL3736_PDR_4K_OHM` |4 k          |\n|`IS31FL3736_PDR_8K_OHM` |8 k          |\n|`IS31FL3736_PDR_16K_OHM`|16 k         |\n|`IS31FL3736_PDR_32K_OHM`|32 k         |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3736_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3736_led_t PROGMEM g_is31fl3736_leds[IS31FL3736_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their cathodes connected to the `SW1` pin, and their anodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3736_led_t PROGMEM g_is31fl3736_leds[IS31FL3736_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 16, figure 9.",
            "API {#api}": {
              "`struct is31fl3736_led_t` {#api-is31fl3736-led-t}": {
                "Members {#api-is31fl3736-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3736_init(uint8_t index)` {#api-is31fl3736-init}": {
                "Arguments {#api-is31fl3736-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3736_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3736-write-register}": {
                "Arguments {#api-is31fl3736-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3736_select_page(uint8_t index, uint8_t page)` {#api-is31fl3736-select-page}": {
                "Arguments {#api-is31fl3736-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3736_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3736-set-color}": {
                "Arguments {#api-is31fl3736-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3736_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3736_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3736-set-color-all}": {
                "Arguments {#api-is31fl3736-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3736_set_value(int index, uint8_t value)` {#api-is31fl3736-set-value}": {
                "Arguments {#api-is31fl3736-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3736_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3736_set_value_all(uint8_t value)` {#api-is31fl3736-set-value-all}": {
                "Arguments {#api-is31fl3736-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3736_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3736-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3736-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3736_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3736_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3736-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3736-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3736_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3736_update_pwm_buffers(uint8_t index)` {#api-is31fl3736-update-pwm-buffers}": {
                "Arguments {#api-is31fl3736-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3736_update_led_control_registers(uint8_t index)` {#api-is31fl3736-update-led-control-registers}": {
                "Arguments {#api-is31fl3736-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 14]"
        },
        {
          "title": "IS31FL3737 Driver {#is31fl3737-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3737 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3737` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3737-mono.c # For single-color\nSRC += is31fl3737.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3737 has four possible 7-bit IC addresses, depending on how the `ADDR` pin is connected.\n\nTo configure this, set the `IS31FL3737_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                      |Value |\n|----------------------------|------|\n|`IS31FL3737_I2C_ADDRESS_GND`|`0x50`|\n|`IS31FL3737_I2C_ADDRESS_SCL`|`0x55`|\n|`IS31FL3737_I2C_ADDRESS_SDA`|`0x5A`|\n|`IS31FL3737_I2C_ADDRESS_VCC`|`0x5F`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted (for IS31FL3737B only) by adding the following to your `config.h`:\n\n```\n#define IS31FL3737_PWM_FREQUENCY IS31FL3737_PWM_FREQUENCY_8K4_HZ\n```\n\nValid values are:\n\n|Define                            |Frequency        |\n|----------------------------------|-----------------|\n|`IS31FL3737_PWM_FREQUENCY_8K4_HZ` |8.4 kHz (default)|\n|`IS31FL3737_PWM_FREQUENCY_4K2_HZ` |4.2 kHz          |\n|`IS31FL3737_PWM_FREQUENCY_26K7_HZ`|26.7 kHz         |\n|`IS31FL3737_PWM_FREQUENCY_2K1_HZ` |2.1 kHz          |\n|`IS31FL3737_PWM_FREQUENCY_1K05_HZ`|1.05 kHz         |",
              "De-Ghosting {#de-ghosting}": "These settings control the pullup and pulldown resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3737_SW_PULLUP IS31FL3737_PUR_0_OHM\n#define IS31FL3737_CS_PULLDOWN IS31FL3737_PDR_0_OHM\n```\n\nValid values for `IS31FL3737_SW_PULLUP` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3737_PUR_0_OHM`  |None (default)|\n|`IS31FL3737_PUR_0K5_OHM`|0.5 k        |\n|`IS31FL3737_PUR_1K_OHM` |1 k          |\n|`IS31FL3737_PUR_2K_OHM` |2 k          |\n|`IS31FL3737_PUR_4K_OHM` |4 k          |\n|`IS31FL3737_PUR_8K_OHM` |8 k          |\n|`IS31FL3737_PUR_16K_OHM`|16 k         |\n|`IS31FL3737_PUR_32K_OHM`|32 k         |\n\nValid values for `IS31FL3737_CS_PULLDOWN` are:\n\n|Define                  |Resistance    |\n|------------------------|--------------|\n|`IS31FL3737_PDR_0_OHM`  |None (default)|\n|`IS31FL3737_PDR_0K5_OHM`|0.5 k        |\n|`IS31FL3737_PDR_1K_OHM` |1 k          |\n|`IS31FL3737_PDR_2K_OHM` |2 k          |\n|`IS31FL3737_PDR_4K_OHM` |4 k          |\n|`IS31FL3737_PDR_8K_OHM` |8 k          |\n|`IS31FL3737_PDR_16K_OHM`|16 k         |\n|`IS31FL3737_PDR_32K_OHM`|32 k         |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3737_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3737_led_t PROGMEM g_is31fl3737_leds[IS31FL3737_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their cathodes connected to the `SW1` pin, and their anodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3737_led_t PROGMEM g_is31fl3737_leds[IS31FL3737_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 15, figure 9.",
            "API {#api}": {
              "`struct is31fl3737_led_t` {#api-is31fl3737-led-t}": {
                "Members {#api-is31fl3737-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3737_init(uint8_t index)` {#api-is31fl3737-init}": {
                "Arguments {#api-is31fl3737-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3737_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3737-write-register}": {
                "Arguments {#api-is31fl3737-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3737_select_page(uint8_t index, uint8_t page)` {#api-is31fl3737-select-page}": {
                "Arguments {#api-is31fl3737-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3737_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3737-set-color}": {
                "Arguments {#api-is31fl3737-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3737_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3737_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3737-set-color-all}": {
                "Arguments {#api-is31fl3737-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3737_set_value(int index, uint8_t value)` {#api-is31fl3737-set-value}": {
                "Arguments {#api-is31fl3737-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3737_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3737_set_value_all(uint8_t value)` {#api-is31fl3737-set-value-all}": {
                "Arguments {#api-is31fl3737-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3737_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3737-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3737-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3737_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3737_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3737-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3737-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3737_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3737_update_pwm_buffers(uint8_t index)` {#api-is31fl3737-update-pwm-buffers}": {
                "Arguments {#api-is31fl3737-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3737_update_led_control_registers(uint8_t index)` {#api-is31fl3737-update-led-control-registers}": {
                "Arguments {#api-is31fl3737-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 15]"
        },
        {
          "title": "IS31FL3741 Driver {#is31fl3741-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3741 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3741` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3741-mono.c # For single-color\nSRC += is31fl3741.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3741 has four possible 7-bit IC addresses, depending on how the `ADDR` pin is connected.\n\nTo configure this, set the `IS31FL3741_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                      |Value |\n|----------------------------|------|\n|`IS31FL3741_I2C_ADDRESS_GND`|`0x30`|\n|`IS31FL3741_I2C_ADDRESS_SCL`|`0x31`|\n|`IS31FL3741_I2C_ADDRESS_SDA`|`0x32`|\n|`IS31FL3741_I2C_ADDRESS_VCC`|`0x33`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted (for IS31FL3741A only) by adding the following to your `config.h`:\n\n```\n#define IS31FL3741_PWM_FREQUENCY IS31FL3741_PWM_FREQUENCY_29K_HZ\n```\n\nValid values are:\n\n|Define                           |Frequency       |\n|---------------------------------|----------------|\n|`IS31FL3741_PWM_FREQUENCY_29K_HZ`|29 kHz (default)|\n|`IS31FL3741_PWM_FREQUENCY_3K6_HZ`|3.6 kHz         |\n|`IS31FL3741_PWM_FREQUENCY_1K8_HZ`|1.8 kHz         |\n|`IS31FL3741_PWM_FREQUENCY_900_HZ`|900 Hz          |",
              "De-Ghosting {#de-ghosting}": "These settings control the pullup and pulldown resistor values on the `CSx` and `SWy` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 18) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3741_SW_PULLUP IS31FL3741_PUR_32K_OHM\n#define IS31FL3741_CS_PULLDOWN IS31FL3741_PDR_32K_OHM\n```\n\nValid values for `IS31FL3741_SW_PULLUP` are:\n\n|Define                  |Resistance     |\n|------------------------|---------------|\n|`IS31FL3741_PUR_0_OHM`  |None           |\n|`IS31FL3741_PUR_0K5_OHM`|0.5 k         |\n|`IS31FL3741_PUR_1K_OHM` |1 k           |\n|`IS31FL3741_PUR_2K_OHM` |2 k           |\n|`IS31FL3741_PUR_4K_OHM` |4 k           |\n|`IS31FL3741_PUR_8K_OHM` |8 k           |\n|`IS31FL3741_PUR_16K_OHM`|16 k          |\n|`IS31FL3741_PUR_32K_OHM`|32 k (default)|\n\nValid values for `IS31FL3741_CS_PULLDOWN` are:\n\n|Define                  |Resistance     |\n|------------------------|---------------|\n|`IS31FL3741_PDR_0_OHM`  |None           |\n|`IS31FL3741_PDR_0K5_OHM`|0.5 k         |\n|`IS31FL3741_PDR_1K_OHM` |1 k           |\n|`IS31FL3741_PDR_2K_OHM` |2 k           |\n|`IS31FL3741_PDR_4K_OHM` |4 k           |\n|`IS31FL3741_PDR_8K_OHM` |8 k           |\n|`IS31FL3741_PDR_16K_OHM`|16 k          |\n|`IS31FL3741_PDR_32K_OHM`|32 k (default)|",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3741_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3741_led_t PROGMEM g_is31fl3741_leds[IS31FL3741_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3741_led_t PROGMEM g_is31fl3741_leds[IS31FL3741_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 12, figure 8.",
            "API {#api}": {
              "`struct is31fl3741_led_t` {#api-is31fl3741-led-t}": {
                "Members {#api-is31fl3741-led-t-members}": [
                  "`uint32_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint32_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint32_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint32_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint32_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3741_init(uint8_t index)` {#api-is31fl3741-init}": {
                "Arguments {#api-is31fl3741-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3741_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3741-write-register}": {
                "Arguments {#api-is31fl3741-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3741_select_page(uint8_t index, uint8_t page)` {#api-is31fl3741-select-page}": {
                "Arguments {#api-is31fl3741-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3741_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3741-set-color}": {
                "Arguments {#api-is31fl3741-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3741_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3741_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3741-set-color-all}": {
                "Arguments {#api-is31fl3741-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3741_set_value(int index, uint8_t value)` {#api-is31fl3741-set-value}": {
                "Arguments {#api-is31fl3741-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3741_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3741_set_value_all(uint8_t value)` {#api-is31fl3741-set-value-all}": {
                "Arguments {#api-is31fl3741-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3741_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-is31fl3741-set-led-control-register-rgb}": {
                "Arguments {#api-is31fl3741-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3741_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void is31fl3741_set_led_control_register(uint8_t index, bool value)` {#api-is31fl3741-set-led-control-register-mono}": {
                "Arguments {#api-is31fl3741-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3741_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void is31fl3741_update_pwm_buffers(uint8_t index)` {#api-is31fl3741-update-pwm-buffers}": {
                "Arguments {#api-is31fl3741-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3741_update_led_control_registers(uint8_t index)` {#api-is31fl3741-update-led-control-registers}": {
                "Arguments {#api-is31fl3741-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 16]"
        },
        {
          "title": "IS31FL3742A Driver {#is31fl3742a-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3742A driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3742a` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3742a-mono.c # For single-color\nSRC += is31fl3742a.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3742A has four possible 7-bit IC addresses, depending on how the `ADDR` pin is connected.\n\nTo configure this, set the `IS31FL3742A_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                       |Value |\n|-----------------------------|------|\n|`IS31FL3742A_I2C_ADDRESS_GND`|`0x30`|\n|`IS31FL3742A_I2C_ADDRESS_SCL`|`0x31`|\n|`IS31FL3742A_I2C_ADDRESS_SDA`|`0x32`|\n|`IS31FL3742A_I2C_ADDRESS_VCC`|`0x33`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted by adding the following to your `config.h`:\n\n```\n#define IS31FL3742A_PWM_FREQUENCY IS31FL3742A_PWM_FREQUENCY_29K_HZ\n```\n\nValid values are:\n\n|Define                            |Frequency       |\n|----------------------------------|----------------|\n|`IS31FL3742A_PWM_FREQUENCY_29K_HZ`|29 kHz (default)|\n|`IS31FL3742A_PWM_FREQUENCY_3K6_HZ`|3.6 kHz         |\n|`IS31FL3742A_PWM_FREQUENCY_1K8_HZ`|1.8 kHz         |\n|`IS31FL3742A_PWM_FREQUENCY_900_HZ`|900 Hz          |",
              "De-Ghosting {#de-ghosting}": "These settings control the pulldown and pullup resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3742A_SW_PULLDOWN IS31FL3742A_PDR_8K_OHM\n#define IS31FL3742A_CS_PULLUP IS31FL3742A_PUR_8K_OHM\n```\n\nValid values for `IS31FL3742A_SW_PULLDOWN` are:\n\n|Define                   |Resistance    |\n|-------------------------|--------------|\n|`IS31FL3742A_PDR_0_OHM`  |None          |\n|`IS31FL3742A_PDR_0K5_OHM`|0.5 k        |\n|`IS31FL3742A_PDR_1K_OHM` |1 k          |\n|`IS31FL3742A_PDR_2K_OHM` |2 k          |\n|`IS31FL3742A_PDR_4K_OHM` |4 k          |\n|`IS31FL3742A_PDR_8K_OHM` |8 k (default)|\n|`IS31FL3742A_PDR_16K_OHM`|16 k         |\n|`IS31FL3742A_PDR_32K_OHM`|32 k         |\n\nValid values for `IS31FL3742A_CS_PULLUP` are:\n\n|Define                   |Resistance    |\n|-------------------------|--------------|\n|`IS31FL3742A_PUR_0_OHM`  |None          |\n|`IS31FL3742A_PUR_0K5_OHM`|0.5 k        |\n|`IS31FL3742A_PUR_1K_OHM` |1 k          |\n|`IS31FL3742A_PUR_2K_OHM` |2 k          |\n|`IS31FL3742A_PUR_4K_OHM` |4 k          |\n|`IS31FL3742A_PUR_8K_OHM` |8 k (default)|\n|`IS31FL3742A_PUR_16K_OHM`|16 k         |\n|`IS31FL3742A_PUR_32K_OHM`|32 k         |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSx` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3742A_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3742a_led_t PROGMEM g_is31fl3742a_leds[IS31FL3742A_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3742a_led_t PROGMEM g_is31fl3742a_leds[IS31FL3742A_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 12, figure 8.",
            "API {#api}": {
              "`struct is31fl3742a_led_t` {#api-is31fl3742a-led-t}": {
                "Members {#api-is31fl3742a-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3742a_init(uint8_t index)` {#api-is31fl3742a-init}": {
                "Arguments {#api-is31fl3742a-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3742a_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3742a-write-register}": {
                "Arguments {#api-is31fl3742a-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3742a_select_page(uint8_t index, uint8_t page)` {#api-is31fl3742a-select-page}": {
                "Arguments {#api-is31fl3742a-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3742a_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3742a-set-color}": {
                "Arguments {#api-is31fl3742a-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3742a_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3742a_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3742a-set-color-all}": {
                "Arguments {#api-is31fl3742a-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3742a_set_value(int index, uint8_t value)` {#api-is31fl3742a-set-value}": {
                "Arguments {#api-is31fl3742a-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3742a_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3742a_set_value_all(uint8_t value)` {#api-is31fl3742a-set-value-all}": {
                "Arguments {#api-is31fl3742a-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3742a_set_scaling_register(uint8_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3742a-set-scaling-register-rgb}": {
                "Arguments {#api-is31fl3742a-set-scaling-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3742a_leds` array).",
                  "`uint8_t red`  \nThe scaling value for the red channel.",
                  "`uint8_t green`  \nThe scaling value for the green channel.",
                  "`uint8_t blue`  \nThe scaling value for the blue channel."
                ]
              },
              "`void is31fl3742a_set_scaling_register(uint8_t index, uint8_t value)` {#api-is31fl3742a-set-scaling-register-mono}": {
                "Arguments {#api-is31fl3742a-set-scaling-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3742a_leds` array).",
                  "`uint8_t value`  \nThe scaling value for the LED."
                ]
              },
              "`void is31fl3742a_update_pwm_buffers(uint8_t index)` {#api-is31fl3742a-update-pwm-buffers}": {
                "Arguments {#api-is31fl3742a-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3742a_update_scaling_registers(uint8_t index)` {#api-is31fl3742a-update-scaling-registers}": {
                "Arguments {#api-is31fl3742a-update-scaling-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 17]"
        },
        {
          "title": "IS31FL3743A Driver {#is31fl3743a-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3743A driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3743a` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3743a-mono.c # For single-color\nSRC += is31fl3743a.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3743A has 16 possible 7-bit IC addresses, depending on how the `ADDR1` and `ADDR2` pins are connected.\n\nTo configure this, set the `IS31FL3743A_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                           |Value |\n|---------------------------------|------|\n|`IS31FL3743A_I2C_ADDRESS_GND_GND`|`0x20`|\n|`IS31FL3743A_I2C_ADDRESS_GND_SCL`|`0x21`|\n|`IS31FL3743A_I2C_ADDRESS_GND_SDA`|`0x22`|\n|`IS31FL3743A_I2C_ADDRESS_GND_VCC`|`0x23`|\n|`IS31FL3743A_I2C_ADDRESS_SCL_GND`|`0x24`|\n|`IS31FL3743A_I2C_ADDRESS_SCL_SCL`|`0x25`|\n|`IS31FL3743A_I2C_ADDRESS_SCL_SDA`|`0x26`|\n|`IS31FL3743A_I2C_ADDRESS_SCL_VCC`|`0x27`|\n|`IS31FL3743A_I2C_ADDRESS_SDA_GND`|`0x28`|\n|`IS31FL3743A_I2C_ADDRESS_SDA_SCL`|`0x29`|\n|`IS31FL3743A_I2C_ADDRESS_SDA_SDA`|`0x2A`|\n|`IS31FL3743A_I2C_ADDRESS_SDA_VCC`|`0x2B`|\n|`IS31FL3743A_I2C_ADDRESS_VCC_GND`|`0x2C`|\n|`IS31FL3743A_I2C_ADDRESS_VCC_SCL`|`0x2D`|\n|`IS31FL3743A_I2C_ADDRESS_VCC_SDA`|`0x2E`|\n|`IS31FL3743A_I2C_ADDRESS_VCC_VCC`|`0x2F`|",
              "Multi-Driver Synchronization {#multi-driver-synchronization}": "Multiple IS31FL3743A drivers can be synchronized by connecting the `SYNC` pins together. One driver must be designated as the \"master\", and the others configured as \"slave\".\n\nTo do this, set the `IS31FL3743A_SYNC_n` defines accordingly in your `config.h`, where *n* denotes the driver index:\n\n|Define                   |Value                      |\n|-------------------------|---------------------------|\n|`IS31FL3743A_SYNC_NONE`  |No synchronization         |\n|`IS31FL3743A_SYNC_MASTER`|Driver configured as master|\n|`IS31FL3743A_SYNC_SLAVE` |Driver configured as slave |",
              "De-Ghosting {#de-ghosting}": "These settings control the pulldown and pullup resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3743A_SW_PULLDOWN IS31FL3743A_PDR_2K_OHM_SW_OFF\n#define IS31FL3743A_CS_PULLUP IS31FL3743A_PUR_2K_OHM_CS_OFF\n```\n\nValid values for `IS31FL3743A_SW_PULLDOWN` are:\n\n|Define                          |Resistance                    |\n|--------------------------------|------------------------------|\n|`IS31FL3743A_PDR_0_OHM`         |None (default)                |\n|`IS31FL3743A_PDR_0K5_OHM_SW_OFF`|0.5 k in SWx off time        |\n|`IS31FL3743A_PDR_1K_OHM_SW_OFF` |1 k in SWx off time          |\n|`IS31FL3743A_PDR_2K_OHM_SW_OFF` |2 k in SWx off time (default)|\n|`IS31FL3743A_PDR_1K_OHM`        |1 k                          |\n|`IS31FL3743A_PDR_2K_OHM`        |2 k                          |\n|`IS31FL3743A_PDR_4K_OHM`        |4 k                          |\n|`IS31FL3743A_PDR_8K_OHM`        |8 k                          |\n\nValid values for `IS31FL3743A_CS_PULLUP` are:\n\n|Define                          |Resistance                    |\n|--------------------------------|------------------------------|\n|`IS31FL3743A_PUR_0_OHM`         |None (default)                |\n|`IS31FL3743A_PUR_0K5_OHM_CS_OFF`|0.5 k in CSy off time        |\n|`IS31FL3743A_PUR_1K_OHM_CS_OFF` |1 k in CSy off time          |\n|`IS31FL3743A_PUR_2K_OHM_CS_OFF` |2 k in CSy off time (default)|\n|`IS31FL3743A_PUR_1K_OHM`        |1 k                          |\n|`IS31FL3743A_PUR_2K_OHM`        |2 k                          |\n|`IS31FL3743A_PUR_4K_OHM`        |4 k                          |\n|`IS31FL3743A_PUR_8K_OHM`        |8 k                          |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSy` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3743A_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3743a_led_t PROGMEM g_is31fl3743a_leds[IS31FL3743A_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3743a_led_t PROGMEM g_is31fl3743a_leds[IS31FL3743A_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 12, figure 8.",
            "API {#api}": {
              "`struct is31fl3743a_led_t` {#api-is31fl3743a-led-t}": {
                "Members {#api-is31fl3743a-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3743a_init(uint8_t index)` {#api-is31fl3743a-init}": {
                "Arguments {#api-is31fl3743a-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3743a_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3743a-write-register}": {
                "Arguments {#api-is31fl3743a-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3743a_select_page(uint8_t index, uint8_t page)` {#api-is31fl3743a-select-page}": {
                "Arguments {#api-is31fl3743a-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3743a_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3743a-set-color}": {
                "Arguments {#api-is31fl3743a-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3743a_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3743a_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3743a-set-color-all}": {
                "Arguments {#api-is31fl3743a-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3743a_set_value(int index, uint8_t value)` {#api-is31fl3743a-set-value}": {
                "Arguments {#api-is31fl3743a-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3743a_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3743a_set_value_all(uint8_t value)` {#api-is31fl3743a-set-value-all}": {
                "Arguments {#api-is31fl3743a-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3743a_set_scaling_register(uint8_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3743a-set-scaling-register-rgb}": {
                "Arguments {#api-is31fl3743a-set-scaling-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3743a_leds` array).",
                  "`uint8_t red`  \nThe scaling value for the red channel.",
                  "`uint8_t green`  \nThe scaling value for the green channel.",
                  "`uint8_t blue`  \nThe scaling value for the blue channel."
                ]
              },
              "`void is31fl3743a_set_scaling_register(uint8_t index, uint8_t value)` {#api-is31fl3743a-set-scaling-register-mono}": {
                "Arguments {#api-is31fl3743a-set-scaling-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3743a_leds` array).",
                  "`uint8_t value`  \nThe scaling value for the LED."
                ]
              },
              "`void is31fl3743a_update_pwm_buffers(uint8_t index)` {#api-is31fl3743a-update-pwm-buffers}": {
                "Arguments {#api-is31fl3743a-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3743a_update_scaling_registers(uint8_t index)` {#api-is31fl3743a-update-scaling-registers}": {
                "Arguments {#api-is31fl3743a-update-scaling-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 18]"
        },
        {
          "title": "IS31FL3745 Driver {#is31fl3745-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3745 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3745` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3745-mono.c # For single-color\nSRC += is31fl3745.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3745 has 16 possible 7-bit IC addresses, depending on how the `ADDR1` and `ADDR2` pins are connected.\n\nTo configure this, set the `IS31FL3745_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                          |Value |\n|--------------------------------|------|\n|`IS31FL3745_I2C_ADDRESS_GND_GND`|`0x20`|\n|`IS31FL3745_I2C_ADDRESS_GND_SCL`|`0x21`|\n|`IS31FL3745_I2C_ADDRESS_GND_SDA`|`0x22`|\n|`IS31FL3745_I2C_ADDRESS_GND_VCC`|`0x23`|\n|`IS31FL3745_I2C_ADDRESS_SCL_GND`|`0x24`|\n|`IS31FL3745_I2C_ADDRESS_SCL_SCL`|`0x25`|\n|`IS31FL3745_I2C_ADDRESS_SCL_SDA`|`0x26`|\n|`IS31FL3745_I2C_ADDRESS_SCL_VCC`|`0x27`|\n|`IS31FL3745_I2C_ADDRESS_SDA_GND`|`0x28`|\n|`IS31FL3745_I2C_ADDRESS_SDA_SCL`|`0x29`|\n|`IS31FL3745_I2C_ADDRESS_SDA_SDA`|`0x2A`|\n|`IS31FL3745_I2C_ADDRESS_SDA_VCC`|`0x2B`|\n|`IS31FL3745_I2C_ADDRESS_VCC_GND`|`0x2C`|\n|`IS31FL3745_I2C_ADDRESS_VCC_SCL`|`0x2D`|\n|`IS31FL3745_I2C_ADDRESS_VCC_SDA`|`0x2E`|\n|`IS31FL3745_I2C_ADDRESS_VCC_VCC`|`0x2F`|",
              "Multi-Driver Synchronization {#multi-driver-synchronization}": "Multiple IS31FL3745 drivers can be synchronized by connecting the `SYNC` pins together. One driver must be designated as the \"master\", and the others configured as \"slave\".\n\nTo do this, set the `IS31FL3745_SYNC_n` defines accordingly in your `config.h`, where *n* denotes the driver index:\n\n|Define                  |Value                      |\n|------------------------|---------------------------|\n|`IS31FL3745_SYNC_NONE`  |No synchronization         |\n|`IS31FL3745_SYNC_MASTER`|Driver configured as master|\n|`IS31FL3745_SYNC_SLAVE` |Driver configured as slave |",
              "De-Ghosting {#de-ghosting}": "These settings control the pulldown and pullup resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3745_SW_PULLDOWN IS31FL3745_PDR_2K_OHM_SW_OFF\n#define IS31FL3745_CS_PULLUP IS31FL3745_PUR_2K_OHM_CS_OFF\n```\n\nValid values for `IS31FL3745_SW_PULLDOWN` are:\n\n|Define                         |Resistance                    |\n|-------------------------------|------------------------------|\n|`IS31FL3745_PDR_0_OHM`         |None (default)                |\n|`IS31FL3745_PDR_0K5_OHM_SW_OFF`|0.5 k in SWx off time        |\n|`IS31FL3745_PDR_1K_OHM_SW_OFF` |1 k in SWx off time          |\n|`IS31FL3745_PDR_2K_OHM_SW_OFF` |2 k in SWx off time (default)|\n|`IS31FL3745_PDR_1K_OHM`        |1 k                          |\n|`IS31FL3745_PDR_2K_OHM`        |2 k                          |\n|`IS31FL3745_PDR_4K_OHM`        |4 k                          |\n|`IS31FL3745_PDR_8K_OHM`        |8 k                          |\n\nValid values for `IS31FL3745_CS_PULLUP` are:\n\n|Define                         |Resistance                    |\n|-------------------------------|------------------------------|\n|`IS31FL3745_PUR_0_OHM`         |None (default)                |\n|`IS31FL3745_PUR_0K5_OHM_CS_OFF`|0.5 k in CSy off time        |\n|`IS31FL3745_PUR_1K_OHM_CS_OFF` |1 k in CSy off time          |\n|`IS31FL3745_PUR_2K_OHM_CS_OFF` |2 k in CSy off time (default)|\n|`IS31FL3745_PUR_1K_OHM`        |1 k                          |\n|`IS31FL3745_PUR_2K_OHM`        |2 k                          |\n|`IS31FL3745_PUR_4K_OHM`        |4 k                          |\n|`IS31FL3745_PUR_8K_OHM`        |8 k                          |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSy` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3745_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3745_led_t PROGMEM g_is31fl3745_leds[IS31FL3745_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3745_led_t PROGMEM g_is31fl3745_leds[IS31FL3745_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 12, figure 9.",
            "API {#api}": {
              "`struct is31fl3745_led_t` {#api-is31fl3745-led-t}": {
                "Members {#api-is31fl3745-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3745_init(uint8_t index)` {#api-is31fl3745-init}": {
                "Arguments {#api-is31fl3745-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3745_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3745-write-register}": {
                "Arguments {#api-is31fl3745-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3745_select_page(uint8_t index, uint8_t page)` {#api-is31fl3745-select-page}": {
                "Arguments {#api-is31fl3745-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3745_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3745-set-color}": {
                "Arguments {#api-is31fl3745-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3745_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3745_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3745-set-color-all}": {
                "Arguments {#api-is31fl3745-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3745_set_value(int index, uint8_t value)` {#api-is31fl3745-set-value}": {
                "Arguments {#api-is31fl3745-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3745_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3745_set_value_all(uint8_t value)` {#api-is31fl3745-set-value-all}": {
                "Arguments {#api-is31fl3745-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3745_set_scaling_register(uint8_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3745-set-scaling-register-rgb}": {
                "Arguments {#api-is31fl3745-set-scaling-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3745_leds` array).",
                  "`uint8_t red`  \nThe scaling value for the red channel.",
                  "`uint8_t green`  \nThe scaling value for the green channel.",
                  "`uint8_t blue`  \nThe scaling value for the blue channel."
                ]
              },
              "`void is31fl3745_set_scaling_register(uint8_t index, uint8_t value)` {#api-is31fl3745-set-scaling-register-mono}": {
                "Arguments {#api-is31fl3745-set-scaling-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3745_leds` array).",
                  "`uint8_t value`  \nThe scaling value for the LED."
                ]
              },
              "`void is31fl3745_update_pwm_buffers(uint8_t index)` {#api-is31fl3745-update-pwm-buffers}": {
                "Arguments {#api-is31fl3745-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3745_update_scaling_registers(uint8_t index)` {#api-is31fl3745-update-scaling-registers}": {
                "Arguments {#api-is31fl3745-update-scaling-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 19]"
        },
        {
          "title": "IS31FL3746A Driver {#is31fl3746a-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The IS31FL3746A driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `is31fl3746a` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led/issi\nSRC += is31fl3746a-mono.c # For single-color\nSRC += is31fl3746a.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The IS31FL3746A has 16 possible 7-bit IC addresses, depending on how the `ADDR1` and `ADDR2` pins are connected.\n\nTo configure this, set the `IS31FL3746A_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                           |Value |\n|---------------------------------|------|\n|`IS31FL3746A_I2C_ADDRESS_GND_GND`|`0x60`|\n|`IS31FL3746A_I2C_ADDRESS_GND_SCL`|`0x61`|\n|`IS31FL3746A_I2C_ADDRESS_GND_SDA`|`0x62`|\n|`IS31FL3746A_I2C_ADDRESS_GND_VCC`|`0x63`|\n|`IS31FL3746A_I2C_ADDRESS_SCL_GND`|`0x64`|\n|`IS31FL3746A_I2C_ADDRESS_SCL_SCL`|`0x65`|\n|`IS31FL3746A_I2C_ADDRESS_SCL_SDA`|`0x66`|\n|`IS31FL3746A_I2C_ADDRESS_SCL_VCC`|`0x67`|\n|`IS31FL3746A_I2C_ADDRESS_SDA_GND`|`0x68`|\n|`IS31FL3746A_I2C_ADDRESS_SDA_SCL`|`0x69`|\n|`IS31FL3746A_I2C_ADDRESS_SDA_SDA`|`0x6A`|\n|`IS31FL3746A_I2C_ADDRESS_SDA_VCC`|`0x6B`|\n|`IS31FL3746A_I2C_ADDRESS_VCC_GND`|`0x6C`|\n|`IS31FL3746A_I2C_ADDRESS_VCC_SCL`|`0x6D`|\n|`IS31FL3746A_I2C_ADDRESS_VCC_SDA`|`0x6E`|\n|`IS31FL3746A_I2C_ADDRESS_VCC_VCC`|`0x6F`|",
              "PWM Frequency {#pwm-frequency}": "The PWM frequency can be adjusted by adding the following to your `config.h`:\n\n```\n#define IS31FL3746A_PWM_FREQUENCY IS31FL3746A_PWM_FREQUENCY_29K_HZ\n```\n\nValid values are:\n\n|Define                             |Frequency       |\n|-----------------------------------|----------------|\n|`IS31FL3746A_PWM_FREQUENCY_29K_HZ` |29 kHz (default)|\n|`IS31FL3746A_PWM_FREQUENCY_14K5_HZ`|14.5 kHz        |\n|`IS31FL3746A_PWM_FREQUENCY_7K25_HZ`|7.25 kHz        |\n|`IS31FL3746A_PWM_FREQUENCY_3K63_HZ`|3.63 kHz        |\n|`IS31FL3746A_PWM_FREQUENCY_1K81_HZ`|1.81 kHz        |\n|`IS31FL3746A_PWM_FREQUENCY_906_HZ` |906 Hz          |\n|`IS31FL3746A_PWM_FREQUENCY_453_HZ` |453 Hz          |",
              "De-Ghosting {#de-ghosting}": "These settings control the pulldown and pullup resistor values on the `SWy` and `CSx` pins respectively, for the purposes of eliminating ghosting. Refer to the datasheet (p. 23) for more information on how and why this occurs.\n\nTo adjust the resistor values, add the following to your `config.h`:\n\n```\n#define IS31FL3746A_SW_PULLDOWN IS31FL3746A_PDR_2K_OHM_SW_OFF\n#define IS31FL3746A_CS_PULLUP IS31FL3746A_PUR_2K_OHM_CS_OFF\n```\n\nValid values for `IS31FL3746A_SW_PULLDOWN` are:\n\n|Define                          |Resistance                    |\n|--------------------------------|------------------------------|\n|`IS31FL3746A_PDR_0_OHM`         |None                          |\n|`IS31FL3746A_PDR_0K5_OHM_SW_OFF`|0.5 k in SWx off time        |\n|`IS31FL3746A_PDR_1K_OHM_SW_OFF` |1 k in SWx off time          |\n|`IS31FL3746A_PDR_2K_OHM_SW_OFF` |2 k in SWx off time (default)|\n|`IS31FL3746A_PDR_1K_OHM`        |1 k                          |\n|`IS31FL3746A_PDR_2K_OHM`        |2 k                          |\n|`IS31FL3746A_PDR_4K_OHM`        |4 k                          |\n|`IS31FL3746A_PDR_8K_OHM`        |8 k                          |\n\nValid values for `IS31FL3746A_CS_PULLUP` are:\n\n|Define                          |Resistance                    |\n|--------------------------------|------------------------------|\n|`IS31FL3746A_PUR_0_OHM`         |None (default)                |\n|`IS31FL3746A_PUR_0K5_OHM_CS_OFF`|0.5 k in CSy off time        |\n|`IS31FL3746A_PUR_1K_OHM_CS_OFF` |1 k in CSy off time          |\n|`IS31FL3746A_PUR_2K_OHM_CS_OFF` |2 k in CSy off time (default)|\n|`IS31FL3746A_PUR_1K_OHM`        |1 k                          |\n|`IS31FL3746A_PUR_2K_OHM`        |2 k                          |\n|`IS31FL3746A_PUR_4K_OHM`        |4 k                          |\n|`IS31FL3746A_PUR_8K_OHM`        |8 k                          |",
              "Global Current Control {#global-current-control}": "This setting controls the current sunk by the `CSy` pins, from 0 to 255. By default, the value is the maximum (255), but if you need to lower it, add the following to your `config.h`:\n\n```\n#define IS31FL3746A_GLOBAL_CURRENT 0xFF\n```"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst is31fl3746a_led_t PROGMEM g_is31fl3746a_leds[IS31FL3746A_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, SW1_CS1,  SW1_CS2,  SW1_CS3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their anodes connected to the `SW1` pin, and their cathodes on the `CS1`, `CS2` and `CS3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst is31fl3746a_led_t PROGMEM g_is31fl3746a_leds[IS31FL3746A_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, SW1_CS1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 13, figure 8.",
            "API {#api}": {
              "`struct is31fl3746a_led_t` {#api-is31fl3746a-led-t}": {
                "Members {#api-is31fl3746a-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void is31fl3746a_init(uint8_t index)` {#api-is31fl3746a-init}": {
                "Arguments {#api-is31fl3746a-init-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t sync`  \nSync configuration of the LED driver."
                ]
              },
              "`void is31fl3746a_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-is31fl3746a-write-register}": {
                "Arguments {#api-is31fl3746a-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void is31fl3746a_select_page(uint8_t index, uint8_t page)` {#api-is31fl3746a-select-page}": {
                "Arguments {#api-is31fl3746a-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void is31fl3746a_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3746a-set-color}": {
                "Arguments {#api-is31fl3746a-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3746a_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3746a_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3746a-set-color-all}": {
                "Arguments {#api-is31fl3746a-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void is31fl3746a_set_value(int index, uint8_t value)` {#api-is31fl3746a-set-value}": {
                "Arguments {#api-is31fl3746a-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_is31fl3746a_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3746a_set_value_all(uint8_t value)` {#api-is31fl3746a-set-value-all}": {
                "Arguments {#api-is31fl3746a-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void is31fl3746a_set_scaling_register(uint8_t index, uint8_t red, uint8_t green, uint8_t blue)` {#api-is31fl3746a-set-scaling-register-rgb}": {
                "Arguments {#api-is31fl3746a-set-scaling-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3746a_leds` array).",
                  "`uint8_t red`  \nThe scaling value for the red channel.",
                  "`uint8_t green`  \nThe scaling value for the green channel.",
                  "`uint8_t blue`  \nThe scaling value for the blue channel."
                ]
              },
              "`void is31fl3746a_set_scaling_register(uint8_t index, uint8_t value)` {#api-is31fl3746a-set-scaling-register-mono}": {
                "Arguments {#api-is31fl3746a-set-scaling-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_is31fl3746a_leds` array).",
                  "`uint8_t value`  \nThe scaling value for the LED."
                ]
              },
              "`void is31fl3746a_update_pwm_buffers(uint8_t index)` {#api-is31fl3746a-update-pwm-buffers}": {
                "Arguments {#api-is31fl3746a-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void is31fl3746a_update_scaling_registers(uint8_t index)` {#api-is31fl3746a-update-scaling-registers}": {
                "Arguments {#api-is31fl3746a-update-scaling-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 20]"
        },
        {
          "title": "'serial' Driver",
          "description": null,
          "content": {
            "Bitbang": {
              "Pin configuration": "```\n  LEFT                      RIGHT\n+-------+      SERIAL     +-------+\n|   SSP |-----------------| SSP   |\n|       |       VDD       |       |\n|       |-----------------|       |\n|       |       GND       |       |\n|       |-----------------|       |\n+-------+                 +-------+\n```\n\nOne GPIO pin is needed for the bitbang driver, as only one wire is used for receiving and transmitting data. This pin is referred to as the `SOFT_SERIAL_PIN` (SSP) in the configuration. A TRS or USB cable provides enough conductors for this driver to function. ",
              "Setup": "To use the bitbang driver follow these steps to activate it.\n\n['Change the `SERIAL_DRIVER` to `bitbang` in your keyboards `rules.mk` file:']\n\n```\nSERIAL_DRIVER = bitbang\n```\n\n['Configure the GPIO pin of your keyboard via the `config.h` file:']\n\n```\n#define SOFT_SERIAL_PIN D0  // or D1, D2, D3, E6\n```\n\n['On ARM platforms you must turn on ChibiOS PAL callbacks:']\n\n```\n#pragma once\n\n#define PAL_USE_CALLBACKS TRUE // [!code focus]\n\n#include_next <halconf.h>\n```"
            },
            "USART Half-duplex": {
              "Pin configuration": "```\n  LEFT                      RIGHT  \n+-------+  |           |  +-------+\n|       |  R           R  |       |\n|       |  |   SERIAL  |  |       |\n|    TX |-----------------| TX    |\n|       |       VDD       |       |\n|       |-----------------|       |\n|       |       GND       |       |\n|       |-----------------|       |\n+-------+                 +-------+\n```\n\nOnly one GPIO pin is needed for the Half-duplex driver, as only one wire is used for receiving and transmitting data. This pin is referred to as the `SERIAL_USART_TX_PIN` in the configuration. Ensure that the pin chosen for split communication can operate as the TX pin of the contoller's USART peripheral. A TRS or USB cable provides enough conductors for this driver to function. As the split connection is configured to operate in open-drain mode, an **external pull-up resistor is needed to keep the line high**. Resistor values of 1.5k to 8.2k are known to work. \n\n::: warning\n***Note:*** A pull-up resistor isn't required for RP2040 controllers configured with PIO subsystem.\n:::",
              "Setup": "To use the Half-duplex driver follow these steps to activate it. If you target the Raspberry Pi RP2040 PIO implementation, start at step 2.\n\n['Change the `SERIAL_DRIVER` to `usart` in your keyboards `rules.mk` file:']\n\n```\nSERIAL_DRIVER = usart\n```\n\nSkip to step 3.\n\n['(RP2040 + PIO only!) Change the `SERIAL_DRIVER` to `vendor` in your keyboards `rules.mk` file:']\n\n```\nSERIAL_DRIVER = vendor\n```\n\n['Configure the hardware of your keyboard via the `config.h` file:']\n\n```\n#define SERIAL_USART_TX_PIN B6     // The GPIO pin that is used split communication.\n```\n\nFor STM32 MCUs several GPIO configuration options can be changed as well. See the section [\"Alternate Functions for selected STM32 MCUs\"](#alternate-functions-for-selected-stm32-mcus).\n\n```\n#define USART1_REMAP               // Remap USART TX and RX pins on STM32F103 MCUs, see table below.\n#define SERIAL_USART_TX_PAL_MODE 7 // Pin \"alternate function\", see the respective datasheet for the appropriate values for your MCU. default: 7\n```\n\n['Decide either for `SERIAL`, `SIO`, or `PIO` subsystem. See section [\"Choosing a driver subsystem\"](#choosing-a-driver-subsystem).']"
            },
            "USART Full-duplex": {
              "Pin configuration": "```\n  LEFT                      RIGHT\n+-------+                 +-------+\n|       |      SERIAL     |       |\n|    TX |-----------------| RX    |\n|       |      SERIAL     |       |\n|    RX |-----------------| TX    |\n|       |       VDD       |       |\n|       |-----------------|       |\n|       |       GND       |       |\n|       |-----------------|       |\n+-------+                 +-------+\n```\n\nTwo GPIO pins are needed for the Full-duplex driver, as two distinct wires are used for receiving and transmitting data. The pin transmitting data is the `TX` pin and refereed to as the `SERIAL_USART_TX_PIN`, the pin receiving data is the `RX` pin and refereed to as the `SERIAL_USART_RX_PIN` in this configuration. Please note that `TX` pin of the master half has to be connected with the `RX` pin of the slave half and the `RX` pin of the master half has to be connected with the `TX` pin of the slave half! Usually this pin swap has to be done outside of the MCU e.g. with cables or on the PCB. Some MCUs like the STM32F303 used on the Proton-C allow this pin swap directly inside the MCU. A TRRS or USB cable provides enough conductors for this driver to function.\n\nTo use this driver the USART peripherals `TX` and `RX` pins must be configured with the correct Alternate-functions. If you are using a Proton-C development board everything is already setup, same is true for STM32F103 MCUs. For MCUs which are using a modern flexible GPIO configuration you have to specify these by setting `SERIAL_USART_TX_PAL_MODE` and `SERIAL_USART_RX_PAL_MODE`. Refer to the corresponding datasheets of your MCU or find those settings in the section [\"Alternate Functions for selected STM32 MCUs\"](#alternate-functions-for-selected-stm32-mcus).",
              "Setup": "To use the Full-duplex driver follow these steps to activate it. If you target the Raspberry Pi RP2040 PIO implementation, start at step 2\n\n['Change the `SERIAL_DRIVER` to `usart` in your keyboards `rules.mk` file:']\n\n```\nSERIAL_DRIVER = usart\n```\n\nSkip to step 3\n\n['(RP2040 + PIO only!) Change the `SERIAL_DRIVER` to `vendor` in your keyboards `rules.mk` file:']\n\n```\nSERIAL_DRIVER = vendor\n```\n\n['Configure the hardware of your keyboard via the `config.h` file:']\n\n```\n#define SERIAL_USART_FULL_DUPLEX   // Enable full duplex operation mode.\n#define SERIAL_USART_TX_PIN B6     // USART TX pin\n#define SERIAL_USART_RX_PIN B7     // USART RX pin\n```\n\nFor STM32 MCUs several GPIO configuration options, including the ability for `TX` to `RX` pin swapping, can be changed as well. See the section [\"Alternate Functions for selected STM32 MCUs\"](#alternate-functions-for-selected-stm32-mcus).\n\n```\n#define SERIAL_USART_PIN_SWAP      // Swap TX and RX pins if keyboard is master halve. (Only available on some MCUs)\n#define USART1_REMAP               // Remap USART TX and RX pins on STM32F103 MCUs, see table below.\n#define SERIAL_USART_TX_PAL_MODE 7 // Pin \"alternate function\", see the respective datasheet for the appropriate values for your MCU. default: 7\n```\n\n['Decide either for `SERIAL`, `SIO`, or `PIO` subsystem. See section [\"Choosing a driver subsystem\"](#choosing-a-driver-subsystem).']"
            },
            "Choosing a driver subsystem": {
              "The `SERIAL` driver": "The `SERIAL` Subsystem is supported for the majority of ChibiOS MCUs and should be used whenever supported. Follow these steps in order to activate it:\n\n['Enable the SERIAL subsystem in the ChibiOS HAL.', \"Add the following to your keyboard's `halconf.h`, creating it if necessary:\", '```\\n#pragma once\\n\\n#define HAL_USE_SERIAL TRUE // [!code focus]\\n\\n#include_next <halconf.h>\\n```', 'Activate the USART peripheral that is used on your MCU. The shown example is for an STM32 MCU, so this will not work on MCUs by other manufacturers. You can find the correct names in the `mcuconf.h` files of your MCU that ship with ChibiOS.', \"Add the following to your keyboard's `mcuconf.h`, creating it if necessary:\", '```\\n#pragma once\\n\\n#include_next <mcuconf.h>\\n\\n#undef STM32_SERIAL_USE_USARTn // [!code focus]\\n#define STM32_SERIAL_USE_USARTn TRUE // [!code focus]\\n```', 'Where *n* matches the peripheral number of your selected USART on the MCU.', 'Override the default USART `SERIAL` driver if you use a USART peripheral that does not belong to the default selected `SD1` driver. For instance, if you selected `STM32_SERIAL_USE_USART3` the matching driver would be `SD3`.', \"Add the following to your keyboard's `config.h`:\", '```\\n#define SERIAL_USART_DRIVER SD3\\n```']",
              "The `SIO` driver": "The `SIO` Subsystem was added to ChibiOS with the 21.11 release and is only supported on selected MCUs. It should only be chosen when the `SERIAL` subsystem is not supported by your MCU.\n\nFollow these steps in order to activate it:\n\n['Enable the SIO subsystem in the ChibiOS HAL.', \"Add the following to your keyboard's `halconf.h`, creating it if necessary:\", '```\\n#pragma once\\n\\n#define HAL_USE_SIO TRUE // [!code focus]\\n\\n#include_next <halconf.h>\\n```', 'Activate the USART peripheral that is used on your MCU. The shown example is for an STM32 MCU, so this will not work on MCUs by other manufacturers. You can find the correct names in the `mcuconf.h` files of your MCU that ship with ChibiOS.', \"Add the following to your keyboard's `mcuconf.h`, creating it if necessary:\", '```\\n#pragma once\\n\\n#include_next <mcuconf.h>\\n\\n#undef STM32_SIO_USE_USARTn // [!code focus]\\n#define STM32_SIO_USE_USARTn TRUE // [!code focus]\\n```', 'Where *n* matches the peripheral number of your selected USART on the MCU.', 'Override the default USART `SIO` driver if you use a USART peripheral that does not belong to the default selected `SIOD1` driver. For instance, if you selected `STM32_SERIAL_USE_USART3` the matching driver would be `SIOD3`.', \"Add the following to your keyboard's `config.h`:\", '```\\n#define SERIAL_USART_DRIVER SIOD3\\n```']",
              "The `PIO` driver": "The `PIO` subsystem is a Raspberry Pi RP2040 specific implementation, using an integrated PIO peripheral and is therefore only available on this MCU. Because of the flexible nature of PIO peripherals, **any** GPIO pin can be used as a `TX` or `RX` pin. Half-duplex and Full-duplex operation modes are fully supported with this driver. Half-duplex uses the built-in pull-ups and GPIO manipulation of the RP2040 to drive the line high by default, thus an external pull-up resistor **is not required**.\n\nOptionally, the PIO peripheral utilized for split communication can be changed with the following define in config.h:\n\n```\n#define SERIAL_PIO_USE_PIO1 // Force the usage of PIO1 peripheral, by default the Serial implementation uses the PIO0 peripheral\n```\n\nThe Serial PIO program uses 2 state machines, 13 instructions and the complete interrupt handler of the PIO peripheral it is running on."
            },
            "Advanced Configuration": {
              "Baudrate": "If you're having issues or need a higher baudrate with serial communication, you can change the baudrate which in turn controls the communication speed for serial. You want to lower the baudrate if you experience failed transactions. \n\n```\n#define SELECT_SOFT_SERIAL_SPEED n\n```\n\nWhere *n* is one of:\n\n| Speed | Bitbang                    | Half-duplex and Full-duplex |\n| ----- | -------------------------- | --------------------------- |\n| `0`   | 189000 baud (experimental) | 460800 baud                 |\n| `1`   | 137000 baud (default)      | 230400 baud (default)       |\n| `2`   | 75000 baud                 | 115200 baud                 |\n| `3`   | 39000 baud                 | 57600 baud                  |\n| `4`   | 26000 baud                 | 38400 baud                  |\n| `5`   | 20000 baud                 | 19200 baud                  |\n\nAlternatively you can specify the baudrate directly by defining `SERIAL_USART_SPEED`.",
              "Timeout": "This is the default time window in milliseconds in which a successful communication has to complete. Usually you don't want to change this value. But you can do so anyways by defining an alternate one in your keyboards `config.h` file:\n\n```\n#define SERIAL_USART_TIMEOUT 20    // USART driver timeout. default 20\n```"
            },
            "Troubleshooting": "If you're having issues withe serial communication, you can enable debug messages that will give you insights which part of the communication failed. The enable these messages add to your keyboards `config.h` file:\n\n```\n#define SERIAL_DEBUG\n```\n\n::: tip\nThe messages will be printed out to the `CONSOLE` output. For additional information, refer to [Debugging/Troubleshooting QMK](../faq_debug).\n:::",
            "Alternate Functions for selected STM32 MCUs": {
              "STM32F303 / Proton-C [Datasheet](https://www.st.com/resource/en/datasheet/stm32f303cc.pdf)": "Pin Swap available: :heavy_check_mark:\n\n| Pin        | Function | Mode |\n| ---------- | -------- | ---- |\n| **USART1** |          |      |\n| PA9        | TX       | AF7  |\n| PA10       | RX       | AF7  |\n| PB6        | TX       | AF7  |\n| PB7        | RX       | AF7  |\n| PC4        | TX       | AF7  |\n| PC5        | RX       | AF7  |\n| PE0        | TX       | AF7  |\n| PE1        | RX       | AF7  |\n| **USART2** |          |      |\n| PA2        | TX       | AF7  |\n| PA3        | RX       | AF7  |\n| PA14       | TX       | AF7  |\n| PA15       | RX       | AF7  |\n| PB3        | TX       | AF7  |\n| PB4        | RX       | AF7  |\n| PD5        | TX       | AF7  |\n| PD6        | RX       | AF7  |\n| **USART3** |          |      |\n| PB10       | TX       | AF7  |\n| PB11       | RX       | AF7  |\n| PC10       | TX       | AF7  |\n| PC11       | RX       | AF7  |\n| PD8        | TX       | AF7  |\n| PD9        | RX       | AF7  |",
              "STM32F072 [Datasheet](https://www.st.com/resource/en/datasheet/stm32f072c8.pdf)": "Pin Swap available: :heavy_check_mark:\n\n| Pin    | Function | Mode |\n| ------ | -------- | ---- |\n| USART1 |          |      |\n| PA9    | TX       | AF1  |\n| PA10   | RX       | AF1  |\n| PB6    | TX       | AF0  |\n| PB7    | RX       | AF0  |\n| USART2 |          |      |\n| PA2    | TX       | AF1  |\n| PA3    | RX       | AF1  |\n| PA14   | TX       | AF1  |\n| PA15   | RX       | AF1  |\n| USART3 |          |      |\n| PB10   | TX       | AF4  |\n| PB11   | RX       | AF4  |\n| PC4    | TX       | AF1  |\n| PC5    | RX       | AF1  |\n| PC10   | TX       | AF1  |\n| PC11   | RX       | AF1  |\n| PD8    | TX       | AF0  |\n| PD9    | RX       | AF0  |\n| USART4 |          |      |\n| PA0    | TX       | AF4  |\n| PA1    | RX       | AF4  |",
              "STM32F103 Medium Density (C8-CB) [Datasheet](https://www.st.com/resource/en/datasheet/stm32f103c8.pdf)": "Pin Swap available: N/A\n\nTX Pin is always Alternate Function Push-Pull, RX Pin is always regular input pin for any USART peripheral. **For STM32F103 no additional Alternate Function configuration is necessary. QMK is already configured.**\n\nPin remapping:\n\nThe pins of USART Peripherals use default Pins that can be remapped to use other pins using the AFIO registers. Default pins are marked **bold**. Add the appropriate defines to your config.h file.\n\n| Pin        | Function | Mode | USART_REMAP         |\n| ---------- | -------- | ---- | ------------------- |\n| **USART1** |          |      |                     |\n| **PA9**    | TX       | AFPP |                     |\n| **PA10**   | RX       | IN   |                     |\n| PB6        | TX       | AFPP | USART1_REMAP        |\n| PB7        | RX       | IN   | USART1_REMAP        |\n| **USART2** |          |      |                     |\n| **PA2**    | TX       | AFPP |                     |\n| **PA3**    | RX       | IN   |                     |\n| PD5        | TX       | AFPP | USART2_REMAP        |\n| PD6        | RX       | IN   | USART2_REMAP        |\n| **USART3** |          |      |                     |\n| **PB10**   | TX       | AFPP |                     |\n| **PB11**   | RX       | IN   |                     |\n| PC10       | TX       | AFPP | USART3_PARTIALREMAP |\n| PC11       | RX       | IN   | USART3_PARTIALREMAP |\n| PD8        | TX       | AFPP | USART3_FULLREMAP    |\n| PD9        | RX       | IN   | USART3_FULLREMAP    |"
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 21]"
        },
        {
          "title": "SNLED27351 Driver {#snled27351-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "The SNLED27351 driver code is automatically included if you are using the [LED Matrix](../features/led_matrix) or [RGB Matrix](../features/rgb_matrix) feature with the `snled27351` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add this to your `rules.mk`:\n\n```\nCOMMON_VPATH += $(DRIVER_PATH)/led\nSRC += snled27351-mono.c # For single-color\nSRC += snled27351.c # For RGB\nI2C_DRIVER_REQUIRED = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "IC Addressing {#i2c-addressing}": "The SNLED27351 has four possible 7-bit IC addresses, depending on how the `ADDR` pin is connected.\n\nTo configure this, set the `SNLED27351_I2C_ADDRESS_n` defines to one of the following in your `config.h`, where *n* denotes the driver index:\n\n|Define                        |Value |\n|------------------------------|------|\n|`SNLED27351_I2C_ADDRESS_GND`  |`0x74`|\n|`SNLED27351_I2C_ADDRESS_SCL`  |`0x75`|\n|`SNLED27351_I2C_ADDRESS_SDA`  |`0x76`|\n|`SNLED27351_I2C_ADDRESS_VDDIO`|`0x77`|"
            },
            "ARM/ChibiOS Configuration {#arm-configuration}": "Depending on the ChibiOS board configuration, you may need to [enable and configure IC](i2c#arm-configuration) at the keyboard level.",
            "LED Mapping {#led-mapping}": "In order to use this driver, each output must be mapped to an LED index, by adding the following to your `<keyboard>.c`:\n\n```\nconst snled27351_led_t PROGMEM g_snled27351_leds[SNLED27351_LED_COUNT] = {\n/* Driver\n *   |  R         G         B */\n    {0, CB1_CA1,  CB1_CA2,  CB1_CA3},\n    // etc...\n};\n```\n\nIn this example, the red, green and blue channels for the first LED index on driver 0 all have their cathodes connected to the `CB1` pin, and their anodes on the `CA1`, `CA2` and `CA3` pins respectively.\n\nFor the single-color driver, the principle is the same, but there is only one channel:\n\n```\nconst snled27351_led_t PROGMEM g_snled27351_leds[SNLED27351_LED_COUNT] = {\n/* Driver\n *   |  V */\n    {0, CB1_CA1},\n    // etc...\n};\n```\n\nThese values correspond to the register indices as shown in the datasheet on page 13.",
            "API {#api}": {
              "`struct snled27351_led_t` {#api-snled27351-led-t}": {
                "Members {#api-snled27351-led-t-members}": [
                  "`uint8_t driver`  \nThe driver index of the LED, from 0 to 3.",
                  "`uint8_t r`  \nThe output PWM register address for the LED's red channel (RGB driver only).",
                  "`uint8_t g`  \nThe output PWM register address for the LED's green channel (RGB driver only).",
                  "`uint8_t b`  \nThe output PWM register address for the LED's blue channel (RGB driver only).",
                  "`uint8_t v`  \nThe output PWM register address for the LED (single-color driver only)."
                ]
              },
              "`void snled27351_init(uint8_t index)` {#api-snled27351-init}": {
                "Arguments {#api-snled27351-init-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void snled27351_write_register(uint8_t index, uint8_t reg, uint8_t data)` {#api-snled27351-write-register}": {
                "Arguments {#api-snled27351-write-register-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t reg`  \nThe register address.",
                  "`uint8_t data`  \nThe value to set."
                ]
              },
              "`void snled27351_select_page(uint8_t index, uint8_t page)` {#api-snled27351-select-page}": {
                "Arguments {#api-snled27351-select-page-arguments}": [
                  "`uint8_t index`  \nThe driver index.",
                  "`uint8_t page`  \nThe page number to select."
                ]
              },
              "`void snled27351_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-snled27351-set-color}": {
                "Arguments {#api-snled27351-set-color-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_snled27351_leds` array).",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void snled27351_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-snled27351-set-color-all}": {
                "Arguments {#api-snled27351-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void snled27351_set_value(int index, uint8_t value)` {#api-snled27351-set-value}": {
                "Arguments {#api-snled27351-set-value-arguments}": [
                  "`int index`  \nThe LED index (ie. the index into the `g_snled27351_leds` array).",
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void snled27351_set_value_all(uint8_t value)` {#api-snled27351-set-value-all}": {
                "Arguments {#api-snled27351-set-value-all-arguments}": [
                  "`uint8_t value`  \nThe brightness value to set."
                ]
              },
              "`void snled27351_set_led_control_register(uint8_t index, bool red, bool green, bool blue)` {#api-snled27351-set-led-control-register-rgb}": {
                "Arguments {#api-snled27351-set-led-control-register-rgb-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_snled27351_leds` array).",
                  "`bool red`  \nEnable or disable the red channel.",
                  "`bool green`  \nEnable or disable the green channel.",
                  "`bool blue`  \nEnable or disable the blue channel."
                ]
              },
              "`void snled27351_set_led_control_register(uint8_t index, bool value)` {#api-snled27351-set-led-control-register-mono}": {
                "Arguments {#api-snled27351-set-led-control-register-mono-arguments}": [
                  "`uint8_t index`  \nThe LED index (ie. the index into the `g_snled27351_leds` array).",
                  "`bool value`  \nEnable or disable the LED."
                ]
              },
              "`void snled27351_update_pwm_buffers(uint8_t index)` {#api-snled27351-update-pwm-buffers}": {
                "Arguments {#api-snled27351-update-pwm-buffers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              },
              "`void snled27351_update_led_control_registers(uint8_t index)` {#api-snled27351-update-led-control-registers}": {
                "Arguments {#api-snled27351-update-led-control-registers-arguments}": [
                  "`uint8_t index`  \nThe driver index."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 22]"
        },
        {
          "title": "SPI Master Driver {#spi-master-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "In most cases, the SPI Master driver code is automatically included if you are using a feature or driver which requires it, such as [OLED](../features/oled_driver).\n\nHowever, if you need to use the driver standalone, add the following to your `rules.mk`:\n\n```\nSPI_DRIVER_REQUIRED = yes\n```\n\nYou can then call the SPI API by including `spi_master.h` in your code.",
            "AVR Configuration {#avr-configuration}": "No special setup is required - just connect the `SS`, `SCK`, `MOSI` and `MISO` pins of your SPI devices to the matching pins on the MCU:\n\n|MCU              |`SS`|`SCK`|`MOSI`|`MISO`|\n|-----------------|----|-----|------|------|\n|ATmega16/32U2/4  |`B0`|`B1` |`B2`  |`B3`  |\n|AT90USB64/128/162|`B0`|`B1` |`B2`  |`B3`  |\n|ATmega32A        |`B4`|`B7` |`B5`  |`B6`  |\n|ATmega328/P      |`B2`|`B5` |`B3`  |`B4`  |\n\nYou may use more than one slave select pin, not just the `SS` pin. This is useful when you have multiple devices connected and need to communicate with them individually.\n`SPI_SS_PIN` can be passed to `spi_start()` to refer to `SS`.",
            "ChibiOS/ARM Configuration {#arm-configuration}": "You'll need to determine which pins can be used for SPI -- as an example, STM32 parts generally have multiple SPI peripherals, labeled SPI1, SPI2, SPI3 etc.\n\nTo enable SPI, modify your board's `halconf.h` to enable SPI, then modify your board's `mcuconf.h` to enable the peripheral you've chosen:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_SPI TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_SPI_USE_SPI2 // [!code focus]\n#define STM32_SPI_USE_SPI2 TRUE // [!code focus]\n```\n\n:::\n\nConfiguration-wise, you'll need to set up the peripheral as per your MCU's datasheet -- the defaults match the pins for a Proton-C, i.e. STM32F303.\n\n|`config.h` Override|Description                                                  |Default|\n|-------------------|-------------------------------------------------------------|-------|\n|`SPI_DRIVER`       |SPI peripheral to use - SPI1 -> `SPID1`, SPI2 -> `SPID2` etc.|`SPID2`|\n|`SPI_SCK_PIN`      |The pin to use for SCK                                       |`B13`  |\n|`SPI_SCK_PAL_MODE` |The alternate function mode for SCK                          |`5`    |\n|`SPI_MOSI_PIN`     |The pin to use for MOSI                                      |`B15`  |\n|`SPI_MOSI_PAL_MODE`|The alternate function mode for MOSI                         |`5`    |\n|`SPI_MISO_PIN`     |The pin to use for MISO                                      |`B14`  |\n|`SPI_MISO_PAL_MODE`|The alternate function mode for MISO                         |`5`    |\n\nAs per the AVR configuration, you may choose any other standard GPIO as a slave select pin, which should be supplied to `spi_start()`.\n\nIf a complete SPI interface is not required, then the following can be done to disable certain SPI pins, so they don't occupy a GPIO unnecessarily:\n\n['in `config.h`: `#define SPI_MISO_PIN NO_PIN`', 'in `config.h`: `#define SPI_MOSI_PIN NO_PIN`', 'in `mcuconf.h`: `#define SPI_SELECT_MODE SPI_SELECT_MODE_NONE`, in this case the `slavePin` argument passed to `spi_start()` may be `NO_PIN` if the slave select pin is not used.']",
            "API {#api}": {
              "`void spi_init(void)` {#api-spi-init}": "Initialize the SPI driver. This function must be called only once, before any of the below functions can be called.\n\n[]",
              "`bool spi_start(pin_t slavePin, bool lsbFirst, uint8_t mode, uint16_t divisor)` {#api-spi-start}": {
                "Arguments {#api-spi-start-arguments}": [
                  "`pin_t slavePin`  \nThe GPIO pin connected to the desired device's `SS` line.",
                  "`bool lsbFirst`  \nDetermines the endianness of the transmission. If `true`, the least significant bit of each byte is sent first.",
                  "`uint8_t mode`  \nThe SPI mode to use:",
                  "|Mode|Clock Polarity      |Clock Phase            |\n|----|--------------------|-----------------------|\n|`0` |Leading edge rising |Sample on leading edge |\n|`1` |Leading edge rising |Sample on trailing edge|\n|`2` |Leading edge falling|Sample on leading edge |\n|`3` |Leading edge falling|Sample on trailing edge|",
                  "`uint16_t divisor`  \nThe SPI clock divisor, will be rounded up to the nearest power of two. This number can be calculated by dividing the MCU's clock speed by the desired SPI clock speed. For example, an MCU running at 8 MHz wanting to talk to an SPI device at 4 MHz would set the divisor to `2`."
                ],
                "Return Value {#api-spi-start-return}": "`true` if the operation was successful, otherwise `false` if the supplied parameters are invalid or the SPI peripheral is already in use.\n\n[]"
              },
              "`spi_status_t spi_write(uint8_t data)` {#api-spi-write}": {
                "Arguments {#api-spi-write-arguments}": [
                  "`uint8_t data`  \nThe byte to write."
                ],
                "Return Value {#api-spi-write-return}": "`SPI_STATUS_TIMEOUT` if the timeout period elapses, or `SPI_STATUS_SUCCESS`.\n\n[]"
              },
              "`spi_status_t spi_read(void)` {#api-spi-read}": {
                "Return Value {#api-spi-read-return}": "`SPI_STATUS_TIMEOUT` if the timeout period elapses, otherwise the byte read from the device.\n\n[]"
              },
              "`spi_status_t spi_transmit(const uint8_t *data, uint16_t length)` {#api-spi-transmit}": {
                "Arguments {#api-spi-transmit-arguments}": [
                  "`const uint8_t *data`  \nA pointer to the data to write from.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`."
                ],
                "Return Value {#api-spi-transmit-return}": "`SPI_STATUS_TIMEOUT` if the timeout period elapses, `SPI_STATUS_ERROR` if some other error occurs, otherwise `SPI_STATUS_SUCCESS`.\n\n[]"
              },
              "`spi_status_t spi_receive(uint8_t *data, uint16_t length)` {#api-spi-receive}": {
                "Arguments {#api-spi-receive-arguments}": [
                  "`uint8_t *data`  \nA pointer to a buffer to read into.",
                  "`uint16_t length`  \nThe number of bytes to read. Take care not to overrun the length of `data`."
                ],
                "Return Value {#api-spi-receive-return}": "`SPI_STATUS_TIMEOUT` if the timeout period elapses, `SPI_STATUS_ERROR` if some other error occurs, otherwise `SPI_STATUS_SUCCESS`.\n\n[]"
              },
              "`void spi_stop(void)` {#api-spi-stop}": "End the current SPI transaction. This will deassert the slave select pin and reset the endianness, mode and divisor configured by `spi_start()`."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 23]"
        },
        {
          "title": "UART Driver {#uart-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "In most cases, the UART driver code is automatically included if you are using a feature or driver which requires it.\n\nHowever, if you need to use the driver standalone, add the following to your `rules.mk`:\n\n```\nUART_DRIVER_REQUIRED = yes\n```\n\nYou can then call the UART API by including `uart.h` in your code.",
            "AVR Configuration {#avr-configuration}": "No special setup is required - just connect the `RX` and `TX` pins of your UART device to the opposite pins on the MCU:\n\n|MCU          |`TX`|`RX`|`CTS`|`RTS`|\n|-------------|----|----|-----|-----|\n|ATmega16/32U2|`D3`|`D2`|`D7` |`D6` |\n|ATmega16/32U4|`D3`|`D2`|`D5` |`B7` |\n|AT90USB64/128|`D3`|`D2`|*n/a*|*n/a*|\n|ATmega32A    |`D1`|`D0`|*n/a*|*n/a*|\n|ATmega328/P  |`D1`|`D0`|*n/a*|*n/a*|",
            "ChibiOS/ARM Configuration {#arm-configuration}": "You'll need to determine which pins can be used for UART -- as an example, STM32 parts generally have multiple UART peripherals, labeled USART1, USART2, USART3 etc.\n\nTo enable UART, modify your board's `mcuconf.h` to enable the peripheral you've chosen, for example:\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_SERIAL_USE_USART2 // [!code focus]\n#define STM32_SERIAL_USE_USART2 TRUE // [!code focus]\n```\n\nConfiguration-wise, you'll need to set up the peripheral as per your MCU's datasheet -- the defaults match the pins for a Proton-C, i.e. STM32F303.\n\n|`config.h` Override|Description                                                    |Default|\n|-------------------|---------------------------------------------------------------|-------|\n|`UART_DRIVER`      |USART peripheral to use - USART1 -> `SD1`, USART2 -> `SD2` etc.|`SD1`  |\n|`UART_TX_PIN`      |The pin to use for TX                                          |`A9`   |\n|`UART_TX_PAL_MODE` |The alternate function mode for TX                             |`7`    |\n|`UART_RX_PIN`      |The pin to use for RX                                          |`A10`  |\n|`UART_RX_PAL_MODE` |The alternate function mode for RX                             |`7`    |\n|`UART_CTS_PIN`     |The pin to use for CTS                                         |`A11`  |\n|`UART_CTS_PAL_MODE`|The alternate function mode for CTS                            |`7`    |\n|`UART_RTS_PIN`     |The pin to use for RTS                                         |`A12`  |\n|`UART_RTS_PAL_MODE`|The alternate function mode for RTS                            |`7`    |",
            "API {#api}": {
              "`void uart_init(uint32_t baud)` {#api-uart-init}": {
                "Arguments {#api-uart-init-arguments}": [
                  "`uint32_t baud`  \nThe baud rate to transmit and receive at. This may depend on the device you are communicating with. Common values are 1200, 2400, 4800, 9600, 19200, 38400, 57600, and 115200."
                ]
              },
              "`void uart_write(uint8_t data)` {#api-uart-write}": {
                "Arguments {#api-uart-write-arguments}": [
                  "`uint8_t data`  \nThe byte to write."
                ]
              },
              "`uint8_t uart_read(void)` {#api-uart-read}": {
                "Return Value {#api-uart-read-return}": "The byte read from the receive buffer. This function will block if the buffer is empty (ie. no data to read).\n\n[]"
              },
              "`void uart_transmit(const uint8_t *data, uint16_t length)` {#api-uart-transmit}": {
                "Arguments {#api-uart-transmit-arguments}": [
                  "`const uint8_t *data`  \nA pointer to the data to write from.",
                  "`uint16_t length`  \nThe number of bytes to write. Take care not to overrun the length of `data`."
                ]
              },
              "`void uart_receive(char *data, uint16_t length)` {#api-uart-receive}": {
                "Arguments {#api-uart-receive-arguments}": [
                  "`uint8_t *data`  \nA pointer to a buffer to read into.",
                  "`uint16_t length`  \nThe number of bytes to read. Take care not to overrun the length of `data`."
                ]
              },
              "`bool uart_available(void)` {#api-uart-available}": {
                "Return Value {#api-uart-available-return}": "`true` if there is data available to read."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 24]"
        },
        {
          "title": "WS2812 Driver {#ws2812-driver}",
          "description": null,
          "content": {
            "Usage {#usage}": "In most cases, the WS2812 driver code is automatically included if you are using either the [RGBLight](../features/rgblight) or [RGB Matrix](../features/rgb_matrix) feature with the `ws2812` driver set, and you would use those APIs instead.\n\nHowever, if you need to use the driver standalone, add the following to your `rules.mk`:\n\n```\nWS2812_DRIVER_REQUIRED = yes\n```\n\nYou can then call the WS2812 API by including `ws2812.h` in your code.",
            "Basic Configuration {#basic-configuration}": {
              "Timing Adjustment {#timing-adjustment}": "The WS2812 LED communication protocol works by encoding a \"1\" bit with a long high pulse (T<sub>1</sub>H), and a \"0\" bit with a shorter pulse (T<sub>0</sub>H). The total cycle length of a bit is the same.\nThe \"reset\" pulse (T<sub>RST</sub>) latches the sent RGB data to all of the LEDs and denotes a completed \"frame\".\n\nSome WS2812 variants have slightly different timing parameter requirements, which can be accounted for if necessary using the above `#define`s in your `config.h`.",
              "Byte Order {#byte-order}": "Some WS2812 variants may have their color components in a different physical or logical order. For example, the WS2812B-2020 has physically swapped red and green LEDs, which causes the wrong color to be displayed, because the default order of the bytes sent over the wire is defined as GRB.\nIf you find your LED colors are consistently swapped, you may need to change the byte order by adding the following to your `config.h`:\n\n```\n#define WS2812_BYTE_ORDER WS2812_BYTE_ORDER_GRB\n```\n\nWhere the byte order may be one of:\n\n|Byte Order|Known Devices               |\n|----------|----------------------------|\n|`GRB`     |Most WS2812s, SK6812, SK6805|\n|`RGB`     |WS2812B-2020                |\n|`BGR`     |TM1812                      |",
              "RGBW Support {#rgbw-support}": "Rendering the color white with RGB LEDs is typically inconsistent due to inherent variations between each individual LED die. However, some WS2812 variants (such as SK6812RGBW) also possess a white LED along with the red, green, and blue channels, which allows for a more accurate white to be displayed.\n\nQMK can automatically convert the RGB data to be sent to the LEDs to mix in the white channel:\n\n```\nw = min(r, g, b)\nr -= w\ng -= w\nb -= w\n```\n\nThus, an RGB triplet of `255,255,255` will simply turn on the white LED fully (`0,0,0,255`).\n\nTo enable RGBW conversion, add the following to your `config.h`:\n\n```\n#define WS2812_RGBW\n```"
            },
            "Driver Configuration {#driver-configuration}": {
              "Bitbang Driver {#bitbang-driver}": "This is the default WS2812 driver. It operates by \"bit-banging\" ie. directly toggling the GPIO.\n\nPlease note that on AVR devices, due to the tight timing requirements longer chains and/or heavy CPU loads may cause visible lag. Unfortunately this driver is usually the only option for AVR.\n\n```\nWS2812_DRIVER = bitbang\n```",
              "I2C Driver {#i2c-driver}": "A specialized driver mainly used for PS2AVRGB (Bootmapper Client) boards, which possess an ATtiny85 that handles the WS2812 LEDs.\n\n```\nWS2812_DRIVER = i2c\n```\n\nThe following `#define`s apply only to the `i2c` driver:\n\n|Define              |Default|Description                      |\n|--------------------|-------|---------------------------------|\n|`WS2812_I2C_ADDRESS`|`0xB0` |The I2C address of the ATtiny85. |\n|`WS2812_I2C_TIMEOUT`|`100`  |The I2C timeout, in milliseconds.|",
              "PIO Driver {#pio-driver}": "This driver is RP2040-only, and leverages the onboard PIO (programmable I/O) system and DMA to offload processing from the CPU.\n\nThe WS2812 PIO program uses one state machine, six instructions and one DMA interrupt handler callback. Due to the implementation the time resolution for this driver is 50 ns - any value not specified in this interval will be rounded to the next matching interval.\n\n```\nWS2812_DRIVER = vendor\n```",
              "PWM Driver {#pwm-driver}": "This driver is ARM-only, and leverages the onboard PWM peripheral and DMA to offload processing from the CPU.\n\n```\nWS2812_DRIVER = pwm\n```",
              "SPI Driver {#spi-driver}": "This driver is ARM-only, and leverages the onboard SPI peripheral and DMA to offload processing from the CPU. The DI pin **must** be connected to the MOSI pin on the MCU, and all other SPI pins **must** be left unused. This is also very dependent on your MCU's SPI peripheral clock speed, and may or may not be possible depending on the MCU selected.\n\n```\nWS2812_DRIVER = spi\n```"
            },
            "ChibiOS/ARM Configuration {#arm-configuration}": {
              "Logic Levels {#logic-levels}": {
                "1. Open Drain Circuit {#open-drain-circuit}": "By default, `WS2812_DI_PIN` is configured as a *push-pull* output, meaning the pin is effectively always driven either to VCC or to ground; however, it can be configured in *open drain* mode instead.\n\nIn this mode, the MCU will only pull the GPIO *low*, and leaves it floating otherwise. A pullup resistor (typically around 10k) between DI and 5V is then responsible for pulling the line high when the MCU is not driving the GPIO.\n\nTo use the DI pin in open drain configuration, add the following to your `config.h`:\n\n```\n#define WS2812_EXTERNAL_PULLUP\n```\n\n::: warning\nBecause the GPIO is being pulled to 5V in this situation rather than VCC (3.3V), **it must be a 5V tolerant pin**. Consult your MCU's datasheet first  if there are no eligible pins, you must use a level shifter instead.\n:::",
                "2. Level Shifter {#level-shifter}": "A level shifter IC, such as the SN74LV1T34, can be placed between the GPIO and the first LED's DI pin to convert the 3.3V logic to 5V. This requires no additional configuration in the firmware, nor a 5V tolerant GPIO, but may be more expensive and is generally less handwire-friendly."
              },
              "SPI Driver {#arm-spi-driver}": {
                "Setting the Baudrate {#arm-spi-baudrate}": "To adjust the SPI baudrate, you will need to derive the target baudrate from the clock tree provided by STM32CubeMX, and add the following to your `config.h`:\n\n```\n#define WS2812_SPI_DIVISOR 16\n```\n\nOnly divisors of 2, 4, 8, 16, 32, 64, 128 and 256 are supported on STM32 devices. Other MCUs may have similar constraints -- check the reference manual for your respective MCU for specifics.",
                "Circular Buffer {#arm-spi-circular-buffer}": "A circular buffer can be enabled if you experience flickering.\n\nTo enable the circular buffer, add the following to your `config.h`:\n\n```\n#define WS2812_SPI_USE_CIRCULAR_BUFFER\n```"
              },
              "PIO Driver {#arm-pio-driver}": "The following `#define`s apply only to the PIO driver:\n\n|Define               |Default      |Description                            |\n|---------------------|-------------|---------------------------------------|\n|`WS2812_PIO_USE_PIO1`|*Not defined*|Use the PIO1 peripheral instead of PIO0|",
              "PWM Driver {#arm-pwm-driver}": "Depending on the ChibiOS board configuration, you may need to enable PWM at the keyboard level. For STM32, this would look like:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_PWM TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_PWM_USE_TIM2 // [!code focus]\n#define STM32_PWM_USE_TIM2 TRUE // [!code focus]\n```\n\n:::\n\nThe following `#define`s apply only to the `pwm` driver:\n\n|Define                           |Default             |Description                                                                               |\n|---------------------------------|--------------------|------------------------------------------------------------------------------------------|\n|`WS2812_PWM_DRIVER`              |`PWMD2`             |The PWM driver to use                                                                     |\n|`WS2812_PWM_CHANNEL`             |`2`                 |The PWM channel to use                                                                    |\n|`WS2812_PWM_PAL_MODE`            |`2`                 |The pin alternative function to use                                                       |\n|`WS2812_PWM_DMA_STREAM`          |`STM32_DMA1_STREAM2`|The DMA Stream for `TIMx_UP`                                                              |\n|`WS2812_PWM_DMA_CHANNEL`         |`2`                 |The DMA Channel for `TIMx_UP`                                                             |\n|`WS2812_PWM_DMAMUX_ID`           |*Not defined*       |The DMAMUX configuration for `TIMx_UP` - only required if your MCU has a DMAMUX peripheral|\n|`WS2812_PWM_COMPLEMENTARY_OUTPUT`|*Not defined*       |Whether the PWM output is complementary (`TIMx_CHyN`)                                     |\n\n::: tip\nUsing a complementary timer output (`TIMx_CHyN`) is possible only for advanced-control timers (1, 8 and 20 on STM32). Complementary outputs of general-purpose timers are not supported due to ChibiOS limitations.\n:::"
            },
            "API {#api}": {
              "`void ws2812_init(void)` {#api-ws2812-init}": "Initialize the LED driver. This function should be called first.\n\n[]",
              "`void ws2812_set_color(int index, uint8_t red, uint8_t green, uint8_t blue)` {#api-ws2812-set-color}": {
                "Arguments {#api-ws2812-set-color-arguments}": [
                  "`int index`  \nThe LED index in the WS2812 chain.",
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void ws812_set_color_all(uint8_t red, uint8_t green, uint8_t blue)` {#api-ws2812-set-color-all}": {
                "Arguments {#api-ws2812-set-color-all-arguments}": [
                  "`uint8_t red`  \nThe red value to set.",
                  "`uint8_t green`  \nThe green value to set.",
                  "`uint8_t blue`  \nThe blue value to set."
                ]
              },
              "`void ws2812_flush(void)` {#api-ws2812-flush}": "Flush the PWM values to the LED chain."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 107, \"subpages\", 25]"
        }
      ],
      "path": "[\"subpages\", 107]"
    },
    {
      "title": "Features",
      "description": "Documentation section: features",
      "content": {},
      "metadata": {
        "type": "directory",
        "path": "/home/anhnh/CodeWikiBench/data/qmk_firmware/original/docs/features"
      },
      "subpages": [
        {
          "title": "Audio",
          "description": null,
          "content": {
            "AVR based boards": {
              "Wiring": "per speaker is - for example with a piezo buzzer - the black lead to Ground, and the red lead connected to the selected AUDIO_PIN for the primary; and similarly with AUDIO_PIN_ALT for the secondary."
            },
            "ARM based boards": {
              "DAC (additive)": "Another option, besides dac_basic (which produces sound through a square-wave), is to use the DAC to do additive wave synthesis.\nWith a number of predefined wave-forms or by providing your own implementation to generate samples on the fly.\nTo use this feature set `AUDIO_DRIVER = dac_additive` in your `rules.mk`, and select in `config.h` EITHER `#define AUDIO_PIN A4` or `#define AUDIO_PIN A5`.\n\nThe used waveform *defaults* to sine, but others can be selected by adding one of the following defines to `config.h`:\n\n['`#define AUDIO_DAC_SAMPLE_WAVEFORM_SINE`', '`#define AUDIO_DAC_SAMPLE_WAVEFORM_TRIANGLE`', '`#define AUDIO_DAC_SAMPLE_WAVEFORM_TRAPEZOID`', '`#define AUDIO_DAC_SAMPLE_WAVEFORM_SQUARE`']\n\nShould you rather choose to generate and use your own sample-table with the DAC unit, implement `uint16_t dac_value_generate(void)` with your keyboard - for an example implementation see keyboards/planck/keymaps/synth_sample or keyboards/planck/keymaps/synth_wavetable",
              "PWM (software)": {
                "Wiring": "the usual piezo wiring: red goes to the selected AUDIO_PIN, black goes to ground.\n\nOR if you can chose to drive one piezo with two pins, for example `#define AUDIO_PIN B1`, `#define AUDIO_PIN_ALT B2` in `config.h`, with `#define AUDIO_PIN_ALT_AS_NEGATIVE` - then the red lead could go to B1, the black to B2."
              },
              "PWM (hardware)": "STM32F1xx have to fall back to using PWM, but can do so in hardware; but again on currently only one speaker/pin.\n\n`AUDIO_DRIVER = pwm_hardware` in `rules.mk`, and in `config.h`:\n`#define AUDIO_PIN A8`\n`#define AUDIO_PWM_DRIVER PWMD1`\n`#define AUDIO_PWM_CHANNEL 1`\n(as well as `#define AUDIO_PWM_PAL_MODE 42` if you are on STM32F2 or larger)\nwhich will use Timer 1 to directly drive pin PA8 through the PWM hardware (TIM1_CH1 = PA8).\nShould you want to use the pwm-hardware on another pin and timer - be ready to dig into the STM32 data-sheet to pick the right TIMx_CHy and pin-alternate function."
            },
            "Tone Multiplexing": "Since most drivers can only render one tone per speaker at a time (with the one exception: arm dac-additive) there also exists a \"workaround-feature\" that does time-slicing/multiplexing - which does what the name implies: cycle through a set of active tones (e.g. when playing chords in Music Mode) at a given rate, and put one tone at a time out through the one/few speakers that are available.\n\nTo enable this feature, and configure a starting-rate, add the following defines to `config.h`:\n\n```\n#define AUDIO_ENABLE_TONE_MULTIPLEXING\n#define AUDIO_TONE_MULTIPLEXING_RATE_DEFAULT 10\n```\n\nThe audio core offers interface functions to get/set/change the tone multiplexing rate from within `keymap.c`.",
            "Songs": "There's a couple of different sounds that will automatically be enabled without any other configuration:\n\n```\nSTARTUP_SONG // plays when the keyboard starts up (audio.c)\nGOODBYE_SONG // plays when you press the QK_BOOT key (quantum.c)\nAG_NORM_SONG // plays when you press AG_NORM (quantum.c)\nAG_SWAP_SONG // plays when you press AG_SWAP (quantum.c)\nCG_NORM_SONG // plays when you press CG_NORM (quantum.c)\nCG_SWAP_SONG // plays when you press CG_SWAP (quantum.c)\nMUSIC_ON_SONG // plays when music mode is activated (process_music.c)\nMUSIC_OFF_SONG // plays when music mode is deactivated (process_music.c)\nCHROMATIC_SONG // plays when the chromatic music mode is selected (process_music.c)\nGUITAR_SONG // plays when the guitar music mode is selected (process_music.c)\nVIOLIN_SONG // plays when the violin music mode is selected (process_music.c)\nMAJOR_SONG // plays when the major music mode is selected (process_music.c)\n```\n\nYou can override the default songs by doing something like this in your `config.h`:\n\n```\n#ifdef AUDIO_ENABLE\n# define STARTUP_SONG SONG(STARTUP_SOUND)\n#endif\n```\n\nA full list of sounds can be found in [quantum/audio/song_list.h](https://github.com/qmk/qmk_firmware/blob/master/quantum/audio/song_list.h) - feel free to add your own to this list! All available notes can be seen in [quantum/audio/musical_notes.h](https://github.com/qmk/qmk_firmware/blob/master/quantum/audio/musical_notes.h).\n\nAdditionally, if you with to maintain your own list of songs (such as ones that may be copyrighted) and not have them added to the repo, you can create a `user_song_list.h` file and place it in your keymap (or userspace) folder.  This file will be automatically included, it just needs to exist.\n\nTo play a custom sound at a particular time, you can define a song like this (near the top of the file):\n\n```\nfloat my_song[][2] = SONG(QWERTY_SOUND);\n```\n\nAnd then play your song like this:\n\n```\nPLAY_SONG(my_song);\n```\n\nAlternatively, you can play it in a loop like this:\n\n```\nPLAY_LOOP(my_song);\n```\n\nIt's advised that you wrap all audio features in `#ifdef AUDIO_ENABLE` / `#endif` to avoid causing problems when audio isn't built into the keyboard.\n\nThe available keycodes for audio are: \n\n|Key                      |Aliases  |Description                                |\n|-------------------------|---------|-------------------------------------------|\n|`QK_AUDIO_ON`            |`AU_ON`  |Turns on Audio Feature                     |\n|`QK_AUDIO_OFF`           |`AU_OFF` |Turns off Audio Feature                    |\n|`QK_AUDIO_TOGGLE`        |`AU_TOGG`|Toggles Audio state                        |\n\n::: warning\nThese keycodes turn all of the audio functionality on and off.  Turning it off means that audio feedback, audio clicky, music mode, etc. are disabled, completely.\n:::",
            "Audio Config": "| Settings                         | Default              | Description                                                                                 |\n|----------------------------------|----------------------|---------------------------------------------------------------------------------------------|\n|`AUDIO_PIN`                       | *Not defined*        |Configures the pin that the speaker is connected to.                                         |\n|`AUDIO_PIN_ALT`                   | *Not defined*        |Configures the pin for a second speaker or second pin connected to one speaker.              |\n|`AUDIO_PIN_ALT_AS_NEGATIVE`       | *Not defined*        |Enables support for one speaker connected to two pins.                                       |\n|`AUDIO_INIT_DELAY`                | *Not defined*        |Enables delay during startup song to accomidate for USB startup issues.                      |\n|`AUDIO_ENABLE_TONE_MULTIPLEXING`  | *Not defined*        |Enables time splicing/multiplexing to create multiple tones simutaneously.                   |\n|`AUDIO_POWER_CONTROL_PIN`         | *Not defined*        |Enables power control code to enable or cut off power to speaker (such as with PAM8302 amp). |\n|`AUDIO_POWER_CONTROL_PIN_ON_STATE`| `1`                  |The state of the audio power control pin when audio is \"on\" - `1` for high, `0` for low.     |\n|`STARTUP_SONG`                    | `STARTUP_SOUND`      |Plays when the keyboard starts up (audio.c)                                                  |\n|`GOODBYE_SONG`                    | `GOODBYE_SOUND`      |Plays when you press the QK_BOOT key (quantum.c)                                             |\n|`AG_NORM_SONG`                    | `AG_NORM_SOUND`      |Plays when you press AG_NORM (process_magic.c)                                               |\n|`AG_SWAP_SONG`                    | `AG_SWAP_SOUND`      |Plays when you press AG_SWAP (process_magic.c)                                               |\n|`CG_NORM_SONG`                    | `AG_NORM_SOUND`      |Plays when you press CG_NORM (process_magic.c)                                               |\n|`CG_SWAP_SONG`                    | `AG_SWAP_SOUND`      |Plays when you press CG_SWAP (process_magic.c)                                               |\n|`MUSIC_ON_SONG`                   | `MUSIC_ON_SOUND`     |Plays when music mode is activated (process_music.c)                                         |\n|`MUSIC_OFF_SONG`                  | `MUSIC_OFF_SOUND`    |Plays when music mode is deactivated (process_music.c)                                       |\n|`MIDI_ON_SONG`                    | `MUSIC_ON_SOUND`     |Plays when midi mode is activated (process_music.c)                                          |\n|`MIDI_OFF_SONG`                   | `MUSIC_OFF_SOUND`    |Plays when midi mode is deactivated (process_music.c)                                        |\n|`CHROMATIC_SONG`                  | `CHROMATIC_SOUND`    |Plays when the chromatic music mode is selected (process_music.c)                            |\n|`GUITAR_SONG`                     | `GUITAR_SOUND`       |Plays when the guitar music mode is selected (process_music.c)                               |\n|`VIOLIN_SONG`                     | `VIOLIN_SOUND`       |Plays when the violin music mode is selected (process_music.c)                               |\n|`MAJOR_SONG`                      | `MAJOR_SOUND`        |Plays when the major music mode is selected (process_music.c)                                |\n|`DEFAULT_LAYER_SONGS`             | *Not defined*        |Plays song when switched default layers with [`set_single_persistent_default_layer(layer)`](../ref_functions#setting-the-persistent-default-layer)(quantum.c). |\n|`SENDSTRING_BELL`                 | *Not defined*        |Plays chime when the \"enter\" (\"\\a\") character is sent (send_string.c)                        |",
            "Tempo": "the 'speed' at which SONGs are played is dictated by the set Tempo, which is measured in beats-per-minute. Note lengths are defined relative to that.\nThe initial/default tempo is set to 120 bpm, but can be configured by setting `TEMPO_DEFAULT` in `config.c`.\nThere is also a set of functions to modify the tempo from within the user/keymap code:\n\n```\nvoid audio_set_tempo(uint8_t tempo);\nvoid audio_increase_tempo(uint8_t tempo_change);\nvoid audio_decrease_tempo(uint8_t tempo_change);\n```",
            "ARM Audio Volume": "For ARM devices, you can adjust the DAC sample values. If your board is too loud for you or your coworkers, you can set the max using `AUDIO_DAC_SAMPLE_MAX` in your `config.h`:\n\n```\n#define AUDIO_DAC_SAMPLE_MAX 4095U\n```\n\nthe DAC usually runs in 12Bit mode, hence a volume of 100% = 4095U\n\nNote: this only adjusts the volume aka 'works' if you stick to WAVEFORM_SQUARE, since its samples are generated on the fly - any other waveform uses a hardcoded/precomputed sample-buffer.",
            "Voices": "Aka \"audio effects\", different ones can be enabled by setting in `config.h` these defines:\n`#define AUDIO_VOICES` to enable the feature, and `#define AUDIO_VOICE_DEFAULT something` to select a specific effect\nfor details see quantum/audio/voices.h and .c\n\nKeycodes available:\n\n|Key                      |Aliases  |Description                                |\n|-------------------------|---------|-------------------------------------------|\n|`QK_AUDIO_VOICE_NEXT`    |`AU_NEXT`|Cycles through the audio voices            |\n|`QK_AUDIO_VOICE_PREVIOUS`|`AU_PREV`|Cycles through the audio voices in reverse |",
            "Music Mode": {
              "Music Mask": "By default, `MUSIC_MASK` is set to `keycode < 0xFF` which means keycodes less than `0xFF` are turned into notes, and don't output anything. You can change this by defining this in your `config.h` like this:\n\n```\n#define MUSIC_MASK keycode != KC_NO\n```\n\nWhich will capture all keycodes - be careful, this will get you stuck in music mode until you restart your keyboard!\n\nFor a more advanced way to control which keycodes should still be processed, you can use `music_mask_kb(keycode)` in `<keyboard>.c` and `music_mask_user(keycode)` in your `keymap.c`:\n\n```\n  bool music_mask_user(uint16_t keycode) {\n    switch (keycode) {\n      case RAISE:\n      case LOWER:\n        return false;\n      default:\n        return true;\n    }\n  }\n```\n\nThings that return false are not part of the mask, and are always processed.",
              "Music Map": "By default, the Music Mode uses the columns and row to determine the scale for the keys. For a board that uses a rectangular matrix that matches the keyboard layout, this is just fine.  However, for boards that use a more complicated matrix (such as the Planck Rev6, or many split keyboards) this would result in a very skewed experience.  \n\nHowever, the Music Map option allows you to remap the scaling for the music mode, so it fits the layout, and is more natural. \n\nTo enable this feature, add `#define MUSIC_MAP` to your `config.h` file, and then you will want to add a `uint8_t music_map` to your keyboard's `c` file, or your `keymap.c`.\n\n```\nconst uint8_t music_map[MATRIX_ROWS][MATRIX_COLS] = LAYOUT_ortho_4x12(\n    36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n    24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n    12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n     0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11\n);\n```\n\nYou will want to use whichever `LAYOUT` macro that your keyboard uses here.  This maps it to the correct key location.  Start in  the bottom left of the keyboard layout, and  move to the right, and then upwards.  Fill in all the entries until you have a complete matrix.  \n\nYou can look at the [Planck Keyboard](https://github.com/qmk/qmk_firmware/blob/e9ace1487887c1f8b4a7e8e6d87c322988bec9ce/keyboards/planck/planck.c#L24-L29) as an example of how to implement this. "
            },
            "Audio Click": "This adds a click sound each time you hit a button, to simulate click sounds from the keyboard. And the sounds are slightly different for each keypress, so it doesn't sound like a single long note, if you type rapidly. \n\nKeycodes available:\n\n|Key                      |Aliases  |Description                                |\n|-------------------------|---------|-------------------------------------------|\n|`QK_AUDIO_CLICKY_TOGGLE` |`CK_TOGG`|Toggles Audio clicky mode                  |\n|`QK_AUDIO_CLICKY_ON`     |`CK_ON`  |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_OFF`    |`CK_OFF` |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_UP`     |`CK_UP`  |Increases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_DOWN`   |`CK_DOWN`|Decreases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_RESET`  |`CK_RST` |Resets frequency to default                |\n\nThe feature is disabled by default, to save space.  To enable it, add this to your `config.h`:\n\n```\n#define AUDIO_CLICKY\n```\n\nYou can configure the default, min and max frequencies, the stepping and built in randomness by defining these values: \n\n| Option | Default Value | Description |\n|--------|---------------|-------------|\n| `AUDIO_CLICKY_FREQ_DEFAULT` | 440.0f | Sets the default/starting audio frequency for the clicky sounds. |\n| `AUDIO_CLICKY_FREQ_MIN` | 65.0f | Sets the lowest frequency (under 60f are a bit buggy). |\n| `AUDIO_CLICKY_FREQ_MAX` | 1500.0f | Sets the highest frequency. Too high may result in coworkers attacking you. |\n| `AUDIO_CLICKY_FREQ_FACTOR` | 1.18921f| Sets the stepping of UP/DOWN key codes.  This is a multiplicative factor.  The default steps the frequency up/down by a musical minor third.  |\n| `AUDIO_CLICKY_FREQ_RANDOMNESS`     |  0.05f |  Sets a factor of randomness for the clicks, Setting this to `0f` will make each click identical, and `1.0f` will make this sound much like the 90's computer screen scrolling/typing effect. | \n| `AUDIO_CLICKY_DELAY_DURATION` | 1 | An integer note duration where 1 is 1/16th of the tempo, or a sixty-fourth note (see `quantum/audio/musical_notes.h` for implementation details). The main clicky effect will be delayed by this duration.  Adjusting this to values around 6-12 will help compensate for loud switches. |",
            "MIDI Functionality": "See [MIDI](midi)",
            "Audio Keycodes": "|Key                      |Aliases  |Description                                |\n|-------------------------|---------|-------------------------------------------|\n|`QK_AUDIO_ON`            |`AU_ON`  |Turns on Audio Feature                     |\n|`QK_AUDIO_OFF`           |`AU_OFF` |Turns off Audio Feature                    |\n|`QK_AUDIO_TOGGLE`        |`AU_TOGG`|Toggles Audio state                        |\n|`QK_AUDIO_CLICKY_TOGGLE` |`CK_TOGG`|Toggles Audio clicky mode                  |\n|`QK_AUDIO_CLICKY_ON`     |`CK_ON`  |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_OFF`    |`CK_OFF` |Turns on Audio clicky mode                 |\n|`QK_AUDIO_CLICKY_UP`     |`CK_UP`  |Increases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_DOWN`   |`CK_DOWN`|Decreases frequency of the clicks          |\n|`QK_AUDIO_CLICKY_RESET`  |`CK_RST` |Resets frequency to default                |\n|`QK_MUSIC_ON`            |`MU_ON`  |Turns on Music Mode                        |\n|`QK_MUSIC_OFF`           |`MU_OFF` |Turns off Music Mode                       |\n|`QK_MUSIC_TOGGLE`        |`MU_TOGG`|Toggles Music Mode                         |\n|`QK_MUSIC_MODE_NEXT`     |`MU_NEXT`|Cycles through the music modes             |\n|`QK_AUDIO_VOICE_NEXT`    |`AU_NEXT`|Cycles through the audio voices            |\n|`QK_AUDIO_VOICE_PREVIOUS`|`AU_PREV`|Cycles through the audio voices in reverse |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 0]"
        },
        {
          "title": "Auto Shift: Why Do We Need a Shift Key?",
          "description": null,
          "content": {
            "Why Auto Shift?": "Many people suffer from various forms of RSI. A common cause is stretching your\nfingers repetitively long distances. For us on the keyboard, the pinky does that\nall too often when reaching for the shift key. Auto Shift looks to alleviate that\nproblem.",
            "How Does It Work?": "When you tap a key, it stays depressed for a short period of time before it is\nthen released. This depressed time is a different length for everyone. Auto Shift\ndefines a constant `AUTO_SHIFT_TIMEOUT` which is typically set to twice your\nnormal pressed state time. When you press a key, a timer starts, and if you\nhave not released the key after the `AUTO_SHIFT_TIMEOUT` period, then a shifted\nversion of the key is emitted. If the time is less than the `AUTO_SHIFT_TIMEOUT`\ntime, or you press another key, then the normal state is emitted.\n\nIf `AUTO_SHIFT_REPEAT` is defined, there is keyrepeat support. Holding the key\ndown will repeat the shifted key, though this can be disabled with\n`AUTO_SHIFT_NO_AUTO_REPEAT`. If you want to repeat the normal key, then tap it\nonce then immediately (within `TAPPING_TERM`) hold it down again (this works\nwith the shifted value as well if auto-repeat is disabled).\n\nThere are also the `get_auto_shift_repeat` and `get_auto_shift_no_auto_repeat`\nfunctions for more granular control. Neither will have an effect unless\n`AUTO_SHIFT_REPEAT_PER_KEY` or `AUTO_SHIFT_NO_AUTO_REPEAT_PER_KEY` respectively\nare defined.",
            "Are There Limitations to Auto Shift?": "Yes, unfortunately.\n\n['You will have characters that are shifted when you did not intend on shifting, and\\nother characters you wanted shifted, but were not. This simply comes down to\\npractice. As we get in a hurry, we think we have hit the key long enough for a\\nshifted version, but we did not. On the other hand, we may think we are tapping\\nthe keys, but really we have held it for a little longer than anticipated.', \"Additionally, with keyrepeat the desired shift state can get mixed up. It will\\nalways 'belong' to the last key pressed. For example, keyrepeating a capital\\nand then tapping something lowercase (whether or not it's an Auto Shift key)\\nwill result in the capital's *key* still being held, but shift not.\", 'Auto Shift does not apply to Tap Hold keys. For automatic shifting of Tap Hold\\nkeys see [Retro Shift](#retro-shift).']",
            "How Do I Enable Auto Shift?": "Add to your `rules.mk` in the keymap folder:\n\n```\nAUTO_SHIFT_ENABLE = yes\n```\n\nIf no `rules.mk` exists, you can create one.\n\nThen compile and install your new firmware with Auto Key enabled! That's it!",
            "Modifiers": "By default, Auto Shift is disabled for any key press that is accompanied by one or more\nmodifiers. Thus, Ctrl+A that you hold for a really long time is not the same\nas Ctrl+Shift+A.\n\nYou can re-enable Auto Shift for modifiers by adding a define to your `config.h`\n\n```\n#define AUTO_SHIFT_MODIFIERS\n```\n\nIn which case, Ctrl+A held past the `AUTO_SHIFT_TIMEOUT` will be sent as Ctrl+Shift+A",
            "Configuring Auto Shift": {
              "AUTO_SHIFT_TIMEOUT (Value in ms)": "This controls how long you have to hold a key before you get the shifted state.\nObviously, this is different for everyone. For the common person, a setting of\n135 to 150 works great. However, one should start with a value of at least 175, which\nis the default value. Then work down from there. The idea is to have the shortest time required to get the shifted state without having false positives.\n\nPlay with this value until things are perfect. Many find that all will work well\nat a given value, but one or two keys will still emit the shifted state on\noccasion. This is simply due to habit and holding some keys a little longer\nthan others. Once you find this value, work on tapping your problem keys a little\nquicker than normal and you will be set.\n\n::: tip\nAuto Shift has three special keys that can help you get this value right very quick. See \"Auto Shift Setup\" for more details!\n:::\n\nFor more granular control of this feature, you can add the following to your `config.h`:\n\n```\n#define AUTO_SHIFT_TIMEOUT_PER_KEY\n```\n\nYou can then add the following function to your keymap:\n\n```\nuint16_t get_autoshift_timeout(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case AUTO_SHIFT_NUMERIC:\n            return 2 * get_generic_autoshift_timeout();\n        case AUTO_SHIFT_SPECIAL:\n            return get_generic_autoshift_timeout() + 50;\n        case AUTO_SHIFT_ALPHA:\n        default:\n            return get_generic_autoshift_timeout();\n    }\n}\n```\n\nNote that you cannot override individual keys that are in one of those groups\nif you are using them; trying to add a case for `KC_A` in the above example will\nnot compile as `AUTO_SHIFT_ALPHA` is there. A possible solution is a second switch\nabove to handle individual keys with no default case and only referencing the\ngroups in the below fallback switch.",
              "NO_AUTO_SHIFT_SPECIAL (simple define)": "Do not Auto Shift special keys, which include -\\_, =+, [{, ]}, ;:, '\", ,<, .>,\n/?, and the KC_TAB.",
              "NO_AUTO_SHIFT_TAB (simple define)": "Do not Auto Shift KC_TAB but leave Auto Shift enabled for the other special\ncharacters.",
              "NO_AUTO_SHIFT_SYMBOLS (simple define)": "Do not Auto Shift symbol keys, which include -\\_, =+, [{, ]}, ;:, '\", ,<, .>,\nand /?.",
              "NO_AUTO_SHIFT_NUMERIC (simple define)": "Do not Auto Shift numeric keys, zero through nine.",
              "NO_AUTO_SHIFT_ALPHA (simple define)": "Do not Auto Shift alpha characters, which include A through Z.",
              "AUTO_SHIFT_ENTER (simple define)": "Auto Shift the enter key.",
              "Auto Shift Per Key": "There are functions that allows you to determine which keys should be autoshifted, much like the tap-hold keys.\n\nThe first of these, used to simply add a key to Auto Shift, is `get_custom_auto_shifted_key`:\n\n```\nbool get_custom_auto_shifted_key(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case KC_DOT:\n            return true;\n        default:\n            return false;\n    }\n}\n```\n\nFor more granular control, there is `get_auto_shifted_key`. The default function looks like this:\n\n```\nbool get_auto_shifted_key(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n# ifndef NO_AUTO_SHIFT_ALPHA\n        case AUTO_SHIFT_ALPHA:\n# endif\n# ifndef NO_AUTO_SHIFT_NUMERIC\n        case AUTO_SHIFT_NUMERIC:\n# endif\n# ifndef NO_AUTO_SHIFT_SPECIAL\n# ifndef NO_AUTO_SHIFT_TAB\n        case KC_TAB:\n#        endif\n# ifndef NO_AUTO_SHIFT_SYMBOLS\n        case AUTO_SHIFT_SYMBOLS:\n#        endif\n# endif\n# ifdef AUTO_SHIFT_ENTER\n        case KC_ENT:\n# endif\n            return true;\n    }\n    return get_custom_auto_shifted_key(keycode, record);\n}\n```\n\nThis functionality is enabled by default, and does not need a define.",
              "AUTO_SHIFT_REPEAT (simple define)": "Enables keyrepeat.",
              "AUTO_SHIFT_NO_AUTO_REPEAT (simple define)": "Disables automatically keyrepeating when `AUTO_SHIFT_TIMEOUT` is exceeded.",
              "AUTO_SHIFT_ALPHA (predefined key group)": "A predefined group of keys representing A through Z.",
              "AUTO_SHIFT_NUMERIC (predefined key group)": "A predefined group of keys representing 0 through 9. Note, these are defined as\n1 through 0 since that is the order they normally appear in.",
              "AUTO_SHIFT_SYMBOLS (predefined key group)": "A predefined group of keys representing symbolic characters which include -\\_, =+, [{, ]}, ;:, '\", ,<, .>,\nand /?.",
              "AUTO_SHIFT_SPECIAL (predefined key group)": "A predefined group of keys that combines AUTO_SHIFT_SYMBOLS and KC_TAB."
            },
            "Custom Shifted Values": "Especially on small keyboards, the default shifted value for many keys is not\noptimal. To provide more customizability, there are two user-definable\nfunctions, `autoshift_press/release_user`. These register or unregister the\ncorrect value for the passed key. Below is an example adding period to Auto\nShift and making its shifted value exclamation point. Make sure to use weak\nmods - setting real would make any keys following it use their shifted values\nas if you were holding the key. Clearing of modifiers is handled by Auto Shift,\nand the OS-sent shift value if keyrepeating multiple keys is always that of\nthe last key pressed (whether or not it's an Auto Shift key).\n\nYou can also have non-shifted keys for the shifted values (or even no shifted\nvalue), just don't set a shift modifier!\n\n```\nbool get_custom_auto_shifted_key(uint16_t keycode, keyrecord_t *record) {\n    switch(keycode) {\n        case KC_DOT:\n            return true;\n        default:\n            return false;\n    }\n}\n\nvoid autoshift_press_user(uint16_t keycode, bool shifted, keyrecord_t *record) {\n    switch(keycode) {\n        case KC_DOT:\n            register_code16((!shifted) ? KC_DOT : KC_EXLM);\n            break;\n        default:\n            if (shifted) {\n                add_weak_mods(MOD_BIT(KC_LSFT));\n            }\n            // & 0xFF gets the Tap key for Tap Holds, required when using Retro Shift\n            register_code16((IS_RETRO(keycode)) ? keycode & 0xFF : keycode);\n    }\n}\n\nvoid autoshift_release_user(uint16_t keycode, bool shifted, keyrecord_t *record) {\n    switch(keycode) {\n        case KC_DOT:\n            unregister_code16((!shifted) ? KC_DOT : KC_EXLM);\n            break;\n        default:\n            // & 0xFF gets the Tap key for Tap Holds, required when using Retro Shift\n            // The IS_RETRO check isn't really necessary here, always using\n            // keycode & 0xFF would be fine.\n            unregister_code16((IS_RETRO(keycode)) ? keycode & 0xFF : keycode);\n    }\n}\n```",
            "Retro Shift": {
              "Retro Shift and Tap Hold Configurations": "Tap Hold Configurations work a little differently when using Retro Shift.\nReferencing `TAPPING_TERM` makes little sense, as holding longer would result in\nshifting one of the keys.\n\n`RETRO_SHIFT` enables [`PERMISSIVE_HOLD`-like behaviour](../tap_hold#permissive-hold) (even if not explicitly enabled) on all mod-taps for which `RETRO_SHIFT` applies."
            },
            "Using Auto Shift Setup": {
              "Setup": "Map three keys temporarily in your keymap:\n\n|Keycode               |Aliases  |Description                                 |\n|----------------------|---------|--------------------------------------------|\n|`QK_AUTO_SHIFT_DOWN`  |`AS_DOWN`|Lower the Auto Shift timeout variable (down)|\n|`QK_AUTO_SHIFT_UP`    |`AS_UP`  |Raise the Auto Shift timeout variable (up)  |\n|`QK_AUTO_SHIFT_REPORT`|`AS_RPT` |Report your current Auto Shift timeout value|\n|`QK_AUTO_SHIFT_ON`    |`AS_ON`  |Turns on the Auto Shift Function            |\n|`QK_AUTO_SHIFT_OFF`   |`AS_OFF` |Turns off the Auto Shift Function           |\n|`QK_AUTO_SHIFT_TOGGLE`|`AS_TOGG`|Toggles the state of the Auto Shift feature |\n\nCompile and upload your new firmware.",
              "Use": {
                "An Example Run": "```\nhello world. my name is john doe. i am a computer programmer playing with\nkeyboards right now.\n\n[PRESS AS_DOWN quite a few times]\n\nheLLo woRLd. mY nAMe is JOHn dOE. i AM A compUTeR proGRaMMER PlAYiNG witH\nKEYboArDS RiGHT NOw.\n\n[PRESS AS_UP a few times]\n\nhello world. my name is john Doe. i am a computer programmer playing with\nkeyboarDs right now.\n\n[PRESS AS_RPT]\n\n115\n```\n\nThe keyboard typed `115` which represents your current `AUTO_SHIFT_TIMEOUT`\nvalue. You are now set! Practice on the *D* key a little bit that showed up\nin the testing and you'll be golden."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 1]"
        },
        {
          "title": "Autocorrect",
          "description": null,
          "content": {
            "How does it work? {#how-does-it-work}": "The feature maintains a small buffer of recent key presses. On each key press, it checks whether the buffer ends in a recognized typo, and if so, automatically sends keystrokes to correct it.\n\nThe tricky part is how to efficiently check the buffer for typos. We dont want to spend too much memory or time on storing or searching the typos. A good solution is to represent the typos with a trie data structure. A trie is a tree data structure where each node is a letter, and words are formed by following a path to one of the leaves.\n\n![An example trie](https://i.imgur.com/HL5DP8H.png)\n\nSince we search whether the buffer ends in a typo, we store the trie writing in reverse. The trie is queried starting from the last letter, then second to last letter, and so on, until either a letter doesnt match or we reach a leaf, meaning a typo was found.",
            "How do I enable Autocorrection {#how-do-i-enable-autocorrection}": "In your `rules.mk`, add this:\n\n```\nAUTOCORRECT_ENABLE = yes\n```\n\nAdditionally, you will need a library for autocorrection.  A small sample library is included by default, so that you can get up and running right away, but you can provide a customized library.\n\nBy default, autocorrect is disabled.  To enable it, you need to use the `AC_TOGG` keycode to enable it. The status is stored in persistent memory, so you shouldn't need to enabled it again.",
            "Customizing autocorrect library {#customizing-autocorrect-library}": {
              "Avoiding false triggers {#avoiding-false-triggers}": "By default, typos are searched within words, to find typos within longer identifiers like maxFitlerOuput. While this is useful, a consequence is that autocorrection will falsely trigger when a typo happens to be a substring of a correctly-spelled word. For instance, if we had thier -> their as an entry, it would falsely trigger on (correct, though relatively uncommon) words like wealthier and filthier.\n\nThe solution is to set a word break : before and/or after the typo to constrain matching. : matches space, period, comma, underscore, digits, and most other non-alpha characters.\n\n|Text             |thier   |:thier  |thier:  |:thier: |\n|-----------------|:------:|:------:|:------:|:------:|\n|see `thier` typo |matches |matches |matches |matches |\n|its `thiers`    |matches |matches |no      |no      |\n|wealthier words  |matches |no      |matches |no      |\n\n:thier: is most restrictive, matching only when thier is a whole word.\n\nThe `qmk generate-autocorrect-data` commands can make an effort to check for entries that would false trigger as substrings of correct words. It searches each typo against a dictionary of 25K English words from the english_words Python package, provided its installed. (run `python3 -m pip install english_words` to install it.)\n\n::: tip\nUnfortunately, this is limited to just english words, at this point.\n:::"
            },
            "Overriding Autocorrect": {
              "Keycodes {#keycodes}": "|Keycode                |Aliases  |Description                                   |\n|-----------------------|---------|----------------------------------------------|\n|`QK_AUTOCORRECT_ON`    |`AC_ON`  |Turns on the Autocorrect feature.             |\n|`QK_AUTOCORRECT_OFF`   |`AC_OFF` |Turns off the Autocorrect feature.            |\n|`QK_AUTOCORRECT_TOGGLE`|`AC_TOGG`|Toggles the status of the Autocorrect feature.|"
            },
            "User Callback Functions": {
              "Process Autocorrect": {
                "Process Autocorrect Example": "If you have a custom keycode `QMKBEST` that should be ignored as part of a word, and another custom keycode `QMKLAYER` that should override autocorrect, both can be added to the bottom of the `process_autocorrect_user` `switch` statement in your source code:\n\n```\nbool process_autocorrect_user(uint16_t *keycode, keyrecord_t *record, uint8_t *typo_buffer_size, uint8_t *mods) {\n    // See quantum_keycodes.h for reference on these matched ranges.\n    switch (*keycode) {\n        // Exclude these keycodes from processing.\n        case KC_LSFT:\n        case KC_RSFT:\n        case KC_CAPS:\n        case QK_TO ... QK_ONE_SHOT_LAYER_MAX:\n        case QK_LAYER_TAP_TOGGLE ... QK_LAYER_MOD_MAX:\n        case QK_ONE_SHOT_MOD ... QK_ONE_SHOT_MOD_MAX:\n            return false;\n\n        // Mask for base keycode from shifted keys.\n        case QK_LSFT ... QK_LSFT + 255:\n        case QK_RSFT ... QK_RSFT + 255:\n            if (*keycode >= QK_LSFT && *keycode <= (QK_LSFT + 255)) {\n                *mods |= MOD_LSFT;\n            } else {\n                *mods |= MOD_RSFT;\n            }\n            *keycode &= 0xFF; // Get the basic keycode.\n            return true;\n#ifndef NO_ACTION_TAPPING\n        // Exclude tap-hold keys when they are held down\n        // and mask for base keycode when they are tapped.\n        case QK_LAYER_TAP ... QK_LAYER_TAP_MAX:\n# ifdef NO_ACTION_LAYER\n            // Exclude Layer Tap, if layers are disabled\n            // but action tapping is still enabled.\n            return false;\n# endif\n        case QK_MOD_TAP ... QK_MOD_TAP_MAX:\n            // Exclude hold if mods other than Shift is not active\n            if (!record->tap.count) {\n                return false;\n            }\n            *keycode &= 0xFF;\n            break;\n#else\n        case QK_MOD_TAP ... QK_MOD_TAP_MAX:\n        case QK_LAYER_TAP ... QK_LAYER_TAP_MAX:\n            // Exclude if disabled\n            return false;\n#endif\n        // Exclude swap hands keys when they are held down\n        // and mask for base keycode when they are tapped.\n        case QK_SWAP_HANDS ... QK_SWAP_HANDS_MAX:\n#ifdef SWAP_HANDS_ENABLE\n            if (*keycode >= 0x56F0 || !record->tap.count) {\n                return false;\n            }\n            *keycode &= 0xFF;\n            break;\n#else\n            // Exclude if disabled\n            return false;\n#endif\n        // Handle custom keycodes\n        case QMKBEST:\n            return false;\n        case QMKLAYER:\n            *typo_buffer_size = 0;\n            return false;\n    }\n\n    // Disable autocorrect while a mod other than shift is active.\n    if ((*mods & ~MOD_MASK_SHIFT) != 0) {\n        *typo_buffer_size = 0;\n        return false;\n    }\n\n    return true;\n}\n```\n\n::: tip\nIn this callback function, `return false` will skip processing of that keycode for autocorrect. Adding `*typo_buffer_size = 0` will also reset the autocorrect buffer at the same time, cancelling any current letters already stored in the buffer.\n:::"
              },
              "Apply Autocorrect": {
                "Apply Autocorrect Example": "This following example will play a sound when a typo is autocorrected and execute the autocorrection itself:\n\n```\n#ifdef AUDIO_ENABLE\nfloat autocorrect_song[][2] = SONG(TERMINAL_SOUND);\n#endif\n\nbool apply_autocorrect(uint8_t backspaces, const char *str, char *typo, char *correct) {\n#ifdef AUDIO_ENABLE\n    PLAY_SONG(autocorrect_song);\n#endif\n    for (uint8_t i = 0; i < backspaces; ++i) {\n        tap_code(KC_BSPC);\n    }\n    send_string_P(str);\n    return false;\n}\n```\n\n::: tip\nIn this callback function, `return false` will stop the normal processing of autocorrect, which requires manually handling of removing the \"bad\" characters and typing the new characters.\n:::\n\n::: warning\n***IMPORTANT***: `str` is a pointer to `PROGMEM` data for the autocorrection.  If you return false, and want to send the string, this needs to use `send_string_P` and not `send_string` nor `SEND_STRING`.\n:::\n\nYou can also use `apply_autocorrect` to detect and display the event but allow internal code to execute the autocorrection with `return true`:\n\n```\nbool apply_autocorrect(uint8_t backspaces, const char *str, char *typo, char *correct) {\n#ifdef OLED_ENABLE\n    oled_write_P(PSTR(\"Auto-corrected\"), false);\n#endif\n#ifdef CONSOLE_ENABLE\n    printf(\"'%s' was corrected to '%s'\\n\", typo, correct);\n#endif\n    return true;\n}\n```"
              },
              "Autocorrect Status": "Additional user callback functions to manipulate Autocorrect:\n\n| Function                   | Description                                  |\n|----------------------------|----------------------------------------------|\n| `autocorrect_enable()`     | Turns Autocorrect on.                        |\n| `autocorrect_disable()`    | Turns Autocorrect off.                       |\n| `autocorrect_toggle()`     | Toggles Autocorrect.                         |\n| `autocorrect_is_enabled()` | Returns true if Autocorrect is currently on. |"
            },
            "Appendix: Trie binary data format {#appendix}": {
              "Encoding {#encoding}": "All autocorrection data is stored in a single flat array autocorrect_data. Each trie node is associated with a byte offset into this array, where data for that node is encoded, beginning with root at offset 0. There are three kinds of nodes. The highest two bits of the first byte of the node indicate what kind:\n\n['00  chain node: a trie node with a single child.', '01  branching node: a trie node with multiple children.', '10  leaf node: a leaf, corresponding to a typo and storing its correction.']\n\n![An example trie](https://i.imgur.com/HL5DP8H.png)\n\n**Branching node**. Each branch is encoded with one byte for the keycode (KC_AKC_Z) followed by a link to the child node. Links between nodes are 16-bit byte offsets relative to the beginning of the array, serialized in little endian order.\n\nAll branches are serialized this way, one after another, and terminated with a zero byte. As described above, the node is identified as a branch by setting the two high bits of the first byte to 01, done by bitwise ORing the first keycode with 64. keycode. The root node for the above figure would be serialized like:\n\n```\n+-------+-------+-------+-------+-------+-------+-------+\n| R|64  |    node 2     |   T   |    node 3     |   0   |\n+-------+-------+-------+-------+-------+-------+-------+\n```\n\n**Chain node**. Tries tend to have long chains of single-child nodes, as seen in the example above with f-i-t-l in fitler. So to save space, we use a different format to encode chains than branching nodes. A chain is encoded as a string of keycodes, beginning with the node closest to the root, and terminated with a zero byte. The child of the last node in the chain is encoded immediately after. That child could be either a branching node or a leaf.\n\nIn the figure above, the f-i-t-l chain is encoded as\n\n```\n+-------+-------+-------+-------+-------+\n|   L   |   T   |   I   |   F   |   0   |\n+-------+-------+-------+-------+-------+\n```\n\nIf we were to encode this chain using the same format used for branching nodes, we would encode a 16-bit node link with every node, costing 8 more bytes in this example. Across the whole trie, this adds up. Conveniently, we can point to intermediate points in the chain and interpret the bytes in the same way as before. E.g. starting at the i instead of the l, and the subchain has the same format.\n\n**Leaf node**. A leaf node corresponds to a particular typo and stores data to correct the typo. The leaf begins with a byte for the number of backspaces to type, and is followed by a null-terminated ASCII string of the replacement text. The idea is, after tapping backspace the indicated number of times, we can simply pass this string to the `send_string_P` function. For fitler, we need to tap backspace 3 times (not 4, because we catch the typo as the final r is pressed) and replace it with lter. To identify the node as a leaf, the two high bits are set to 10 by ORing the backspace count with 128:\n\n```\n+-------+-------+-------+-------+-------+-------+\n| 3|128 |  'l'  |  't'  |  'e'  |  'r'  |   0   |\n+-------+-------+-------+-------+-------+-------+\n```",
              "Decoding {#decoding}": "This format is by design decodable with fairly simple logic. A 16-bit variable state represents our current position in the trie, initialized with 0 to start at the root node. Then, for each keycode, test the highest two bits in the byte at state to identify the kind of node.\n\n['00  **chain node**: If the nodes byte matches the keycode, increment state by one to go to the next byte. If the next byte is zero, increment again to go to the following node.', '01  **branching node**: Search the branches for one that matches the keycode, and follow its node link.', '10  **leaf node**: a typo has been found! We read its first byte for the number of backspaces to type, then pass its following bytes to send_string_P to type the correction.']"
            },
            "Credits": "Credit goes to [getreuer](https://github.com/getreuer) for originally implementing this [here](https://getreuer.info/posts/keyboards/autocorrection/#how-does-it-work).  As well as to [filterpaper](https://github.com/filterpaper) for converting the code to use PROGMEM, and additional improvements."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 2]"
        },
        {
          "title": "Backlighting {#backlighting}",
          "description": null,
          "content": {
            "Usage {#usage}": "Most keyboards have backlighting enabled by default if they support it, but if it is not working for you (or you have added support), check that your `rules.mk` includes the following:\n\n```\nBACKLIGHT_ENABLE = yes\n```",
            "Keycodes {#keycodes}": "|Key                            |Aliases  |Description                        |\n|-------------------------------|---------|-----------------------------------|\n|`QK_BACKLIGHT_TOGGLE`          |`BL_TOGG`|Turn the backlight on or off       |\n|`QK_BACKLIGHT_STEP`            |`BL_STEP`|Cycle through backlight levels     |\n|`QK_BACKLIGHT_ON`              |`BL_ON`  |Set the backlight to max brightness|\n|`QK_BACKLIGHT_OFF`             |`BL_OFF` |Turn the backlight off             |\n|`QK_BACKLIGHT_UP`              |`BL_UP`  |Increase the backlight level       |\n|`QK_BACKLIGHT_DOWN`            |`BL_DOWN`|Decrease the backlight level       |\n|`QK_BACKLIGHT_TOGGLE_BREATHING`|`BL_BRTG`|Toggle backlight breathing         |",
            "Basic Configuration {#basic-configuration}": {
              "\"On\" State {#on-state}": "Most backlight circuits are driven by an N-channel MOSFET or NPN transistor. This means that to turn the transistor *on* and light the LEDs, you must drive the backlight pin, connected to the gate or base, *high*.\nSometimes, however, a P-channel MOSFET, or a PNP transistor is used. In this case, when the transistor is on, the pin is driven *low* instead.\n\nTo configure the \"on\" state of the backlight circuit, add the following to your `config.h`:\n\n```\n#define BACKLIGHT_ON_STATE 0\n```",
              "Multiple Backlight Pins {#multiple-backlight-pins}": "Most keyboards have only one backlight pin which controls all backlight LEDs (especially if the backlight is connected to a hardware PWM pin).\nThe `timer` and `software` drivers allow you to define multiple backlight pins, which will be turned on and off at the same time during the PWM duty cycle.\n\nThis feature allows to set, for instance, the Caps Lock LED's (or any other controllable LED) brightness at the same level as the other LEDs of the backlight. This is useful if you have mapped Control in place of Caps Lock and you need the Caps Lock LED to be part of the backlight instead of being activated when Caps Lock is on, as it is usually wired to a separate pin from the backlight.\n\nTo configure multiple backlight pins, add something like this to your `config.h`, instead of `BACKLIGHT_PIN`:\n\n```\n#define BACKLIGHT_PINS { F5, B2 }\n```"
            },
            "Driver Configuration {#driver-configuration}": {
              "PWM Driver {#pwm-driver}": "This is the default backlight driver, which leverages the hardware PWM output capability of the microcontroller.\n\n```\nBACKLIGHT_DRIVER = pwm\n```",
              "Timer Driver {#timer-driver}": "This driver is similar to the PWM driver, but instead of directly configuring the pin to output a PWM signal, an interrupt handler is attached to the timer to turn the pin on and off as appropriate.\n\n```\nBACKLIGHT_DRIVER = timer\n```",
              "Software Driver {#software-driver}": "In this mode, PWM is \"emulated\" while running other keyboard tasks. It offers maximum hardware compatibility without extra platform configuration. However, breathing is not supported, and the backlight can flicker when the keyboard is busy.\n\n```\nBACKLIGHT_DRIVER = software\n```",
              "Custom Driver {#custom-driver}": "If none of the above drivers apply to your board (for example, you are using a separate IC to control the backlight), you can implement a custom backlight driver using a simple API.\n\n```\nBACKLIGHT_DRIVER = custom\n```\n\n```\nvoid backlight_init_ports(void) {\n    // Optional - runs on startup\n    //   Usually you want to configure pins here\n}\nvoid backlight_set(uint8_t level) {\n    // Optional - runs on level change\n    //   Usually you want to respond to the new value\n}\n\nvoid backlight_task(void) {\n    // Optional - runs periodically\n    //   Note that this is called in the main keyboard loop,\n    //   so long running actions here can cause performance issues\n}\n```"
            },
            "AVR Configuration {#avr-configuration}": {
              "PWM Driver {#avr-pwm-driver}": "The following table describes the supported pins for the PWM driver. Only cells marked with a timer number are capable of hardware PWM output; any others must use the `timer` driver.\n\n|Backlight Pin|AT90USB64/128|AT90USB162|ATmega16/32U4|ATmega16/32U2|ATmega32A|ATmega328/P|\n|-------------|-------------|----------|-------------|-------------|---------|-----------|\n|`B1`         |             |          |             |             |         |Timer 1    |\n|`B2`         |             |          |             |             |         |Timer 1    |\n|`B5`         |Timer 1      |          |Timer 1      |             |         |           |\n|`B6`         |Timer 1      |          |Timer 1      |             |         |           |\n|`B7`         |Timer 1      |Timer 1   |Timer 1      |Timer 1      |         |           |\n|`C4`         |Timer 3      |          |             |             |         |           |\n|`C5`         |Timer 3      |Timer 1   |             |Timer 1      |         |           |\n|`C6`         |Timer 3      |Timer 1   |Timer 3      |Timer 1      |         |           |\n|`D4`         |             |          |             |             |Timer 1  |           |\n|`D5`         |             |          |             |             |Timer 1  |           |",
              "Timer Driver {#avr-timer-driver}": "Any GPIO pin can be used with this driver. The following table describes the supported timers:\n\n|AT90USB64/128|AT90USB162|ATmega16/32U4|ATmega16/32U2|ATmega32A|ATmega328/P|\n|-------------|----------|-------------|-------------|---------|-----------|\n|Timers 1 & 3 |Timer 1   |Timers 1 & 3 |Timer 1      |Timer 1  |Timer 1    |\n\nThe following `#define`s apply only to the `timer` driver:\n\n|Define                 |Default|Description     |\n|-----------------------|-------|----------------|\n|`BACKLIGHT_PWM_TIMER`  |`1`    |The timer to use|\n\nNote that the choice of timer may conflict with the [Audio](audio) feature."
            },
            "ChibiOS/ARM Configuration {#arm-configuration}": {
              "PWM Driver {#arm-pwm-driver}": "Depending on the ChibiOS board configuration, you may need to enable PWM at the keyboard level. For STM32, this would look like:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_PWM TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_PWM_USE_TIM4 // [!code focus]\n#define STM32_PWM_USE_TIM4 TRUE // [!code focus]\n```\n\n:::\n\nThe following `#define`s apply only to the `pwm` driver:\n\n|Define                 |Default      |Description                                                    |\n|-----------------------|-------------|---------------------------------------------------------------|\n|`BACKLIGHT_PWM_DRIVER` |`PWMD4`      |The PWM driver to use                                          |\n|`BACKLIGHT_PWM_CHANNEL`|`3`          |The PWM channel to use                                         |\n|`BACKLIGHT_PAL_MODE`   |`2`          |The pin alternative function to use                            |\n|`BACKLIGHT_PWM_PERIOD` |*Not defined*|The PWM period in counter ticks - Default is platform dependent|\n\nRefer to the ST datasheet for your particular MCU to determine these values. For example, these defaults are set up for pin `B8` on a Proton-C (STM32F303) using `TIM4_CH3` on AF2. Unless you are designing your own keyboard, you generally should not need to change them.",
              "Timer Driver {#arm-timer-driver}": "Depending on the ChibiOS board configuration, you may need to enable general-purpose timers at the keyboard level. For STM32, this would look like:\n\n::: code-group\n\n```\n#pragma once\n\n#define HAL_USE_GPT TRUE // [!code focus]\n\n#include_next <halconf.h>\n```\n\n```\n#pragma once\n\n#include_next <mcuconf.h>\n\n#undef STM32_GPT_USE_TIM15 // [!code focus]\n#define STM32_GPT_USE_TIM15 TRUE // [!code focus]\n```\n\n:::\n\nThe following `#define`s apply only to the `timer` driver:\n\n|Define                |Default |Description     |\n|----------------------|--------|----------------|\n|`BACKLIGHT_GPT_DRIVER`|`GPTD15`|The timer to use|"
            },
            "Example Schematic": "Since the MCU can only supply so much current to its GPIO pins, instead of powering the backlight directly from the MCU, the backlight pin is connected to a transistor or MOSFET that switches the power to the LEDs.\n\nIn this typical example, the backlight LEDs are all connected in parallel towards an N-channel MOSFET. Its gate pin is wired to one of the microcontroller's GPIO pins through a 470 resistor to avoid ringing.\nA pulldown resistor is also placed between the gate pin and ground to keep it at a defined state when it is not otherwise being driven by the MCU.\nThe values of these resistors are not critical - see [this Electronics StackExchange question](https://electronics.stackexchange.com/q/68748) for more information.\n\n![Backlight example circuit](https://i.imgur.com/BmAvoUC.png)",
            "API {#api}": {
              "`void backlight_toggle(void)` {#api-backlight-toggle}": "Toggle the backlight on or off.\n\n[]",
              "`void backlight_enable(void)` {#api-backlight-enable}": "Turn the backlight on.\n\n[]",
              "`void backlight_disable(void)` {#api-backlight-disable}": "Turn the backlight off.\n\n[]",
              "`void backlight_step(void)` {#api-backlight-step}": "Cycle through backlight levels.\n\n[]",
              "`void backlight_increase(void)` {#api-backlight-increase}": "Increase the backlight level.\n\n[]",
              "`void backlight_decrease(void)` {#api-backlight-decrease}": "Decrease the backlight level.\n\n[]",
              "`void backlight_level(uint8_t level)` {#api-backlight-level}": {
                "Arguments {#api-backlight-level-arguments}": [
                  "`uint8_t level`  \nThe level to set, from 0 to `BACKLIGHT_LEVELS`."
                ]
              },
              "`uint8_t get_backlight_level(void)` {#api-get-backlight-level}": {
                "Return Value {#api-get-backlight-level-return}": "The current backlight level, from 0 to `BACKLIGHT_LEVELS`.\n\n[]"
              },
              "`bool is_backlight_enabled(void)` {#api-is-backlight-enabled}": {
                "Return Value {#api-is-backlight-enabled-return}": "`true` if the backlight is enabled.\n\n[]"
              },
              "`void backlight_toggle_breathing(void)` {#api-backlight-toggle-breathing}": "Toggle backlight breathing on or off.\n\n[]",
              "`void backlight_enable_breathing(void)` {#api-backlight-enable-breathing}": "Turn backlight breathing on.\n\n[]",
              "`void backlight_disable_breathing(void)` {#api-backlight-disable-breathing}": "Turn backlight breathing off.\n\n[]",
              "`bool is_backlight_breathing(void)` {#api-is-backlight-breathing}": {
                "Return Value {#api-is-backlight-breathing-return}": "`true` if backlight breathing is enabled."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 3]"
        },
        {
          "title": "Bootmagic {#bootmagic}",
          "description": null,
          "content": {
            "Split Keyboards": "When [handedness](split_keyboard#setting-handedness) is predetermined via options like `SPLIT_HAND_PIN` or `EE_HANDS`, you might need to configure a different key between halves. To identify the correct key for the right half, examine the split key matrix defined in the `<keyboard>.h` file, e.g.:\n\n```\n#define LAYOUT_split_3x5_2( \\\n        L01, L02, L03, L04, L05,   R01, R02, R03, R04, R05, \\\n        L06, L07, L08, L09, L10,   R06, R07, R08, R09, R10, \\\n        L11, L12, L13, L14, L15,   R11, R12, R13, R14, R15, \\\n                       L16, L17,   R16, R17                 \\\n    ) \\\n    { \\\n        { L01, L02, L03, L04, L05 }, \\\n        { L06, L07, L08, L09, L10 }, \\\n        { L11, L12, L13, L14, L15 }, \\\n        { L16, L17, KC_NO, KC_NO, KC_NO }, \\\n        { R01, R02, R03, R04, R05 }, \\\n        { R06, R07, R08, R09, R10 }, \\\n        { R11, R12, R13, R14, R15 }, \\\n        { R16, R17, KC_NO, KC_NO, KC_NO }  \\\n    }\n```\n\nIf you pick the top right key for the right half, it is `R05` on the top layout. Within the key matrix below, `R05` is located on row 4 columnn 4. To use that key as the right half's Bootmagic trigger, add these entries to your `config.h` file:\n\n```\n#define BOOTMAGIC_ROW_RIGHT 4\n#define BOOTMAGIC_COLUMN_RIGHT 4\n```\n\n::: tip\nThese values are not set by default.\n:::",
            "Advanced Bootmagic": "The `bootmagic_scan` function is defined weakly, so that you can replace this in your code, if you need. A great example of this is the Zeal60 boards that have some additional handling needed.\n\nTo replace the function, all you need to do is add something like this to your code:\n\n```\nvoid bootmagic_scan(void) {\n    matrix_scan();\n    wait_ms(DEBOUNCE * 2);\n    matrix_scan();\n\n    if (matrix_get_row(BOOTMAGIC_ROW) & (1 << BOOTMAGIC_COLUMN)) {\n      // Jump to bootloader.\n      bootloader_jump();\n    }\n}\n```\n\nYou can define additional logic here. For instance, resetting the EEPROM or requiring additional keys to be pressed to trigger Bootmagic. Keep in mind that `bootmagic_scan` is called before a majority of features are initialized in the firmware.",
            "Addenda": "To manipulate settings that were formerly configured through the now-deprecated full Bootmagic feature, see [Magic Keycodes](../keycodes_magic).\n\nThe Command feature, formerly known as Magic, also allows you to control different aspects of your keyboard. While it shares some functionality with Magic Keycodes, it also allows you to do things that Magic Keycodes cannot, such as printing version information to the console. For more information, see [Command](command)."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 4]"
        },
        {
          "title": "Caps Word",
          "description": null,
          "content": {
            "How do I enable Caps Word {#how-do-i-enable-caps-word}": {
              "Troubleshooting: Command {#troubleshooting-command}": "When using `BOTH_SHIFTS_TURNS_ON_CAPS_WORD`, you might see a compile message\n**\"BOTH_SHIFTS_TURNS_ON_CAPS_WORD and Command should not be enabled at the same\ntime, since both use the Left Shift + Right Shift key combination.\"**\n\nMany keyboards enable the [Command feature](command), which by\ndefault is also activated using the Left Shift + Right Shift key combination. To\nfix this conflict, please disable Command by adding in rules.mk:\n\n```\nCOMMAND_ENABLE = no\n```\n\nOr configure Command to use another key combination like Left Ctrl + Right Ctrl\nby defining `IS_COMMAND()` in config.h:\n\n```\n// Activate Command with Left Ctrl + Right Ctrl.\n#define IS_COMMAND() (get_mods() == MOD_MASK_CTRL)\n```"
            },
            "Customizing Caps Word {#customizing-caps-word}": {
              "Invert on shift {#invert-on-shift}": "By default, Caps Word turns off when Shift keys are pressed, considering them as\nword-breaking. Alternatively with the `CAPS_WORD_INVERT_ON_SHIFT` option,\npressing the Shift key continues Caps Word and inverts the shift state. This\nis convenient for uncapitalizing one or a few letters within a word, for\nexample with Caps Word on, typing \"D, B, Shift+A, Shift+A, S\" produces \"DBaaS\",\nor typing \"P, D, F, Shift+S\" produces \"PDFs\".\n\nEnable it by adding in config.h\n\n```\n#define CAPS_WORD_INVERT_ON_SHIFT\n```\n\nThis option works with regular Shift keys `KC_LSFT` and `KC_RSFT`, mod-tap Shift\nkeys, and one-shot Shift keys. Note that while Caps Word is on, one-shot Shift\nkeys behave like regular Shift keys, and have effect only while they are held.",
              "Idle timeout {#idle-timeout}": "Caps Word turns off automatically if no keys are pressed for\n`CAPS_WORD_IDLE_TIMEOUT` milliseconds. The default is 5000 (5 seconds).\nConfigure the timeout duration in config.h, for instance\n\n```\n#define CAPS_WORD_IDLE_TIMEOUT 3000  // 3 seconds.\n```\n\nSetting `CAPS_WORD_IDLE_TIMEOUT` to 0 configures Caps Word to never time out.\nCaps Word then remains active indefinitely until a word breaking key is pressed.",
              "Functions {#functions}": "Functions to manipulate Caps Word:\n\n| Function                | Description                                    |\n|-------------------------|------------------------------------------------|\n| `caps_word_on()`        | Turns Caps Word on.                            |\n| `caps_word_off()`       | Turns Caps Word off.                           |\n| `caps_word_toggle()`    | Toggles Caps Word.                             |\n| `is_caps_word_on()`     | Returns true if Caps Word is currently on.     |",
              "Configure which keys are \"word breaking\" {#configure-which-keys-are-word-breaking}": "You can define the `caps_word_press_user(uint16_t keycode)` callback to\nconfigure which keys should be shifted and which keys are considered \"word\nbreaking\" and stop Caps Word.\n\nThe callback is called on every key press while Caps Word is active. When the\nkey should be shifted (that is, a letter key), the callback should call\n`add_weak_mods(MOD_BIT(KC_LSFT))` to shift the key. Returning true continues the\ncurrent \"word,\" while returning false is \"word breaking\" and deactivates Caps\nWord. The default callback is\n\n```\nbool caps_word_press_user(uint16_t keycode) {\n    switch (keycode) {\n        // Keycodes that continue Caps Word, with shift applied.\n        case KC_A ... KC_Z:\n        case KC_MINS:\n            add_weak_mods(MOD_BIT(KC_LSFT));  // Apply shift to next key.\n            return true;\n\n        // Keycodes that continue Caps Word, without shifting.\n        case KC_1 ... KC_0:\n        case KC_BSPC:\n        case KC_DEL:\n        case KC_UNDS:\n            return true;\n\n        default:\n            return false;  // Deactivate Caps Word.\n    }\n}\n```",
              "Representing Caps Word state {#representing-caps-word-state}": "Define `caps_word_set_user(bool active)` to get callbacks when Caps Word turns\non or off. This is useful to represent the current Caps Word state, e.g. by\nsetting an LED or playing a sound. In your keymap, define\n\n```\nvoid caps_word_set_user(bool active) {\n    if (active) {\n        // Do something when Caps Word activates.\n    } else {\n        // Do something when Caps Word deactivates.\n    }\n}\n```"
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 5]"
        },
        {
          "title": "Combos",
          "description": null,
          "content": {
            "Advanced Keycodes Support": "Advanced keycodes, such as [Mod-Tap](../mod_tap) and [Tap Dance](tap_dance) are also supported together with combos. If you use these advanced keycodes in your keymap, you will need to place the full keycode in the combo definition, e.g.:\n\n```\nconst uint16_t PROGMEM test_combo1[] = {LSFT_T(KC_A), LT(1, KC_B), COMBO_END};\nconst uint16_t PROGMEM test_combo2[] = {TD(TD_ESC_CAPS), KC_F1, COMBO_END};\n```",
            "Overlapping Combos": "It is possible to overlap combos. Before, with the example below both combos would activate when all three keys were pressed. Now only the three key combo will activate.\n\n```\nconst uint16_t PROGMEM test_combo1[] = {LSFT_T(KC_A), LT(1, KC_B), COMBO_END};\nconst uint16_t PROGMEM test_combo2[] = {LSFT_T(KC_A), LT(1, KC_B), KC_C, COMBO_END};\ncombo_t key_combos[] = {\n    COMBO(test_combo1, KC_ESC)\n    COMBO(test_combo2, KC_TAB)\n};\n```",
            "Examples": "A long list of combos can be defined in an `enum` list:\n\n```\nenum combos {\n  AB_ESC,\n  JK_TAB,\n  QW_SFT,\n  SD_LAYER\n};\n\nconst uint16_t PROGMEM ab_combo[] = {KC_A, KC_B, COMBO_END};\nconst uint16_t PROGMEM jk_combo[] = {KC_J, KC_K, COMBO_END};\nconst uint16_t PROGMEM qw_combo[] = {KC_Q, KC_W, COMBO_END};\nconst uint16_t PROGMEM sd_combo[] = {KC_S, KC_D, COMBO_END};\n\ncombo_t key_combos[] = {\n  [AB_ESC] = COMBO(ab_combo, KC_ESC),\n  [JK_TAB] = COMBO(jk_combo, KC_TAB),\n  [QW_SFT] = COMBO(qw_combo, KC_LSFT),\n  [SD_LAYER] = COMBO(sd_combo, MO(_LAYER)),\n};\n```\n\nFor a more complicated implementation, you can use the `process_combo_event` function to add custom handling.\n\n```\nenum combo_events {\n  EM_EMAIL,\n  BSPC_LSFT_CLEAR,\n};\n\nconst uint16_t PROGMEM email_combo[] = {KC_E, KC_M, COMBO_END};\nconst uint16_t PROGMEM clear_line_combo[] = {KC_BSPC, KC_LSFT, COMBO_END};\n\ncombo_t key_combos[] = {\n  [EM_EMAIL] = COMBO_ACTION(email_combo),\n  [BSPC_LSFT_CLEAR] = COMBO_ACTION(clear_line_combo),\n};\n/* COMBO_ACTION(x) is same as COMBO(x, KC_NO) */\n\nvoid process_combo_event(uint16_t combo_index, bool pressed) {\n  switch(combo_index) {\n    case EM_EMAIL:\n      if (pressed) {\n        SEND_STRING(\"john.doe@example.com\");\n      }\n      break;\n    case BSPC_LSFT_CLEAR:\n      if (pressed) {\n        tap_code16(KC_END);\n        tap_code16(S(KC_HOME));\n        tap_code16(KC_BSPC);\n      }\n      break;\n  }\n}\n```\n\nThis will send \"john.doe@example.com\" if you chord E and M together, and clear the current line with Backspace and Left-Shift. You could change this to do stuff like play sounds or change settings.\n\nIt is worth noting that `COMBO_ACTION`s are not needed anymore. As of [PR#8591](https://github.com/qmk/qmk_firmware/pull/8591/), it is possible to run your own custom keycodes from combos. Just define the custom keycode, program its functionality in `process_record_user`, and define a combo with `COMBO(<key_array>, <your_custom_keycode>)`. See the first example in [Macros](../feature_macros).",
            "Keycodes": "You can enable, disable and toggle the Combo feature on the fly. This is useful if you need to disable them temporarily, such as for a game. The following keycodes are available for use in your `keymap.c`\n\n|Keycode          |Aliases  |Description                     |\n|-----------------|---------|--------------------------------|\n|`QK_COMBO_ON`    |`CM_ON`  |Turns on Combo feature          |\n|`QK_COMBO_OFF`   |`CM_OFF` |Turns off Combo feature         |\n|`QK_COMBO_TOGGLE`|`CM_TOGG`|Toggles Combo feature on and off|",
            "Advanced Configuration": {
              "Combo Term": "By default, the timeout for the Combos to be recognized is set to 50ms. This can be changed if accidental combo misfires are happening or if you're having difficulties pressing keys at the same time. For instance, `#define COMBO_TERM 40` would set the timeout period for combos to 40ms.",
              "Buffer and state sizes": "If you're using long combos, or you have a lot of overlapping combos, you may run into issues with this, as the buffers may not be large enough to accommodate what you're doing. In this case, you can configure the sizes of the buffers used. Be aware, larger combo sizes and larger buffers will increase memory usage!\n\nTo configure the amount of keys a combo can be composed of, change the following:\n\n| Keys | Define to be set                  |\n|------|-----------------------------------|\n| 6    | `#define EXTRA_SHORT_COMBOS`      |\n| 8    | QMK Default                       |\n| 16   | `#define EXTRA_LONG_COMBOS`       |\n| 32   | `#define EXTRA_EXTRA_LONG_COMBOS` |\n\nDefining `EXTRA_SHORT_COMBOS` combines a combo's internal state into just one byte. This can, in some cases, save some memory. If it doesn't, no point using it. If you do, you also have to make sure you don't define combos with more than 6 keys.\n\nProcessing combos has two buffers, one for the key presses, another for the combos being activated. Use the following options to configure the sizes of these buffers:\n\n| Define                              | Default                                              |\n|-------------------------------------|------------------------------------------------------|\n| `#define COMBO_KEY_BUFFER_LENGTH 8` | 8 (the key amount `(EXTRA_)EXTRA_LONG_COMBOS` gives) |\n| `#define COMBO_BUFFER_LENGTH 4`     | 4                                                    |",
              "Modifier Combos": "If a combo resolves to a Modifier, the window for processing the combo can be extended independently from normal combos. By default, this is disabled but can be enabled with `#define COMBO_MUST_HOLD_MODS`, and the time window can be configured with `#define COMBO_HOLD_TERM 150` (default: `TAPPING_TERM`). With `COMBO_MUST_HOLD_MODS`, you cannot tap the combo any more which makes the combo less prone to misfires.",
              "Strict key press order": "By defining `COMBO_MUST_PRESS_IN_ORDER` combos only activate when the keys are pressed in the same order as they are defined in the key array.",
              "Per Combo Timing, Holding, Tapping and Key Press Order": "For each combo, it is possible to configure the time window it has to pressed in, if it needs to be held down, if it needs to be tapped, or if its keys need to be pressed in order.\n\nFor example, tap-only combos are useful if any (or all) of the underlying keys are mod-tap or layer-tap keys. When you tap the combo, you get the combo result. When you press the combo and hold it down, the combo doesn't activate. Instead the keys are processed separately as if the combo wasn't even there.\n\nIn order to use these features, the following configuration options and functions need to be defined. Coming up with useful timings and configuration is left as an exercise for the reader.\n\n| Config Flag                 | Function                                                  | Description                                                                                            |\n|-----------------------------|-----------------------------------------------------------|--------------------------------------------------------------------------------------------------------|\n| `COMBO_TERM_PER_COMBO`      | `uint16_t get_combo_term(uint16_t combo_index, combo_t *combo)`  | Optional per-combo timeout window. (default: `COMBO_TERM`)                                             |\n| `COMBO_MUST_HOLD_PER_COMBO` | `bool get_combo_must_hold(uint16_t combo_index, combo_t *combo)` | Controls if a given combo should fire immediately on tap or if it needs to be held. (default: `false`) |\n| `COMBO_MUST_TAP_PER_COMBO`  | `bool get_combo_must_tap(uint16_t combo_index, combo_t *combo)`  | Controls if a given combo should fire only if tapped within `COMBO_HOLD_TERM`. (default: `false`)      |\n| `COMBO_MUST_PRESS_IN_ORDER_PER_COMBO` | `bool get_combo_must_press_in_order(uint16_t combo_index, combo_t *combo)` | Controls if a given combo should fire only if its keys are pressed in order. (default: `true`) |\n\nExamples:\n\n```\n#ifdef COMBO_TERM_PER_COMBO\nuint16_t get_combo_term(uint16_t combo_index, combo_t *combo) {\n    // decide by combo->keycode\n    switch (combo->keycode) {\n        case KC_X:\n            return 50;\n    }\n\n    // or with combo index, i.e. its name from enum.\n    switch (combo_index) {\n        case COMBO_NAME_HERE:\n            return 9001;\n    }\n\n    // And if you're feeling adventurous, you can even decide by the keys in the chord,\n    // i.e. the exact array of keys you defined for the combo.\n    // This can be useful if your combos have a common key and you want to apply the\n    // same combo term for all of them.\n    if (combo->keys[0] == KC_ENT) { // if first key in the array is Enter\n        return 150;\n    }\n\n    return COMBO_TERM;\n}\n#endif\n\n#ifdef COMBO_MUST_HOLD_PER_COMBO\nbool get_combo_must_hold(uint16_t combo_index, combo_t *combo) {\n    // Same as above, decide by keycode, the combo index, or by the keys in the chord.\n\n    if (KEYCODE_IS_MOD(combo->keycode) || \n        (combo->keycode >= QK_MOMENTARY && combo->keycode <= QK_MOMENTARY_MAX) // MO(kc) keycodes\n        ) {\n        return true;\n    }\n\n    switch (combo_index) {\n        case COMBO_NAME_HERE:\n            return true;\n    }\n\n    return false;\n}\n#endif\n\n#ifdef COMBO_MUST_TAP_PER_COMBO\nbool get_combo_must_tap(uint16_t combo_index, combo_t *combo) {\n    // If you want all combos to be tap-only, just uncomment the next line\n    // return true\n\n    // If you want *all* combos, that have Mod-Tap/Layer-Tap/Momentary keys in its chord, to be tap-only, this is for you:\n    uint16_t key;\n    uint8_t idx = 0;\n    while ((key = pgm_read_word(&combo->keys[idx])) != COMBO_END) {\n        switch (key) {\n            case QK_MOD_TAP...QK_MOD_TAP_MAX:\n            case QK_LAYER_TAP...QK_LAYER_TAP_MAX:\n            case QK_MOMENTARY...QK_MOMENTARY_MAX:\n                return true;\n        }\n        idx += 1;\n    }\n    return false;\n\n}\n#endif\n\n#ifdef COMBO_MUST_PRESS_IN_ORDER_PER_COMBO\nbool get_combo_must_press_in_order(uint16_t combo_index, combo_t *combo) {\n    switch (combo_index) {\n        /* List combos here that you want to only activate if their keys\n         * are pressed in the same order as they are defined in the combo's key\n         * array. */\n        case COMBO_NAME_HERE:\n            return true;\n        default:\n            return false;\n    }\n}\n#endif\n```",
              "Generic hook to (dis)allow a combo activation": "By defining `COMBO_SHOULD_TRIGGER` and its companying function `bool combo_should_trigger(uint16_t combo_index, combo_t *combo, uint16_t keycode, keyrecord_t *record)` you can block or allow combos to activate on the conditions of your choice.\nFor example, you could disallow some combos on the base layer and allow them on another. Or disable combos on the home row when a timer is running.\n\nExamples:\n\n```\nbool combo_should_trigger(uint16_t combo_index, combo_t *combo, uint16_t keycode, keyrecord_t *record) {\n    /* Disable combo `SOME_COMBO` on layer `_LAYER_A` */\n    switch (combo_index) {\n        case SOME_COMBO:\n            if (layer_state_is(_LAYER_A)) {\n                return false;\n            }\n    }\n\n    return true;\n}\n```",
              "Combo timer": {
                "`#define COMBO_STRICT_TIMER`": "With `COMBO_STRICT_TIMER`, the timer is started only on the first key press.\nInputting combos is now less relaxed; you need to make sure the full chord is pressed within the `COMBO_TERM`.\nMisfires are less common but if you type multiple combos fast, there is a\nchance that the latter ones might not activate properly.",
                "`#define COMBO_NO_TIMER`": "By defining `COMBO_NO_TIMER`, the timer is disabled completely and combos are activated on the first key release.\nThis also disables the \"must hold\" functionalities as they just wouldn't work at all."
              },
              "Customizable key releases": "By defining `COMBO_PROCESS_KEY_RELEASE` and implementing the function `bool process_combo_key_release(uint16_t combo_index, combo_t *combo, uint8_t key_index, uint16_t keycode)`, you can run your custom code on each key release after a combo was activated. For example you could change the RGB colors, activate haptics, or alter the modifiers.\n\nYou can also release a combo early by returning `true` from the function.\n\nHere's an example where a combo resolves to two modifiers, and on key releases the modifiers are unregistered one by one, depending on which key was released.\n\n```\nenum combos {\n  AB_MODS\n};\n\nconst uint16_t PROGMEM ab_combo[] = {KC_A, KC_B, COMBO_END};\n\ncombo_t key_combos[] = {\n  [AB_MODS] = COMBO(ab_combo, LCTL(KC_LSFT)),\n};\n\nbool process_combo_key_release(uint16_t combo_index, combo_t *combo, uint8_t key_index, uint16_t keycode) {\n    switch (combo_index) {\n        case AB_MODS:\n            switch(keycode) {\n                case KC_A:\n                    unregister_mods(MOD_MASK_CTRL);\n                    break;\n                case KC_B:\n                    unregister_mods(MOD_MASK_SHIFT);\n                    break;\n            }\n            return false; // do not release combo\n    }\n    return false;\n}\n```",
              "Customizable key repress": "By defining `COMBO_PROCESS_KEY_REPRESS` and implementing `bool process_combo_key_repress(uint16_t combo_index, combo_t *combo, uint8_t key_index, uint16_t keycode)` you can run your custom code when you repress just released key of a combo. By combining it with custom `process_combo_event` we can for example make special handling for Alt+Tab to switch windows, which, on combo F+G activation, registers Alt and presses Tab - then we can switch windows forward by releasing G and pressing it again, or backwards with F key. Here's the full example:\n\n```\nenum combos {\n    CMB_ALTTAB\n};\n\nconst uint16_t PROGMEM combo_alttab[] = {KC_F, KC_G, COMBO_END};\n\ncombo_t key_combos[COMBO_LENGTH] = {\n    [CMB_ALTTAB] = COMBO(combo_alttab, KC_NO), // KC_NO to leave processing for process_combo_event\n};\n\nvoid process_combo_event(uint16_t combo_index, bool pressed) {\n    switch (combo_index) {\n        case CMB_ALTTAB:\n            if (pressed) {\n                register_mods(MOD_LALT);\n                tap_code(KC_TAB);\n            } else {\n                unregister_mods(MOD_LALT);\n            }\n            break;\n    }\n}\n\nbool process_combo_key_repress(uint16_t combo_index, combo_t *combo, uint8_t key_index, uint16_t keycode) {\n    switch (combo_index) {\n        case CMB_ALTTAB:\n            switch (keycode) {\n                case KC_F:\n                    tap_code16(S(KC_TAB));\n                    return true;\n                case KC_G:\n                    tap_code(KC_TAB);\n                    return true;\n            }\n    }\n    return false;\n}\n```",
              "Layer independent combos": {
                "Combo reference layers by layer.": "If not using `COMBO_ONLY_FROM_LAYER` it is possible to specify a\ncombo reference layer for any layer using the `combo_ref_from_layer` hook. \nThe combo macros automatically create this function from the `COMBO_REF_LAYER()`\nentries given.\n\nThis function returns the assigned reference layer for the current layer.\nif there is no match, it returns the  default reference layer if set, \nor the current layer otherwise. A default layer can be set with\n`DEFAULT_REF_LAYER(_MY_COMBO_REF_LAYER)`\n\nIf not set, the default reference layer selection from the automatically generated \n`combo-ref-from-layer()` will be the current layer.\n\nThe following `combo_ref_from_layer` function \nwill give a reference layer of _QWERTY for the _DVORAK layer and\nwill give the _NAV layer as a reference to it's self. All other layers\nwill have the default for their combo reference layer. If the default\nis not set, all other layers will reference themselves.\n\n```\n#define COMBO_REF_DEFAULT _MY_COMBO_LAYER\n\nuint8_t combo_ref_from_layer(uint8_t layer){\n    switch (get_highest_layer(layer_state)){\n        case _DVORAK: return _QWERTY;\n        case _NAV: return _NAV;\n        default: return _MY_COMBO_LAYER;\n    }\n    return layer;  // important if default is not in case.\n}\n```\n\nThe equivalent definition using the combo macros is this:\n\n```\nCOMBO_REF_LAYER(_DVORAK, _QWERTY)\nCOMBO_REF_LAYER(_NAV, _NAV)\nDEFAULT_REF_LAYER(_MY_COMBO_LAYER).\n```"
              }
            },
            "User callbacks": "In addition to the keycodes, there are a few functions that you can use to set the status, or check it:\n\n|Function   |Description                                                         |\n|-----------|--------------------------------------------------------------------|\n| `combo_enable()`     | Enables the combo feature                               |\n| `combo_disable()`    | Disables the combo feature, and clears the combo buffer |\n| `combo_toggle()`     | Toggles the state of the combo feature                  |\n| `is_combo_enabled()` | Returns the status of the combo feature state (true or false) |",
            "Dictionary Management": "Having 3 places to update when adding new combos or altering old ones does become cumbersome when you have a lot of combos. We can alleviate this with some magic! ... If you consider C macros magic.\nFirst, you need to add `VPATH += keyboards/gboards` to your `rules.mk`. Next, include the file `g/keymap_combo.h` in your `keymap.c`.\n\n::: warning\nThis functionality uses the same `process_combo_event` function as `COMBO_ACTION` macros do, so you cannot use the function yourself in your keymap. Instead, you have to define the `case`s of the `switch` statement by themselves within `inject.h`, which `g/keymap_combo.h` will then include into the function.\n:::\n\nThen, write your combos in `combos.def` file in the following manner:\n\n```\n// Alternate reference layers by layer\n//               Layer     Reference layer\nCOMBO_REF_LAYER(_DVORAK, _QWERTY)  // reference the qwerty layer for dvorak.\nCOMBO_REF_LAYER(_NAV, _NAV) // explicit reference to self instead of the default.\n\n//   name     result    chord keys\nCOMB(AB_ESC,   KC_ESC,   KC_A, KC_B)\nCOMB(JK_TAB,   KC_TAB,   KC_J, KC_K)\nCOMB(JKL_SPC,  KC_SPC,   KC_J, KC_K, KC_L)\nCOMB(BSSL_CLR, KC_NO,    KC_BSPC, KC_LSFT) // using KC_NO as the resulting keycode is the same as COMBO_ACTION before.\nCOMB(QW_UNDO,  C(KC_Z),  KC_Q, KC_W)\nSUBS(TH_THE,   \"the\",    KC_T, KC_H) // SUBS uses SEND_STRING to output the given string.\n...\n```\n\nFor small to huge ready made dictionaries of combos, you can check out http://combos.gboards.ca/."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 6]"
        },
        {
          "title": "Command",
          "description": null,
          "content": {
            "Usage": "To use Command, hold down the key combination defined by the `IS_COMMAND()` macro. By default this is Left Shift+Right Shift. Then, press the key corresponding to the command you want. For example, to output the current QMK version to the QMK Toolbox console, press Left Shift+Right Shift+`V`.",
            "Configuration": "If you would like to change the key assignments for Command, `#define` these in your `config.h` at either the keyboard or keymap level. All keycode assignments here must omit the `KC_` prefix.\n\n|Define                              |Default                         |Description                                     |\n|------------------------------------|--------------------------------|------------------------------------------------|\n|`IS_COMMAND()`                      |`(get_mods() == MOD_MASK_SHIFT)`|The key combination to activate Command         |\n|`MAGIC_KEY_SWITCH_LAYER_WITH_FKEYS` |`true`                          |Set default layer with the Function row         |\n|`MAGIC_KEY_SWITCH_LAYER_WITH_NKEYS` |`true`                          |Set default layer with the number keys          |\n|`MAGIC_KEY_SWITCH_LAYER_WITH_CUSTOM`|`false`                         |Set default layer with `MAGIC_KEY_LAYER0..9`    |\n|`MAGIC_KEY_DEBUG`                   |`D`                             |Toggle debugging over serial                    |\n|`MAGIC_KEY_DEBUG_MATRIX`            |`X`                             |Toggle key matrix debugging                     |\n|`MAGIC_KEY_DEBUG_KBD`               |`K`                             |Toggle keyboard debugging                       |\n|`MAGIC_KEY_DEBUG_MOUSE`             |`M`                             |Toggle mouse debugging                          |\n|`MAGIC_KEY_CONSOLE`                 |`C`                             |Enable the Command console                      |\n|`MAGIC_KEY_VERSION`                 |`V`                             |Print the running QMK version to the console    |\n|`MAGIC_KEY_STATUS`                  |`S`                             |Print the current keyboard status to the console|\n|`MAGIC_KEY_HELP`                    |`H`                             |Print Command help to the console               |\n|`MAGIC_KEY_HELP_ALT`                |`SLASH`                         |Print Command help to the console (alternate)   |\n|`MAGIC_KEY_LAYER0`                  |`0`                             |Make layer 0 the default layer                  |\n|`MAGIC_KEY_LAYER0_ALT`              |`GRAVE`                         |Make layer 0 the default layer (alternate)      |\n|`MAGIC_KEY_LAYER1`                  |`1`                             |Make layer 1 the default layer                  |\n|`MAGIC_KEY_LAYER2`                  |`2`                             |Make layer 2 the default layer                  |\n|`MAGIC_KEY_LAYER3`                  |`3`                             |Make layer 3 the default layer                  |\n|`MAGIC_KEY_LAYER4`                  |`4`                             |Make layer 4 the default layer                  |\n|`MAGIC_KEY_LAYER5`                  |`5`                             |Make layer 5 the default layer                  |\n|`MAGIC_KEY_LAYER6`                  |`6`                             |Make layer 6 the default layer                  |\n|`MAGIC_KEY_LAYER7`                  |`7`                             |Make layer 7 the default layer                  |\n|`MAGIC_KEY_LAYER8`                  |`8`                             |Make layer 8 the default layer                  |\n|`MAGIC_KEY_LAYER9`                  |`9`                             |Make layer 9 the default layer                  |\n|`MAGIC_KEY_BOOTLOADER`              |`B`                             |Jump to bootloader                              |\n|`MAGIC_KEY_BOOTLOADER_ALT`          |`ESC`                           |Jump to bootloader (alternate)                  |\n|`MAGIC_KEY_LOCK`                    |`CAPS`                          |Lock the keyboard so nothing can be typed       |\n|`MAGIC_KEY_EEPROM`                  |`E`                             |Print stored EEPROM config to the console       |\n|`MAGIC_KEY_EEPROM_CLEAR`            |`BSPACE`                        |Clear the EEPROM                                |\n|`MAGIC_KEY_NKRO`                    |`N`                             |Toggle N-Key Rollover (NKRO)                    |\n|`MAGIC_KEY_SLEEP_LED`               |`Z`                             |Toggle LED when computer is sleeping            |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 7]"
        },
        {
          "title": "Community Modules",
          "description": null,
          "content": {
            "Adding a Community Module to your build": "Community Modules have first-class support for [External Userspace](/newbs_external_userspace), and QMK strongly recommends using External Userspace for hosting keymaps and Community Modules together.\n\nModules must live in either of two locations:\n\n['`<QMK_USERSPACE>/modules/`', '`<QMK_FIRMWARE>/modules/`']\n\nA basic module is provided within QMK itself -- `qmk/hello_world` -- which prints out a notification over [HID console](/faq_debug) after 10 seconds, and adds a new keycode, `COMMUNITY_MODULE_HELLO` (aliased to `CM_HELO`) which types `Hello there.` to the active application when the corresponding key is pressed.\n\nTo add this module to your build, in your keymap's directory create a `keymap.json` with the following content:\n\n```\n{\n    \"modules\": [\n        \"qmk/hello_world\"\n    ]\n}\n```\n\nIf you already have a `keymap.json`, you'll need to manually merge the `modules` section into your keymap.\n\n::: warning\nCommunity Modules are not supported by QMK Configurator. If you wish to use Community Modules, you must build your own firmware.\n:::",
            "Adding a Community Module to your External Userspace": "Module authors are encouraged to provide a git repository on GitHub which may be imported into a user's external userspace. If a user wishes to import a module repository, they can do the following:\n\n```\ncd /path/to/your/external/userspace\nmkdir -p modules\n# Replace the following {user} and {repo} with the author's community module repository\ngit submodule add https://github.com/{user}/{repo}.git modules/{user}\ngit submodule update --init --recursive\n```\n\nThis will ensure the copy of the module is made in your userspace.\n\nAdd a new entry into your `keymap.json` with the desired modules, replacing `{user}` and `{module_name}` as appropriate:\n\n```\n{\n    \"modules\": [\n        \"qmk/hello_world\",\n        \"{user}/{module_name}\"\n    ]\n}\n```\n\n::: info\nThe module listed in `keymap.json` is the relative path within the `modules/` directory. So long as the module is present _somewhere_ under `modules/`, then the `keymap.json` can refer to that path.\n:::",
            "Writing a QMK Community Module": {
              "`qmk_module.json`": "A Community Module is denoted by a `qmk_module.json` file such as the following:\n\n```\n{\n    \"module_name\": \"Hello World\",\n    \"maintainer\": \"QMK Maintainers\",\n    \"license\": \"GPL-2.0-or-later\",\n    \"features\": {\n        \"deferred_exec\": true\n    },\n    \"keycodes\": [\n        {\n            \"key\": \"COMMUNITY_MODULE_HELLO\",\n            \"aliases\": [\"CM_HELO\"]\n        }\n    ]\n}\n```\n\nAt minimum, the module must provide the `module_name` and `maintainer` fields.\n\nThe `license` field is encouraged to indicate the terms for using and sharing the module. It is recommended to use a [SPDX license identifier](https://spdx.org/licenses/) like \"`Apache-2.0`\" or \"`GPL-2.0-or-later`\" if possible.\n\nThe `url` field may specify a URL to more information about the module.\n\nThe use of `features` matches the definition normally provided within `keyboard.json` and `info.json`, allowing a module to signal to the build system that it has its own dependencies. In the example above, it enables the _deferred executor_ feature whenever the above module is used in a build.\n\nThe `keycodes` array allows a module to provide new keycodes (as well as corresponding aliases) to a keymap.",
              "`rules.mk` / `post_rules.mk`": "These two files follows standard QMK build system logic, allowing for `Makefile`-style customisation as if it were present in the keyboard or keymap.",
              "`<module>.c`": "This file will be automatically added to the build if the filename matches the directory name. For example, the `qmk/hello_world` module contains a `hello_world.c` file, which is automatically added to the build.\n\n::: info\nOther files intended to be included must use the normal method of `SRC += my_file.c` inside `rules.mk`.\n:::\n\n::: tip\nThis file should use `ASSERT_COMMUNITY_MODULES_MIN_API_VERSION(1,0,0);` to enforce a minimum version of the API that it requires, ensuring the Community Module is built with a compatible version of QMK. The list of APIs and corresponding version is given at the bottom of this document. Note the use of commas instead of periods.\n:::",
              "`introspection.c` / `introspection.h`": "These two files hook into the keymap introspection logic -- the header is prepended before the user keymap, and the C source file is appended after the user keymap.\n\nThe header may provide definitions which are useful to the user's `keymap.c`.\n\nThe source file may provide functions which allow access to information specified in the user's `keymap.c`.\n\n::: warning\nIntrospection is a relatively advanced topic within QMK, and existing patterns should be followed. If you need help please [open an issue](https://github.com/qmk/qmk_firmware/issues/new) or [chat with us on Discord](https://discord.gg/qmk).\n:::",
              "`led_matrix_module.inc`": "This file defines LED matrix effects in the same form as used with `led_matrix_kb.inc` and `led_matrix_user.inc` (see [Custom LED Matrix Effects](led_matrix#custom-led-matrix-effects)). Effect mode names are prepended with `LED_MATRIX_COMMUNITY_MODULE_`.",
              "`rgb_matrix_module.inc`": "This file defines RGB matrix effects in the same form as used with `rgb_matrix_kb.inc` and `rgb_matrix_user.inc` (see [Custom RGB Matrix Effects](rgb_matrix#custom-rgb-matrix-effects)). Effect mode names are prepended with `RGB_MATRIX_COMMUNITY_MODULE_`.",
              "Compatible APIs": "Community Modules may provide specializations for the following APIs:\n\n| Base API                         | API Format                                | Example (`hello_world` module)              | API Version |\n|----------------------------------|-------------------------------------------|---------------------------------------------|-------------|\n| `keyboard_pre_init`              | `keyboard_pre_init_<module>`              | `keyboard_pre_init_hello_world`             | `0.1.0`     |\n| `keyboard_post_init`             | `keyboard_post_init_<module>`             | `keyboard_post_init_hello_world`            | `0.1.0`     |\n| `pre_process_record`             | `pre_process_record_<module>`             | `pre_process_record_hello_world`            | `0.1.0`     |\n| `process_record`                 | `process_record_<module>`                 | `process_record_hello_world`                | `0.1.0`     |\n| `post_process_record`            | `post_process_record_<module>`            | `post_process_record_hello_world`           | `0.1.0`     |\n| `housekeeping_task`              | `housekeeping_task_<module>`              | `housekeeping_task_hello_world`             | `1.0.0`     |\n| `suspend_power_down`             | `suspend_power_down_<module>`             | `suspend_power_down_hello_world`            | `1.0.0`     |\n| `suspend_wakeup_init`            | `suspend_wakeup_init_<module>`            | `suspend_wakeup_init_hello_world`           | `1.0.0`     |\n| `shutdown`                       | `shutdown_<module>`                       | `shutdown_hello_world`                      | `1.0.0`     |\n| `process_detected_host_os`       | `process_detected_host_os_<module>`       | `process_detected_host_os_hello_world`      | `1.0.0`     |\n| `default_layer_state_set`        | `default_layer_state_set_<module>`        | `default_layer_state_set_hello_world`       | `1.1.0`     |\n| `layer_state_set`                | `layer_state_set_<module>`                | `layer_state_set_hello_world`               | `1.1.0`     |\n| `led_matrix_indicators`          | `led_matrix_indicators_<module>`          | `led_matrix_indicators_hello_world`          | `1.1.0`     |\n| `led_matrix_indicators_advanced` | `led_matrix_indicators_advanced_<module>` | `led_matrix_indicators_advanced_hello_world` | `1.1.0`     |\n| `rgb_matrix_indicators`          | `rgb_matrix_indicators_<module>`          | `rgb_matrix_indicators_hello_world`          | `1.1.0`     |\n| `rgb_matrix_indicators_advanced` | `rgb_matrix_indicators_advanced_<module>` | `rgb_matrix_indicators_advanced_hello_world` | `1.1.0`     |\n| `pointing_device_init`           | `pointing_device_init_<module>`           | `pointing_device_init_hello_world`           | `1.1.0`     |\n| `pointing_device_task`           | `pointing_device_task_<module>`           | `pointing_device_task_hello_world`           | `1.1.0`     |\n\n::: info\nAn unspecified API is disregarded if a Community Module does not provide a specialization for it.\n:::\n\nEach API has an equivalent `_<module>_kb()` and `_<module>_user()` hook, as per the normal QMK [`_quantum`, `_kb`, and `_user` functions](/custom_quantum_functions#a-word-on-core-vs-keyboards-vs-keymap)."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 8]"
        },
        {
          "title": "Digitizer {#digitizer}",
          "description": null,
          "content": {
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nDIGITIZER_ENABLE = yes\n```",
            "Positioning {#positioning}": "The X and Y coordinates are normalized, meaning their value must be set between 0 and 1. For the X component, the value `0` is the leftmost position, whereas the value `1` is the rightmost position. Similarly for the Y component, `0` is at the top and `1` at the bottom.\n\n::: tip\nSince there is no display attached, the OS will likely map these coordinates to the virtual desktop. This may be important to know if you have multiple monitors.\n:::",
            "Examples {#examples}": "This example simply places the cursor in the middle of the screen:\n\n```\ndigitizer_in_range_on();\ndigitizer_set_position(0.5, 0.5);\n```\n\nThe \"in range\" indicator is required to be on for the change in coordinates to be taken. It can then be turned off again to signal the end of the digitizer interaction, but it is not strictly required.\n\nYou can also modify the digitizer state directly, if you need to change multiple fields in a single report:\n\n```\ndigitizer_state.in_range = true;\ndigitizer_state.dirty = true;\ndigitizer_flush();\n```\n\n`digitizer_state` is a struct of type `digitizer_t`.",
            "API {#api}": {
              "`struct digitizer_t` {#api-digitizer-t}": {
                "Members {#api-digitizer-t-members}": [
                  "`bool in_range`  \nIndicates to the host that the contact is within range (ie. close to or in contact with the digitizer surface).",
                  "`bool tip`  \nThe state of the tip switch.",
                  "`bool barrel`  \nThe state of the barrel switch.",
                  "`float x`  \nThe X coordinate of the digitizer contact.",
                  "`float y`  \nThe Y coordinate of the digitizer contact.",
                  "`bool dirty`  \nWhether the current state needs to be sent to the host."
                ]
              },
              "`void digitizer_flush(void)` {#api-digitizer-flush}": "Send the digitizer report to the host if it is marked as dirty.\n\n[]",
              "`void digitizer_in_range_on(void)` {#api-digitizer-in-range-on}": "Assert the \"in range\" indicator, and flush the report.\n\n[]",
              "`void digitizer_in_range_off(void)` {#api-digitizer-in-range-off}": "Deassert the \"in range\" indicator, and flush the report.\n\n[]",
              "`void digitizer_tip_switch_on(void)` {#api-digitizer-tip-switch-on}": "Assert the tip switch, and flush the report.\n\n[]",
              "`void digitizer_tip_switch_off(void)` {#api-digitizer-tip-switch-off}": "Deassert the tip switch, and flush the report.\n\n[]",
              "`void digitizer_barrel_switch_on(void)` {#api-digitizer-barrel-switch-on}": "Assert the barrel switch, and flush the report.\n\n[]",
              "`void digitizer_barrel_switch_off(void)` {#api-digitizer-barrel-switch-off}": "Deassert the barrel switch, and flush the report.\n\n[]",
              "`void digitizer_set_position(float x, float y)` {#api-digitizer-set-position}": {
                "Arguments {#api-digitizer-set-position-arguments}": [
                  "`float x`  \nThe X value of the contact position, from 0 to 1.",
                  "`float y`  \nThe Y value of the contact position, from 0 to 1."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 9]"
        },
        {
          "title": "DIP Switches",
          "description": null,
          "content": {
            "DIP Switch map {#dip-switch-map}": "DIP Switch mapping may be added to your `keymap.c`, which replicates the normal keyswitch functionality, but with dip switches. Add this to your keymap's `rules.mk`:\n\n```\nDIP_SWITCH_MAP_ENABLE = yes\n```\n\nYour `keymap.c` will then need a dip switch mapping defined (for two dip switches):\n\n```\n#if defined(DIP_SWITCH_MAP_ENABLE)\nconst uint16_t PROGMEM dip_switch_map[NUM_DIP_SWITCHES][NUM_DIP_STATES] = {\n    DIP_SWITCH_OFF_ON(DF(0), DF(1)),\n    DIP_SWITCH_OFF_ON(EC_NORM, EC_SWAP)\n};\n#endif\n```\n\n::: tip\nThis should only be enabled at the keymap level.\n:::",
            "Callbacks": "The callback functions can be inserted into your `<keyboard>.c`:\n\n```\nbool dip_switch_update_kb(uint8_t index, bool active) { \n    if (!dip_switch_update_user(index, active)) { return false; }\n    return true;\n}\n```\n\nor `keymap.c`:\n\n```\nbool dip_switch_update_user(uint8_t index, bool active) { \n    switch (index) {\n        case 0:\n            if(active) { audio_on(); } else { audio_off(); }\n            break;\n        case 1:\n            if(active) { clicky_on(); } else { clicky_off(); }\n            break;\n        case 2:\n            if(active) { music_on(); } else { music_off(); }\n            break;\n        case 3:\n            if (active) {\n                #ifdef AUDIO_ENABLE\n                    PLAY_SONG(plover_song);\n                #endif\n                layer_on(_PLOVER);\n            } else {\n                #ifdef AUDIO_ENABLE\n                    PLAY_SONG(plover_gb_song);\n                #endif\n                layer_off(_PLOVER);\n            }\n            break;\n    }\n    return true;\n}\n```\n\nAdditionally, we support bit mask functions which allow for more complex handling. \n\n```\nbool dip_switch_update_mask_kb(uint32_t state) { \n    if (!dip_switch_update_mask_user(state)) { return false; }\n    return true;\n}\n```\n\nor `keymap.c`:\n\n```\nbool dip_switch_update_mask_user(uint32_t state) { \n    if (state & (1UL<<0) && state & (1UL<<1)) {\n        layer_on(_ADJUST); // C on esc\n    } else {\n        layer_off(_ADJUST);\n    }\n    if (state & (1UL<<0)) {\n        layer_on(_TEST_A); // A on ESC\n    } else {\n        layer_off(_TEST_A);\n    }\n    if (state & (1UL<<1)) {\n        layer_on(_TEST_B); // B on esc\n    } else {\n        layer_off(_TEST_B);\n    }\n    return true;\n}\n```",
            "Hardware": {
              "Connects each switch in the dip switch to the GPIO pin of the MCU": "One side of the DIP switch should be wired directly to the pin on the MCU, and the other side to ground.  It should not matter which side is connected to which, as it should be functionally the same. ",
              "Connect each switch in the DIP switch to an unused intersections in the key matrix.": "As with the keyswitch, a diode and DIP switch connect the ROW line to the COL line."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 10]"
        },
        {
          "title": "Dynamic Macros: Record and Replay Macros in Runtime",
          "description": null,
          "content": {
            "Customization ": {
              "DYNAMIC_MACRO_USER_CALL": "For users of the earlier versions of dynamic macros: It is still possible to finish the macro recording using just the layer modifier used to access the dynamic macro keys, without a dedicated `DM_RSTP` key. If you want this behavior back, add `#define DYNAMIC_MACRO_USER_CALL` to your `config.h` and insert the following snippet at the beginning of your `process_record_user()` function:\n\n```\n    uint16_t macro_kc = (keycode == MO(_DYN) ? DM_RSTP : keycode);\n\n    if (!process_record_dynamic_macro(macro_kc, record)) {\n        return false;\n    }\n```",
              "User Hooks": "There are a number of hooks that you can use to add custom functionality and feedback options to Dynamic Macro feature.  This allows for some additional degree of customization. \n\nNote, that direction indicates which macro it is, with `1` being Macro 1, `-1` being Macro 2, and 0 being no macro. \n\n['`dynamic_macro_record_start_user(int8_t direction)` - Triggered when you start recording a macro.', '`dynamic_macro_play_user(int8_t direction)` - Triggered when you play back a macro.', '`dynamic_macro_record_key_user(int8_t direction, keyrecord_t *record)` - Triggered on each keypress while recording a macro.', '`dynamic_macro_record_end_user(int8_t direction)` - Triggered when the macro recording is stopped. ']\n\nAdditionally, you can call `dynamic_macro_led_blink()` to flash the backlights if that feature is enabled. "
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 11]"
        },
        {
          "title": "Encoders",
          "description": null,
          "content": {
            "Split Keyboards": "If you are using different pinouts for the encoders on each half of a split keyboard, you can define the pinout (and optionally, resolutions) for the right half like this:\n\n```\n#define ENCODER_A_PINS_RIGHT { encoder1a, encoder2a }\n#define ENCODER_B_PINS_RIGHT { encoder1b, encoder2b }\n#define ENCODER_RESOLUTIONS_RIGHT { 2, 4 }\n```\n\nIf the `_RIGHT` definitions aren't specified in your `config.h`, then the non-`_RIGHT` versions will be applied to both sides of the split.\n\nAdditionally, if one side does not have an encoder, you can specify `{}` for the pins/resolution -- for example, a split keyboard with only a right-side encoder:\n\n```\n#define ENCODER_A_PINS { }\n#define ENCODER_B_PINS { }\n#define ENCODER_RESOLUTIONS { }\n#define ENCODER_A_PINS_RIGHT { B12 }\n#define ENCODER_B_PINS_RIGHT { B13 }\n#define ENCODER_RESOLUTIONS_RIGHT { 4 }\n```\n\n::: warning\nKeep in mind that whenver you change the encoder resolution, you will need to reflash the half that has the encoder affected by the change.\n:::",
            "Encoder map {#encoder-map}": "Encoder mapping may be added to your `keymap.c`, which replicates the normal keyswitch layer handling functionality, but with encoders. Add this to your keymap's `rules.mk`:\n\n```\nENCODER_MAP_ENABLE = yes\n```\n\nYour `keymap.c` will then need an encoder mapping defined (for four layers and two encoders):\n\n```\n#if defined(ENCODER_MAP_ENABLE)\nconst uint16_t PROGMEM encoder_map[][NUM_ENCODERS][NUM_DIRECTIONS] = {\n    [0] = { ENCODER_CCW_CW(MS_WHLU, MS_WHLD),  ENCODER_CCW_CW(KC_VOLD, KC_VOLU)  },\n    [1] = { ENCODER_CCW_CW(UG_HUED, UG_HUEU),  ENCODER_CCW_CW(UG_SATD, UG_SATU)  },\n    [2] = { ENCODER_CCW_CW(UG_VALD, UG_VALU),  ENCODER_CCW_CW(UG_SPDD, UG_SPDU)  },\n    [3] = { ENCODER_CCW_CW(UG_PREV, UG_NEXT),  ENCODER_CCW_CW(KC_RIGHT, KC_LEFT) },\n};\n#endif\n```\n\n::: tip\nThis should only be enabled at the keymap level.\n:::\n\nUsing encoder mapping pumps events through the normal QMK keycode processing pipeline, resulting in a _keydown/keyup_ combination pushed through `process_record_xxxxx()`. To configure the amount of time between the encoder \"keyup\" and \"keydown\", you can add the following to your `config.h`:\n\n```\n#define ENCODER_MAP_KEY_DELAY 10\n```\n\n::: tip\nBy default, the encoder map delay matches the value of `TAP_CODE_DELAY`.\n:::",
            "Callbacks": "::: tip\n[**Default Behaviour**](https://github.com/qmk/qmk_firmware/blob/master/quantum/encoder.c#L79-): all encoders installed will function as volume up (`KC_VOLU`) on clockwise rotation and volume down (`KC_VOLD`) on counter-clockwise rotation. If you do not wish to override this, no further configuration is necessary.\n:::\n\nIf you would like the alter the default behaviour, and are not using `ENCODER_MAP_ENABLE = yes`, the callback functions can be inserted into your `<keyboard>.c`:\n\n```\nbool encoder_update_kb(uint8_t index, bool clockwise) {\n    if (!encoder_update_user(index, clockwise)) {\n      return false; /* Don't process further events if user function exists and returns false */\n    }\n    if (index == 0) { /* First encoder */\n        if (clockwise) {\n            tap_code(KC_PGDN);\n        } else {\n            tap_code(KC_PGUP);\n        }\n    } else if (index == 1) { /* Second encoder */\n        if (clockwise) {\n            rgb_matrix_increase_hue();\n        } else {\n            rgb_matrix_decrease_hue();\n        }\n    }\n    return true;\n}\n```\n\nor `keymap.c`:\n\n```\nbool encoder_update_user(uint8_t index, bool clockwise) {\n    if (index == 0) { /* First encoder */\n        if (clockwise) {\n            tap_code(KC_PGDN);\n        } else {\n            tap_code(KC_PGUP);\n        }\n    } else if (index == 1) { /* Second encoder */\n        if (clockwise) {\n            rgb_matrix_increase_hue();\n        } else {\n            rgb_matrix_decrease_hue();\n        }\n    }\n    return false;\n}\n```\n\n::: warning\nIf you return `true` in the keymap level `_user` function, it will allow the keyboard/core level encoder code to run on top of your own. Returning `false` will override the keyboard level function, if setup correctly. This is generally the safest option to avoid confusion.\n:::",
            "Hardware": "The A an B lines of the encoders should be wired directly to the MCU, and the C/common lines should be wired to ground.",
            "Multiple Encoders": "Multiple encoders may share pins so long as each encoder has a distinct pair of pins when the following conditions are met:\n\n['using detent encoders', \"pads must be high at the detent stability point which is called 'default position' in QMK\", 'no more than two encoders sharing a pin can be turned at the same time']\n\nFor example you can support two encoders using only 3 pins like this\n\n```\n#define ENCODER_A_PINS { B1, B1 }\n#define ENCODER_B_PINS { B2, B3 }\n```\n\nYou could even support three encoders using only three pins (one per encoder) however in this configuration, rotating two encoders which share pins simultaneously will often generate incorrect output. For example:\n\n```\n#define ENCODER_A_PINS { B1, B1, B2 }\n#define ENCODER_B_PINS { B2, B3, B3 }\n```\n\nHere rotating Encoder 0 `B1 B2` and Encoder 1 `B1 B3` could be interpreted as rotating Encoder 2 `B2 B3` or `B3 B2` depending on the timing. This may still be a useful configuration depending on your use case"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 12]"
        },
        {
          "title": "Grave Escape",
          "description": null,
          "content": {
            "Usage": "Replace the `KC_GRV` key in your keymap (usually to the left of the `1` key) with `QK_GESC`. Most of the time this key will output `KC_ESC` when pressed. However, when Shift or GUI are held down it will output `KC_GRV` instead.",
            "What Your OS Sees": "If Mary presses `QK_GESC` on her keyboard, the OS will see an KC_ESC character. Now if Mary holds Shift down and presses `QK_GESC` it will output `~`, or a shifted backtick. Now if she holds GUI/CMD/WIN, it will output a simple <code>&#96;</code> character.",
            "Keycodes": {
              "Caveats": "On macOS, Command+<code>&#96;</code> is by default mapped to \"Move focus to next window\" so it will not output a backtick. Additionally, Terminal always recognises this shortcut to cycle between windows, even if the shortcut is changed in the Keyboard preferences."
            },
            "Configuration": "There are several possible key combinations this will break, among them Control+Shift+Escape on Windows and Command+Option+Escape on macOS. To work around this, you can `#define` these options in your `config.h`:\n\n|Define                    |Description                              |\n|--------------------------|-----------------------------------------|\n|`GRAVE_ESC_ALT_OVERRIDE`  |Always send Escape if Alt is pressed     |\n|`GRAVE_ESC_CTRL_OVERRIDE` |Always send Escape if Control is pressed |\n|`GRAVE_ESC_GUI_OVERRIDE`  |Always send Escape if GUI is pressed     |\n|`GRAVE_ESC_SHIFT_OVERRIDE`|Always send Escape if Shift is pressed   |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 13]"
        },
        {
          "title": "Haptic Feedback",
          "description": null,
          "content": {
            "Haptic feedback rules.mk options": "The following options are currently available for haptic feedback in `rules.mk`:\n\n```\nHAPTIC_ENABLE = yes\n\nHAPTIC_DRIVER = drv2605l\n# or\nHAPTIC_DRIVER = solenoid\n```\n\nThe following `config.h` settings are available for all types of haptic feedback:\n\n| Settings                             | Default       | Description                                                                                                   |\n|--------------------------------------|---------------|---------------------------------------------------------------------------------------------------------------|\n|`HAPTIC_ENABLE_PIN`                   | *Not defined* |Configures a pin to enable a boost converter for some haptic solution, often used with solenoid drivers.       |\n|`HAPTIC_ENABLE_PIN_ACTIVE_LOW`        | *Not defined* |If defined then the haptic enable pin is active-low.                                                           |\n|`HAPTIC_ENABLE_STATUS_LED`            | *Not defined* |Configures a pin to reflect the current enabled/disabled status of haptic feedback.                            |\n|`HAPTIC_ENABLE_STATUS_LED_ACTIVE_LOW` | *Not defined* |If defined then the haptic status led will be active-low.                                                      |\n|`HAPTIC_OFF_IN_LOW_POWER`             | `0`           |If set to `1`, haptic feedback is disabled before the device is configured, and while the device is suspended. |",
            "Known Supported Hardware": "| Name               | Description                                     |\n|--------------------|-------------------------------------------------|\n| [LV061228B-L65-A](https://www.digikey.com/product-detail/en/jinlong-machinery-electronics-inc/LV061228B-L65-A/1670-1050-ND/7732325) | z-axis 2v LRA |\n| [Mini Motor Disc](https://www.adafruit.com/product/1201)  | small 2-5v ERM |",
            "Haptic Keycodes": {
              "Solenoids": "The solenoid code supports relay switches, and similar hardware, as well as solenoids. \n\nFor a regular solenoid,  you will need a build a circuit to drive the solenoid through a mosfet as most MCU will not be able to provide the current needed to drive the coil in the solenoid.\n\n[Wiring diagram provided by Adafruit](https://cdn-shop.adafruit.com/product-files/412/solenoid_driver.pdf)\n\nFor relay switches, the hardware may already contain all of that ciruitry, and just require VCC, GND and a data pin.\n\n| Settings                   | Default              | Description                                                  |\n|----------------------------|----------------------|--------------------------------------------------------------|\n|`SOLENOID_PIN`              | *Not defined*        |Configures the pin that the switch  is connected to.          |\n|`SOLENOID_PIN_ACTIVE_LOW`   | *Not defined*        |If defined then the switch trigger pin is active low.         |\n|`SOLENOID_PINS`             | *Not defined*        |Configures an array of pins to be used for switch activation. |\n|`SOLENOID_PINS_ACTIVE_LOW`  | *Not defined*        |Allows you to specify how each pin is pulled for activation.  |\n|`SOLENOID_RANDOM_FIRE`      | *Not defined*        |When there are multiple solenoids, will select a random one to fire.|\n|`SOLENOID_DEFAULT_DWELL`    | `12` ms              |Configures the default dwell time for the switch.             |\n|`SOLENOID_MIN_DWELL`        | `4` ms               |Sets the lower limit for the dwell.                           |\n|`SOLENOID_MAX_DWELL`        | `100` ms             |Sets the upper limit for the dwell.                           |\n|`SOLENOID_DWELL_STEP_SIZE`  | `1` ms               |The step size to use when `HF_DWL*` keycodes are sent.        |\n|`SOLENOID_DEFAULT_BUZZ`     | `0` (disabled)       |On `HF_RST` buzz is set \"on\" if this is \"1\"                   |\n|`SOLENOID_BUZZ_ACTUATED`    | `SOLENOID_MIN_DWELL` |Actuated-time when the switch is in buzz mode.                |\n|`SOLENOID_BUZZ_NONACTUATED` | `SOLENOID_MIN_DWELL` |Non-Actuated-time when the switch is in buzz mode.            |\n\n['If solenoid buzz is off, then dwell time is how long the \"plunger\" stays activated. The dwell time changes how the solenoid sounds.', 'If solenoid buzz is on, then dwell time sets the length of the buzz, while `SOLENOID_BUZZ_ACTUATED` and `SOLENOID_BUZZ_NONACTUATED` set the (non-)actuation times withing the buzz period.', 'With the current implementation, for any of the above time settings, the precision of these settings may be affected by how fast the keyboard is able to scan the matrix.\\nTherefore, if the keyboards scanning routine is slow, it may be preferable to set `SOLENOID_DWELL_STEP_SIZE` to a value slightly smaller than the time it takes to scan the keyboard.']\n\nBeware that some pins may be powered during bootloader (ie. A13 on the STM32F303 chip) and will result in the solenoid kept in the on state through the whole flashing process. This may overheat and damage the solenoid. If you find that the pin the solenoid is connected to is triggering the solenoid during bootloader/DFU, select another pin.",
              "DRV2605L": {
                "Feedback motor setup": {
                  "ERM": "Eccentric Rotating Mass vibration motors (ERM) is motor with a off-set weight attached so when drive signal is attached, the off-set weight spins and causes a sinusoidal wave that translate into vibrations.\n\n```\n#define DRV2605L_FB_ERM_LRA 0\n#define DRV2605L_FB_BRAKEFACTOR 3 /* For 1x:0, 2x:1, 3x:2, 4x:3, 6x:4, 8x:5, 16x:6, Disable Braking:7 */\n#define DRV2605L_FB_LOOPGAIN 1 /* For  Low:0, Medium:1, High:2, Very High:3 */\n\n/* Please refer to your datasheet for the optimal setting for your specific motor. */\n#define DRV2605L_RATED_VOLTAGE 3\n#define DRV2605L_V_PEAK 5\n```",
                  "LRA": "Linear resonant actuators (LRA, also know as a linear vibrator) works different from a ERM. A LRA has a weight and magnet suspended by springs and a voice coil. When the drive signal is applied, the weight would be vibrate on a single axis (side to side or up and down). Since the weight is attached to a spring, there is a resonance effect at a specific frequency. This frequency is where the LRA will operate the most efficiently. Refer to the motor's datasheet for the recommanded range for this frequency.\n\n```\n#define DRV2605L_FB_ERM_LRA 1\n#define DRV2605L_FB_BRAKEFACTOR 3 /* For 1x:0, 2x:1, 3x:2, 4x:3, 6x:4, 8x:5, 16x:6, Disable Braking:7 */\n#define DRV2605L_FB_LOOPGAIN 1 /* For  Low:0, Medium:1, High:2, Very High:3 */\n\n/* Please refer to your datasheet for the optimal setting for your specific motor. */\n#define DRV2605L_RATED_VOLTAGE 2\n#define DRV2605L_V_PEAK 2.8\n#define DRV2605L_V_RMS 2.0 \n#define DRV2605L_V_PEAK 2.1\n#define DRV2605L_F_LRA 205 /* resonance freq */\n```"
                },
                "DRV2605L waveform library": "DRV2605L comes with preloaded library of various waveform sequences that can be called and played. If writing a macro, these waveforms can be played using `DRV_pulse(*sequence name or number*)`\n\nList of waveform sequences from the datasheet:\n\n|seq# | Sequence name          |seq# | Sequence name                  |seq# |Sequence name                           |\n|-----|---------------------|-----|-----------------------------------|-----|--------------------------------------|\n| 1   | strong_click        | 43  | lg_dblclick_med_60                | 85  | transition_rampup_med_smooth2        |\n| 2   | strong_click_60     | 44  | lg_dblsharp_tick                  | 86  | transition_rampup_short_smooth1      |\n| 3   | strong_click_30     | 45  | lg_dblsharp_tick_80               | 87  | transition_rampup_short_smooth2      |\n| 4   | sharp_click         | 46  | lg_dblsharp_tick_60               | 88  | transition_rampup_long_sharp1        |\n| 5   | sharp_click_60      | 47  | buzz                              | 89  | transition_rampup_long_sharp2        |\n| 6   | sharp_click_30      | 48  | buzz_80                           | 90  | transition_rampup_med_sharp1         |\n| 7   | soft_bump           | 49  | buzz_60                           | 91  | transition_rampup_med_sharp2         |\n| 8   | soft_bump_60        | 50  | buzz_40                           | 92  | transition_rampup_short_sharp1       |\n| 9   | soft_bump_30        | 51  | buzz_20                           | 93  | transition_rampup_short_sharp2       |\n| 10  | dbl_click           | 52  | pulsing_strong                    | 94  | transition_rampdown_long_smooth1_50  |\n| 11  | dbl_click_60        | 53  | pulsing_strong_80                 | 95  | transition_rampdown_long_smooth2_50  |\n| 12  | trp_click           | 54  | pulsing_medium                    | 96  | transition_rampdown_med_smooth1_50   |\n| 13  | soft_fuzz           | 55  | pulsing_medium_80                 | 97  | transition_rampdown_med_smooth2_50   |\n| 14  | strong_buzz         | 56  | pulsing_sharp                     | 98  | transition_rampdown_short_smooth1_50 |\n| 15  | alert_750ms         | 57  | pulsing_sharp_80                  | 99  | transition_rampdown_short_smooth2_50 |\n| 16  | alert_1000ms        | 58  | transition_click                  | 100 | transition_rampdown_long_sharp1_50   |\n| 17  | strong_click1       | 59  | transition_click_80               | 101 | transition_rampdown_long_sharp2_50   |\n| 18  | strong_click2_80    | 60  | transition_click_60               | 102 | transition_rampdown_med_sharp1_50    |\n| 19  | strong_click3_60    | 61  | transition_click_40               | 103 | transition_rampdown_med_sharp2_50    |\n| 20  | strong_click4_30    | 62  | transition_click_20               | 104 | transition_rampdown_short_sharp1_50  |\n| 21  | medium_click1       | 63  | transition_click_10               | 105 | transition_rampdown_short_sharp2_50  |\n| 22  | medium_click2_80    | 64  | transition_hum                    | 106 | transition_rampup_long_smooth1_50    |\n| 23  | medium_click3_60    | 65  | transition_hum_80                 | 107 | transition_rampup_long_smooth2_50    |\n| 24  | sharp_tick1         | 66  | transition_hum_60                 | 108 | transition_rampup_med_smooth1_50     |\n| 25  | sharp_tick2_80      | 67  | transition_hum_40                 | 109 | transition_rampup_med_smooth2_50     |\n| 26  | sharp_tick3_60      | 68  | transition_hum_20                 | 110 | transition_rampup_short_smooth1_50   |\n| 27  | sh_dblclick_str     | 69  | transition_hum_10                 | 111 | transition_rampup_short_smooth2_50   |\n| 28  | sh_dblclick_str_80  | 70  | transition_rampdown_long_smooth1  | 112 | transition_rampup_long_sharp1_50     |\n| 29  | sh_dblclick_str_60  | 71  | transition_rampdown_long_smooth2  | 113 | transition_rampup_long_sharp2_50     |\n| 30  | sh_dblclick_str_30  | 72  | transition_rampdown_med_smooth1   | 114 | transition_rampup_med_sharp1_50      |\n| 31  | sh_dblclick_med     | 73  | transition_rampdown_med_smooth2   | 115 | transition_rampup_med_sharp2_50      |\n| 32  | sh_dblclick_med_80  | 74  | transition_rampdown_short_smooth1 | 116 | transition_rampup_short_sharp1_50    |\n| 33  | sh_dblclick_med_60  | 75  | transition_rampdown_short_smooth2 | 117 | transition_rampup_short_sharp2_50    |\n| 34  | sh_dblsharp_tick    | 76  | transition_rampdown_long_sharp1   | 118 | long_buzz_for_programmatic_stopping  |\n| 35  | sh_dblsharp_tick_80 | 77  | transition_rampdown_long_sharp2   | 119 | smooth_hum1_50                       |\n| 36  | sh_dblsharp_tick_60 | 78  | transition_rampdown_med_sharp1    | 120 | smooth_hum2_40                       |\n| 37  | lg_dblclick_str     | 79  | transition_rampdown_med_sharp2    | 121 | smooth_hum3_30                       |\n| 38  | lg_dblclick_str_80  | 80  | transition_rampdown_short_sharp1  | 122 | smooth_hum4_20                       |\n| 39  | lg_dblclick_str_60  | 81  | transition_rampdown_short_sharp2  | 123 | smooth_hum5_10                       |\n| 40  | lg_dblclick_str_30  | 82  | transition_rampup_long_smooth1    |     |                                      |\n| 41  | lg_dblclick_med     | 83  | transition_rampup_long_smooth2    |     |                                      |\n| 42  | lg_dblclick_med_80  | 84  | transition_rampup_med_smooth1     |     |                                      |"
              },
              "Optional DRV2605L defines": "```\n#define DRV2605L_GREETING *sequence name or number*\n```\n\nIf haptic feedback is enabled, the keyboard will vibrate to a specific sequence during startup. That can be selected using the following define:\n\n```\n#define DRV2605L_DEFAULT_MODE *sequence name or number*\n```\n\nThis will set what sequence `HF_RST` will set as the active mode. If not defined, mode will be set to 1 when `HF_RST` is pressed.",
              "DRV2605L Continuous Haptic Mode": "This mode sets continuous haptic feedback with the option to increase or decrease strength."
            },
            "Haptic Key Exclusion": {
              "NO_HAPTIC_MOD": "With the entry of `#define NO_HAPTIC_MOD` in config.h, the following keys will not trigger feedback:\n\n['Usual modifier keys such as Control/Shift/Alt/Gui (For example `KC_LCTL`)', '`MO()` momentary keys. See also [Layers](../feature_layers).', '`LM()` momentary keys with mod active.', '`LT()` layer tap keys, when held to activate a layer. However when tapped, and the key is quickly released, and sends a keycode, haptic feedback is still triggered.', '`TT()` layer tap toggle keys, when held to activate a layer. However when tapped `TAPPING_TOGGLE` times to permanently toggle the layer, on the last tap haptic feedback is still triggered.', '`MT()` mod tap keys, when held to keep a usual modifier key pressed. However when tapped, and the key is quickly released, and sends a keycode, haptic feedback is still triggered. See also [Mod-Tap](../mod_tap).']",
              "NO_HAPTIC_ALPHA": "With the entry of `#define NO_HAPTIC_ALPHA` in config.h, none of the alpha keys (A ... Z) will trigger a feedback.",
              "NO_HAPTIC_PUNCTUATION": "With the entry of `#define NO_HAPTIC_PUNCTUATION` in config.h, none of the following keys will trigger a feedback: Enter, ESC, Backspace, Space, Minus, Equal, Left Bracket, Right Bracket, Backslash, Non-US Hash, Semicolon, Quote, Grave, Comma, Slash, Dot, Non-US Backslash.",
              "NO_HAPTIC_LOCKKEYS": "With the entry of `#define NO_HAPTIC_LOCKKEYS` in config.h, none of the following keys will trigger a feedback: Caps Lock, Scroll Lock, Num Lock.",
              "NO_HAPTIC_NAV": "With the entry of `#define NO_HAPTIC_NAV` in config.h, none of the following keys will trigger a feedback: Print Screen, Pause, Insert, Delete, Page Down, Page Up, Left Arrow, Up Arrow, Right Arrow, Down Arrow, End, Home.",
              "NO_HAPTIC_NUMERIC": "With the entry of `#define NO_HAPTIC_NUMERIC` in config.h, none of the following keys between 0 and 9 (KC_1 ... KC_0) will trigger a feedback."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 14]"
        },
        {
          "title": "HD44780 LCD Driver {#hd44780-lcd-driver}",
          "description": null,
          "content": {
            "Supported Hardware {#supported-hardware}": "LCD modules using [HD44780U](https://www.sparkfun.com/datasheets/LCD/HD44780.pdf) IC or equivalent, communicating in 4-bit mode.\n\n|Module|Size          |Notes                            |\n|------|--------------|---------------------------------|\n|1602A |16x2, 5x8 dots|                                 |\n|2004A |20x4, 5x8 dots|Untested, not currently supported|\n\nTo run these modules at 3.3V, an additional MAX660 voltage converter IC must be soldered on, along with two 10F capacitors. See [this page](https://www.codrey.com/electronic-circuits/hack-your-16x2-lcd/) for more details.",
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nHD44780_ENABLE = yes\n```",
            "Basic Configuration {#basic-configuration}": "Add the following to your `config.h`:\n\n|Define                 |Default       |Description                                                                                          |\n|-----------------------|--------------|-----------------------------------------------------------------------------------------------------|\n|`HD44780_DATA_PINS`    |*Not defined* |(Required) An array of four GPIO pins connected to the display's D4-D7 pins, eg. `{ B1, B3, B2, B6 }`|\n|`HD44780_RS_PIN`       |*Not defined* |(Required) The GPIO connected to the display's RS pin                                                |\n|`HD44780_RW_PIN`       |*Not defined* |(Required) The GPIO connected to the display's RW pin                                                |\n|`HD44780_E_PIN`        |*Not defined* |(Required) The GPIO connected to the display's E pin                                                 |\n|`HD44780_DISPLAY_COLS` |`16`          |The number of visible characters on a single line of the display                                     |\n|`HD44780_DISPLAY_LINES`|`2`           |The number of visible lines on the display                                                           |\n|`HD44780_WRAP_LINES`   |*Not defined* |If defined, input characters will wrap to the next line                                              |",
            "Examples {#examples}": {
              "Hello World {#example-hello-world}": "Add the following to your `keymap.c`:\n\n```\nvoid keyboard_post_init_user(void) {\n    hd44780_init(true, true); // Show blinking cursor\n    hd44780_puts_P(PSTR(\"Hello, world!\\n\"));\n}\n```",
              "Custom Character Definition {#example-custom-character}": "Up to eight custom characters can be defined. This data is stored in the Character Generator RAM (CGRAM), and is not persistent across power cycles.\n\nThis example defines the QMK Psi as the first custom character. The first 16 positions in the character set are reserved for the eight custom characters duplicated.\n\n```\nByte |      16 8 4 2 1\n   1 | x x x     \n   2 | x x x     \n   3 | x x x     \n   4 | x x x     \n   5 | x x x     \n   6 | x x x     \n   7 | x x x     \n   8 | x x x     \n```\n\n```\nconst uint8_t PROGMEM psi[8] = { 0x15, 0x15, 0x15, 0x0E, 0x04, 0x04, 0x04, 0x00 };\n\nvoid keyboard_post_init_user(void) {\n    hd44780_init(false, false);\n    hd44780_define_char_P(0, psi);\n    // Cursor is incremented while defining characters so must be reset\n    hd44780_home();\n    // 0x08 to avoid null terminator\n    hd44780_puts_P(PSTR(\"\\x08 QMK Firmware\"));\n}\n```"
            },
            "API {#api}": {
              "`void hd44780_init(bool cursor, bool blink)` {#api-hd44780-init}": {
                "Arguments {#api-hd44780-init-arguments}": [
                  "`bool cursor`  \nWhether to show the cursor.",
                  "`bool blink`  \nWhether to blink the cursor, if shown."
                ]
              },
              "`void hd44780_clear(void)` {#api-hd44780-clear}": "Clear the display.\n\nThis function is called on init.\n\n[]",
              "`void hd44780_home(void)` {#api-hd44780-home}": "Move the cursor to the home position.\n\nThis function is called on init.\n\n[]",
              "`void hd44780_on(bool cursor, bool blink)` {#api-hd44780-on}": {
                "Arguments {#api-hd44780-on-arguments}": [
                  "`bool cursor`  \nWhether to show the cursor.",
                  "`bool blink`  \nWhether to blink the cursor, if shown."
                ]
              },
              "`void hd44780_off(void)` {#api-hd44780-off}": "Turn the display off.\n\n[]",
              "`void hd44780_set_cursor(uint8_t col, uint8_t line)` {#api-hd44780-set-cursor}": {
                "Arguments {#api-hd44780-set-cursor-arguments}": [
                  "`uint8_t col`  \nThe column number to move to, from 0 to 15 on 16x2 displays.",
                  "`bool line`  \nThe line number to move to, either 0 or 1 on 16x2 displays."
                ]
              },
              "`void hd44780_putc(char c)` {#api-hd44780-putc}": {
                "Arguments {#api-hd44780-putc-arguments}": [
                  "`char c`  \nThe character to print."
                ]
              },
              "`void hd44780_puts(const char *s)` {#api-hd44780-puts}": {
                "Arguments {#api-hd44780-puts-arguments}": [
                  "`const char *s`  \nThe string to print."
                ]
              },
              "`void hd44780_puts_P(const char *s)` {#api-hd44780-puts-p}": {
                "Arguments {#api-hd44780-puts-p-arguments}": [
                  "`const char *s`  \nThe PROGMEM string to print (ie. `PSTR(\"Hello\")`)."
                ]
              },
              "`void hd44780_define_char(uint8_t index, uint8_t *data)` {#api-hd44780-define-char}": {
                "Arguments {#api-hd44780-define-char-arguments}": [
                  "`uint8_t index`  \nThe index of the custom character to define, from 0 to 7.",
                  "`uint8_t *data`  \nAn array of 8 bytes containing the 5-bit row data of the character, where the first byte is the topmost row, and the least significant bit of each byte is the rightmost column."
                ]
              },
              "`void hd44780_define_char_P(uint8_t index, const uint8_t *data)` {#api-hd44780-define-char-p}": {
                "Arguments {#api-hd44780-define-char-p-arguments}": [
                  "`uint8_t index`  \nThe index of the custom character to define, from 0 to 7.",
                  "`const uint8_t *data`  \nA PROGMEM array of 8 bytes containing the 5-bit row data of the character, where the first byte is the topmost row, and the least significant bit of each byte is the rightmost column."
                ]
              },
              "`bool hd44780_busy(void)` {#api-hd44780-busy}": {
                "Return Value {#api-hd44780-busy-arguments}": "`true` if the display is busy.\n\n[]"
              },
              "`void hd44780_write(uint8_t data, bool isData)` {#api-hd44780-write}": {
                "Arguments {#api-hd44780-write-arguments}": [
                  "`uint8_t data`  \nThe byte to send to the display.",
                  "`bool isData`  \nWhether the byte is an instruction or character data."
                ]
              },
              "`uint8_t hd44780_read(bool isData)` {#api-hd44780-read}": {
                "Arguments {#api-hd44780-read-arguments}": [
                  "`bool isData`  \nWhether to read the current cursor position, or the character at the cursor."
                ],
                "Return Value {#api-hd44780-read-return}": "If `isData` is `true`, the returned byte will be the character at the current DDRAM address. Otherwise, it will be the current DDRAM address and the busy flag.\n\n[]"
              },
              "`void hd44780_command(uint8_t command)` {#api-hd44780-command}": {
                "Arguments {#api-hd44780-command-arguments}": [
                  "`uint8_t command`  \nThe command to send."
                ]
              },
              "`void hd44780_data(uint8_t data)` {#api-hd44780-data}": {
                "Arguments {#api-hd44780-data-arguments}": [
                  "`uint8_t data`  \nThe byte of data to send."
                ]
              },
              "`void hd44780_set_cgram_address(uint8_t address)` {#api-hd44780-set-cgram-address}": {
                "Arguments {#api-hd44780-set-cgram-address-arguments}": [
                  "`uint8_t address`  \nThe CGRAM address to move to, from `0x00` to `0x3F`."
                ]
              },
              "`void hd44780_set_ddram_address(uint8_t address)` {#api-hd44780-set-ddram-address}": {
                "Arguments {#api-hd44780-set-ddram-address-arguments}": [
                  "`uint8_t address`  \nThe DDRAM address to move to, from `0x00` to `0x7F`."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 15]"
        },
        {
          "title": "Joystick {#joystick}",
          "description": null,
          "content": {
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nJOYSTICK_ENABLE = yes\n```\n\nBy default the joystick driver is `analog`, but you can change this with:\n\n```\nJOYSTICK_DRIVER = digital\n```\n\nWhen using `analog` with ARM, [you must use 3.3v with your Joystick](../drivers/adc). Although ARM boards such as the [Helios](https://keeb.supply/products/0xcb-helios) have 5v pin output, the ADC driver does not support it.",
            "Configuration {#configuration}": {
              "Hat Switch {#hat-switch}": "To enable the 8-way hat switch, add the following to your `config.h`:\n\n```\n#define JOYSTICK_HAS_HAT\n```\n\nThe position can be set by calling `joystick_set_hat(value)`. The range of values moves clockwise from the top (ie. north), with the default \"center\" position represented by a value of `-1`:\n\n```\n         0\n 7       N       1\n   NW .--'--. NE\n     /       \\\n6 W |   -1    | E 2\n     \\       /\n   SW '--.--' SE\n 5       S       3\n         4\n```\n\nAlternatively you can use these predefined names:\n\n|Define                  |Value|Angle|\n|------------------------|-----|-----|\n|`JOYSTICK_HAT_CENTER`   |`-1` |     |\n|`JOYSTICK_HAT_NORTH`    |`0`  |0   |\n|`JOYSTICK_HAT_NORTHEAST`|`1`  |45  |\n|`JOYSTICK_HAT_EAST`     |`2`  |90  |\n|`JOYSTICK_HAT_SOUTHEAST`|`3`  |135 |\n|`JOYSTICK_HAT_SOUTH`    |`4`  |180 |\n|`JOYSTICK_HAT_SOUTHWEST`|`5`  |225 |\n|`JOYSTICK_HAT_WEST`     |`6`  |270 |\n|`JOYSTICK_HAT_NORTHWEST`|`7`  |315 |",
              "Axes {#axes}": {
                "Virtual Axes {#virtual-axes}": "The following example adjusts two virtual axes (X and Y) based on keypad presses, with `KC_P0` as a precision modifier:\n\n```\njoystick_config_t joystick_axes[JOYSTICK_AXIS_COUNT] = {\n    JOYSTICK_AXIS_VIRTUAL, // x\n    JOYSTICK_AXIS_VIRTUAL  // y\n};\n\nstatic bool precision = false;\nstatic uint16_t precision_mod = 64;\nstatic uint16_t axis_val = 127;\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    int16_t precision_val = axis_val;\n    if (precision) {\n        precision_val -= precision_mod;\n    }\n\n    switch (keycode) {\n        case KC_P8:\n            joystick_set_axis(1, record->event.pressed ? -precision_val : 0);\n            return false;\n        case KC_P2:\n            joystick_set_axis(1, record->event.pressed ? precision_val : 0);\n            return false;\n        case KC_P4:\n            joystick_set_axis(0, record->event.pressed ? -precision_val : 0);\n            return false;\n        case KC_P6:\n            joystick_set_axis(0, record->event.pressed ? precision_val : 0);\n            return false;\n        case KC_P0:\n            precision = record->event.pressed;\n            return false;\n    }\n    return true;\n}\n```"
              }
            },
            "Keycodes {#keycodes}": "|Key                    |Aliases|Description|\n|-----------------------|-------|-----------|\n|`QK_JOYSTICK_BUTTON_0` |`JS_0` |Button 0   |\n|`QK_JOYSTICK_BUTTON_1` |`JS_1` |Button 1   |\n|`QK_JOYSTICK_BUTTON_2` |`JS_2` |Button 2   |\n|`QK_JOYSTICK_BUTTON_3` |`JS_3` |Button 3   |\n|`QK_JOYSTICK_BUTTON_4` |`JS_4` |Button 4   |\n|`QK_JOYSTICK_BUTTON_5` |`JS_5` |Button 5   |\n|`QK_JOYSTICK_BUTTON_6` |`JS_6` |Button 6   |\n|`QK_JOYSTICK_BUTTON_7` |`JS_7` |Button 7   |\n|`QK_JOYSTICK_BUTTON_8` |`JS_8` |Button 8   |\n|`QK_JOYSTICK_BUTTON_9` |`JS_9` |Button 9   |\n|`QK_JOYSTICK_BUTTON_10`|`JS_10`|Button 10  |\n|`QK_JOYSTICK_BUTTON_11`|`JS_11`|Button 11  |\n|`QK_JOYSTICK_BUTTON_12`|`JS_12`|Button 12  |\n|`QK_JOYSTICK_BUTTON_13`|`JS_13`|Button 13  |\n|`QK_JOYSTICK_BUTTON_14`|`JS_14`|Button 14  |\n|`QK_JOYSTICK_BUTTON_15`|`JS_15`|Button 15  |\n|`QK_JOYSTICK_BUTTON_16`|`JS_16`|Button 16  |\n|`QK_JOYSTICK_BUTTON_17`|`JS_17`|Button 17  |\n|`QK_JOYSTICK_BUTTON_18`|`JS_18`|Button 18  |\n|`QK_JOYSTICK_BUTTON_19`|`JS_19`|Button 19  |\n|`QK_JOYSTICK_BUTTON_20`|`JS_20`|Button 20  |\n|`QK_JOYSTICK_BUTTON_21`|`JS_21`|Button 21  |\n|`QK_JOYSTICK_BUTTON_22`|`JS_22`|Button 22  |\n|`QK_JOYSTICK_BUTTON_23`|`JS_23`|Button 23  |\n|`QK_JOYSTICK_BUTTON_24`|`JS_24`|Button 24  |\n|`QK_JOYSTICK_BUTTON_25`|`JS_25`|Button 25  |\n|`QK_JOYSTICK_BUTTON_26`|`JS_26`|Button 26  |\n|`QK_JOYSTICK_BUTTON_27`|`JS_27`|Button 27  |\n|`QK_JOYSTICK_BUTTON_28`|`JS_28`|Button 28  |\n|`QK_JOYSTICK_BUTTON_29`|`JS_29`|Button 29  |\n|`QK_JOYSTICK_BUTTON_30`|`JS_30`|Button 30  |\n|`QK_JOYSTICK_BUTTON_31`|`JS_31`|Button 31  |",
            "API {#api}": {
              "`struct joystick_t` {#api-joystick-t}": {
                "Members {#api-joystick-t-members}": [
                  "`uint8_t buttons[]`  \nA bit-packed array containing the joystick button states. The size is calculated as `(JOYSTICK_BUTTON_COUNT - 1) / 8 + 1`.",
                  "`int16_t axes[]`  \nAn array of analog values for each defined axis.",
                  "`int8_t hat`  \nThe hat switch position.",
                  "`bool dirty`  \nWhether the current state needs to be sent to the host."
                ]
              },
              "`struct joystick_config_t` {#api-joystick-config-t}": {
                "Members {#api-joystick-config-t-members}": [
                  "`pin_t input_pin`  \nThe pin to read the analog value from, or `JS_VIRTUAL_AXIS`.",
                  "`uint16_t min_digit`  \nThe minimum analog value.",
                  "`uint16_t mid_digit`  \nThe resting or midpoint analog value.",
                  "`uint16_t max_digit`  \nThe maximum analog value."
                ]
              },
              "`void joystick_flush(void)` {#api-joystick-flush}": "Send the joystick report to the host, if it has been marked as dirty.\n\n[]",
              "`void register_joystick_button(uint8_t button)` {#api-register-joystick-button}": {
                "Arguments {#api-register-joystick-button-arguments}": [
                  "`uint8_t button`  \nThe index of the button to press, from 0 to 31."
                ]
              },
              "`void unregister_joystick_button(uint8_t button)` {#api-unregister-joystick-button}": {
                "Arguments {#api-unregister-joystick-button-arguments}": [
                  "`uint8_t button`  \nThe index of the button to release, from 0 to 31."
                ]
              },
              "`int16_t joystick_read_axis(uint8_t axis)` {#api-joystick-read-axis}": {
                "Arguments {#api-joystick-read-axis-arguments}": [
                  "`uint8_t axis`  \nThe axis to read."
                ],
                "Return Value {#api-joystick-read-axis-return}": "A signed 16-bit integer, where 0 is the resting or mid point."
              },
              "`void joystick_set_axis(uint8_t axis, int16_t value)` {#api-joystick-set-axis}": {
                "Arguments {#api-joystick-set-axis-arguments}": [
                  "`uint8_t axis`  \nThe axis to set the value of.",
                  "`int16_t value`  \nThe value to set."
                ]
              },
              "`void joystick_set_hat(int8_t value)` {#api-joystick-set-hat}": {
                "Arguments {#api-joystick-set-hat-arguments}": [
                  "`int8_t value`  \nThe hat switch position to set."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 16]"
        },
        {
          "title": "Key Lock",
          "description": null,
          "content": {
            "Usage": "First, enable Key Lock by setting `KEY_LOCK_ENABLE = yes` in your `rules.mk`. Then pick a key in your keymap and assign it the keycode `QK_LOCK`.",
            "Keycodes": "|Keycode  |Description                                                   |\n|---------|--------------------------------------------------------------|\n|`QK_LOCK`|Hold down the next key pressed, until the key is pressed again|",
            "Caveats": "Key Lock is only able to hold standard action keys and [One Shot modifier](../one_shot_keys) keys (for example, if you have your Shift defined as `OSM(MOD_LSFT)`).\nThis does not include any of the QMK special functions (except One Shot modifiers), or shifted versions of keys such as `KC_LPRN`. If it's in the [Basic Keycodes](../keycodes_basic) list, it can be held.\n\nSwitching layers will not cancel the Key Lock. The Key Lock can be cancelled by calling the `cancel_key_lock()` function."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 17]"
        },
        {
          "title": "Key Overrides {#key-overrides}",
          "description": null,
          "content": {
            "Setup {#setup}": "To enable this feature, you need to add `KEY_OVERRIDE_ENABLE = yes` to your `rules.mk`.\n\nThen, in your `keymap.c` file, you'll need to define the array `key_overrides`, which defines all key overrides to be used. Each override is a value of type `key_override_t`. The array `key_overrides`contains pointers to `key_override_t` values (`const key_override_t **`).",
            "Creating Key Overrides {#creating-key-overrides}": "The `key_override_t` struct has many options that allow you to precisely tune your overrides. The full reference is shown below. Instead of manually creating a `key_override_t` value, it is recommended to use these dedicated initializers:\n\n`ko_make_basic(modifiers, key, replacement)`\n\nReturns a `key_override_t`, which sends `replacement` (can be a key-modifier combination), when `key` and `modifiers` are all pressed down. This override still activates if any additional modifiers not specified in `modifiers` are also pressed down. See `ko_make_with_layers_and_negmods` to customize this behavior.\n\n`ko_make_with_layers(modifiers, key, replacement, layers)`\n\nAdditionally takes a bitmask `layers` that defines on which layers the override is used.\n\n`ko_make_with_layers_and_negmods(modifiers, key, replacement, layers, negative_mods)`\n\nAdditionally takes a bitmask `negative_mods` that defines which modifiers may not be pressed for this override to activate.\n\n`ko_make_with_layers_negmods_and_options(modifiers, key, replacement, layers, negative_mods, options)`\n\nAdditionally takes a bitmask `options` that specifies additional options. See `ko_option_t` for available options.\n\nFor more customization possibilities, you may directly create a `key_override_t`, which allows you to customize even more behavior. Read further below for details and examples.",
            "Simple Example {#simple-example}": "This shows how the mentioned example of sending `delete` when `shift` + `backspace` are pressed is realized:\n\n```\nconst key_override_t delete_key_override = ko_make_basic(MOD_MASK_SHIFT, KC_BSPC, KC_DEL);\n\n// This globally defines all key overrides to be used\nconst key_override_t *key_overrides[] = {\n    &delete_key_override\n};\n```",
            "Intermediate Difficulty Examples {#intermediate-difficulty-examples}": {
              "Media Controls & Screen Brightness {#media-controls-amp-screen-brightness}": "In this example a single key is configured to control media, volume and screen brightness by using key overrides.\n\n['The key is set to send `play/pause` in the keymap.']\n\nThe following key overrides will be configured:\n\n['`Ctrl` + `play/pause` will send `next track`.', '`Ctrl` + `Shift` + `play/pause` will send `previous track`. ', '`Alt` + `play/pause` will send `volume up`. ', '`Alt` + `Shift` + `play/pause` will send `volume down`.', '`Ctrl` + `Alt` + `play/pause` will send `brightness up`.', '`Ctrl` + `Alt` + `Shift` + `play/pause` will send `brightness down`.']\n\n```\nconst key_override_t next_track_override = \n    ko_make_with_layers_negmods_and_options(\n        MOD_MASK_CTRL,       // Trigger modifiers: ctrl\n        KC_MPLY,             // Trigger key: play/pause\n        KC_MNXT,             // Replacement key\n        ~0,                  // Activate on all layers\n        MOD_MASK_SA,         // Do not activate when shift or alt are pressed\n        ko_option_no_reregister_trigger); // Specifies that the play key is not registered again after lifting ctrl\n    \nconst key_override_t prev_track_override = ko_make_with_layers_negmods_and_options(MOD_MASK_CS, KC_MPLY,\n                                            KC_MPRV, ~0, MOD_MASK_ALT, ko_option_no_reregister_trigger);\n\nconst key_override_t vol_up_override = ko_make_with_layers_negmods_and_options(MOD_MASK_ALT, KC_MPLY,\n                                            KC_VOLU, ~0, MOD_MASK_CS, ko_option_no_reregister_trigger);\n\nconst key_override_t vol_down_override = ko_make_with_layers_negmods_and_options(MOD_MASK_SA, KC_MPLY,\n                                            KC_VOLD, ~0, MOD_MASK_CTRL, ko_option_no_reregister_trigger);\n\nconst key_override_t brightness_up_override = ko_make_with_layers_negmods_and_options(MOD_MASK_CA, KC_MPLY,\n                                            KC_BRIU, ~0, MOD_MASK_SHIFT, ko_option_no_reregister_trigger);\n\nconst key_override_t brightness_down_override = ko_make_basic(MOD_MASK_CSA, KC_MPLY, KC_BRID);\n\n// This globally defines all key overrides to be used\nconst key_override_t *key_overrides[] = {\n    &next_track_override,\n    &prev_track_override,\n    &vol_up_override,\n    &vol_down_override,\n    &brightness_up_override,\n    &brightness_down_override\n};\n```",
              "Flexible macOS-friendly Grave Escape {#flexible-macos-friendly-grave-escape}": "The [Grave Escape feature](grave_esc) is limited in its configurability and has [bugs when used on macOS](grave_esc#caveats). Key overrides can be used to achieve a similar functionality as Grave Escape, but with more customization and without bugs on macOS.\n\n```\n// Shift + esc = ~\nconst key_override_t tilde_esc_override = ko_make_basic(MOD_MASK_SHIFT, KC_ESC, S(KC_GRV));\n\n// GUI + esc = `\nconst key_override_t grave_esc_override = ko_make_basic(MOD_MASK_GUI, KC_ESC, KC_GRV);\n\nconst key_override_t *key_overrides[] = {\n    &tilde_esc_override,\n    &grave_esc_override\n};\n```\n\nIn addition to not encountering unexpected bugs on macOS, you can also change the behavior as you wish. Instead setting `GUI` + `ESC` = `` ` `` you may change it to an arbitrary other modifier, for example `Ctrl` + `ESC` = `` ` ``."
            },
            "Advanced Examples {#advanced-examples}": {
              "Modifiers as Layer Keys {#modifiers-as-layer-keys}": "Do you really need a dedicated key to toggle your fn layer? With key overrides, perhaps not. This example shows how you can configure to use `rGUI` + `rAlt` (right GUI and right alt) to access a momentary layer like an fn layer. With this you completely eliminate the need to use a dedicated layer key. Of course the choice of modifier keys can be changed as needed, `rGUI` + `rAlt` is just an example here. \n\n```\n// This is called when the override activates and deactivates. Enable the fn layer on activation and disable on deactivation\nbool momentary_layer(bool key_down, void *layer) {\n    if (key_down) {\n        layer_on((uint8_t)(uintptr_t)layer);\n    } else {\n        layer_off((uint8_t)(uintptr_t)layer);\n    }\n\n    return false;\n}\n\nconst key_override_t fn_override = {.trigger_mods          = MOD_BIT(KC_RGUI) | MOD_BIT(KC_RALT),                       //\n                                   .layers                 = ~(1 << LAYER_FN),                                          //\n                                   .suppressed_mods        = MOD_BIT(KC_RGUI) | MOD_BIT(KC_RALT),                       //\n                                   .options                = ko_option_no_unregister_on_other_key_down,                 //\n                                   .negative_mod_mask      = (uint8_t) ~(MOD_BIT(KC_RGUI) | MOD_BIT(KC_RALT)),          //\n                                   .custom_action          = momentary_layer,                                           //\n                                   .context                = (void *)LAYER_FN,                                          //\n                                   .trigger                = KC_NO,                                                     //\n                                   .replacement            = KC_NO,                                                     //\n                                   .enabled                = NULL};\n```"
            },
            "Keycodes {#keycodes}": "|Keycode                 |Aliases  |Description           |\n|------------------------|---------|----------------------|\n|`QK_KEY_OVERRIDE_TOGGLE`|`KO_TOGG`|Toggle key overrides  |\n|`QK_KEY_OVERRIDE_ON`    |`KO_ON`  |Turn on key overrides |\n|`QK_KEY_OVERRIDE_OFF`   |`KO_OFF` |Turn off key overrides|",
            "Reference for `key_override_t` {#reference-for-key_override_t}": "Advanced users may need more customization than what is offered by the simple `ko_make` initializers. For this, directly create a `key_override_t` value and set all members. Below is a reference for all members of `key_override_t`.\n\n| Member                                                 | Description                                                                                                                                                                                                                                                                                                                                                                                                                                        |\n|--------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `uint16_t trigger`                                     | The non-modifier keycode that triggers the override. This keycode, and the necessary modifiers (`trigger_mods`) must be pressed to activate this override. Set this to the keycode of the key that should activate the override. Set to `KC_NO` to require only the necessary modifiers to be pressed and no non-modifier.                                                                                                                                                                                                                                                                                                                                |\n| `uint8_t trigger_mods`                            | Which mods need to be down for activation. If both sides of a modifier are set (e.g. left ctrl and right ctrl) then only one is required to be pressed (e.g. left ctrl suffices). Use the `MOD_MASK_XXX` and `MOD_BIT()` macros for this.                                                                                                                                                                                                                                                                            |\n| `layer_state_t layers`                                 | This is a BITMASK (!), defining which layers this override applies to. To use this override on layer i set the ith bit `(1 << i)`.                                                                                                                                                                                                                                                                                                                   |\n| `uint8_t negative_mod_mask`                       | Which modifiers cannot be down. It must hold that `(active_modifiers & negative_mod_mask) == 0`, otherwise the key override will not be activated. An active override will be deactivated once this is no longer true.                                                                                                                                                                                                                                                                                                     |\n| `uint8_t suppressed_mods`                              | Modifiers to 'suppress' while the override is active. To suppress a modifier means that even though the modifier key is held down, the host OS sees the modifier as not pressed. Can be used to suppress the trigger modifiers, as a trivial example.                                                                                                                                                                                                                                                                                                                                            |\n| `uint16_t replacement`                                 | The complex keycode to send as replacement when this override is triggered. This can be a simple keycode, a key-modifier combination (e.g. `C(KC_A)`), or `KC_NO` (to register no replacement keycode). Use in combination with suppressed_mods to get the correct modifiers to be sent.                                                                                                                                                                                                                 |\n| `ko_option_t options`             | Options controlling the behavior of the override, such as what actions are allowed to activate the override.                                                                                                                                                                                                                                                                                                                |\n| `bool (*custom_action)(bool activated, void *context)` | If not NULL, this function will be called right before the replacement key is registered, along with the provided context and a flag indicating whether the override was activated or deactivated. This function allows you to run some custom actions for specific key overrides. If you return `false`, the replacement key is not registered/unregistered as it would normally. Return `true` to register and unregister the override normally. |\n| `void *context`                                        | A context that will be passed to the custom action function.                                                                                                                                                                                                                                                                                                                                                                        |\n| `bool *enabled`                                        | If this points to false this override will not be used. Set to NULL to always have this override enabled.                                                                                                                                                                                                                                                                                                                                          |",
            "Reference for `ko_option_t` {#reference-for-ko_option_t}": "Bitfield with various options controlling the behavior of a key override.\n\n| Value                                    | Description                                                                                                                                                                                                            |\n|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `ko_option_activation_trigger_down`      | Allow activating when the trigger key is pressed down.                                                                                                                                                                 |\n| `ko_option_activation_required_mod_down` | Allow activating when a necessary modifier is pressed down.                                                                                                                                                                                     |\n| `ko_option_activation_negative_mod_up`   | Allow activating when a negative modifier is released.                                                                                                                                                                 |\n| `ko_option_one_mod`                      | If set, any of the modifiers in `trigger_mods` will be enough to activate the override (logical OR of modifiers). If not set, all the modifiers in `trigger_mods` have to be pressed (logical AND of modifiers). |\n| `ko_option_no_unregister_on_other_key_down`    |  If set, the override will not deactivate when another key is pressed down. Use only if you really know you need this.                                                                                                                          |\n| `ko_option_no_reregister_trigger`        | If set, the trigger key will never be registered again after the override is deactivated.                                                                                                                              |\n| `ko_options_default`                     | The default options used by the `ko_make_xxx` functions                                                                                                                                                                  |",
            "For Advanced Users: Inner Workings {#for-advanced-users-inner-workings}": "This section explains how a key override works in detail, explaining where each member of `key_override_t` comes into play. Understanding this is essential to be able to take full advantage of all the options offered by key overrides.\n\nActivation {#activation}\n\nWhen the necessary keys are pressed (`trigger_mods` + `trigger`), the override is 'activated' and the replacement key is registered in the keyboard report (`replacement`), while the `trigger` key is removed from the keyboard report. The trigger modifiers may also be removed from the keyboard report upon activation of an override (`suppressed_mods`). The override will not activate if any of the `negative_modifiers` are pressed.\n\nOverrides can activate in three different cases:\n\n['The trigger key is pressed down and necessary modifiers are already down.', 'A necessary modifier is pressed down, while the trigger key and other necessary modifiers are already down.', 'A negative modifier is released, while all necessary modifiers and the trigger key are already down.']\n\nUse the `option` member to customize which of these events are allowed to activate your overrides (default: all three).\n\nIn any case, a key override can only activate if the `trigger` key is the _last_ non-modifier key that was pressed down. This emulates the behavior of how standard OSes (macOS, Windows, Linux) handle normal key input (to understand: Hold down `a`, then also hold down `b`, then hold down `shift`; `B` will be typed but not `A`).\n\nDeactivation {#deactivation}\n\nAn override is 'deactivated' when one of the trigger keys (`trigger_mods`, `trigger`) is lifted, another non-modifier key is pressed down, or one of the `negative_modifiers` is pressed down. When an override deactivates, the `replacement` key is removed from the keyboard report, while the `suppressed_mods` that are still held down are re-added to the keyboard report. By default, the `trigger` key is re-added to the keyboard report if it is still held down and no other non-modifier key has been pressed since. This again emulates the behavior of how standard OSes handle normal key input (To understand: hold down `a`, then also hold down `b`, then also `shift`, then release `b`; `A` will not be typed even though you are holding the `a` and `shift` keys). Use the `option` field `ko_option_no_reregister_trigger` to prevent re-registering the trigger key in all cases.\n\nKey Repeat Delay {#key-repeat-delay}\n\nA third way in which standard OS-handling of modifier-key input is emulated in key overrides is with a ['key repeat delay'](https://www.dummies.com/computers/pcs/set-your-keyboards-repeat-delay-and-repeat-rate/). To explain what this is, let's look at how normal keyboard input is handled by mainstream OSes again: If you hold down `a`, followed by `shift`, you will see the letter `a` is first typed, then for a short moment nothing is typed and then repeating `A`s are typed. Take note that, although shift is pressed down just after `a` is pressed, it takes a moment until `A` is typed. This is caused by the aforementioned key repeat delay, and it is a feature that prevents unwanted repeated characters from being typed.\n\nThis applies equally to releasing a modifier: When you hold `shift`, then press `a`, the letter `A` is typed. Now if you release `shift` first, followed by `a` shortly after, you will not see the letter `a` being typed, even though for a short moment of time you were just holding down the key `a`. This is because no modified characters are typed until the key repeat delay has passed.\n\nThis exact behavior is implemented in key overrides as well: If a key override for `shift` + `a` = `b` exists, and `a` is pressed and held, followed by `shift`, you will not immediately see the letter `b` being typed. Instead, this event is deferred for a short moment, until the key repeat delay has passed, measured from the moment when the trigger key (`a`) was pressed down.\n\nThe duration of the key repeat delay is controlled with the `KEY_OVERRIDE_REPEAT_DELAY` macro. Define this value in your `config.h` file to change it. It is 500ms by default.",
            "Difference to Combos {#difference-to-combos}": "Note that key overrides are very different from [combos](combo). Combos require that you press down several keys almost _at the same time_ and can work with any combination of non-modifier keys. Key overrides work like keyboard shortcuts (e.g. `ctrl` + `z`): They take combinations of _multiple_ modifiers and _one_ non-modifier key to then perform some custom action. Key overrides are implemented with much care to behave just like normal keyboard shortcuts would in regards to the order of pressed keys, timing, and interaction with other pressed keys. There are a number of optional settings that can be used to really fine-tune the behavior of each key override as well. Using key overrides also does not delay key input for regular key presses, which inherently happens in combos and may be undesirable.",
            "Solution to the problem of flashing modifiers {#neutralize-flashing-modifiers}": "If the programs you use bind an action to taps of modifier keys (e.g. tapping left GUI to bring up the applications menu or tapping left Alt to focus the menu bar), you may find that using key overrides with suppressed mods falsely triggers those actions. To counteract this, you can define a `DUMMY_MOD_NEUTRALIZER_KEYCODE` in `config.h` that will get sent in between the register and unregister events of a suppressed modifier. That way, the programs on your computer will no longer interpret the mod suppression induced by key overrides as a lone tap of a modifier key and will thus not falsely trigger the undesired action.\n\nNaturally, for this technique to be effective, you must choose a `DUMMY_MOD_NEUTRALIZER_KEYCODE` for which no keyboard shortcuts are bound to. Recommended values are: `KC_RIGHT_CTRL` or `KC_F18`. \nPlease note that `DUMMY_MOD_NEUTRALIZER_KEYCODE` must be a basic, unmodified, HID keycode so values like `KC_NO`, `KC_TRANSPARENT` or `KC_PIPE` aka `S(KC_BACKSLASH)` are not permitted.\n\nBy default, only left Alt and left GUI are neutralized. If you want to change the list of applicable modifier masks, use the following in your `config.h`:\n\n```\n#define MODS_TO_NEUTRALIZE { <mod_mask_1>, <mod_mask_2>, ... }\n```\n\nExamples:\n\n```\n#define DUMMY_MOD_NEUTRALIZER_KEYCODE KC_RIGHT_CTRL\n\n// Neutralize left alt and left GUI (Default value)\n#define MODS_TO_NEUTRALIZE { MOD_BIT(KC_LEFT_ALT), MOD_BIT(KC_LEFT_GUI) }\n\n// Neutralize left alt, left GUI, right GUI and left Control+Shift\n#define MODS_TO_NEUTRALIZE { MOD_BIT(KC_LEFT_ALT), MOD_BIT(KC_LEFT_GUI), MOD_BIT(KC_RIGHT_GUI), MOD_BIT(KC_LEFT_CTRL)|MOD_BIT(KC_LEFT_SHIFT) }\n```\n\n::: warning\nDo not use `MOD_xxx` constants like `MOD_LSFT` or `MOD_RALT`, since they're 5-bit packed bit-arrays while `MODS_TO_NEUTRALIZE` expects a list of 8-bit packed bit-arrays. Use `MOD_BIT(<kc>)` or `MOD_MASK_xxx` instead.\n:::"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 18]"
        },
        {
          "title": "Layer Lock",
          "description": null,
          "content": {
            "How do I enable Layer Lock": "In your rules.mk, add:\n\n```\nLAYER_LOCK_ENABLE = yes\n```\n\nPick a key in your keymap on a layer you intend to lock, and assign it the\nkeycode `QK_LAYER_LOCK` (short alias `QK_LLCK`). Note that locking the base\nlayer has no effect, so typically, this key is used on layers above the base\nlayer.",
            "Example use": "Consider a keymap with the following base layer.\n\n![Base layer with a MO(NAV) key.](https://i.imgur.com/DkEhj9x.png)\n\nThe highlighted key is a momentary layer switch `MO(NAV)`. Holding it accesses a\nnavigation layer.\n\n![Nav layer with a Layer Lock key.](https://i.imgur.com/2wUZNWk.png)\n\nHolding the NAV key is fine for brief use, but awkward to continue holding when\nusing navigation functions continuously. The Layer Lock key comes to the rescue:\n\n['Hold the NAV key, activating the navigation layer.', 'Tap Layer Lock.', 'Release NAV. The navigation layer stays on.', 'Make use of the arrow keys, etc.', 'Tap Layer Lock or NAV again to turn the navigation layer back off.']\n\nA variation that would also work is to put the Layer Lock key on the base layer\nand make other layers transparent (`KC_TRNS`) in that position. Pressing the\nLayer Lock key locks (or unlocks) the highest active layer, regardless of which\nlayer the Layer Lock key is on.",
            "Idle timeout": "Optionally, Layer Lock may be configured to unlock if the keyboard is idle\nfor some time. In config.h, define `LAYER_LOCK_IDLE_TIMEOUT` in units of\nmilliseconds:\n\n```\n#define LAYER_LOCK_IDLE_TIMEOUT 60000  // Turn off after 60 seconds.\n```",
            "Functions": "Use the following functions to query and manipulate the layer lock state.\n\n| Function                   | Description                        |\n|----------------------------|------------------------------------|\n| `is_layer_locked(layer)`   | Checks whether `layer` is locked.  |\n| `layer_lock_on(layer)`     | Locks and turns on `layer`.        |\n| `layer_lock_off(layer)`    | Unlocks and turns off `layer`.     |\n| `layer_lock_invert(layer)` | Toggles whether `layer` is locked. |",
            "Representing the current Layer Lock state": "There is an optional callback `layer_lock_set_user()` that gets called when a\nlayer is locked or unlocked. This is useful to represent the current lock state\nfor instance by setting an LED. In keymap.c, define\n\n```\nbool layer_lock_set_user(layer_state_t locked_layers) {\n  // Do something like `set_led(is_layer_locked(NAV));`\n  return true;\n}\n```\n\nThe argument `locked_layers` is a bitfield in which the kth bit is on if the kth\nlayer is locked. Alternatively, you can use `is_layer_locked(layer)` to check if\na given layer is locked.",
            "Combine Layer Lock with a mod-tap": "It is possible to create a [mod-tap MT key](../mod_tap) that acts as a modifier\non hold and Layer Lock on tap. Since Layer Lock is not a [basic\nkeycode](../keycodes_basic), attempting `MT(mod, QK_LLCK)` is invalid does not\nwork directly, yet this effect can be achieved through [changing the tap\nfunction](../mod_tap#changing-tap-function). For example, the following\nimplements a `SFTLLCK` key that acts as Shift on hold and Layer Lock on tap:\n\n```\n#define SFTLLCK LSFT_T(KC_0)\n\n// Use SFTLLCK in your keymap...\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case SFTLLCK:\n            if (record->tap.count) {\n                if (record->event.pressed) {\n                    // Toggle the lock on the highest layer.\n                    layer_lock_invert(get_highest_layer(layer_state));\n                }\n                return false;\n            }\n            break;\n\n        // Other macros...\n    }\n    return true;\n}\n```\n\nIn the above, `KC_0` is an arbitrary placeholder for the tapping keycode. This\nkeycode will never be sent, so any basic keycode will do. In\n`process_record_user()`, the tap press event is changed to toggle the lock on\nthe highest layer. Layer Lock can be combined with a [layer-tap LT\nkey](../feature_layers#switching-and-toggling-layers) similarly."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 19]"
        },
        {
          "title": "The Leader Key: A New Kind of Modifier {#the-leader-key}",
          "description": null,
          "content": {
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nLEADER_ENABLE = yes\n```\n\nThen add the `QK_LEAD` keycode to your keymap.",
            "Callbacks {#callbacks}": "These callbacks are invoked when the leader sequence begins and ends. In the latter you can implement your custom functionality based on the contents of the sequence buffer.\n\n```\nvoid leader_start_user(void) {\n    // Do something when the leader key is pressed\n}\n\nvoid leader_end_user(void) {\n    if (leader_sequence_one_key(KC_F)) {\n        // Leader, f => Types the below string\n        SEND_STRING(\"QMK is awesome.\");\n    } else if (leader_sequence_two_keys(KC_D, KC_D)) {\n        // Leader, d, d => Ctrl+A, Ctrl+C\n        SEND_STRING(SS_LCTL(\"a\") SS_LCTL(\"c\"));\n    } else if (leader_sequence_three_keys(KC_D, KC_D, KC_S)) {\n        // Leader, d, d, s => Types the below string\n        SEND_STRING(\"https://start.duckduckgo.com\\n\");\n    } else if (leader_sequence_two_keys(KC_A, KC_S)) {\n        // Leader, a, s => GUI+S\n        tap_code16(LGUI(KC_S));\n    }\n}\n```",
            "Basic Configuration {#basic-configuration}": {
              "Timeout {#timeout}": "This is the amount of time you have to complete a sequence once the leader key has been pressed. The default value is 300 milliseconds, but you can change this by adding the following to your `config.h`:\n\n```\n#define LEADER_TIMEOUT 350\n```",
              "Per-Key Timeout {#per-key-timeout}": "Rather than relying on an incredibly high timeout for long leader key strings or those of us without 200 wpm typing skills, you can enable per-key timing to ensure that each key pressed provides you with more time to finish the sequence. This is incredibly helpful with leader key emulation of tap dance (such as multiple taps of the same key like C, C, C).\n\nTo enable this, add the following to your `config.h`:\n\n```\n#define LEADER_PER_KEY_TIMING\n```\n\nAfter this, it's recommended that you lower your timeout below 300 ms:\n\n```\n#define LEADER_TIMEOUT 250\n```\n\nNow, something like this won't seem impossible to do without a 1000 millisecond timeout:\n\n```\nif (leader_sequence_three_keys(KC_C, KC_C, KC_C)) {\n    SEND_STRING(\"Per key timing is great!!!\");\n}\n```",
              "Disabling Initial Timeout {#disabling-initial-timeout}": "Sometimes your leader key may be too far away from the rest of the keys in the sequence. Imagine that your leader key is one of your outer top right keys - you may need to reposition your hand just to reach your leader key. This can make typing the entire sequence on time hard difficult if you are able to type most of the sequence fast. For example, if your sequence is `Leader + asd`, typing `asd` fast is very easy once you have your hands in your home row, but starting the sequence in time after moving your hand out of the home row to reach the leader key and back is not.\n\nTo remove the stress this situation produces to your hands, you can disable the timeout just for the leader key. Add the following to your `config.h`:\n\n```\n#define LEADER_NO_TIMEOUT\n```\n\nNow, after you hit the leader key, you will have an infinite amount of time to start the rest of the sequence, allowing you to properly position your hands to type the rest of the sequence comfortably. This way you can configure a very short `LEADER_TIMEOUT`, but still have plenty of time to position your hands.",
              "Strict Key Processing {#strict-key-processing}": "By default, only the \"tap keycode\" portions of [Mod-Taps](../mod_tap) and [Layer Taps](../feature_layers#switching-and-toggling-layers) are added to the sequence buffer. This means if you press eg. `LT(3, KC_A)` as part of a sequence, `KC_A` will be added to the buffer, rather than the entire `LT(3, KC_A)` keycode.\n\nThis gives a more expected behaviour for most users, however you may want to change this.\n\nTo enable this, add the following to your `config.h`:\n\n```\n#define LEADER_KEY_STRICT_KEY_PROCESSING\n```"
            },
            "Example {#example}": "This example will play the Mario \"One Up\" sound when you hit `QK_LEAD` to start the leader sequence. When the sequence ends, it will play \"All Star\" if it completes successfully or \"Rick Roll\" you if it fails (in other words, no sequence matched).\n\n```\n#ifdef AUDIO_ENABLE\nfloat leader_start_song[][2] = SONG(ONE_UP_SOUND);\nfloat leader_succeed_song[][2] = SONG(ALL_STAR);\nfloat leader_fail_song[][2] = SONG(RICK_ROLL);\n#endif\n\nvoid leader_start_user(void) {\n#ifdef AUDIO_ENABLE\n    PLAY_SONG(leader_start_song);\n#endif\n}\n\nvoid leader_end_user(void) {\n    bool did_leader_succeed = false;\n\n    if (leader_sequence_one_key(KC_E)) {\n        SEND_STRING(SS_LCTL(SS_LSFT(\"t\")));\n        did_leader_succeed = true;\n    } else if (leader_sequence_two_keys(KC_E, KC_D)) {\n        SEND_STRING(SS_LGUI(\"r\") \"cmd\\n\" SS_LCTL(\"c\"));\n        did_leader_succeed = true;\n    }\n\n#ifdef AUDIO_ENABLE\n    if (did_leader_succeed) {\n        PLAY_SONG(leader_succeed_song);\n    } else {\n        PLAY_SONG(leader_fail_song);\n    }\n#endif\n}\n```",
            "Keycodes {#keycodes}": "|Key                    |Aliases  |Description              |\n|-----------------------|---------|-------------------------|\n|`QK_LEADER`            |`QK_LEAD`|Begin the leader sequence|",
            "API {#api}": {
              "`void leader_start_user(void)` {#api-leader-start-user}": "User callback, invoked when the leader sequence begins.\n\n[]",
              "`void leader_end_user(void)` {#api-leader-end-user}": "User callback, invoked when the leader sequence ends.\n\n[]",
              "`bool leader_add_user(uint16_t keycode)` {#api-leader-add-user}": {
                "Arguments {#api-leader-add-user-arguments}": [
                  "`uint16_t keycode`  \nThe keycode to added to the leader sequence."
                ],
                "Return Value {#api-leader-add-user-return}": "`true` to finish the key sequence, `false` to continue.\n\n[]"
              },
              "`void leader_start(void)` {#api-leader-start}": "Begin the leader sequence, resetting the buffer and timer.\n\n[]",
              "`void leader_end(void)` {#api-leader-end}": "End the leader sequence.\n\n[]",
              "`bool leader_sequence_active(void)` {#api-leader-sequence-active}": "Whether the leader sequence is active.\n\n[]",
              "`bool leader_sequence_add(uint16_t keycode)` {#api-leader-sequence-add}": {
                "Arguments {#api-leader-sequence-add-arguments}": [
                  "`uint16_t keycode`  \nThe keycode to add."
                ],
                "Return Value {#api-leader-sequence-add-return}": "`true` if the keycode was added, `false` if the buffer is full.\n\n[]"
              },
              "`bool leader_sequence_timed_out(void)` {#api-leader-sequence-timed-out}": "Whether the leader sequence has reached the timeout.\n\nIf `LEADER_NO_TIMEOUT` is defined, the buffer must also contain at least one key.\n\n[]",
              "`bool leader_reset_timer(void)` {#api-leader-reset-timer}": "Reset the leader sequence timer.\n\n[]",
              "`bool leader_sequence_one_key(uint16_t kc)` {#api-leader-sequence-one-key}": {
                "Arguments {#api-leader-sequence-one-key-arguments}": [
                  "`uint16_t kc`  \nThe keycode to check."
                ],
                "Return Value {#api-leader-sequence-one-key-return}": "`true` if the sequence buffer matches.\n\n[]"
              },
              "`bool leader_sequence_two_keys(uint16_t kc1, uint16_t kc2)` {#api-leader-sequence-two-keys}": {
                "Arguments {#api-leader-sequence-two-keys-arguments}": [
                  "`uint16_t kc1`  \nThe first keycode to check.",
                  "`uint16_t kc2`  \nThe second keycode to check."
                ],
                "Return Value {#api-leader-sequence-two-keys-return}": "`true` if the sequence buffer matches.\n\n[]"
              },
              "`bool leader_sequence_three_keys(uint16_t kc1, uint16_t kc2, uint16_t kc3)` {#api-leader-sequence-three-keys}": {
                "Arguments {#api-leader-sequence-three-keys-arguments}": [
                  "`uint16_t kc1`  \nThe first keycode to check.",
                  "`uint16_t kc2`  \nThe second keycode to check.",
                  "`uint16_t kc3`  \nThe third keycode to check."
                ],
                "Return Value {#api-leader-sequence-three-keys-return}": "`true` if the sequence buffer matches.\n\n[]"
              },
              "`bool leader_sequence_four_keys(uint16_t kc1, uint16_t kc2, uint16_t kc3, uint16_t kc4)` {#api-leader-sequence-four-keys}": {
                "Arguments {#api-leader-sequence-four-keys-arguments}": [
                  "`uint16_t kc1`  \nThe first keycode to check.",
                  "`uint16_t kc2`  \nThe second keycode to check.",
                  "`uint16_t kc3`  \nThe third keycode to check.",
                  "`uint16_t kc4`  \nThe fourth keycode to check."
                ],
                "Return Value {#api-leader-sequence-four-keys-return}": "`true` if the sequence buffer matches.\n\n[]"
              },
              "`bool leader_sequence_five_keys(uint16_t kc1, uint16_t kc2, uint16_t kc3, uint16_t kc4, uint16_t kc5)` {#api-leader-sequence-five-keys}": {
                "Arguments {#api-leader-sequence-five-keys-arguments}": [
                  "`uint16_t kc1`  \nThe first keycode to check.",
                  "`uint16_t kc2`  \nThe second keycode to check.",
                  "`uint16_t kc3`  \nThe third keycode to check.",
                  "`uint16_t kc4`  \nThe fourth keycode to check.",
                  "`uint16_t kc5`  \nThe fifth keycode to check."
                ],
                "Return Value {#api-leader-sequence-five-keys-return}": "`true` if the sequence buffer matches."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 20]"
        },
        {
          "title": "LED Indicators",
          "description": null,
          "content": {
            "Configuration Options": "To configure the indicators, `#define` these in your `config.h`:\n\n|Define               |Default      |Description                                |\n|---------------------|-------------|-------------------------------------------|\n|`LED_NUM_LOCK_PIN`   |*Not defined*|The pin that controls the `Num Lock` LED   |\n|`LED_CAPS_LOCK_PIN`  |*Not defined*|The pin that controls the `Caps Lock` LED  |\n|`LED_SCROLL_LOCK_PIN`|*Not defined*|The pin that controls the `Scroll Lock` LED|\n|`LED_COMPOSE_PIN`    |*Not defined*|The pin that controls the `Compose` LED    |\n|`LED_KANA_PIN`       |*Not defined*|The pin that controls the `Kana` LED       |\n|`LED_PIN_ON_STATE`   |`1`          |The state of the indicator pins when the LED is \"on\" - `1` for high, `0` for low|\n\nUnless you are designing your own keyboard, you generally should not need to change the above config options.",
            "LED update function": {
              "Example of keyboard LED update implementation": "This is a template indicator function that can be implemented on keyboard level code:\n\n```\nbool led_update_kb(led_t led_state) {\n    bool res = led_update_user(led_state);\n    if(res) {\n        // gpio_write_pin sets the pin high for 1 and low for 0.\n        // In this example the pins are inverted, setting\n        // it low/0 turns it on, and high/1 turns the LED off.\n        // This behavior depends on whether the LED is between the pin\n        // and VCC or the pin and GND.\n        gpio_write_pin(B0, !led_state.num_lock);\n        gpio_write_pin(B1, !led_state.caps_lock);\n        gpio_write_pin(B2, !led_state.scroll_lock);\n        gpio_write_pin(B3, !led_state.compose);\n        gpio_write_pin(B4, !led_state.kana);\n    }\n    return res;\n}\n```",
              "Example of user LED update implementation": "This is an incomplete example will play a sound if Caps Lock is turned on or off. It returns `true` to allow keyboard LED function to maintain their state.\n\n```\n#ifdef AUDIO_ENABLE\n  float caps_on[][2] = SONG(CAPS_LOCK_ON_SOUND);\n  float caps_off[][2] = SONG(CAPS_LOCK_OFF_SOUND);\n#endif\n\nbool led_update_user(led_t led_state) {\n    #ifdef AUDIO_ENABLE\n    static uint8_t caps_state = 0;\n    if (caps_state != led_state.caps_lock) {\n        led_state.caps_lock ? PLAY_SONG(caps_on) : PLAY_SONG(caps_off);\n        caps_state = led_state.caps_lock;\n    }\n    #endif\n    return true;\n}\n```"
            },
            "Host keyboard LED state ": "The `host_keyboard_led_state()` function will report the LED state returned from the host computer as `led_t`. This is useful for reading the LED state outside `led_update_*`. For example, you can get the boolean state of Caps Lock from the host with:\n\n```\nbool caps = host_keyboard_led_state().caps_lock;\n```",
            "`led_update_ports()`": "This function writes the LED state to the actual hardware. Call it manually\nfrom your `led_update_*()` callbacks to modify the handling of the standard\nkeyboard LEDs.\nFor example when repurposing a standard LED indicator as layer indicator.",
            "Setting Physical LED State": {
              "Ergodox Boards": "The Ergodox implementations provide `ergodox_right_led_1`/`2`/`3_on`/`off()` to turn individual LEDs on or off, as well as `ergodox_right_led_on`/`off(uint8_t led)` to turn them on or off by their index.\n\nIn addition, it is possible to specify the brightness level of all LEDs with `ergodox_led_all_set(uint8_t n)`; of individual LEDs with `ergodox_right_led_1`/`2`/`3_set(uint8_t n)`; or by index with `ergodox_right_led_set(uint8_t led, uint8_t n)`.\n\nErgodox boards also define `LED_BRIGHTNESS_LO` for the lowest brightness and `LED_BRIGHTNESS_HI` for the highest brightness (which is the default)."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 21]"
        },
        {
          "title": "LED Matrix Lighting {#led-matrix-lighting}",
          "description": null,
          "content": {
            "Driver Configuration {#driver-configuration}": "LED Matrix is an abstraction layer on top of an underlying LED driver API. The list of supported LED drivers is below; see the respective documentation for information on how to configure the driver.\n\n|Driver                               |Max LEDs|\n|-------------------------------------|--------|\n|[IS31FL3218](../drivers/is31fl3218)  |18      |\n|[IS31FL3236](../drivers/is31fl3236)  |36      |\n|[IS31FL3729](../drivers/is31fl3729)  |135     |\n|[IS31FL3731](../drivers/is31fl3731)  |144     |\n|[IS31FL3733](../drivers/is31fl3733)  |192     |\n|[IS31FL3736](../drivers/is31fl3736)  |96      |\n|[IS31FL3737](../drivers/is31fl3737)  |144     |\n|[IS31FL3741](../drivers/is31fl3741)  |351     |\n|[IS31FL3742A](../drivers/is31fl3742a)|180     |\n|[IS31FL3743A](../drivers/is31fl3743a)|198     |\n|[IS31FL3745](../drivers/is31fl3745)  |144     |\n|[IS31FL3746A](../drivers/is31fl3746a)|72      |\n|[SNLED27351](../drivers/snled27351)  |192     |\n\nTo assign the LED Matrix driver, add the following to your `rules.mk`, for example:\n\n```\nLED_MATRIX_DRIVER = is31fl3218\n```",
            "Common Configuration {#common-configuration}": "From this point forward the configuration is the same for all the drivers. The `led_config_t` struct provides a key electrical matrix to led index lookup table, what the physical position of each LED is on the board, and what type of key or usage the LED if the LED represents. Here is a brief example:\n\n```\nled_config_t g_led_config = { {\n  // Key Matrix to LED Index\n  {   5, NO_LED, NO_LED,   0 },\n  { NO_LED, NO_LED, NO_LED, NO_LED },\n  {   4, NO_LED, NO_LED,   1 },\n  {   3, NO_LED, NO_LED,   2 }\n}, {\n  // LED Index to Physical Position\n  { 188,  16 }, { 187,  48 }, { 149,  64 }, { 112,  64 }, {  37,  48 }, {  38,  16 }\n}, {\n  // LED Index to Flag\n  1, 4, 4, 4, 4, 1\n} };\n```\n\nThe first part, `// Key Matrix to LED Index`, tells the system what key this LED represents by using the key's electrical matrix row & col. The second part, `// LED Index to Physical Position` represents the LED's physical `{ x, y }` position on the keyboard. The default expected range of values for `{ x, y }` is the inclusive range `{ 0..224, 0..64 }`. This default expected range is due to effects that calculate the center of the keyboard for their animations. The easiest way to calculate these positions is imagine your keyboard is a grid, and the top left of the keyboard represents `{ x, y }` coordinate `{ 0, 0 }` and the bottom right of your keyboard represents `{ 224, 64 }`. Using this as a basis, you can use the following formula to calculate the physical position:\n\n```\nx = 224 / (NUMBER_OF_COLS - 1) * COL_POSITION\ny =  64 / (NUMBER_OF_ROWS - 1) * ROW_POSITION\n```\n\nWhere NUMBER_OF_COLS, NUMBER_OF_ROWS, COL_POSITION, & ROW_POSITION are all based on the physical layout of your keyboard, not the electrical layout.\n\nAs mentioned earlier, the center of the keyboard by default is expected to be `{ 112, 32 }`, but this can be changed if you want to more accurately calculate the LED's physical `{ x, y }` positions. Keyboard designers can implement `#define LED_MATRIX_CENTER { 112, 32 }` in their config.h file with the new center point of the keyboard, or where they want it to be allowing more possibilities for the `{ x, y }` values. Do note that the maximum value for x or y is 255, and the recommended maximum is 224 as this gives animations runoff room before they reset.\n\n`// LED Index to Flag` is a bitmask, whether or not a certain LEDs is of a certain type. It is recommended that LEDs are set to only 1 type.",
            "Flags {#flags}": "|Define                      |Value |Description                                      |\n|----------------------------|------|-------------------------------------------------|\n|`HAS_FLAGS(bits, flags)`    |*n/a* |Evaluates to `true` if `bits` has all `flags` set|\n|`HAS_ANY_FLAGS(bits, flags)`|*n/a* |Evaluates to `true` if `bits` has any `flags` set|\n|`LED_FLAG_NONE`             |`0x00`|If this LED has no flags                         |\n|`LED_FLAG_ALL`              |`0xFF`|If this LED has all flags                        |\n|`LED_FLAG_MODIFIER`         |`0x01`|If the LED is on a modifier key                  |\n|`LED_FLAG_KEYLIGHT`         |`0x04`|If the LED is for key backlight                  |\n|`LED_FLAG_INDICATOR`        |`0x08`|If the LED is for keyboard state indication      |",
            "Keycodes {#keycodes}": "|Key                            |Aliases  |Description                        |\n|-------------------------------|---------|-----------------------------------|\n|`QK_LED_MATRIX_ON`             |`LM_ON`  |Turn on LED Matrix                 |\n|`QK_LED_MATRIX_OFF`            |`LM_OFF` |Turn off LED Matrix                |\n|`QK_LED_MATRIX_TOGGLE`         |`LM_TOGG`|Toggle LED Matrix on or off        |\n|`QK_LED_MATRIX_MODE_NEXT`      |`LM_NEXT`|Cycle through animations           |\n|`QK_LED_MATRIX_MODE_PREVIOUS`  |`LM_PREV`|Cycle through animations in reverse|\n|`QK_LED_MATRIX_BRIGHTNESS_UP`  |`LM_BRIU`|Increase the brightness level      |\n|`QK_LED_MATRIX_BRIGHTNESS_DOWN`|`LM_BRID`|Decrease the brightness level      |\n|`QK_LED_MATRIX_SPEED_UP`       |`LM_SPDU`|Increase the animation speed       |\n|`QK_LED_MATRIX_SPEED_DOWN`     |`LM_SPDD`|Decrease the animation speed       |",
            "LED Matrix Effects {#led-matrix-effects}": "These are the effects that are currently available:\n\n```\nenum led_matrix_effects {\n    LED_MATRIX_NONE = 0,\n    LED_MATRIX_SOLID = 1,           // Static single val, no speed support\n    LED_MATRIX_ALPHAS_MODS,         // Static dual val, speed is val for LEDs marked as modifiers\n    LED_MATRIX_BREATHING,           // Cycling brightness animation\n    LED_MATRIX_BAND,                // Band fading brightness scrolling left to right\n    LED_MATRIX_BAND_PINWHEEL,       // 3 blade spinning pinwheel fades brightness\n    LED_MATRIX_BAND_SPIRAL,         // Spinning spiral fades brightness\n    LED_MATRIX_CYCLE_LEFT_RIGHT,    // Full gradient scrolling left to right\n    LED_MATRIX_CYCLE_UP_DOWN,       // Full gradient scrolling top to bottom\n    LED_MATRIX_CYCLE_OUT_IN,        // Full gradient scrolling out to in\n    LED_MATRIX_DUAL_BEACON,         // Full gradient spinning around center of keyboard\n    LED_MATRIX_SOLID_REACTIVE_SIMPLE,   // Pulses keys hit then fades out\n    LED_MATRIX_SOLID_REACTIVE_WIDE,       // Value pulses near a single key hit then fades out\n    LED_MATRIX_SOLID_REACTIVE_MULTIWIDE,  // Value pulses near multiple key hits then fades out\n    LED_MATRIX_SOLID_REACTIVE_CROSS,      // Value pulses the same column and row of a single key hit then fades out\n    LED_MATRIX_SOLID_REACTIVE_MULTICROSS, // Value pulses the same column and row of multiple key hits then fades out\n    LED_MATRIX_SOLID_REACTIVE_NEXUS,      // Value pulses away on the same column and row of a single key hit then fades out\n    LED_MATRIX_SOLID_REACTIVE_MULTINEXUS, // Value pulses away on the same column and row of multiple key hits then fades out\n    LED_MATRIX_SOLID_SPLASH,             // Value pulses away from a single key hit then fades out\n    LED_MATRIX_SOLID_MULTISPLASH,        // Value pulses away from multiple key hits then fades out\n    LED_MATRIX_WAVE_LEFT_RIGHT,           // Sine wave scrolling from left to right\n    LED_MATRIX_WAVE_UP_DOWN,              // Sine wave scrolling from up to down\n    LED_MATRIX_EFFECT_MAX\n};\n```\n\nYou can enable a single effect by defining `ENABLE_[EFFECT_NAME]` in your `config.h`:\n\n|Define                                                 |Description                                   |\n|-------------------------------------------------------|----------------------------------------------|\n|`#define ENABLE_LED_MATRIX_ALPHAS_MODS`                |Enables `LED_MATRIX_ALPHAS_MODS`              |\n|`#define ENABLE_LED_MATRIX_BREATHING`                  |Enables `LED_MATRIX_BREATHING`                |\n|`#define ENABLE_LED_MATRIX_BAND`                       |Enables `LED_MATRIX_BAND`                     |\n|`#define ENABLE_LED_MATRIX_BAND_PINWHEEL`              |Enables `LED_MATRIX_BAND_PINWHEEL`            |\n|`#define ENABLE_LED_MATRIX_BAND_SPIRAL`                |Enables `LED_MATRIX_BAND_SPIRAL`              |\n|`#define ENABLE_LED_MATRIX_CYCLE_LEFT_RIGHT`           |Enables `LED_MATRIX_CYCLE_LEFT_RIGHT`         |\n|`#define ENABLE_LED_MATRIX_CYCLE_UP_DOWN`              |Enables `LED_MATRIX_CYCLE_UP_DOWN`            |\n|`#define ENABLE_LED_MATRIX_CYCLE_OUT_IN`               |Enables `LED_MATRIX_CYCLE_OUT_IN`             |\n|`#define ENABLE_LED_MATRIX_DUAL_BEACON`                |Enables `LED_MATRIX_DUAL_BEACON`              |\n|`#define ENABLE_LED_MATRIX_WAVE_LEFT_RIGHT`            |Enables `LED_MATRIX_WAVE_LEFT_RIGHT`          |\n|`#define ENABLE_LED_MATRIX_WAVE_UP_DOWN`               |Enables `LED_MATRIX_WAVE_UP_DOWN`             |\n\n|Reactive Defines                                       |Description                                   |\n|-------------------------------------------------------|----------------------------------------------|\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_SIMPLE`      |Enables `LED_MATRIX_SOLID_REACTIVE_SIMPLE`    |\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_WIDE`        |Enables `LED_MATRIX_SOLID_REACTIVE_WIDE`      |\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_MULTIWIDE`   |Enables `LED_MATRIX_SOLID_REACTIVE_MULTIWIDE` |\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_CROSS`       |Enables `LED_MATRIX_SOLID_REACTIVE_CROSS`     |\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_MULTICROSS`  |Enables `LED_MATRIX_SOLID_REACTIVE_MULTICROSS`|\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_NEXUS`       |Enables `LED_MATRIX_SOLID_REACTIVE_NEXUS`     |\n|`#define ENABLE_LED_MATRIX_SOLID_REACTIVE_MULTINEXUS`  |Enables `LED_MATRIX_SOLID_REACTIVE_MULTINEXUS`|\n|`#define ENABLE_LED_MATRIX_SOLID_SPLASH`               |Enables `LED_MATRIX_SOLID_SPLASH`             |\n|`#define ENABLE_LED_MATRIX_SOLID_MULTISPLASH`          |Enables `LED_MATRIX_SOLID_MULTISPLASH`        |\n\n::: tip\nThese modes introduce additional logic that can increase firmware size.\n:::",
            "Custom LED Matrix Effects {#custom-led-matrix-effects}": "By setting `LED_MATRIX_CUSTOM_USER = yes` in `rules.mk`, new effects can be defined directly from your keymap or userspace, without having to edit any QMK core files. To declare new effects, create a `led_matrix_user.inc` file in the user keymap directory or userspace folder.\n\n::: tip\nHardware maintainers who want to limit custom effects to a specific keyboard can create a `led_matrix_kb.inc` file in the root of the keyboard directory, and add `LED_MATRIX_CUSTOM_KB = yes` to the keyboard level `rules.mk`.\n:::\n\n```\n// !!! DO NOT ADD #pragma once !!! //\n\n// Step 1.\n// Declare custom effects using the LED_MATRIX_EFFECT macro\n// (note the lack of semicolon after the macro!)\nLED_MATRIX_EFFECT(my_cool_effect)\nLED_MATRIX_EFFECT(my_cool_effect2)\n\n// Step 2.\n// Define effects inside the `LED_MATRIX_CUSTOM_EFFECT_IMPLS` ifdef block\n#ifdef LED_MATRIX_CUSTOM_EFFECT_IMPLS\n\n// e.g: A simple effect, self-contained within a single method\nstatic bool my_cool_effect(effect_params_t* params) {\n  LED_MATRIX_USE_LIMITS(led_min, led_max);\n  for (uint8_t i = led_min; i < led_max; i++) {\n    led_matrix_set_value(i, 0xFF);\n  }\n  return led_matrix_check_finished_leds(led_max);\n}\n\n// e.g: A more complex effect, relying on external methods and state, with\n// dedicated init and run methods\nstatic uint8_t some_global_state;\nstatic void my_cool_effect2_complex_init(effect_params_t* params) {\n  some_global_state = 1;\n}\nstatic bool my_cool_effect2_complex_run(effect_params_t* params) {\n  LED_MATRIX_USE_LIMITS(led_min, led_max);\n  for (uint8_t i = led_min; i < led_max; i++) {\n    led_matrix_set_value(i, some_global_state++);\n  }\n  return led_matrix_check_finished_leds(led_max);\n}\nstatic bool my_cool_effect2(effect_params_t* params) {\n  if (params->init) my_cool_effect2_complex_init(params);\n  return my_cool_effect2_complex_run(params);\n}\n\n#endif // LED_MATRIX_CUSTOM_EFFECT_IMPLS\n```\n\nTo switch to your custom effect programmatically, simply call `led_matrix_mode()` and prepend `LED_MATRIX_CUSTOM_` to the effect name your specified in `LED_MATRIX_EFFECT()`. For example, an effect declared as `LED_MATRIX_EFFECT(my_cool_effect)` would be referenced with:\n\n```\nled_matrix_mode(LED_MATRIX_CUSTOM_my_cool_effect);\n```\n\nFor inspiration and examples, check out the built-in effects under `quantum/led_matrix/animations/`.",
            "Additional `config.h` Options {#additional-configh-options}": "```\n#define LED_MATRIX_KEYRELEASES // reactive effects respond to keyreleases (instead of keypresses)\n#define LED_MATRIX_TIMEOUT 0 // number of milliseconds to wait until led automatically turns off\n#define LED_MATRIX_SLEEP // turn off effects when suspended\n#define LED_MATRIX_LED_PROCESS_LIMIT (LED_MATRIX_LED_COUNT + 4) / 5 // limits the number of LEDs to process in an animation per task run (increases keyboard responsiveness)\n#define LED_MATRIX_LED_FLUSH_LIMIT 16 // limits in milliseconds how frequently an animation will update the LEDs. 16 (16ms) is equivalent to limiting to 60fps (increases keyboard responsiveness)\n#define LED_MATRIX_MAXIMUM_BRIGHTNESS 255 // limits maximum brightness of LEDs\n#define LED_MATRIX_DEFAULT_ON true // Sets the default enabled state, if none has been set\n#define LED_MATRIX_DEFAULT_MODE LED_MATRIX_SOLID // Sets the default mode, if none has been set\n#define LED_MATRIX_DEFAULT_VAL LED_MATRIX_MAXIMUM_BRIGHTNESS // Sets the default brightness value, if none has been set\n#define LED_MATRIX_DEFAULT_SPD 127 // Sets the default animation speed, if none has been set\n#define LED_MATRIX_VAL_STEP 8 // The value by which to increment the brightness per adjustment action\n#define LED_MATRIX_SPD_STEP 16 // The value by which to increment the animation speed per adjustment action\n#define LED_MATRIX_DEFAULT_FLAGS LED_FLAG_ALL // Sets the default LED flags, if none has been set\n#define LED_MATRIX_SPLIT { X, Y }   // (Optional) For split keyboards, the number of LEDs connected on each half. X = left, Y = Right.\n                                    // If reactive effects are enabled, you also will want to enable SPLIT_TRANSPORT_MIRROR\n```",
            "EEPROM storage {#eeprom-storage}": "The EEPROM for it is currently shared with the RGB Matrix system (it's generally assumed only one feature would be used at a time).",
            "Callbacks {#callbacks}": {
              "Indicators {#indicators}": "If you want to set custom indicators, such as an LED for Caps Lock, or layer indication, then you can use the `led_matrix_indicators_kb` function on the keyboard level source file, or `led_matrix_indicators_user` function in the user `keymap.c`.\n\n```\nbool led_matrix_indicators_kb(void) {\n    if (!led_matrix_indicators_user()) {\n        return false;\n    }\n    led_matrix_set_value(index, value);\n    return true;\n}\n```\n\nIn addition, there are the advanced indicator functions.  These are aimed at those with heavily customized displays, where rendering every LED per cycle is expensive.  This includes a special macro to help make this easier to use: `LED_MATRIX_INDICATOR_SET_VALUE(i, v)`.\n\n```\nvoid led_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {\n    LED_MATRIX_INDICATOR_SET_VALUE(index, value);\n    return false;\n}\n```"
            },
            "API {#api}": {
              "`void led_matrix_toggle(void)` {#api-led-matrix-toggle}": "Toggle LED Matrix on or off.\n\n[]",
              "`void led_matrix_toggle_noeeprom(void)` {#api-led-matrix-toggle-noeeprom}": "Toggle LED Matrix on or off. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_enable(void)` {#api-led-matrix-enable}": "Turn LED Matrix on.\n\n[]",
              "`void led_matrix_enable_noeeprom(void)` {#api-led-matrix-enable-noeeprom}": "Turn LED Matrix on. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_disable(void)` {#api-led-matrix-disable}": "Turn LED Matrix off.\n\n[]",
              "`void led_matrix_disable_noeeprom(void)` {#api-led-matrix-disable-noeeprom}": "Turn LED Matrix off. New state is not written to EEPROM.\n\n[]",
              "`bool led_matrix_is_enabled(void)` {#api-led-matrix-is-enabled}": {
                "Return Value {#api-led-matrix-is-enabled-return}": "`true` if LED Matrix is enabled.\n\n[]"
              },
              "`void led_matrix_set_value(uint8_t index, uint8_t v)` {#led-matrix-set-value}": {
                "Arguments {#api-led-matrix-set-value-arguments}": [
                  "`uint8_t index`  \nThe LED index, from 0 to `LED_MATRIX_LED_COUNT - 1`.",
                  "`uint8_t v`  \nThe brightness value to set."
                ]
              },
              "`void led_matrix_set_value_all(uint8_t v)` {#api-led-matrix-set-value-all}": {
                "Arguments {#api-led-matrix-set-value-all-arguments}": [
                  "`uint8_t v`  \nThe brightness value to set."
                ]
              },
              "`void led_matrix_mode(uint8_t mode)` {#api-led-matrix-mode}": {
                "Arguments {#api-led-matrix-mode-arguments}": [
                  "`uint8_t mode`  \nThe effect to switch to."
                ]
              },
              "`void led_matrix_mode_noeeprom(uint8_t mode)` {#api-led-matrix-mode-noeeprom}": {
                "Arguments {#api-led-matrix-mode-noeeprom-arguments}": [
                  "`uint8_t mode`  \nThe effect to switch to."
                ]
              },
              "`void led_matrix_step(void)` {#api-led-matrix-step}": "Move to the next enabled effect.\n\n[]",
              "`void led_matrix_step_noeeprom(void)` {#api-led-matrix-step-noeeprom}": "Move to the next enabled effect. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_step_reverse(void)` {#api-led-matrix-step-reverse}": "Move to the previous enabled effect.\n\n[]",
              "`void led_matrix_step_reverse_noeeprom(void)` {#api-led-matrix-step-reverse-noeeprom}": "Move to the previous enabled effect. New state is not written to EEPROM.\n\n[]",
              "`uint8_t led_matrix_get_mode(void)` {#api-led-matrix-get-mode}": {
                "Return Value {#api-led-matrix-get-mode-return}": "The index of the currently running effect.\n\n[]"
              },
              "`void val_matrix_increase_val(void)` {#api-led-matrix-increase-val}": "Increase the global effect brightness.\n\n[]",
              "`void led_matrix_increase_val_noeeprom(void)` {#api-led-matrix-increase-val-noeeprom}": "Increase the global effect brightness. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_decrease_val(void)` {#api-led-matrix-decrease-val}": "Decrease the global effect brightness.\n\n[]",
              "`void led_matrix_decrease_val_noeeprom(void)` {#api-led-matrix-decrease-val-noeeprom}": "Decrease the global effect brightness. New state is not written to EEPROM.\n\n[]",
              "`uint8_t led_matrix_get_val(void)` {#api-led-matrix-get-val}": {
                "Return Value {#api-led-matrix-get-val-return}": "The current brightness value, from 0 to 255.\n\n[]"
              },
              "`void led_matrix_increase_speed(void)` {#api-led-matrix-increase-speed}": "Increase the effect speed.\n\n[]",
              "`void led_matrix_increase_speed_noeeprom(void)` {#api-led-matrix-increase-speed-noeeprom}": "Increase the effect speed. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_decrease_speed(void)` {#api-led-matrix-decrease-speed}": "Decrease the effect speed.\n\n[]",
              "`void led_matrix_decrease_speed_noeeprom(void)` {#api-led-matrix-decrease-speed-noeeprom}": "Decrease the effect speed. New state is not written to EEPROM.\n\n[]",
              "`void led_matrix_set_speed(uint8_t speed)` {#api-led-matrix-set-speed}": {
                "Arguments {#api-led-matrix-set-speed-arguments}": [
                  "`uint8_t speed`  \nThe new speed to set, from 0 to 255."
                ]
              },
              "`void led_matrix_set_speed_noeeprom(uint8_t speed)` {#api-led-matrix-set-speed-noeeprom}": {
                "Arguments {#api-led-matrix-set-speed-noeeprom-arguments}": [
                  "`uint8_t speed`  \nThe new speed to set, from 0 to 255."
                ]
              },
              "`uint8_t led_matrix_get_speed(void)` {#api-led-matrix-get-speed}": {
                "Return Value {#api-led-matrix-get-speed-return}": "The current effect speed, from 0 to 255.\n\n[]"
              },
              "`void led_matrix_reload_from_eeprom(void)` {#api-led-matrix-reload-from-eeprom}": "Reload the effect configuration (enabled, mode and brightness) from EEPROM.\n\n[]",
              "`bool led_matrix_get_suspend_state(void)` {#api-led-matrix-get-suspend-state}": {
                "Return Value {#api-led-matrix-get-suspend-state-return}": "`true` if LED Matrix is currently in the suspended state.\n\n[]"
              },
              "`bool led_matrix_indicators_kb(void)` {#api-led-matrix-indicators-kb}": {
                "Return Value {#api-led-matrix-indicators-kb-return}": "Currently unused.\n\n[]"
              },
              "`bool led_matrix_indicators_user(void)` {#api-led-matrix-indicators-user}": {
                "Return Value {#api-led-matrix-indicators-user-return}": "`true` to continue running the keyboard-level callback.\n\n[]"
              },
              "`bool led_matrix_indicators_advanced_kb(uint8_t led_min, uint8_t led_max)` {#api-led-matrix-indicators-advanced-kb}": "Keyboard-level callback, invoked after current animation frame is rendered but before it is flushed to the LEDs.",
              "Arguments {#api-led-matrix-indicators-advanced-kb-arguments}": {
                "Return Value {#api-led-matrix-indicators-advanced-kb-return}": "Currently unused.\n\n[]"
              },
              "`bool led_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max)` {#api-led-matrix-indicators-advanced-user}": "Keymap-level callback, invoked after current animation frame is rendered but before it is flushed to the LEDs.",
              "Arguments {#api-led-matrix-indicators-advanced-user-arguments}": {
                "Return Value {#api-led-matrix-indicators-advanced-user-return}": "`true` to continue running the keyboard-level callback."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 22]"
        },
        {
          "title": "MIDI",
          "description": null,
          "content": {
            "Usage": {
              "Caveats": "MIDI requires 2 USB endpoints and as such may not work on some hardware such as V-USB controllers.",
              "Basic MIDI": "To enable basic MIDI, add the following to your `config.h`:\n\n```\n#define MIDI_BASIC\n```",
              "Advanced MIDI": {
                "Sending Control Change (CC) Messages": "If you're aiming to emulate the features of something like a Launchpad or other MIDI controller you'll need to access the internal MIDI device directly.\n\nBecause there are so many possible CC messages, not all of them are implemented as keycodes. Additionally, you might need to provide more than just two values that you would get from a keycode (pressed and released) - for example, the analog values from a fader or a potentiometer. So, you will need to implement [custom keycodes](../feature_macros) if you want to use them in your keymap directly using `process_record_user()`.\n\nFor reference of all the possible control code numbers see [MIDI Specification](#midi-specification)",
                "Example code for using Generic On Off Switches as per MIDI Specification.": "```\n#include QMK_KEYBOARD_H\n\nextern MidiDevice midi_device;\n\n// MIDI CC codes for generic on/off switches (80, 81, 82, 83)\n// Off: 0-63\n// On:  64-127\n\n#define MIDI_CC_OFF 0\n#define MIDI_CC_ON  127\n\nenum custom_keycodes {\n    MIDI_CC80 = SAFE_RANGE,\n};\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case MIDI_CC80:\n            if (record->event.pressed) {\n                midi_send_cc(&midi_device, midi_config.channel, 80, MIDI_CC_ON);\n            } else {\n                midi_send_cc(&midi_device, midi_config.channel, 80, MIDI_CC_OFF);\n            }\n            return true;\n    }\n    return true;\n};\n\nconst uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n    LAYOUT(\n        // ...\n        MIDI_CC80,\n        // ...\n    )\n};\n```"
              },
              "Keycodes": "|Keycode                        |Aliases           |Description                      |\n|-------------------------------|------------------|---------------------------------|\n|`QK_MIDI_ON`                   |`MI_ON`           |Turn MIDI on                     |\n|`QK_MIDI_OFF`                  |`MI_OFF`          |Turn MIDI off                    |\n|`QK_MIDI_TOGGLE`               |`MI_TOGG`         |Toggle MIDI enabled              |\n|`QK_MIDI_NOTE_C_0`             |`MI_C`            |C octave 0                       |\n|`QK_MIDI_NOTE_C_SHARP_0`       |`MI_Cs`, `MI_Db`  |C/D octave 0                   |\n|`QK_MIDI_NOTE_D_0`             |`MI_D`            |D octave 0                       |\n|`QK_MIDI_NOTE_D_SHARP_0`       |`MI_Ds`, `MI_Eb`  |D/E octave 0                   |\n|`QK_MIDI_NOTE_E_0`             |`MI_E`            |E octave 0                       |\n|`QK_MIDI_NOTE_F_0`             |`MI_F`            |F octave 0                       |\n|`QK_MIDI_NOTE_F_SHARP_0`       |`MI_Fs`, `MI_Gb`  |F/G octave 0                   |\n|`QK_MIDI_NOTE_G_0`             |`MI_G`            |G octave 0                       |\n|`QK_MIDI_NOTE_G_SHARP_0`       |`MI_Gs`, `MI_Ab`  |G/A octave 0                   |\n|`QK_MIDI_NOTE_A_0`             |`MI_A`            |A octave 0                       |\n|`QK_MIDI_NOTE_A_SHARP_0`       |`MI_As`, `MI_Bb`  |A/B octave 0                   |\n|`QK_MIDI_NOTE_B_0`             |`MI_B`            |B octave 0                       |\n|`QK_MIDI_NOTE_C_1`             |`MI_C1`           |C octave 1                       |\n|`QK_MIDI_NOTE_C_SHARP_1`       |`MI_Cs1`, `MI_Db1`|C/D octave 1                   |\n|`QK_MIDI_NOTE_D_1`             |`MI_D1`           |D octave 1                       |\n|`QK_MIDI_NOTE_D_SHARP_1`       |`MI_Ds1`, `MI_Eb1`|D/E octave 1                   |\n|`QK_MIDI_NOTE_E_1`             |`MI_E1`           |E octave 1                       |\n|`QK_MIDI_NOTE_F_1`             |`MI_F1`           |F octave 1                       |\n|`QK_MIDI_NOTE_F_SHARP_1`       |`MI_Fs1`, `MI_Gb1`|F/G octave 1                   |\n|`QK_MIDI_NOTE_G_1`             |`MI_G1`           |G octave 1                       |\n|`QK_MIDI_NOTE_G_SHARP_1`       |`MI_Gs1`, `MI_Ab1`|G/A octave 1                   |\n|`QK_MIDI_NOTE_A_1`             |`MI_A1`           |A octave 1                       |\n|`QK_MIDI_NOTE_A_SHARP_1`       |`MI_As1`, `MI_Bb1`|A/B octave 1                   |\n|`QK_MIDI_NOTE_B_1`             |`MI_B1`           |B octave 1                       |\n|`QK_MIDI_NOTE_C_2`             |`MI_C2`           |C octave 2                       |\n|`QK_MIDI_NOTE_C_SHARP_2`       |`MI_Cs2`, `MI_Db2`|C/D octave 2                   |\n|`QK_MIDI_NOTE_D_2`             |`MI_D2`           |D octave 2                       |\n|`QK_MIDI_NOTE_D_SHARP_2`       |`MI_Ds2`, `MI_Eb2`|D/E octave 2                   |\n|`QK_MIDI_NOTE_E_2`             |`MI_E2`           |E octave 2                       |\n|`QK_MIDI_NOTE_F_2`             |`MI_F2`           |F octave 2                       |\n|`QK_MIDI_NOTE_F_SHARP_2`       |`MI_Fs2`, `MI_Gb2`|F/G octave 2                   |\n|`QK_MIDI_NOTE_G_2`             |`MI_G2`           |G octave 2                       |\n|`QK_MIDI_NOTE_G_SHARP_2`       |`MI_Gs2`, `MI_Ab2`|G/A octave 2                   |\n|`QK_MIDI_NOTE_A_2`             |`MI_A2`           |A octave 2                       |\n|`QK_MIDI_NOTE_A_SHARP_2`       |`MI_As2`, `MI_Bb2`|A/B octave 2                   |\n|`QK_MIDI_NOTE_B_2`             |`MI_B2`           |B octave 2                       |\n|`QK_MIDI_NOTE_C_3`             |`MI_C3`           |C octave 3                       |\n|`QK_MIDI_NOTE_C_SHARP_3`       |`MI_Cs3`, `MI_Db3`|C/D octave 3                   |\n|`QK_MIDI_NOTE_D_3`             |`MI_D3`           |D octave 3                       |\n|`QK_MIDI_NOTE_D_SHARP_3`       |`MI_Ds3`, `MI_Eb3`|D/E octave 3                   |\n|`QK_MIDI_NOTE_E_3`             |`MI_E3`           |E octave 3                       |\n|`QK_MIDI_NOTE_F_3`             |`MI_F3`           |F octave 3                       |\n|`QK_MIDI_NOTE_F_SHARP_3`       |`MI_Fs3`, `MI_Gb3`|F/G octave 3                   |\n|`QK_MIDI_NOTE_G_3`             |`MI_G3`           |G octave 3                       |\n|`QK_MIDI_NOTE_G_SHARP_3`       |`MI_Gs3`, `MI_Ab3`|G/A octave 3                   |\n|`QK_MIDI_NOTE_A_3`             |`MI_A3`           |A octave 3                       |\n|`QK_MIDI_NOTE_A_SHARP_3`       |`MI_As3`, `MI_Bb3`|A/B octave 3                   |\n|`QK_MIDI_NOTE_B_3`             |`MI_B3`           |B octave 3                       |\n|`QK_MIDI_NOTE_C_4`             |`MI_C4`           |C octave 4                       |\n|`QK_MIDI_NOTE_C_SHARP_4`       |`MI_Cs4`, `MI_Db4`|C/D octave 4                   |\n|`QK_MIDI_NOTE_D_4`             |`MI_D4`           |D octave 4                       |\n|`QK_MIDI_NOTE_D_SHARP_4`       |`MI_Ds4`, `MI_Eb4`|D/E octave 4                   |\n|`QK_MIDI_NOTE_E_4`             |`MI_E4`           |E octave 4                       |\n|`QK_MIDI_NOTE_F_4`             |`MI_F4`           |F octave 4                       |\n|`QK_MIDI_NOTE_F_SHARP_4`       |`MI_Fs4`, `MI_Gb4`|F/G octave 4                   |\n|`QK_MIDI_NOTE_G_4`             |`MI_G4`           |G octave 4                       |\n|`QK_MIDI_NOTE_G_SHARP_4`       |`MI_Gs4`, `MI_Ab4`|G/A octave 4                   |\n|`QK_MIDI_NOTE_A_4`             |`MI_A4`           |A octave 4                       |\n|`QK_MIDI_NOTE_A_SHARP_4`       |`MI_As4`, `MI_Bb4`|A/B octave 4                   |\n|`QK_MIDI_NOTE_B_4`             |`MI_B4`           |B octave 4                       |\n|`QK_MIDI_NOTE_C_5`             |`MI_C5`           |C octave 5                       |\n|`QK_MIDI_NOTE_C_SHARP_5`       |`MI_Cs5`, `MI_Db5`|C/D octave 5                   |\n|`QK_MIDI_NOTE_D_5`             |`MI_D5`           |D octave 5                       |\n|`QK_MIDI_NOTE_D_SHARP_5`       |`MI_Ds5`, `MI_Eb5`|D/E octave 5                   |\n|`QK_MIDI_NOTE_E_5`             |`MI_E5`           |E octave 5                       |\n|`QK_MIDI_NOTE_F_5`             |`MI_F5`           |F octave 5                       |\n|`QK_MIDI_NOTE_F_SHARP_5`       |`MI_Fs5`, `MI_Gb5`|F/G octave 5                   |\n|`QK_MIDI_NOTE_G_5`             |`MI_G5`           |G octave 5                       |\n|`QK_MIDI_NOTE_G_SHARP_5`       |`MI_Gs5`, `MI_Ab5`|G/A octave 5                   |\n|`QK_MIDI_NOTE_A_5`             |`MI_A5`           |A octave 5                       |\n|`QK_MIDI_NOTE_A_SHARP_5`       |`MI_As5`, `MI_Bb5`|A/B octave 5                   |\n|`QK_MIDI_NOTE_B_5`             |`MI_B5`           |B octave 5                       |\n|`QK_MIDI_OCTAVE_N2`            |`MI_OCN2`         |Set octave to -2                 |\n|`QK_MIDI_OCTAVE_N1`            |`MI_OCN1`         |Set octave to -1                 |\n|`QK_MIDI_OCTAVE_0`             |`MI_OC0`          |Set octave to 0                  |\n|`QK_MIDI_OCTAVE_1`             |`MI_OC1`          |Set octave to 1                  |\n|`QK_MIDI_OCTAVE_2`             |`MI_OC2`          |Set octave to 2                  |\n|`QK_MIDI_OCTAVE_3`             |`MI_OC3`          |Set octave to 3                  |\n|`QK_MIDI_OCTAVE_4`             |`MI_OC4`          |Set octave to 4                  |\n|`QK_MIDI_OCTAVE_5`             |`MI_OC5`          |Set octave to 5                  |\n|`QK_MIDI_OCTAVE_6`             |`MI_OC6`          |Set octave to 6                  |\n|`QK_MIDI_OCTAVE_7`             |`MI_OC7`          |Set octave to 7                  |\n|`QK_MIDI_OCTAVE_DOWN`          |`MI_OCTD`         |Move down an octave              |\n|`QK_MIDI_OCTAVE_UP`            |`MI_OCTU`         |Move up an octave                |\n|`QK_MIDI_TRANSPOSE_N6`         |`MI_TRN6`         |Set transposition to -6 semitones|\n|`QK_MIDI_TRANSPOSE_N5`         |`MI_TRN5`         |Set transposition to -5 semitones|\n|`QK_MIDI_TRANSPOSE_N4`         |`MI_TRN4`         |Set transposition to -4 semitones|\n|`QK_MIDI_TRANSPOSE_N3`         |`MI_TRN3`         |Set transposition to -3 semitones|\n|`QK_MIDI_TRANSPOSE_N2`         |`MI_TRN2`         |Set transposition to -2 semitones|\n|`QK_MIDI_TRANSPOSE_N1`         |`MI_TRN1`         |Set transposition to -1 semitone |\n|`QK_MIDI_TRANSPOSE_0`          |`MI_TR0`          |No transposition                 |\n|`QK_MIDI_TRANSPOSE_1`          |`MI_TR1`          |Set transposition to +1 semitone |\n|`QK_MIDI_TRANSPOSE_2`          |`MI_TR2`          |Set transposition to +2 semitones|\n|`QK_MIDI_TRANSPOSE_3`          |`MI_TR3`          |Set transposition to +3 semitones|\n|`QK_MIDI_TRANSPOSE_4`          |`MI_TR4`          |Set transposition to +4 semitones|\n|`QK_MIDI_TRANSPOSE_5`          |`MI_TR5`          |Set transposition to +5 semitones|\n|`QK_MIDI_TRANSPOSE_6`          |`MI_TR6`          |Set transposition to +6 semitones|\n|`QK_MIDI_TRANSPOSE_DOWN`       |`MI_TRSD`         |Decrease transposition           |\n|`QK_MIDI_TRANSPOSE_UP`         |`MI_TRSU`         |Increase transposition           |\n|`QK_MIDI_VELOCITY_0`           |`MI_VL0`          |Set velocity to 0                |\n|`QK_MIDI_VELOCITY_1`           |`MI_VL1`          |Set velocity to 12               |\n|`QK_MIDI_VELOCITY_2`           |`MI_VL2`          |Set velocity to 25               |\n|`QK_MIDI_VELOCITY_3`           |`MI_VL3`          |Set velocity to 38               |\n|`QK_MIDI_VELOCITY_4`           |`MI_VL4`          |Set velocity to 51               |\n|`QK_MIDI_VELOCITY_5`           |`MI_VL5`          |Set velocity to 64               |\n|`QK_MIDI_VELOCITY_6`           |`MI_VL6`          |Set velocity to 76               |\n|`QK_MIDI_VELOCITY_7`           |`MI_VL7`          |Set velocity to 89               |\n|`QK_MIDI_VELOCITY_8`           |`MI_VL8`          |Set velocity to 102              |\n|`QK_MIDI_VELOCITY_9`           |`MI_VL9`          |Set velocity to 114              |\n|`QK_MIDI_VELOCITY_10`          |`MI_VL10`         |Set velocity to 127              |\n|`QK_MIDI_VELOCITY_DOWN`        |`MI_VELD`         |Decrease velocity                |\n|`QK_MIDI_VELOCITY_UP`          |`MI_VELU`         |Increase velocity                |\n|`QK_MIDI_CHANNEL_1`            |`MI_CH1`          |Set channel to 1                 |\n|`QK_MIDI_CHANNEL_2`            |`MI_CH2`          |Set channel to 2                 |\n|`QK_MIDI_CHANNEL_3`            |`MI_CH3`          |Set channel to 3                 |\n|`QK_MIDI_CHANNEL_4`            |`MI_CH4`          |Set channel to 4                 |\n|`QK_MIDI_CHANNEL_5`            |`MI_CH5`          |Set channel to 5                 |\n|`QK_MIDI_CHANNEL_6`            |`MI_CH6`          |Set channel to 6                 |\n|`QK_MIDI_CHANNEL_7`            |`MI_CH7`          |Set channel to 7                 |\n|`QK_MIDI_CHANNEL_8`            |`MI_CH8`          |Set channel to 8                 |\n|`QK_MIDI_CHANNEL_9`            |`MI_CH9`          |Set channel to 9                 |\n|`QK_MIDI_CHANNEL_10`           |`MI_CH10`         |Set channel to 10                |\n|`QK_MIDI_CHANNEL_11`           |`MI_CH11`         |Set channel to 11                |\n|`QK_MIDI_CHANNEL_12`           |`MI_CH12`         |Set channel to 12                |\n|`QK_MIDI_CHANNEL_13`           |`MI_CH13`         |Set channel to 13                |\n|`QK_MIDI_CHANNEL_14`           |`MI_CH14`         |Set channel to 14                |\n|`QK_MIDI_CHANNEL_15`           |`MI_CH15`         |Set channel to 15                |\n|`QK_MIDI_CHANNEL_16`           |`MI_CH16`         |Set channel to 16                |\n|`QK_MIDI_CHANNEL_DOWN`         |`MI_CHND`         |Decrease channel                 |\n|`QK_MIDI_CHANNEL_UP`           |`MI_CHNU`         |Increase channel                 |\n|`QK_MIDI_ALL_NOTES_OFF`        |`MI_AOFF`         |Stop all notes                   |\n|`QK_MIDI_SUSTAIN`              |`MI_SUST`         |Sustain                          |\n|`QK_MIDI_PORTAMENTO`           |`MI_PORT`         |Portmento                        |\n|`QK_MIDI_SOSTENUTO`            |`MI_SOST`         |Sostenuto                        |\n|`QK_MIDI_SOFT`                 |`MI_SOFT`         |Soft Pedal                       |\n|`QK_MIDI_LEGATO`               |`MI_LEG`          |Legato                           |\n|`QK_MIDI_MODULATION`           |`MI_MOD`          |Modulation                       |\n|`QK_MIDI_MODULATION_SPEED_DOWN`|`MI_MODD`         |Decrease modulation speed        |\n|`QK_MIDI_MODULATION_SPEED_UP`  |`MI_MODU`         |Increase modulation speed        |\n|`QK_MIDI_PITCH_BEND_DOWN`      |`MI_BNDD`         |Bend pitch down                  |\n|`QK_MIDI_PITCH_BEND_UP`        |`MI_BNDU`         |Bend pitch up                    |",
              "Configuration": "Certain values are stored in the `midi_config` struct. This configuration is not persisted to EEPROM. By default, these values are:\n\n|Configuration      |Value|Comments               |\n|-------------------|-----|-----------------------|\n|Octave             |`4`  |Corresponds to `MI_OC2`|\n|Transposition      |`0`  |                       |\n|Velocity           |`127`|                       |\n|Channel            |`0`  |                       |\n|Modulation Interval|`8`  |                       |\n\nFor the above, the `MI_C` keycode will produce a C3 (note number 48), and so on.",
              "References": {
                "MIDI Specification": [
                  "[MIDI.org](https://www.midi.org/specifications-old/item/table-1-summary-of-midi-message)",
                  "[CMU MIDI Programmer's Reference](https://www.cs.cmu.edu/~music/cmsip/readings/MIDI%20tutorial%20for%20programmers.html)"
                ],
                "QMK C Files": [
                  "`quantum/process_keycode/process_midi.c`",
                  "`quantum/quantum_keycodes.h`",
                  "`quantum/midi/midi.h`",
                  "`quantum/midi/midi.c`",
                  "`quantum/midi/qmk_midi.c`",
                  "`quantum/midi/midi_device.h`"
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 23]"
        },
        {
          "title": "Mouse keys",
          "description": null,
          "content": {
            "Adding mouse keys to your keyboard": {
              "Enabling mouse keys": "To enable mouse keys, add the following line to your keymaps `rules.mk`:\n\n```\nMOUSEKEY_ENABLE = yes\n```",
              "Mapping mouse actions": "In your keymap you can use the following keycodes to map key presses to mouse actions:\n\n|Key                      |Aliases  |Description                |\n|-------------------------|---------|---------------------------|\n|`QK_MOUSE_CURSOR_UP`     |`MS_UP`  |Mouse cursor up            |\n|`QK_MOUSE_CURSOR_DOWN`   |`MS_DOWN`|Mouse cursor down          |\n|`QK_MOUSE_CURSOR_LEFT`   |`MS_LEFT`|Mouse cursor left          |\n|`QK_MOUSE_CURSOR_RIGHT`  |`MS_RGHT`|Mouse cursor right         |\n|`QK_MOUSE_BUTTON_1`      |`MS_BTN1`|Mouse button 1             |\n|`QK_MOUSE_BUTTON_2`      |`MS_BTN2`|Mouse button 2             |\n|`QK_MOUSE_BUTTON_3`      |`MS_BTN3`|Mouse button 3             |\n|`QK_MOUSE_BUTTON_4`      |`MS_BTN4`|Mouse button 4             |\n|`QK_MOUSE_BUTTON_5`      |`MS_BTN5`|Mouse button 5             |\n|`QK_MOUSE_BUTTON_6`      |`MS_BTN6`|Mouse button 6             |\n|`QK_MOUSE_BUTTON_7`      |`MS_BTN7`|Mouse button 7             |\n|`QK_MOUSE_BUTTON_8`      |`MS_BTN8`|Mouse button 8             |\n|`QK_MOUSE_WHEEL_UP`      |`MS_WHLU`|Mouse wheel up             |\n|`QK_MOUSE_WHEEL_DOWN`    |`MS_WHLD`|Mouse wheel down           |\n|`QK_MOUSE_WHEEL_LEFT`    |`MS_WHLL`|Mouse wheel left           |\n|`QK_MOUSE_WHEEL_RIGHT`   |`MS_WHLR`|Mouse wheel right          |\n|`QK_MOUSE_ACCELERATION_0`|`MS_ACL0`|Set mouse acceleration to 0|\n|`QK_MOUSE_ACCELERATION_1`|`MS_ACL1`|Set mouse acceleration to 1|\n|`QK_MOUSE_ACCELERATION_2`|`MS_ACL2`|Set mouse acceleration to 2|"
            },
            "Configuring mouse keys": {
              "Accelerated mode": "This is the default mode. You can adjust the cursor and scrolling acceleration using the following settings in your keymaps `config.h` file:\n\n|Define                      |Default|Description                                              |\n|----------------------------|-------|---------------------------------------------------------|\n|`MOUSEKEY_DELAY`            |10     |Delay between pressing a movement key and cursor movement|\n|`MOUSEKEY_INTERVAL`         |20     |Time between cursor movements in milliseconds            |\n|`MOUSEKEY_MOVE_DELTA`       |8      |Step size                                                |\n|`MOUSEKEY_MAX_SPEED`        |10     |Maximum cursor speed at which acceleration stops         |\n|`MOUSEKEY_TIME_TO_MAX`      |30     |Time until maximum cursor speed is reached               |\n|`MOUSEKEY_WHEEL_DELAY`      |10     |Delay between pressing a wheel key and wheel movement    |\n|`MOUSEKEY_WHEEL_INTERVAL`   |80     |Time between wheel movements                             |\n|`MOUSEKEY_WHEEL_DELTA`      |1      |Wheel movement step size                                 |\n|`MOUSEKEY_WHEEL_MAX_SPEED`  |8      |Maximum number of scroll steps per scroll action         |\n|`MOUSEKEY_WHEEL_TIME_TO_MAX`|40     |Time until maximum scroll speed is reached               |\n\nTips:\n\n['Setting `MOUSEKEY_DELAY` too low makes the cursor unresponsive. Setting it too high makes small movements difficult.', 'For smoother cursor movements, lower the value of `MOUSEKEY_INTERVAL`. If the refresh rate of your display is 60Hz, you could set it to `16` (1/60). As this raises the cursor speed significantly, you may want to lower `MOUSEKEY_MAX_SPEED`.', 'Setting `MOUSEKEY_TIME_TO_MAX` or `MOUSEKEY_WHEEL_TIME_TO_MAX` to `0` will disable acceleration for the cursor or scrolling respectively. This way you can make one of them constant while keeping the other accelerated, which is not possible in constant speed mode.', 'Setting `MOUSEKEY_WHEEL_INTERVAL` too low will make scrolling too fast. Setting it too high will make scrolling too slow when the wheel key is held down.']\n\nCursor acceleration uses the same algorithm as the X Window System MouseKeysAccel feature. You can read more about it [on Wikipedia](https://en.wikipedia.org/wiki/Mouse_keys).",
              "Kinetic Mode": "This is an extension of the accelerated mode. The kinetic mode uses a quadratic curve on the cursor speed which allows precise movements at the beginning and allows to cover large distances by increasing cursor speed quickly thereafter.  You can adjust the cursor and scrolling acceleration using the following settings in your keymaps `config.h` file:\n\n|Define                                |Default  |Description                                                    |\n|--------------------------------------|---------|---------------------------------------------------------------|\n|`MK_KINETIC_SPEED`                    |undefined|Enable kinetic mode                                            |\n|`MOUSEKEY_DELAY`                      |5        |Delay between pressing a movement key and cursor movement      |\n|`MOUSEKEY_INTERVAL`                   |10       |Time between cursor movements in milliseconds                  |\n|`MOUSEKEY_MOVE_DELTA`                 |16       |Step size for accelerating from initial to base speed          |\n|`MOUSEKEY_INITIAL_SPEED`              |100      |Initial speed of the cursor in pixel per second                |\n|`MOUSEKEY_BASE_SPEED`                 |5000     |Maximum cursor speed at which acceleration stops               |\n|`MOUSEKEY_DECELERATED_SPEED`          |400      |Decelerated cursor speed                                       |\n|`MOUSEKEY_ACCELERATED_SPEED`          |3000     |Accelerated cursor speed                                       |\n|`MOUSEKEY_WHEEL_INITIAL_MOVEMENTS`    |16       |Initial number of movements of the mouse wheel                 |\n|`MOUSEKEY_WHEEL_BASE_MOVEMENTS`       |32       |Maximum number of movements at which acceleration stops        |\n|`MOUSEKEY_WHEEL_ACCELERATED_MOVEMENTS`|48       |Accelerated wheel movements                                    |\n|`MOUSEKEY_WHEEL_DECELERATED_MOVEMENTS`|8        |Decelerated wheel movements                                    |\n\nTips:\n\n['The smoothness of the cursor movement depends on the `MOUSEKEY_INTERVAL` setting. The shorter the interval is set the smoother the movement will be.  Setting the value too low makes the cursor unresponsive.  Lower settings are possible if the micro processor is fast enough. For example: At an interval of `8` milliseconds, `125` movements per second will be initiated.  With a base speed of `1000` each movement will move the cursor by `8` pixels.', \"Mouse wheel movements are implemented differently from cursor movements. While it's okay for the cursor to move multiple pixels at once for the mouse wheel this would lead to jerky movements. Instead, the mouse wheel operates at step size `1`. Setting mouse wheel speed is done by adjusting the number of wheel movements per second.\"]",
              "Constant mode": "In this mode you can define multiple different speeds for both the cursor and the mouse wheel. There is no acceleration. `MS_ACL0`, `MS_ACL1` and `MS_ACL2` change the cursor and scroll speed to their respective setting.\n\nYou can choose whether speed selection is momentary or tap-to-select:\n\n['**Momentary:** The chosen speed is only active while you hold the respective key. When the key is raised, mouse keys returns to the unmodified speed.', '**Tap-to-select:** The chosen speed is activated when you press the respective key and remains active even after the key has been raised. The default speed is that of `MS_ACL1`. There is no unmodified speed.']\n\nThe default speeds from slowest to fastest are as follows:\n\n['**Momentary:** `MS_ACL0` < `MS_ACL1` < *unmodified* < `MS_ACL2`', '**Tap-to-select:** `MS_ACL0` < `MS_ACL1` < `MS_ACL2`']\n\nTo use constant speed mode, you must at least define `MK_3_SPEED` in your keymaps `config.h` file:\n\n```\n#define MK_3_SPEED\n```\n\nTo enable momentary mode, also define `MK_MOMENTARY_ACCEL`:\n\n```\n#define MK_MOMENTARY_ACCEL\n```\n\nUse the following settings if you want to adjust cursor movement or scrolling:\n\n|Define               |Default      |Description                                |\n|---------------------|-------------|-------------------------------------------|\n|`MK_3_SPEED`         |*Not defined*|Enable constant cursor speeds              |\n|`MK_MOMENTARY_ACCEL` |*Not defined*|Enable momentary speed selection           |\n|`MK_C_OFFSET_UNMOD`  |16           |Cursor offset per movement (unmodified)    |\n|`MK_C_INTERVAL_UNMOD`|16           |Time between cursor movements (unmodified) |\n|`MK_C_OFFSET_0`      |1            |Cursor offset per movement (`MS_ACL0`)     |\n|`MK_C_INTERVAL_0`    |32           |Time between cursor movements (`MS_ACL0`)  |\n|`MK_C_OFFSET_1`      |4            |Cursor offset per movement (`MS_ACL1`)     |\n|`MK_C_INTERVAL_1`    |16           |Time between cursor movements (`MS_ACL1`)  |\n|`MK_C_OFFSET_2`      |32           |Cursor offset per movement (`MS_ACL2`)     |\n|`MK_C_INTERVAL_2`    |16           |Time between cursor movements (`MS_ACL2`)  |\n|`MK_W_OFFSET_UNMOD`  |1            |Scroll steps per scroll action (unmodified)|\n|`MK_W_INTERVAL_UNMOD`|40           |Time between scroll steps (unmodified)     |\n|`MK_W_OFFSET_0`      |1            |Scroll steps per scroll action (`MS_ACL0`) |\n|`MK_W_INTERVAL_0`    |360          |Time between scroll steps (`MS_ACL0`)      |\n|`MK_W_OFFSET_1`      |1            |Scroll steps per scroll action (`MS_ACL1`) |\n|`MK_W_INTERVAL_1`    |120          |Time between scroll steps (`MS_ACL1`)      |\n|`MK_W_OFFSET_2`      |1            |Scroll steps per scroll action (`MS_ACL2`) |\n|`MK_W_INTERVAL_2`    |20           |Time between scroll steps (`MS_ACL2`)      |",
              "Combined mode": "This mode functions like **Accelerated** mode, however, you can hold `MS_ACL0`, `MS_ACL1` and `MS_ACL2`\nto momentarily (while held) set the cursor and scroll speeds to constant speeds. When no acceleration\nkeys are held, this mode is identical to **Accelerated** mode, and can be modified using all of the\nrelevant settings.\n\n['**MS_ACL0:** This acceleration sets your cursor to the slowest possible speed. This is useful for very\\nsmall and detailed movements of the cursor.', '**MS_ACL1:** This acceleration sets your cursor to half the maximum (user defined) speed.', '**MS_ACL2:** This acceleration sets your cursor to the maximum (computer defined) speed. This is\\nuseful for moving the cursor large distances without much accuracy.']\n\nTo use combined speed mode, you must at least define `MK_COMBINED` in your keymaps `config.h` file:\n\n```\n#define MK_COMBINED\n```",
              "Inertia mode": "This mode provides smooth motion, like sliding on ice.  The cursor accelerates\nalong a quadratic curve while a key is held, then glides to a stop after the\nkey is released.  Vertical and horizontal movements are tracked independently,\nso the cursor can move in many directions and make curves.\n\nCannot be used at the same time as Kinetic mode, Constant mode, or Combined mode.\n\nRecommended settings in your keymaps `config.h` file:\n\n|Define                      |Default  |Description                                                |\n|----------------------------|---------|-----------------------------------------------------------|\n|`MOUSEKEY_INERTIA`          |undefined|Enable Inertia mode                                        |\n|`MOUSEKEY_DELAY`            |150      |Delay between pressing a movement key and cursor movement  |\n|`MOUSEKEY_INTERVAL`         |16       |Time between cursor movements in milliseconds (16 = 60fps) |\n|`MOUSEKEY_MAX_SPEED`        |32       |Maximum cursor speed at which acceleration stops           |\n|`MOUSEKEY_TIME_TO_MAX`      |32       |Number of frames until maximum cursor speed is reached     |\n|`MOUSEKEY_FRICTION`         |24       |How quickly the cursor stops after releasing a key         |\n|`MOUSEKEY_MOVE_DELTA`       |1        |How much to move on first frame (1 strongly recommended)   |\n\nTips:\n\n[\"Set `MOUSEKEY_DELAY` to roughly the same value as your host computer's key repeat delay, in ms.  Recommended values are 100 to 300.\", \"Set `MOUSEKEY_INTERVAL` to a value of 1000 / your monitor's FPS.  For 60 FPS, 1000/60 = 16.\", 'Set `MOUSEKEY_MAX_SPEED` based on your screen resolution and refresh rate, like Width / FPS.  For example, 1920 pixels / 60 FPS = 32 pixels per frame.', 'Set `MOUSEKEY_TIME_TO_MAX` to a value of approximately FPS / 2, to make it reach full speed in half a second (or so).', 'Set `MOUSEKEY_FRICTION` to something between 1 and 255.  Lower makes the cursor glide longer. Values from 8 to 40 are the most effective.', 'Keep `MOUSEKEY_MOVE_DELTA` at 1.  This allows precise movements before the gliding effect starts.', 'Mouse wheel options are the same as the default accelerated mode, and do not use inertia.']",
              "Overlapping mouse key control": "When additional overlapping mouse key is pressed, the mouse cursor will continue in a new direction with the same acceleration. The following settings can be used to reset the acceleration with new overlapping keys for more precise control if desired:\n\n|Define                        |Default               |Description                                                            |\n|------------------------------|----------------------|-----------------------------------------------------------------------|\n|`MOUSEKEY_OVERLAP_RESET`      |undefined             |Enables overlapping mouse key control                                  |\n|`MOUSEKEY_OVERLAP_MOVE_DELTA` |`MOUSEKEY_MOVE_DELTA` |Step size of reset movement acceleration                               |\n|`MOUSEKEY_OVERLAP_WHEEL_DELTA`|`MOUSEKEY_WHEEL_DELTA`|Step size of reset mouse wheel acceleration                            |\n|`MOUSEKEY_OVERLAP_INTERVAL`   |`MOUSEKEY_INTERVAL`   |Reset time between cursor movements in milliseconds (Kinetic mode only)|\n\n::: tip\nThis feature will not be applied on Inertial mode\n:::"
            },
            "Use with PS/2 Mouse and Pointing Device": "Mouse keys button state is shared with [PS/2 mouse](ps2_mouse) and [pointing device](pointing_device) so mouse keys button presses can be used for clicks and drags."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 24]"
        },
        {
          "title": "OLED Driver",
          "description": null,
          "content": {
            "Supported Hardware": "OLED modules using SSD1306, SH1106 or SH1107 driver ICs, communicating over I2C or SPI.\nTested combinations:\n\n|IC       |Size   |Platform|Notes                   |\n|---------|-------|--------|------------------------|\n|SSD1306  |128x32 |AVR     |Primary support         |\n|SSD1306  |128x64 |AVR     |Verified working        |\n|SSD1306  |128x32 |Arm     |                        |\n|SSD1306  |128x64 |Arm     |Verified working        |\n|SH1106   |128x64 |AVR     |No scrolling            |\n|SH1107   |64x128 |AVR     |No scrolling            |\n|SH1107   |64x128 |Arm     |No scrolling            |\n|SH1107   |128x128|Arm     |No scrolling            |\n\nHardware configurations using Arm-based microcontrollers or different sizes of OLED modules may be compatible, but are untested.",
            "Usage": "To enable the OLED feature, there are two steps. First, when compiling your keyboard, you'll need to add the following to your `rules.mk`:\n\n```\nOLED_ENABLE = yes\n```",
            "OLED type": "|OLED Driver        |Supported Device                    |\n|-------------------|------------------------------------|\n|`ssd1306` (default)|For both SSD1306, SH1106, and SH1107|\n\ne.g.\n\n```\nOLED_DRIVER = ssd1306\n```\n\n|OLED Transport |                                                |\n|---------------|------------------------------------------------|\n|`i2c` (default)| Uses I2C for communication with the OLED panel |\n|`spi`          | Uses SPI for communication with the OLED panel |\n\ne.g.\n\n```\nOLED_TRANSPORT = i2c\n```\n\nThen in your `keymap.c` file, implement the OLED task call. This example assumes your keymap has three layers named `_QWERTY`, `_FN` and `_ADJ`:\n\n```\n#ifdef OLED_ENABLE\nbool oled_task_user(void) {\n    // Host Keyboard Layer Status\n    oled_write_P(PSTR(\"Layer: \"), false);\n\n    switch (get_highest_layer(layer_state)) {\n        case _QWERTY:\n            oled_write_P(PSTR(\"Default\\n\"), false);\n            break;\n        case _FN:\n            oled_write_P(PSTR(\"FN\\n\"), false);\n            break;\n        case _ADJ:\n            oled_write_P(PSTR(\"ADJ\\n\"), false);\n            break;\n        default:\n            // Or use the write_ln shortcut over adding '\\n' to the end of your string\n            oled_write_ln_P(PSTR(\"Undefined\"), false);\n    }\n\n    // Host Keyboard LED Status\n    led_t led_state = host_keyboard_led_state();\n    oled_write_P(led_state.num_lock ? PSTR(\"NUM \") : PSTR(\"    \"), false);\n    oled_write_P(led_state.caps_lock ? PSTR(\"CAP \") : PSTR(\"    \"), false);\n    oled_write_P(led_state.scroll_lock ? PSTR(\"SCR \") : PSTR(\"    \"), false);\n    \n    return false;\n}\n#endif\n```",
            "Logo Example": "In the default font, certain ranges of characters are reserved for a QMK logo. To render this logo to the OLED screen, use the following code example:\n\n```\nstatic void render_logo(void) {\n    static const char PROGMEM qmk_logo[] = {\n        0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A, 0x8B, 0x8C, 0x8D, 0x8E, 0x8F, 0x90, 0x91, 0x92, 0x93, 0x94,\n        0xA0, 0xA1, 0xA2, 0xA3, 0xA4, 0xA5, 0xA6, 0xA7, 0xA8, 0xA9, 0xAA, 0xAB, 0xAC, 0xAD, 0xAE, 0xAF, 0xB0, 0xB1, 0xB2, 0xB3, 0xB4,\n        0xC0, 0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7, 0xC8, 0xC9, 0xCA, 0xCB, 0xCC, 0xCD, 0xCE, 0xCF, 0xD0, 0xD1, 0xD2, 0xD3, 0xD4, 0x00\n    };\n\n    oled_write_P(qmk_logo, false);\n}\n\nbool oled_task_user(void) {\n    render_logo();\n    return false;\n}\n```\n\n::: tip\nThe default font file is located at `drivers/oled/glcdfont.c` and its location can be overwritten with the `OLED_FONT_H` configuration option. Font file content can be edited with external tools such as [Helix Font Editor](https://helixfonteditor.netlify.app/) and [Logo Editor](https://joric.github.io/qle/).\n:::",
            "Buffer Read Example": "For some purposes, you may need to read the current state of the OLED display\nbuffer. The `oled_read_raw` function can be used to safely read bytes from the\nbuffer.\n\nIn this example, calling `fade_display` in the `oled_task_user` function will\nslowly fade away whatever is on the screen by turning random pixels black over\ntime.\n\n```\n//Setup some mask which can be or'd with bytes to turn off pixels\nconst uint8_t single_bit_masks[8] = {127, 191, 223, 239, 247, 251, 253, 254};\n\nstatic void fade_display(void) {\n    //Define the reader structure\n    oled_buffer_reader_t reader;\n    uint8_t buff_char;\n    if (random() % 30 == 0) {\n        srand(timer_read());\n        // Fetch a pointer for the buffer byte at index 0. The return structure\n        // will have the pointer and the number of bytes remaining from this\n        // index position if we want to perform a sequential read by\n        // incrementing the buffer pointer\n        reader = oled_read_raw(0);\n        //Loop over the remaining buffer and erase pixels as we go\n        for (uint16_t i = 0; i < reader.remaining_element_count; i++) {\n            //Get the actual byte in the buffer by dereferencing the pointer\n            buff_char = *reader.current_element;\n            if (buff_char != 0) {\n                oled_write_raw_byte(buff_char & single_bit_masks[rand() % 8], i);\n            }\n            //increment the pointer to fetch a new byte during the next loop\n            reader.current_element++;\n        }\n    }\n}\n```",
            "Other Examples": "In split keyboards, it is very common to have two OLED displays that each render different content and are oriented or flipped differently. You can do this by switching which content to render by using the return value from `is_keyboard_master()` or `is_keyboard_left()` found in `split_util.h`, e.g:\n\n```\n#ifdef OLED_ENABLE\noled_rotation_t oled_init_user(oled_rotation_t rotation) {\n    if (!is_keyboard_master()) {\n        return OLED_ROTATION_180;  // flips the display 180 degrees if offhand\n    }\n\n    return rotation;\n}\n\nbool oled_task_user(void) {\n    if (is_keyboard_master()) {\n        render_status();  // Renders the current keyboard state (layer, lock, caps, scroll, etc)\n    } else {\n        render_logo();  // Renders a static logo\n        oled_scroll_left();  // Turns on scrolling\n    }\n    return false;\n}\n#endif\n```\n\nRender a message before booting into bootloader mode.\n\n```\nvoid oled_render_boot(bool bootloader) {\n    oled_clear();\n    for (int i = 0; i < 16; i++) {\n        oled_set_cursor(0, i);\n        if (bootloader) {\n            oled_write_P(PSTR(\"Awaiting New Firmware \"), false);\n        } else {\n            oled_write_P(PSTR(\"Rebooting \"), false);\n        }\n    }\n\n    oled_render_dirty(true);\n}\n\nbool shutdown_user(bool jump_to_bootloader) {\n    oled_render_boot(jump_to_bootloader);\n}\n\n```",
            "Basic Configuration": {
              "I2C Configuration": "|Define                     |Default          |Description                                                                                                               |\n|---------------------------|-----------------|--------------------------------------------------------------------------------------------------------------------------|\n|`OLED_DISPLAY_ADDRESS`     |`0x3C`           |The i2c address of the OLED Display                                                                                       |",
              "SPI Configuration": "|Define                     |Default          |Description                                                                                                               |\n|---------------------------|-----------------|--------------------------------------------------------------------------------------------------------------------------|\n|`OLED_DC_PIN`              | Required        |The pin used for the DC connection of the OLED Display.                                                                   |\n|`OLED_CS_PIN`              | Required        |The pin used for the CS connection of the OLED Display.                                                                   |\n|`OLED_RST_PIN`             | *Not defined*   |The pin used for the RST connection of the OLED Display (may be left undefined if the RST pin is not connected).          |\n|`OLED_SPI_MODE`            |`3` (default)    |The SPI Mode for the OLED Display (not typically changed).                                                                |\n|`OLED_SPI_DIVISOR`         |`2` (default)    |The SPI Multiplier to use for the OLED Display.                                                                           |"
            },
            "128x64 & Custom sized OLED Displays": {
              "90 Degree Rotation - Technical Mumbo Jumbo": "```\n// OLED Rotation enum values are flags\ntypedef enum {\n    OLED_ROTATION_0   = 0,\n    OLED_ROTATION_90  = 1,\n    OLED_ROTATION_180 = 2,\n    OLED_ROTATION_270 = 3, // OLED_ROTATION_90 | OLED_ROTATION_180\n} oled_rotation_t;\n```\n\nOLED displays driven by SSD1306, SH1106 or SH1107 drivers only natively support in hardware 0 degree and 180 degree rendering. This feature is done in software and not free. Using this feature will increase the time to calculate what data to send over i2c to the OLED. If you are strapped for cycles, this can cause keycodes to not register. In testing however, the rendering time on an ATmega32U4 board only went from 2ms to 5ms and keycodes not registering was only noticed once we hit 15ms.\n\n90 degree rotation is achieved by using bitwise operations to rotate each 8 block of memory and uses two precalculated arrays to remap buffer memory to OLED memory. The memory map defines are precalculated for remap performance and are calculated based on the display height, width, and block size. For example, in the 128x32 implementation with a `uint8_t` block type, we have a 64 byte block size. This gives us eight 8 byte blocks that need to be rotated and rendered. The OLED renders horizontally two 8 byte blocks before moving down a page, e.g:\n\n|   |   |   |   |   |   |\n|---|---|---|---|---|---|\n| 0 | 1 |   |   |   |   |\n| 2 | 3 |   |   |   |   |\n| 4 | 5 |   |   |   |   |\n| 6 | 7 |   |   |   |   |\n\nHowever the local buffer is stored as if it was Height x Width display instead of Width x Height, e.g:\n\n|   |   |   |   |   |   |\n|---|---|---|---|---|---|\n| 3 | 7 |   |   |   |   |\n| 2 | 6 |   |   |   |   |\n| 1 | 5 |   |   |   |   |\n| 0 | 4 |   |   |   |   |\n\nSo those precalculated arrays just index the memory offsets in the order in which each one iterates its data.\n\nRotation on SH1106 and SH1107 is noticeably less efficient than on SSD1306, because these controllers do not support the horizontal addressing mode, which allows transferring the data for the whole rotated block at once; instead, separate address setup commands for every page in the block are required.  The screen refresh time for SH1107 is therefore about 45% higher than for a same size screen with SSD1306 when using STM32 MCUs (on AVR the slowdown is about 20%, because the code which actually rotates the bitmap consumes more time)."
            },
            "OLED API": "```\n// OLED Rotation enum values are flags\ntypedef enum {\n    OLED_ROTATION_0   = 0,\n    OLED_ROTATION_90  = 1,\n    OLED_ROTATION_180 = 2,\n    OLED_ROTATION_270 = 3, // OLED_ROTATION_90 | OLED_ROTATION_180\n} oled_rotation_t;\n\n// Initialize the oled display, rotating the rendered output based on the define passed in.\n// Returns true if the OLED was initialized successfully\nbool oled_init(oled_rotation_t rotation);\n\n// Called at the start of oled_init, weak function overridable by the user\n// rotation - the value passed into oled_init\n// Return new oled_rotation_t if you want to override default rotation\noled_rotation_t oled_init_kb(oled_rotation_t rotation);\noled_rotation_t oled_init_user(oled_rotation_t rotation);\n\n// Send commands/data to screen\nbool oled_send_cmd(const uint8_t *data, uint16_t size);\nbool oled_send_cmd_P(const uint8_t *data, uint16_t size);\nbool oled_send_data(const uint8_t *data, uint16_t size);\n\n// Clears the display buffer, resets cursor position to 0, and sets the buffer to dirty for rendering\nvoid oled_clear(void);\n\n// Alias to oled_render_dirty to avoid a change in api.\n#define oled_render() oled_render_dirty(false)\n\n// Renders all dirty blocks to the display at one time or a subset depending on the value of\n// all.\nvoid oled_render_dirty(bool all);\n\n// Moves cursor to character position indicated by column and line, wraps if out of bounds\n// Max column denoted by 'oled_max_chars()' and max lines by 'oled_max_lines()' functions\nvoid oled_set_cursor(uint8_t col, uint8_t line);\n\n// Advances the cursor to the next page, writing ' ' if true\n// Wraps to the beginning when out of bounds\nvoid oled_advance_page(bool clearPageRemainder);\n\n// Moves the cursor forward 1 character length\n// Advance page if there is not enough room for the next character\n// Wraps to the beginning when out of bounds\nvoid oled_advance_char(void);\n\n// Writes a single character to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Main handler that writes character data to the display buffer\nvoid oled_write_char(const char data, bool invert);\n\n// Writes a string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\nvoid oled_write(const char *data, bool invert);\n\n// Writes a string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Advances the cursor to the next page, wiring ' ' to the remainder of the current page\nvoid oled_write_ln(const char *data, bool invert);\n\n// Pans the buffer to the right (or left by passing true) by moving contents of the buffer\n// Useful for moving the screen in preparation for new drawing\nvoid oled_pan(bool left);\n\n// Returns a pointer to the requested start index in the buffer plus remaining\n// buffer length as struct\noled_buffer_reader_t oled_read_raw(uint16_t start_index);\n\n// Writes a string to the buffer at current cursor position\nvoid oled_write_raw(const char *data, uint16_t size);\n\n// Writes a single byte into the buffer at the specified index\nvoid oled_write_raw_byte(const char data, uint16_t index);\n\n// Sets a specific pixel on or off\n// Coordinates start at top-left and go right and down for positive x and y\nvoid oled_write_pixel(uint8_t x, uint8_t y, bool on);\n\n#if defined(__AVR__)\n// Writes a PROGMEM string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Remapped to call 'void oled_write(const char *data, bool invert);' on ARM\nvoid oled_write_P(const char *data, bool invert);\n\n// Writes a PROGMEM string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Advances the cursor to the next page, wiring ' ' to the remainder of the current page\n// Remapped to call 'void oled_write_ln(const char *data, bool invert);' on ARM\nvoid oled_write_ln_P(const char *data, bool invert);\n\n// Writes a PROGMEM string to the buffer at current cursor position\nvoid oled_write_raw_P(const char *data, uint16_t size);\n#else\n# define oled_write_P(data, invert) oled_write(data, invert)\n# define oled_write_ln_P(data, invert) oled_write_ln(data, invert)\n# define oled_write_raw_P(data, size) oled_write_raw(data, size)\n#endif // defined(__AVR__)\n\n// Can be used to manually turn on the screen if it is off\n// Returns true if the screen was on or turns on\nbool oled_on(void);\n\n// Can be used to manually turn off the screen if it is on\n// Returns true if the screen was off or turns off\nbool oled_off(void);\n\n// Returns true if the oled is currently on, false if it is\n// not\nbool is_oled_on(void);\n\n// Sets the brightness level of the display\nuint8_t oled_set_brightness(uint8_t level);\n\n// Gets the current brightness level of the display\nuint8_t oled_get_brightness(void);\n\n// Basically it's oled_render, but with timeout management and oled_task_user calling!\nvoid oled_task(void);\n\n// Called at the start of oled_task, weak function overridable by the user\nbool oled_task_kb(void);\nbool oled_task_user(void);\n\n// Set the specific 8 lines rows of the screen to scroll.\n// 0 is the default for start, and 7 for end, which is the entire\n// height of the screen.  For 128x32 screens, rows 4-7 are not used.\nvoid oled_scroll_set_area(uint8_t start_line, uint8_t end_line);\n\n// Sets scroll speed, 0-7, fastest to slowest. Default is three.\n// Does not take effect until scrolling is either started or restarted\n// the ssd1306 supports 8 speeds with the delay\n// listed below between each frame of the scrolling effect\n// 0=2, 1=3, 2=4, 3=5, 4=25, 5=64, 6=128, 7=256\nvoid oled_scroll_set_speed(uint8_t speed);\n\n// Begin scrolling the entire display right\n// Returns true if the screen was scrolling or starts scrolling\n// NOTE: display contents cannot be changed while scrolling\nbool oled_scroll_right(void);\n\n// Begin scrolling the entire display left\n// Returns true if the screen was scrolling or starts scrolling\n// NOTE: display contents cannot be changed while scrolling\nbool oled_scroll_left(void);\n\n// Turns off display scrolling\n// Returns true if the screen was not scrolling or stops scrolling\nbool oled_scroll_off(void);\n\n// Returns true if the oled is currently scrolling, false if it is\n// not\nbool is_oled_scrolling(void);\n\n// Inverts the display\n// Returns true if the screen was or is inverted\nbool oled_invert(bool invert);\n\n// Returns the maximum number of characters that will fit on a line\nuint8_t oled_max_chars(void);\n\n// Returns the maximum number of lines that will fit on the OLED\nuint8_t oled_max_lines(void);\n```\n\n::: warning\nScrolling is unsupported on the SH1106 and SH1107.\n:::\n\n::: warning\nScrolling does not work properly on the SSD1306 if the display width is smaller than 128.\n:::",
            "SSD1306.h Driver Conversion Guide": "|Old API                  |Recommended New API              |\n|-------------------------|---------------------------------|\n|`struct CharacterMatrix` |*removed - delete all references*|\n|`iota_gfx_init`          |`oled_init`                      |\n|`iota_gfx_on`            |`oled_on`                        |\n|`iota_gfx_off`           |`oled_off`                       |\n|`iota_gfx_flush`         |`oled_render`                    |\n|`iota_gfx_write_char`    |`oled_write_char`                |\n|`iota_gfx_write`         |`oled_write`                     |\n|`iota_gfx_write_P`       |`oled_write_P`                   |\n|`iota_gfx_clear_screen`  |`oled_clear`                     |\n|`matrix_clear`           |*removed - delete all references*|\n|`matrix_write_char_inner`|`oled_write_char`                |\n|`matrix_write_char`      |`oled_write_char`                |\n|`matrix_write`           |`oled_write`                     |\n|`matrix_write_ln`        |`oled_write_ln`                  |\n|`matrix_write_P`         |`oled_write_P`                   |\n|`matrix_write_ln_P`      |`oled_write_ln_P`                |\n|`matrix_render`          |`oled_render`                    |\n|`iota_gfx_task`          |`oled_task`                      |\n|`iota_gfx_task_user`     |`oled_task_user`                 |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 25]"
        },
        {
          "title": "OS Detection",
          "description": null,
          "content": {
            "Usage": "In your `rules.mk` add:\n\n```\nOS_DETECTION_ENABLE = yes\n```\n\nIt will automatically include the required headers file.\nIt declares `os_variant_t detected_host_os(void);` which you can call to get detected OS.\n\nIt returns one of the following values:\n\n```\nenum {\n    OS_UNSURE,\n    OS_LINUX,\n    OS_WINDOWS,\n    OS_MACOS,\n    OS_IOS,\n} os_variant_t;\n```\n\n::: tip\nNote that it takes some time after firmware is booted to detect the OS.\n:::\nThis time is quite short, probably hundreds of milliseconds, but this data may be not ready in keyboard and layout setup functions which run very early during firmware startup.",
            "Callbacks {#callbacks}": "If you want to perform custom actions when the OS is detected, then you can use the `process_detected_host_os_kb` function on the keyboard level source file, or `process_detected_host_os_user` function in the user `keymap.c`.\n\n```\nbool process_detected_host_os_kb(os_variant_t detected_os) {\n    if (!process_detected_host_os_user(detected_os)) {\n        return false;\n    }\n    switch (detected_os) {\n        case OS_MACOS:\n        case OS_IOS:\n            rgb_matrix_set_color_all(RGB_WHITE);\n            break;\n        case OS_WINDOWS:\n            rgb_matrix_set_color_all(RGB_BLUE);\n            break;\n        case OS_LINUX:\n            rgb_matrix_set_color_all(RGB_ORANGE);\n            break;\n        case OS_UNSURE:\n            rgb_matrix_set_color_all(RGB_RED);\n            break;\n    }\n    \n    return true;\n}\n```",
            "OS detection stability": "The OS detection is currently handled while the USB device descriptor is being assembled. \nThe process is done in steps, generating a number of intermediate results until it stabilizes.\nWe therefore resort to debouncing the result until it has been stable for a given amount of milliseconds.\nThis amount can be configured, in case your board is not stable within the default debouncing time of 200ms.",
            "Configuration Options": [
              "`#define OS_DETECTION_DEBOUNCE 250`",
              [
                "defined the debounce time for OS detection, in milliseconds",
                "defaults to 250ms"
              ],
              "`#define OS_DETECTION_KEYBOARD_RESET`",
              [
                "enables the keyboard reset upon a USB device reinitilization",
                "this setting may help with detection issues when switching between devices on some KVMs (see [Troubleshooting](#troubleshooting))"
              ],
              "`#define OS_DETECTION_SINGLE_REPORT`",
              [
                "allows the report callbacks to be called only once, when the OS detection result is considered stable",
                "subsequent changes in the detection results, if any, are ignored",
                "this setting may help with delayed stability issues when switching devices on some KVMs (see [Troubleshooting](#troubleshooting))"
              ]
            ],
            "Troubleshooting": "Some KVMs and USB switches may cause issues when the OS detection is turned on. \nHere is a list of common issues and how to fix them:\n\n[\"**Problem**: _keyboard won't redetect the OS when switching between machines using a KVM_\", ['**Explanation**: some KVMs keep the USB controller powered on during the switch and OS\\ndetection happens when the USB device description is being assembled.', '**Solution**: use `OS_DETECTION_KEYBOARD_RESET` to force the keyboard to reset upon switching.'], '**Problem**: _keyboard OS detection callback gets invoked even minuted after startup_', [\"**Explanation**: some OSes, notably macOS on ARM-based Macs, may cause this behavior. \\nThe actual cause is not known at this time.'\", '**Solution**: use `OS_DETECTION_SINGLE_REPORT` to suppress repeated callback invocations.']]",
            "Debug": "If OS is guessed incorrectly, you may want to collect data about USB setup packets to refine the detection logic.\n\nTo do so in your `config.h` add:\n\n```\n#define OS_DETECTION_DEBUG_ENABLE\n```\n\nAnd in your `rules.mk` add:\n\n```\nCONSOLE_ENABLE = yes\n```\n\nAnd also include `\"os_detection.h\"` in your `keymap.c`.\n\nThen you can define custom keycodes to store data about USB setup packets in EEPROM (persistent memory) and to print it later on host where you can run `qmk console`:\n\n```\nenum custom_keycodes {\n    STORE_SETUPS = SAFE_RANGE,\n    PRINT_SETUPS,\n};\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case STORE_SETUPS:\n            if (record->event.pressed) {\n                store_setups_in_eeprom();\n            }\n            return false;\n        case PRINT_SETUPS:\n            if (record->event.pressed) {\n                print_stored_setups();\n            }\n            return false;\n    }\n}\n```\n\nThen please open an issue on Github with this information and tell what OS was not detected correctly and if you have any intermediate devices between keyboard and your computer.",
            "Credits": "Original idea is coming from [FingerprintUSBHost](https://github.com/keyboardio/FingerprintUSBHost) project."
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 26]"
        },
        {
          "title": "Pointing Device {#pointing-device}",
          "description": null,
          "content": {
            "Sensor Drivers": {
              "ADNS 5050 Sensor": "To use the ADNS 5050 sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = adns5050\n```\n\nThe ADNS 5050 sensor uses a serial type protocol for communication, and requires an additional light source.\n\n| Setting (`config.h`) | Description                                                        | Default                    |\n| -------------------- | ------------------------------------------------------------------ | -------------------------- |\n| `ADNS5050_SCLK_PIN`  | (Required) The pin connected to the clock pin of the sensor.       | `POINTING_DEVICE_SCLK_PIN` |\n| `ADNS5050_SDIO_PIN`  | (Required) The pin connected to the data pin of the sensor.        | `POINTING_DEVICE_SDIO_PIN` |\n| `ADNS5050_CS_PIN`    | (Required) The pin connected to the Chip Select pin of the sensor. | `POINTING_DEVICE_CS_PIN`   |\n\nThe CPI range is 125-1375, in increments of 125. Defaults to 500 CPI.",
              "ADNS 9800 Sensor": "To use the ADNS 9800 sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = adns9800\n```\n\nThe ADNS 9800 is an SPI driven optical sensor, that uses laser output for surface tracking.\n\n| Setting (`config.h`)    | Description                                                            | Default                  |\n| ----------------------- | ---------------------------------------------------------------------- | ------------------------ |\n| `ADNS9800_CLOCK_SPEED`  | (Optional) Sets the clock speed that the sensor runs at.               | `2000000`                |\n| `ADNS9800_SPI_LSBFIRST` | (Optional) Sets the Least/Most Significant Byte First setting for SPI. | `false`                  |\n| `ADNS9800_SPI_MODE`     | (Optional) Sets the SPI Mode for the sensor.                           | `3`                      |\n| `ADNS9800_SPI_DIVISOR`  | (Optional) Sets the SPI Divisor used for SPI communication.            | _varies_                 |\n| `ADNS9800_CS_PIN`       | (Required) Sets the Chip Select pin connected to the sensor.           | `POINTING_DEVICE_CS_PIN` |\n\nThe CPI range is 800-8200, in increments of 200. Defaults to 1800 CPI. ",
              "Analog Joystick": "To use an analog joystick to control the pointer, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = analog_joystick\n```\n\nThe Analog Joystick is an analog (ADC) driven sensor.  There are a variety of joysticks that you can use for this.\n\n| Setting (`config.h`)              | Description                                                                | Default       |\n| --------------------------------- | -------------------------------------------------------------------------- | ------------- |\n| `ANALOG_JOYSTICK_X_AXIS_PIN`      | (Required) The pin used for the vertical/X axis.                           | _not defined_ |\n| `ANALOG_JOYSTICK_Y_AXIS_PIN`      | (Required) The pin used for the horizontal/Y axis.                         | _not defined_ |\n| `ANALOG_JOYSTICK_AXIS_MIN`        | (Optional) Sets the lower range to be considered movement.                 | `0`           |\n| `ANALOG_JOYSTICK_AXIS_MAX`        | (Optional) Sets the upper range to be considered movement.                 | `1023`        |\n| `ANALOG_JOYSTICK_AUTO_AXIS`       | (Optional) Sets ranges to be considered movement automatically.            | _not defined_ |\n| `ANALOG_JOYSTICK_SPEED_REGULATOR` | (Optional) The divisor used to slow down movement. (lower makes it faster) | `20`          |\n| `ANALOG_JOYSTICK_READ_INTERVAL`   | (Optional) The interval in milliseconds between reads.                     | `10`          |\n| `ANALOG_JOYSTICK_SPEED_MAX`       | (Optional) The maximum value used for motion.                              | `2`           |\n| `ANALOG_JOYSTICK_CLICK_PIN`       | (Optional) The pin wired up to the press switch of the analog stick.       | _not defined_ |\n| `ANALOG_JOYSTICK_WEIGHTS`         | (Optional) Use custom weights for lever positions.                         | _not defined_ |\n| `ANALOG_JOYSTICK_CUTOFF`          | (Optional) Cut off movement when joystick returns to start position.       | _not defined_ |\n\nIf `ANALOG_JOYSTICK_AUTO_AXIS` is used, then `ANALOG_JOYSTICK_AXIS_MIN` and `ANALOG_JOYSTICK_AXIS_MAX` are ignored.\n\nBy default analog joystick implementation uses `x^2` weighting for lever positions. `ANALOG_JOYSTICK_WEIGHTS` allows to experiment with different configurations that might feel better.\n\nE.g. This is weights for `((x-0.4)^3+0.064)/0.282`:\n\n```\n#define ANALOG_JOYSTICK_WEIGHTS {0,2,4,5,7,8,9,10,12,13,14,15,15,16,17,18,18,19,19,20,20,21,21,21,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,25,25,25,26,26,26,27,28,28,29,29,30,31,32,33,34,35,36,37,38,40,41,43,44,46,48,49,51,53,56,58,60,62,65,68,70,73,76,79,82,85,89,92,96,100}\n```\n\nYou can use following JS code to generate weights for different formulas:\n\n```\nJSON.stringify(Array.from(Array(101).keys()).map(x => Math.ceil((((x/100-0.4)**3+0.064)/0.282*100))))\n```",
              "Azoteq IQS5XX Trackpad": {
                "Device settings": "Specific device profiles are provided which set the required values for dimensions and resolution.\n\n| Setting                          | Description                                                |\n| -------------------------------- | ---------------------------------------------------------- |\n| `AZOTEQ_IQS5XX_TPS43`            | (Pick One) Sets resolution/mm to TPS43 specifications.     |\n| `AZOTEQ_IQS5XX_TPS65`            | (Pick One) Sets resolution/mm to TPS65 specifications.     |\n\n::: tip\nIf using one of the above defines you can skip to gesture settings.\n:::\n\n| Setting                          | Description                                                | Default       |\n| -------------------------------- | ---------------------------------------------------------- | ------------- |\n| `AZOTEQ_IQS5XX_WIDTH_MM`         | (Required) Width of the trackpad sensor in millimeters.    | _not defined_ |\n| `AZOTEQ_IQS5XX_HEIGHT_MM`        | (Required) Height of the trackpad sensor in millimeters.   | _not defined_ |\n| `AZOTEQ_IQS5XX_RESOLUTION_X`     | (Optional) Specify X resolution for CPI calculation.       | _not defined_ |\n| `AZOTEQ_IQS5XX_RESOLUTION_Y`     | (Optional) Specify Y resolution for CPI calculation.       | _not defined_ |\n\n**`AZOTEQ_IQS5XX_RESOLUTION_X/Y`** fall back resolutions are provided within the driver based on controller model.\n\n| I2C Setting               | Description                                                                     | Default |\n| ------------------------- | ------------------------------------------------------------------------------- | ------- |\n| `AZOTEQ_IQS5XX_ADDRESS`   | (Optional) Sets the I2C Address for the Azoteq trackpad                         | `0xE8`  |\n| `AZOTEQ_IQS5XX_TIMEOUT_MS`| (Optional) The timeout for i2c communication with in milliseconds.              | `10`    |",
                "Gesture settings": "| Setting                                   | Description                                                                          | Default     |\n| ----------------------------------------- | ------------------------------------------------------------------------------------ | ----------- |\n| `AZOTEQ_IQS5XX_TAP_ENABLE`                | (Optional) Enable single finger tap. (Left click)                                    | `true`      |\n| `AZOTEQ_IQS5XX_TWO_FINGER_TAP_ENABLE`     | (Optional) Enable two finger tap. (Right click)                                      | `true`      |\n| `AZOTEQ_IQS5XX_PRESS_AND_HOLD_ENABLE`     | (Optional) Emulates holding left click to select text.                               | `false`     |\n| `AZOTEQ_IQS5XX_SWIPE_X_ENABLE`            | (Optional) Enable swipe gestures X+ (Mouse Button 5) / X- (Mouse Button 4)           | `false`     |\n| `AZOTEQ_IQS5XX_SWIPE_Y_ENABLE`            | (Optional) Enable swipe gestures Y+ (Mouse Button 3) / Y- (Mouse Button 6)           | `false`     |\n| `AZOTEQ_IQS5XX_ZOOM_ENABLE`               | (Optional) Enable zoom gestures Zoom Out (Mouse Button 7) / Zoom In (Mouse Button 8) | `false`     |\n| `AZOTEQ_IQS5XX_SCROLL_ENABLE`             | (Optional) Enable scrolling using two fingers.                                       | `true`      |\n| `AZOTEQ_IQS5XX_TAP_TIME`                  | (Optional) Maximum time in ms for tap to be registered.                              | `150`       |\n| `AZOTEQ_IQS5XX_TAP_DISTANCE`              | (Optional) Maximum deviation in pixels before single tap is no longer valid.         | `25`        |\n| `AZOTEQ_IQS5XX_HOLD_TIME`                 | (Optional) Minimum time in ms for press and hold.                                    | `300`       |\n| `AZOTEQ_IQS5XX_SWIPE_INITIAL_TIME`        | (Optional) Maximum time to travel initial distance before swipe is registered.       | `150`       |\n| `AZOTEQ_IQS5XX_SWIPE_INITIAL_DISTANCE`    | (Optional) Minimum travel in pixels before swipe is registered.                      | `300`       |\n| `AZOTEQ_IQS5XX_SWIPE_CONSECUTIVE_TIME`    | (Optional) Maximum time to travel consecutive distance before swipe is registered.   | `0`         |\n| `AZOTEQ_IQS5XX_SWIPE_CONSECUTIVE_DISTANCE`| (Optional) Minimum travel in pixels before a consecutive swipe is registered.        | `2000`      |\n| `AZOTEQ_IQS5XX_SCROLL_INITIAL_DISTANCE`   | (Optional) Minimum travel in pixels before scroll is registered.                     | `50`        |\n| `AZOTEQ_IQS5XX_ZOOM_INITIAL_DISTANCE`     | (Optional) Minimum travel in pixels before zoom is registered.                       | `50`        |\n| `AZOTEQ_IQS5XX_ZOOM_CONSECUTIVE_DISTANCE` | (Optional) Maximum time to travel zoom distance before zoom is registered.           | `25`        |",
                "Rotation settings": "| Setting                      | Description                                                | Default       |\n| ---------------------------- | ---------------------------------------------------------- | ------------- |\n| `AZOTEQ_IQS5XX_ROTATION_90`  | (Optional) Configures hardware for 90 degree rotation.     | _not defined_ |\n| `AZOTEQ_IQS5XX_ROTATION_180` | (Optional) Configures hardware for 180 degree rotation.    | _not defined_ |\n| `AZOTEQ_IQS5XX_ROTATION_270` | (Optional) Configures hardware for 270 degree rotation.    | _not defined_ |"
              },
              "Cirque Trackpad": {
                "Common settings": "| Setting                              | Description                                                | Default                                     |\n| ------------------------------------ | ---------------------------------------------------------- | ------------------------------------------- |\n| `CIRQUE_PINNACLE_DIAMETER_MM`        | (Optional) Diameter of the trackpad sensor in millimeters. | `40`                                        |\n| `CIRQUE_PINNACLE_ATTENUATION`        | (Optional) Sets the attenuation of the sensor data.        | `EXTREG__TRACK_ADCCONFIG__ADC_ATTENUATE_4X` |\n| `CIRQUE_PINNACLE_CURVED_OVERLAY`     | (Optional) Applies settings tuned for curved overlay.      | _not defined_                               |\n| `CIRQUE_PINNACLE_POSITION_MODE`      | (Optional) Mode of operation.                              | _not defined_                               |\n| `CIRQUE_PINNACLE_SKIP_SENSOR_CHECK`  | (Optional) Skips sensor presence check                     | _not defined_                               |\n\n**`CIRQUE_PINNACLE_ATTENUATION`** is a measure of how much data is suppressed in regards to sensitivity. The higher the attenuation, the less sensitive the touchpad will be.\n\nDefault attenuation is set to 4X, although if you are using a thicker overlay (such as the curved overlay) you will want a lower attenuation such as 2X. The possible values are:\n\n['`EXTREG__TRACK_ADCCONFIG__ADC_ATTENUATE_4X`: Least sensitive', '`EXTREG__TRACK_ADCCONFIG__ADC_ATTENUATE_3X`', '`EXTREG__TRACK_ADCCONFIG__ADC_ATTENUATE_2X`', '`EXTREG__TRACK_ADCCONFIG__ADC_ATTENUATE_1X`: Most sensitive']\n\n**`CIRQUE_PINNACLE_POSITION_MODE`** can be `CIRQUE_PINNACLE_ABSOLUTE_MODE` or `CIRQUE_PINNACLE_RELATIVE_MODE`. Modes differ in supported features/gestures.\n\n['`CIRQUE_PINNACLE_ABSOLUTE_MODE`: Reports absolute x, y, z (touch pressure) coordinates and up to 5 hw buttons connected to the trackpad', '`CIRQUE_PINNACLE_RELATIVE_MODE`: Reports x/y deltas, scroll and up to 3 buttons (2 of them can be from taps, see gestures) connected to trackpad. Supports taps on secondary side of split. Saves about 2k of flash compared to absolute mode with all features.']\n\n| I2C Setting               | Description                                                                     | Default |\n| ------------------------- | ------------------------------------------------------------------------------- | ------- |\n| `CIRQUE_PINNACLE_ADDR`    | (Required) Sets the I2C Address for the Cirque Trackpad                         | `0x2A`  |\n| `CIRQUE_PINNACLE_TIMEOUT` | (Optional) The timeout for i2c communication with the trackpad in milliseconds. | `20`    |\n\n| SPI Setting                    | Description                                                            | Default                  |\n| ------------------------------ | ---------------------------------------------------------------------- | ------------------------ |\n| `CIRQUE_PINNACLE_CLOCK_SPEED`  | (Optional) Sets the clock speed that the sensor runs at.               | `1000000`                |\n| `CIRQUE_PINNACLE_SPI_LSBFIRST` | (Optional) Sets the Least/Most Significant Byte First setting for SPI. | `false`                  |\n| `CIRQUE_PINNACLE_SPI_MODE`     | (Optional) Sets the SPI Mode for the sensor.                           | `1`                      |\n| `CIRQUE_PINNACLE_SPI_DIVISOR`  | (Optional) Sets the SPI Divisor used for SPI communication.            | _varies_                 |\n| `CIRQUE_PINNACLE_SPI_CS_PIN`   | (Required) Sets the Chip Select pin connected to the sensor.           | `POINTING_DEVICE_CS_PIN` |\n\nDefault Scaling is 1024. Actual CPI depends on trackpad diameter.\n\nAlso see the `POINTING_DEVICE_TASK_THROTTLE_MS`, which defaults to 10ms when using Cirque Pinnacle, which matches the internal update rate of the position registers (in standard configuration). Advanced configuration for pen/stylus usage might require lower values.",
                "Absolute mode settings": "| Setting                                 | Description                                                             | Default     |\n|-----------------------------------------|-------------------------------------------------------------------------|-------------|\n| `CIRQUE_PINNACLE_X_LOWER`               | (Optional) The minimum reachable X value on the sensor.                 | `127`       |\n| `CIRQUE_PINNACLE_X_UPPER`               | (Optional) The maximum reachable X value on the sensor.                 | `1919`      |\n| `CIRQUE_PINNACLE_Y_LOWER`               | (Optional) The minimum reachable Y value on the sensor.                 | `63`        |\n| `CIRQUE_PINNACLE_Y_UPPER`               | (Optional) The maximum reachable Y value on the sensor.                 | `1471`      |\n| `CIRQUE_PINNACLE_REACHABLE_CALIBRATION` | (Optional) Enable console messages to aide in calibrating above values. | not defined |",
                "Absolute mode gestures": "| Gesture Setting                                | Description                                                                    | Default              |\n| ---------------------------------------------- | ------------------------------------------------------------------------------ | -------------------- |\n| `CIRQUE_PINNACLE_TAP_ENABLE`                   | (Optional) Enable tap to click. This currently only works on the master side.  | _not defined_        |\n| `CIRQUE_PINNACLE_TAPPING_TERM`                 | (Optional) Length of time that a touch can be to be considered a tap.          | `TAPPING_TERM`/`200` |\n| `CIRQUE_PINNACLE_TOUCH_DEBOUNCE`               | (Optional) Length of time that a touch can be to be considered a tap.          | `TAPPING_TERM`/`200` |\n\n`POINTING_DEVICE_GESTURES_SCROLL_ENABLE` in this mode enables circular scroll. Touch originating in outer ring can trigger scroll by moving along the perimeter. Near side triggers vertical scroll and far side triggers horizontal scroll.\n\nAdditionally, `POINTING_DEVICE_GESTURES_CURSOR_GLIDE_ENABLE` is supported in this mode.",
                "Relative mode gestures": "| Gesture Setting (`config.h`)           | Description                                                                                                                                                                               | Default       |\n| -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- |\n| `CIRQUE_PINNACLE_TAP_ENABLE`           | (Optional) Enable tap to \"left click\". Works on both sides of a split keyboard.                                                                                                           | _not defined_ |\n| `CIRQUE_PINNACLE_SECONDARY_TAP_ENABLE` | (Optional) Tap in upper right corner (half of the finger needs to be outside of the trackpad) of the trackpad will result in \"right click\". `CIRQUE_PINNACLE_TAP_ENABLE` must be enabled. | _not defined_ |\n\nTapping term and debounce are not configurable in this mode since it's handled by trackpad internally.\n\n`POINTING_DEVICE_GESTURES_SCROLL_ENABLE` in this mode enables side scroll. Touch originating on the right side can trigger vertical scroll (IntelliSense trackpad style)."
              },
              "PAW 3204 Sensor": "To use the paw 3204 sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = paw3204\n```\n\nThe paw 3204 sensor uses a serial type protocol for communication, and requires an additional light source. \n\n| Setting (`config.h`) | Description                                                    | Default                    |\n| -------------------- |--------------------------------------------------------------- | -------------------------- |\n| `PAW3204_SCLK_PIN`   | (Required) The pin connected to the clock pin of the sensor.   | `POINTING_DEVICE_SCLK_PIN` |\n| `PAW3204_SDIO_PIN`   | (Required) The pin connected to the data pin of the sensor.    | `POINTING_DEVICE_SDIO_PIN` |\n\nThe CPI range is 400-1600, with supported values of (400, 500, 600, 800, 1000, 1200 and 1600).  Defaults to 1000 CPI.",
              "Pimoroni Trackball": "To use the Pimoroni Trackball module, add this to your `rules.mk`:\n\n```\nPOINTING_DEVICE_DRIVER = pimoroni_trackball\n```\n\nThe Pimoroni Trackball module is a I2C based breakout board with an RGB enable trackball. \n\n| Setting (`config.h`)                 | Description                                                                        | Default |\n| ------------------------------------ | ---------------------------------------------------------------------------------- | ------- |\n| `PIMORONI_TRACKBALL_ADDRESS`         | (Required) Sets the I2C Address for the Pimoroni Trackball.                        | `0x0A`  |\n| `PIMORONI_TRACKBALL_TIMEOUT`         | (Optional) The timeout for i2c communication with the trackball in milliseconds.   | `100`   |\n| `PIMORONI_TRACKBALL_SCALE`           | (Optional) The multiplier used to generate reports from the sensor.                | `5`     |\n| `PIMORONI_TRACKBALL_DEBOUNCE_CYCLES` | (Optional) The number of scan cycles used for debouncing on the ball press.        | `20`    |\n| `PIMORONI_TRACKBALL_ERROR_COUNT`     | (Optional) Specifies the number of read/write errors until the sensor is disabled. | `10`    |",
              "PMW3320 Sensor": "To use the PMW3320 sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = pmw3320\n```\n\nThe PMW3320 sensor uses a serial type protocol for communication, and requires an additional light source (it could work without one, but expect it to be out of service early).\n\n| Setting             | Description                                                         | Default                    |\n| ------------------- | ------------------------------------------------------------------- | -------------------------- |\n| `PMW3320_SCLK_PIN` | (Required) The pin connected to the clock pin of the sensor.        | `POINTING_DEVICE_SCLK_PIN` |\n| `PMW3320_SDIO_PIN` | (Required) The pin connected to the data pin of the sensor.         | `POINTING_DEVICE_SDIO_PIN` |\n| `PMW3320_CS_PIN`   | (Required) The pin connected to the cable select pin of the sensor. | `POINTING_DEVICE_CS_PIN`   |\n\nThe CPI range is 500-3500, in increments of 250. Defaults to 1000 CPI.",
              "PMW 3360 and PMW 3389 Sensor": "This drivers supports both the PMW 3360 and PMW 3389 sensor as well as multiple sensors of the same type _per_ controller, so 2 can be attached at the same side for split keyboards (or unsplit keyboards).\n\nTo use the **PMW 3360** sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = pmw3360\n```\n\nThe CPI range is 100-12000, in increments of 100. Defaults to 1600 CPI.\n\nTo use the **PMW 3389** sensor, add this to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = pmw3389\n```\n\nThe CPI range is 50-16000, in increments of 50. Defaults to 2000 CPI.\n\nBoth PMW 3360 and PMW 3389 are SPI driven optical sensors, that use a built in IR LED for surface tracking.\nIf you have different CS wiring on each half you can use `PMW33XX_CS_PIN_RIGHT` or `PMW33XX_CS_PINS_RIGHT` in combination with `PMW33XX_CS_PIN` or `PMW33XX_CS_PINS` to configure both sides independently. If `_RIGHT` values aren't provided, they default to be the same as the left ones.\n\n| Setting (`config.h`)         | Description                                                                                 | Default                  |\n| ---------------------------- | ------------------------------------------------------------------------------------------- | ------------------------ |\n| `PMW33XX_CS_PIN`             | (Required) Sets the Chip Select pin connected to the sensor.                                | `POINTING_DEVICE_CS_PIN` |\n| `PMW33XX_CS_PINS`            | (Alternative) Sets the Chip Select pins connected to multiple sensors.                      | `{PMW33XX_CS_PIN}`       |\n| `PMW33XX_CS_PIN_RIGHT`       | (Optional) Sets the Chip Select pin connected to the sensor on the right half.              | `PMW33XX_CS_PIN`         |\n| `PMW33XX_CS_PINS_RIGHT`      | (Optional) Sets the Chip Select pins connected to multiple sensors on the right half.       | `{PMW33XX_CS_PIN_RIGHT}` |\n| `PMW33XX_CPI`                | (Optional) Sets counts per inch sensitivity of the sensor.                                  | _varies_                 |\n| `PMW33XX_CLOCK_SPEED`        | (Optional) Sets the clock speed that the sensor runs at.                                    | `2000000`                |\n| `PMW33XX_SPI_DIVISOR`        | (Optional) Sets the SPI Divisor used for SPI communication.                                 | _varies_                 |\n| `PMW33XX_LIFTOFF_DISTANCE`   | (Optional) Sets the lift off distance at run time                                           | `0x02`                   |\n| `ROTATIONAL_TRANSFORM_ANGLE` | (Optional) Allows for the sensor data to be rotated +/- 127 degrees directly in the sensor. | `0`                      |\n\nTo use multiple sensors, instead of setting `PMW33XX_CS_PIN` you need to set `PMW33XX_CS_PINS` and also handle and merge the read from this sensor in user code.\nNote that different (per sensor) values of CPI, speed liftoff, rotational angle or flipping of X/Y is not currently supported.\n\n```\n// in config.h:\n#define PMW33XX_CS_PINS { B5, B6 }\n// in keyboard.c:\n#ifdef POINTING_DEVICE_ENABLE\nvoid pointing_device_init_kb(void) {\n    pmw33xx_init(1);         // index 1 is the second device.\n    pmw33xx_set_cpi(0, 800); // applies to first sensor\n    pmw33xx_set_cpi(1, 800); // applies to second sensor\n    pointing_device_init_user();\n}\n\n// Contains report from sensor #0 already, need to merge in from sensor #1\nreport_mouse_t pointing_device_task_kb(report_mouse_t mouse_report) {\n    pmw33xx_report_t report = pmw33xx_read_burst(1);\n    if (!report.motion.b.is_lifted && report.motion.b.is_motion) {\n// From quantum/pointing_device_drivers.c\n#define constrain_hid(amt) ((amt) < -127 ? -127 : ((amt) > 127 ? 127 : (amt)))\n        mouse_report.x = constrain_hid(mouse_report.x + report.delta_x);\n        mouse_report.y = constrain_hid(mouse_report.y + report.delta_y);\n    }\n    return pointing_device_task_user(mouse_report);\n}\n#endif\n\n```",
              "Custom Driver": "If you have a sensor type that isn't supported above, a custom option is available by adding the following to your `rules.mk`\n\n```\nPOINTING_DEVICE_DRIVER = custom\n```\n\nUsing the custom driver will require implementing the following functions:\n\n```\nvoid           pointing_device_driver_init(void) {}\nreport_mouse_t pointing_device_driver_get_report(report_mouse_t mouse_report) { return mouse_report; }\nuint16_t       pointing_device_driver_get_cpi(void) { return 0; }\nvoid           pointing_device_driver_set_cpi(uint16_t cpi) {}\n```\n\n::: warning\nIdeally, new sensor hardware should be added to `drivers/sensors/` and `quantum/pointing_device_drivers.c`, but there may be cases where it's very specific to the hardware.  So these functions are provided, just in case. \n:::"
            },
            "Common Configuration": "| Setting                                        | Description                                                                                                                      | Default       |\n| ---------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------- |\n| `MOUSE_EXTENDED_REPORT`                        | (Optional) Enables support for extended mouse reports. (-32767 to 32767, instead of just -127 to 127).                           | _not defined_ |\n| `WHEEL_EXTENDED_REPORT`                        | (Optional) Enables support for extended wheel reports. (-32767 to 32767, instead of just -127 to 127).                           | _not defined_ |\n| `POINTING_DEVICE_ROTATION_90`                  | (Optional) Rotates the X and Y data by  90 degrees.                                                                              | _not defined_ |\n| `POINTING_DEVICE_ROTATION_180`                 | (Optional) Rotates the X and Y data by 180 degrees.                                                                              | _not defined_ |\n| `POINTING_DEVICE_ROTATION_270`                 | (Optional) Rotates the X and Y data by 270 degrees.                                                                              | _not defined_ |\n| `POINTING_DEVICE_INVERT_X`                     | (Optional) Inverts the X axis report.                                                                                            | _not defined_ |\n| `POINTING_DEVICE_INVERT_Y`                     | (Optional) Inverts the Y axis report.                                                                                            | _not defined_ |\n| `POINTING_DEVICE_MOTION_PIN`                   | (Optional) If supported, will only read from sensor if pin is active.                                                            | _not defined_ |\n| `POINTING_DEVICE_MOTION_PIN_ACTIVE_LOW`        | (Optional) If defined then the motion pin is active-low.                                                                         | _varies_      |\n| `POINTING_DEVICE_TASK_THROTTLE_MS`             | (Optional) Limits the frequency that the sensor is polled for motion.                                                            | _not defined_ |\n| `POINTING_DEVICE_GESTURES_CURSOR_GLIDE_ENABLE` | (Optional) Enable inertial cursor. Cursor continues moving after a flick gesture and slows down by kinetic friction.             | _not defined_ |\n| `POINTING_DEVICE_GESTURES_SCROLL_ENABLE`       | (Optional) Enable scroll gesture. The gesture that activates the scroll is device dependent.                                     | _not defined_ |\n| `POINTING_DEVICE_CS_PIN`                       | (Optional) Provides a default CS pin, useful for supporting multiple sensor configs.                                             | _not defined_ |\n| `POINTING_DEVICE_SDIO_PIN`                     | (Optional) Provides a default SDIO pin, useful for supporting multiple sensor configs.                                           | _not defined_ |\n| `POINTING_DEVICE_SCLK_PIN`                     | (Optional) Provides a default SCLK pin, useful for supporting multiple sensor configs.                                           | _not defined_ |\n\n::: warning\nWhen using `SPLIT_POINTING_ENABLE` the `POINTING_DEVICE_MOTION_PIN` functionality is not supported and `POINTING_DEVICE_TASK_THROTTLE_MS` will default to `1`. Increasing this value will increase transport performance at the cost of possible mouse responsiveness.\n:::\n\nThe `POINTING_DEVICE_CS_PIN`, `POINTING_DEVICE_SDIO_PIN`, and `POINTING_DEVICE_SCLK_PIN` provide a convenient way to define a single pin that can be used for an interchangeable sensor config.  This allows you to have a single config, without defining each device.  Each sensor allows for this to be overridden with their own defines. \n\n::: warning\nAny pointing device with a lift/contact status can integrate inertial cursor feature into its driver, controlled by `POINTING_DEVICE_GESTURES_CURSOR_GLIDE_ENABLE`. e.g. PMW3360 can use Lift_Stat from Motion register. Note that `POINTING_DEVICE_MOTION_PIN` cannot be used with this feature; continuous polling of `get_report()` is needed to generate glide reports.\n:::",
            "High Resolution Scrolling": "| Setting                                  | Description                                                                                                               | Default       |\n| ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ------------- |\n| `POINTING_DEVICE_HIRES_SCROLL_ENABLE`    | (Optional) Enables high resolution scrolling.                                                                             | _not defined_ |\n| `POINTING_DEVICE_HIRES_SCROLL_MULTIPLIER`| (Optional) Resolution mutiplier value used by high resolution scrolling. Must be between 1 and 127, inclusive.            | `120`         |\n| `POINTING_DEVICE_HIRES_SCROLL_EXPONENT`  | (Optional) Resolution exponent value used by high resolution scrolling. Must be between 0 and 127, inclusive.             | `0`           |\n\nThe `POINTING_DEVICE_HIRES_SCROLL_ENABLE` setting enables smooth and continuous scrolling when using trackballs or high-end encoders as mouse wheels (as opposed to the typical stepped behavior of most mouse wheels).\nThis works by adding a resolution multiplier to the HID descriptor for mouse wheel reports, causing the host computer to interpret each wheel tick sent by the keyboard as a fraction of a normal wheel tick.\nThe resolution multiplier is set to `1 / (POINTING_DEVICE_HIRES_SCROLL_MULTIPLIER * (10 ^ POINTING_DEVICE_HIRES_SCROLL_EXPONENT))`, which is `1 / 120` by default.\nIf even smoother scrolling than provided by this default value is desired, first try using `#define POINTING_DEVICE_HIRES_SCROLL_EXPONENT 1` which will result in a multiplier of `1 / 1200`.\n\nThe function `pointing_device_get_hires_scroll_resolution()` can be called to get the pre-computed resolution multiplier value as a `uint16_t`.\n\n::: warning\nHigh resolution scrolling usually results in larger and/or more frequent mouse reports. This can result in overflow errors and overloading of the host computer's input buffer. \nTo deal with these issues, define `WHEEL_EXTENDED_REPORT` and throttle the rate at which mouse reports are sent.\n:::\n\n::: warning\nMany programs, especially those that implement their own smoothing for scrolling, don't work well when they receive simultaneous vertical and horizontal wheel inputs (e.g. from high resolution drag-scroll using a trackball).\nThese programs typically implement their smoothing in a way that assumes the user will only scroll in one axis at a time, resulting in slow or jittery motion when trying to scroll at an angle.\nThis can be addressed by snapping scrolling to one axis at a time.\n:::",
            "Split Keyboard Configuration": "The following configuration options are only available when using `SPLIT_POINTING_ENABLE` see [data sync options](split_keyboard#data-sync-options). The rotation and invert `*_RIGHT` options are only used with `POINTING_DEVICE_COMBINED`. If using `POINTING_DEVICE_LEFT` or `POINTING_DEVICE_RIGHT` use the common configuration above to configure your pointing device.\n\n| Setting                              | Description                                                                                           | Default       |\n| ------------------------------------ | ----------------------------------------------------------------------------------------------------- | ------------- |\n| `POINTING_DEVICE_LEFT`               | Pointing device on the left side (Required - pick one only)                                           | _not defined_ |\n| `POINTING_DEVICE_RIGHT`              | Pointing device on the right side (Required - pick one only)                                          | _not defined_ |\n| `POINTING_DEVICE_COMBINED`           | Pointing device on both sides (Required - pick one only)                                              | _not defined_ |\n| `POINTING_DEVICE_ROTATION_90_RIGHT`  | (Optional) Rotates the X and Y data by  90 degrees.                                                   | _not defined_ |\n| `POINTING_DEVICE_ROTATION_180_RIGHT` | (Optional) Rotates the X and Y data by 180 degrees.                                                   | _not defined_ |\n| `POINTING_DEVICE_ROTATION_270_RIGHT` | (Optional) Rotates the X and Y data by 270 degrees.                                                   | _not defined_ |\n| `POINTING_DEVICE_INVERT_X_RIGHT`     | (Optional) Inverts the X axis report.                                                                 | _not defined_ |\n| `POINTING_DEVICE_INVERT_Y_RIGHT`     | (Optional) Inverts the Y axis report.                                                                 | _not defined_ |\n\n::: warning\nIf there is a `_RIGHT` configuration option or callback, the [common configuration](pointing_device#common-configuration) option will work for the left. For correct left/right detection you should setup a [handedness option](split_keyboard#setting-handedness), `EE_HANDS` is usually a good option for an existing board that doesn't do handedness by hardware.\n:::",
            "Callbacks and Functions ": "| Function                                                   | Description                                                                                                   |\n| ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |\n| `pointing_device_init_kb(void)`                            | Callback to allow for keyboard level initialization. Useful for additional hardware sensors.                  |\n| `pointing_device_init_user(void)`                          | Callback to allow for user level initialization. Useful for additional hardware sensors.                      |\n| `pointing_device_task_kb(mouse_report)`                    | Callback that sends sensor data, so keyboard code can intercept and modify the data.  Returns a mouse report. |\n| `pointing_device_task_user(mouse_report)`                  | Callback that sends sensor data, so user code can intercept and modify the data.  Returns a mouse report.     |\n| `pointing_device_handle_buttons(buttons, pressed, button)` | Callback to handle hardware button presses. Returns a `uint8_t`.                                              |\n| `pointing_device_get_cpi(void)`                            | Gets the current CPI/DPI setting from the sensor, if supported.                                               |\n| `pointing_device_set_cpi(uint16_t)`                        | Sets the CPI/DPI, if supported.                                                                               |\n| `pointing_device_get_report(void)`                         | Returns the current mouse report (as a `report_mouse_t` data structure).                                      |\n| `pointing_device_set_report(mouse_report)`                 | Sets the mouse report to the assigned `report_mouse_t` data structured passed to the function.                |\n| `pointing_device_send(void)`                               | Sends the current mouse report to the host system.  Function can be replaced.                                 |\n| `has_mouse_report_changed(new_report, old_report)`         | Compares the old and new `report_mouse_t` data and returns true only if it has changed.                       |\n| `pointing_device_adjust_by_defines(mouse_report)`          | Applies rotations and invert configurations to a raw mouse report.                                            |",
            "Split Keyboard Callbacks and Functions": "The combined functions below are only available when using `SPLIT_POINTING_ENABLE` and `POINTING_DEVICE_COMBINED`. The 2 callbacks `pointing_device_task_combined_*` replace the single sided equivalents above. See the [combined pointing devices example](pointing_device#combined-pointing-devices)\n\n| Function                                                        | Description                                                                                                              |\n| --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |\n| `pointing_device_set_shared_report(mouse_report)`               | Sets the shared mouse report to the assigned `report_mouse_t` data structured passed to the function.                    |\n| `pointing_device_set_cpi_on_side(bool, uint16_t)`               | Sets the CPI/DPI of one side, if supported. Passing `true` will set the left and `false` the right                       |\n| `pointing_device_combine_reports(left_report, right_report)`    | Returns a combined mouse_report of left_report and right_report (as a `report_mouse_t` data structure)                   |\n| `pointing_device_task_combined_kb(left_report, right_report)`   | Callback, so keyboard code can intercept and modify the data. Returns a combined mouse report.                           |\n| `pointing_device_task_combined_user(left_report, right_report)` | Callback, so user code can intercept and modify. Returns a combined mouse report using `pointing_device_combine_reports` |\n| `pointing_device_adjust_by_defines_right(mouse_report)`         | Applies right side rotations and invert configurations to a raw mouse report.                                            |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 27]"
        },
        {
          "title": "Programmable Button {#programmable-button}",
          "description": null,
          "content": {
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nPROGRAMMABLE_BUTTON_ENABLE = yes\n```",
            "Keycodes {#keycodes}": "|Key                        |Aliases|Description           |\n|---------------------------|-------|----------------------|\n|`QK_PROGRAMMABLE_BUTTON_1` |`PB_1` |Programmable button 1 |\n|`QK_PROGRAMMABLE_BUTTON_2` |`PB_2` |Programmable button 2 |\n|`QK_PROGRAMMABLE_BUTTON_3` |`PB_3` |Programmable button 3 |\n|`QK_PROGRAMMABLE_BUTTON_4` |`PB_4` |Programmable button 4 |\n|`QK_PROGRAMMABLE_BUTTON_5` |`PB_5` |Programmable button 5 |\n|`QK_PROGRAMMABLE_BUTTON_6` |`PB_6` |Programmable button 6 |\n|`QK_PROGRAMMABLE_BUTTON_7` |`PB_7` |Programmable button 7 |\n|`QK_PROGRAMMABLE_BUTTON_8` |`PB_8` |Programmable button 8 |\n|`QK_PROGRAMMABLE_BUTTON_9` |`PB_9` |Programmable button 9 |\n|`QK_PROGRAMMABLE_BUTTON_10`|`PB_10`|Programmable button 10|\n|`QK_PROGRAMMABLE_BUTTON_11`|`PB_11`|Programmable button 11|\n|`QK_PROGRAMMABLE_BUTTON_12`|`PB_12`|Programmable button 12|\n|`QK_PROGRAMMABLE_BUTTON_13`|`PB_13`|Programmable button 13|\n|`QK_PROGRAMMABLE_BUTTON_14`|`PB_14`|Programmable button 14|\n|`QK_PROGRAMMABLE_BUTTON_15`|`PB_15`|Programmable button 15|\n|`QK_PROGRAMMABLE_BUTTON_16`|`PB_16`|Programmable button 16|\n|`QK_PROGRAMMABLE_BUTTON_17`|`PB_17`|Programmable button 17|\n|`QK_PROGRAMMABLE_BUTTON_18`|`PB_18`|Programmable button 18|\n|`QK_PROGRAMMABLE_BUTTON_19`|`PB_19`|Programmable button 19|\n|`QK_PROGRAMMABLE_BUTTON_20`|`PB_20`|Programmable button 20|\n|`QK_PROGRAMMABLE_BUTTON_21`|`PB_21`|Programmable button 21|\n|`QK_PROGRAMMABLE_BUTTON_22`|`PB_22`|Programmable button 22|\n|`QK_PROGRAMMABLE_BUTTON_23`|`PB_23`|Programmable button 23|\n|`QK_PROGRAMMABLE_BUTTON_24`|`PB_24`|Programmable button 24|\n|`QK_PROGRAMMABLE_BUTTON_25`|`PB_25`|Programmable button 25|\n|`QK_PROGRAMMABLE_BUTTON_26`|`PB_26`|Programmable button 26|\n|`QK_PROGRAMMABLE_BUTTON_27`|`PB_27`|Programmable button 27|\n|`QK_PROGRAMMABLE_BUTTON_28`|`PB_28`|Programmable button 28|\n|`QK_PROGRAMMABLE_BUTTON_29`|`PB_29`|Programmable button 29|\n|`QK_PROGRAMMABLE_BUTTON_30`|`PB_30`|Programmable button 30|\n|`QK_PROGRAMMABLE_BUTTON_31`|`PB_31`|Programmable button 31|\n|`QK_PROGRAMMABLE_BUTTON_32`|`PB_32`|Programmable button 32|",
            "API {#api}": {
              "`void programmable_button_clear(void)` {#api-programmable-button-clear}": "Clear the programmable button report.\n\n[]",
              "`void programmable_button_add(uint8_t index)` {#api-programmable-button-add}": {
                "Arguments {#api-programmable-button-add-arguments}": [
                  "`uint8_t index`  \nThe index of the button to press, from 0 to 31."
                ]
              },
              "`void programmable_button_remove(uint8_t index)` {#api-programmable-button-remove}": {
                "Arguments {#api-programmable-button-remove-arguments}": [
                  "`uint8_t index`  \nThe index of the button to release, from 0 to 31."
                ]
              },
              "`void programmable_button_register(uint8_t index)` {#api-programmable-button-register}": {
                "Arguments {#api-programmable-button-register-arguments}": [
                  "`uint8_t index`  \nThe index of the button to press, from 0 to 31."
                ]
              },
              "`void programmable_button_unregister(uint8_t index)` {#api-programmable-button-unregister}": {
                "Arguments {#api-programmable-button-unregister-arguments}": [
                  "`uint8_t index`  \nThe index of the button to release, from 0 to 31."
                ]
              },
              "`bool programmable_button_is_on(uint8_t index)` {#api-programmable-button-is-on}": {
                "Arguments {#api-programmable-button-is-on-arguments}": [
                  "`uint8_t index`  \nThe index of the button to check, from 0 to 31."
                ],
                "Return Value {#api-programmable-button-is-on-return}": "`true` if the button is pressed.\n\n[]"
              },
              "`void programmable_button_flush(void)` {#api-programmable-button-flush}": "Send the programmable button report to the host.\n\n[]",
              "`uint32_t programmable_button_get_report(void)` {#api-programmable-button-get-report}": {
                "Return Value {#api-programmable-button-get-report-return}": "The bitmask of programmable button states.\n\n[]"
              },
              "`void programmable_button_set_report(uint32_t report)` {#api-programmable-button-set-report}": {
                "Arguments {#api-programmable-button-set-report-arguments}": [
                  "`uint32_t report`  \nA bitmask of programmable button states."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 28]"
        },
        {
          "title": "PS/2 Mouse Support {#ps2-mouse-support}",
          "description": null,
          "content": {
            "The Circuitry between Trackpoint and Controller {#the-circuitry-between-trackpoint-and-controller}": "To get the things working, a 4.7K drag is needed between the two lines DATA and CLK and the line 5+. \n\n```\n\n          DATA ----------+--------- PIN\n                         |\n                        4.7K\n                         |\nMODULE    5+  --------+--+--------- PWR   CONTROLLER\n                      |\n                     4.7K\n                      |    \n          CLK   ------+------------ PIN\n```",
            "Driver Configuration {#driver-configuration}": {
              "Busywait Driver {#busywait-driver}": "Note: This is not recommended, you may encounter jerky movement or unsent inputs. Please use interrupt or USART version if possible.\n\nIn rules.mk:\n\n```\nPS2_MOUSE_ENABLE = yes\nPS2_ENABLE = yes\nPS2_DRIVER = busywait\n```\n\nIn your keyboard config.h:\n\n```\n#ifdef PS2_DRIVER_BUSYWAIT\n# define PS2_CLOCK_PIN   D1\n# define PS2_DATA_PIN    D2\n#endif\n```",
              "Interrupt Driver (AVR/ATMega32u4) {#interrupt-driver-avr}": "The following example uses D2 for clock and D5 for data. You can use any INT or PCINT pin for clock, and any pin for data.\n\nIn rules.mk:\n\n```\nPS2_MOUSE_ENABLE = yes\nPS2_ENABLE = yes\nPS2_DRIVER = interrupt\n```\n\nIn your keyboard config.h:\n\n```\n#ifdef PS2_DRIVER_INTERRUPT\n#define PS2_CLOCK_PIN   D2\n#define PS2_DATA_PIN    D5\n\n#define PS2_INT_INIT()  do {    \\\n    EICRA |= ((1<<ISC21) |      \\\n              (0<<ISC20));      \\\n} while (0)\n#define PS2_INT_ON()  do {      \\\n    EIMSK |= (1<<INT2);         \\\n} while (0)\n#define PS2_INT_OFF() do {      \\\n    EIMSK &= ~(1<<INT2);        \\\n} while (0)\n#define PS2_INT_VECT   INT2_vect\n#endif\n```",
              "Interrupt Driver (ARM chibios) {#interrupt-driver-chibios}": "Pretty much any two pins can be used for the (software) interrupt variant on ARM cores. The example below uses A8 for clock, and A9 for data.\n\nIn rules.mk:\n\n```\nPS2_MOUSE_ENABLE = yes\nPS2_ENABLE = yes\nPS2_DRIVER = interrupt\n```\n\nIn your keyboard `config.h`:\n\n```\n#define PS2_CLOCK_PIN A8\n#define PS2_DATA_PIN  A9\n```\n\nAnd in the ChibiOS specific `halconf.h`:\n\n```\n#pragma once\n\n#define PAL_USE_CALLBACKS TRUE // [!code focus]\n\n#include_next <halconf.h>\n```",
              "USART Driver {#usart-driver}": "To use USART on the ATMega32u4, you have to use PD5 for clock and PD2 for data. If one of those are unavailable, you need to use interrupt version.\n\nIn rules.mk:\n\n```\nPS2_MOUSE_ENABLE = yes\nPS2_ENABLE = yes\nPS2_DRIVER = usart\n```\n\nIn your keyboard config.h:\n\n```\n#ifdef PS2_DRIVER_USART\n#define PS2_CLOCK_PIN   D5\n#define PS2_DATA_PIN    D2\n\n/* synchronous, odd parity, 1-bit stop, 8-bit data, sample at falling edge */\n/* set DDR of CLOCK as input to be slave */\n#define PS2_USART_INIT() do {   \\\n    PS2_CLOCK_DDR &= ~(1<<PS2_CLOCK_BIT);   \\\n    PS2_DATA_DDR &= ~(1<<PS2_DATA_BIT);     \\\n    UCSR1C = ((1 << UMSEL10) |  \\\n              (3 << UPM10)   |  \\\n              (0 << USBS1)   |  \\\n              (3 << UCSZ10)  |  \\\n              (0 << UCPOL1));   \\\n    UCSR1A = 0;                 \\\n    UBRR1H = 0;                 \\\n    UBRR1L = 0;                 \\\n} while (0)\n#define PS2_USART_RX_INT_ON() do {  \\\n    UCSR1B = ((1 << RXCIE1) |       \\\n              (1 << RXEN1));        \\\n} while (0)\n#define PS2_USART_RX_POLL_ON() do { \\\n    UCSR1B = (1 << RXEN1);          \\\n} while (0)\n#define PS2_USART_OFF() do {    \\\n    UCSR1C = 0;                 \\\n    UCSR1B &= ~((1 << RXEN1) |  \\\n                (1 << TXEN1));  \\\n} while (0)\n#define PS2_USART_RX_READY      (UCSR1A & (1<<RXC1))\n#define PS2_USART_RX_DATA       UDR1\n#define PS2_USART_ERROR         (UCSR1A & ((1<<FE1) | (1<<DOR1) | (1<<UPE1)))\n#define PS2_USART_RX_VECT       USART1_RX_vect\n#endif\n```",
              "RP2040 PIO Driver {#rp2040-pio-driver}": "The `PIO` subsystem is a Raspberry Pi RP2040 specific implementation, using the integrated PIO peripheral and is therefore only available on this MCU.\n\nThere are strict requirements for pin ordering but any pair of GPIO pins can be used. The GPIO used for clock must be directly after data, see the included info.json snippet for an example of correct order.\n\nYou may optionally switch the PIO peripheral used with the following define in config.h:\n\n```\n#define PS2_PIO_USE_PIO1 // Force the usage of PIO1 peripheral, by default the PS2 implementation uses the PIO0 peripheral\n```\n\nExample info.json content:\n\n```\n    \"ps2\": {\n        \"clock_pin\": \"GP1\",\n        \"data_pin\": \"GP0\",\n        \"driver\": \"vendor\",\n        \"enabled\": true,\n        \"mouse_enabled\": true\n    }\n```"
            },
            "Additional Settings {#additional-settings}": {
              "PS/2 Mouse Features {#ps2-mouse-features}": "These enable settings supported by the PS/2 mouse protocol.\n\n```\n/* Use remote mode instead of the default stream mode (see link) */\n#define PS2_MOUSE_USE_REMOTE_MODE\n\n/* Enable the scrollwheel or scroll gesture on your mouse or touchpad */\n#define PS2_MOUSE_ENABLE_SCROLLING\n\n/* Some mice will need a scroll mask to be configured. The default is 0xFF. */\n#define PS2_MOUSE_SCROLL_MASK 0x0F\n\n/* Applies a transformation to the movement before sending to the host (see link) */\n#define PS2_MOUSE_USE_2_1_SCALING\n\n/* The time to wait after initializing the ps2 host */\n#define PS2_MOUSE_INIT_DELAY 1000 /* Default */\n```\n\nYou can also call the following functions from ps2_mouse.h\n\n```\nvoid ps2_mouse_disable_data_reporting(void);\n\nvoid ps2_mouse_enable_data_reporting(void);\n\nvoid ps2_mouse_set_remote_mode(void);\n\nvoid ps2_mouse_set_stream_mode(void);\n\nvoid ps2_mouse_set_scaling_2_1(void);\n\nvoid ps2_mouse_set_scaling_1_1(void);\n\nvoid ps2_mouse_set_resolution(ps2_mouse_resolution_t resolution);\n\nvoid ps2_mouse_set_sample_rate(ps2_mouse_sample_rate_t sample_rate);\n```",
              "Fine Control {#fine-control}": "Use the following defines to change the sensitivity and speed of the mouse.\nNote: you can also use `ps2_mouse_set_resolution` for the same effect (not supported on most touchpads).\n\n```\n#define PS2_MOUSE_X_MULTIPLIER 3\n#define PS2_MOUSE_Y_MULTIPLIER 3\n#define PS2_MOUSE_V_MULTIPLIER 1\n```",
              "Scroll Button {#scroll-button}": "If you're using a trackpoint, you will likely want to be able to use it for scrolling.\nIt's possible to enable a \"scroll button/s\" that when pressed will cause the mouse to scroll instead of moving.\nTo enable the feature, you must set a scroll button mask as follows:\n\n```\n#define PS2_MOUSE_SCROLL_BTN_MASK (1<<PS2_MOUSE_BTN_MIDDLE) /* Default */\n```\n\nTo disable the scroll button feature:\n\n```\n#define PS2_MOUSE_SCROLL_BTN_MASK 0\n```\n\nThe available buttons are:\n\n```\n#define PS2_MOUSE_BTN_LEFT      0\n#define PS2_MOUSE_BTN_RIGHT     1\n#define PS2_MOUSE_BTN_MIDDLE    2\n```\n\nYou can also combine buttons in the mask by `|`ing them together.\n\nOnce you've configured your scroll button mask, you must configure the scroll button send interval.\nThis is the interval before which if the scroll buttons were released they would be sent to the host.\nAfter this interval, they will cause the mouse to scroll and will not be sent.\n\n```\n#define PS2_MOUSE_SCROLL_BTN_SEND 300 /* Default */\n```\n\nTo disable sending the scroll buttons:\n\n```\n#define PS2_MOUSE_SCROLL_BTN_SEND 0\n```\n\nFine control over the scrolling is supported with the following defines:\n\n```\n#define PS2_MOUSE_SCROLL_DIVISOR_H 2\n#define PS2_MOUSE_SCROLL_DIVISOR_V 2\n```",
              "Invert Mouse buttons {#invert-buttons}": "To invert the left & right buttons you can put:\n\n```\n#define PS2_MOUSE_INVERT_BUTTONS\n```\n\ninto config.h.",
              "Invert Mouse and Scroll Axes {#invert-mouse-and-scroll-axes}": "To invert the X and Y axes you can put:\n\n```\n#define PS2_MOUSE_INVERT_X\n#define PS2_MOUSE_INVERT_Y\n```\n\ninto config.h.\n\nTo reverse the scroll axes you can put:\n\n```\n#define PS2_MOUSE_INVERT_H\n#define PS2_MOUSE_INVERT_V\n```\n\ninto config.h.",
              "Rotate Mouse Axes {#rotate-mouse-axes}": "Transform the output of the device with a clockwise rotation of 90, 180, or 270\ndegrees.\n\nWhen compensating for device orientation, rotate the output the same amount in\nthe opposite direction.  E.g. if the normal device orientation is considered to\nbe North-facing, compensate as follows:\n\n```\n#define PS2_MOUSE_ROTATE 270 /* Compensate for East-facing device orientation. */\n```\n\n```\n#define PS2_MOUSE_ROTATE 180 /* Compensate for South-facing device orientation. */\n```\n\n```\n#define PS2_MOUSE_ROTATE 90 /* Compensate for West-facing device orientation. */\n```",
              "Debug Settings {#debug-settings}": "To debug the mouse, add `debug_mouse = true` or enable via bootmagic.\n\n```\n/* To debug the mouse reports */\n#define PS2_MOUSE_DEBUG_HID\n#define PS2_MOUSE_DEBUG_RAW\n```",
              "Movement Hook {#movement-hook}": "Process mouse movement in the keymap before it is sent to the host.  Example\nuses include filtering noise, adding acceleration, and automatically activating\na layer.  To use, define the following function in your keymap:\n\n```\nvoid ps2_mouse_moved_user(report_mouse_t *mouse_report);\n```"
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 29]"
        },
        {
          "title": "Raw HID {#raw-hid}",
          "description": null,
          "content": {
            "Usage {#usage}": "Add the following to your `rules.mk`:\n\n```\nRAW_ENABLE = yes\n```",
            "Basic Configuration {#basic-configuration}": "By default, the HID Usage Page and Usage ID for the Raw HID interface are `0xFF60` and `0x61`. However, they can be changed if necessary by adding the following to your `config.h`:\n\n|Define          |Default |Description                            |\n|----------------|--------|---------------------------------------|\n|`RAW_USAGE_PAGE`|`0xFF60`|The usage page of the Raw HID interface|\n|`RAW_USAGE_ID`  |`0x61`  |The usage ID of the Raw HID interface  |",
            "Sending Data to the Keyboard {#sending-data-to-the-keyboard}": "To send data to the keyboard, you must first find a library for communicating with HID devices in the programming language of your choice. Here are some examples:\n\n['**Node.js:** [node-hid](https://github.com/node-hid/node-hid)', '**C/C++:** [hidapi](https://github.com/libusb/hidapi)', '**Java:** [purejavahidapi](https://github.com/nyholku/purejavahidapi) and [hid4java](https://github.com/gary-rowe/hid4java)', '**Python:** [pyhidapi](https://pypi.org/project/hid/) and [pywinusb](https://pypi.org/project/pywinusb)']\n\nPlease refer to these libraries' own documentation for instructions on usage. Remember to close the device once you are finished with it!\n\nNext, you will need to know the USB Vendor and Product IDs of the device. These can easily be found by looking at your keyboard's `info.json`, under the `usb` object (alternatively, you can also use Device Manager on Windows, System Information on macOS, or `lsusb` on Linux). For example, the Vendor ID for the Planck Rev 6 is `0x03A8`, and the Product ID is `0xA4F9`.\n\nIt's also a good idea to narrow down the list of potential HID devices the library may give you by filtering on the usage page and usage ID, to avoid accidentally opening the interface on the same device for the keyboard, or mouse, or media keys, etc.\n\nOnce you are able to open the HID device and send reports to it, it's time to handle them on the keyboard side. Implement the following function in your `keymap.c` and start coding:\n\n```\nvoid raw_hid_receive(uint8_t *data, uint8_t length) {\n    // Your code goes here\n    // `data` is a pointer to the buffer containing the received HID report\n    // `length` is the length of the report - always `RAW_EPSIZE`\n}\n```\n\n::: warning\nBecause the HID specification does not support variable length reports, all reports in both directions must be exactly `RAW_EPSIZE` (currently 32) bytes long, regardless of actual payload length. However, variable length payloads can potentially be implemented on top of this by creating your own data structure that may span multiple reports.\n:::",
            "Receiving Data from the Keyboard {#receiving-data-from-the-keyboard}": "If you need the keyboard to send data back to the host, simply call the `raw_hid_send()` function. It requires two arguments - a pointer to a 32-byte buffer containing the data you wish to send, and the length (which should always be `RAW_EPSIZE`).\n\nThe received report can then be handled in whichever way your HID library provides.",
            "Simple Example {#simple-example}": "The following example reads the first byte of the received report from the host, and if it is an ASCII \"A\", responds with \"B\". `memset()` is used to fill the response buffer (which could still contain the previous response) with null bytes.\n\n```\nvoid raw_hid_receive(uint8_t *data, uint8_t length) {\n    uint8_t response[length];\n    memset(response, 0, length);\n    response[0] = 'B';\n\n    if(data[0] == 'A') {\n        raw_hid_send(response, length);\n    }\n}\n```\n\nOn the host side (here we are using Python and the `pyhidapi` library), the HID device is opened by enumerating the interfaces on the USB device, then filtering on the usage page and usage ID. Then, a report containing a single ASCII \"A\" (hex `0x41`) is constructed and sent.\n\nFor demonstration purposes, the manufacturer and product strings of the device, along with the request and response, are also printed.\n\n```\nimport sys\nimport hid\n\nvendor_id     = 0x4335\nproduct_id    = 0x0002\n\nusage_page    = 0xFF60\nusage         = 0x61\nreport_length = 32\n\ndef get_raw_hid_interface():\n    device_interfaces = hid.enumerate(vendor_id, product_id)\n    raw_hid_interfaces = [i for i in device_interfaces if i['usage_page'] == usage_page and i['usage'] == usage]\n\n    if len(raw_hid_interfaces) == 0:\n        return None\n\n    interface = hid.Device(path=raw_hid_interfaces[0]['path'])\n\n    print(f\"Manufacturer: {interface.manufacturer}\")\n    print(f\"Product: {interface.product}\")\n\n    return interface\n\ndef send_raw_report(data):\n    interface = get_raw_hid_interface()\n\n    if interface is None:\n        print(\"No device found\")\n        sys.exit(1)\n\n    request_data = [0x00] * (report_length + 1) # First byte is Report ID\n    request_data[1:len(data) + 1] = data\n    request_report = bytes(request_data)\n\n    print(\"Request:\")\n    print(request_report)\n\n    try:\n        interface.write(request_report)\n\n        response_report = interface.read(report_length, timeout=1000)\n\n        print(\"Response:\")\n        print(response_report)\n    finally:\n        interface.close()\n\nif __name__ == '__main__':\n    send_raw_report([\n        0x41\n    ])\n```",
            "API {#api}": {
              "`void raw_hid_receive(uint8_t *data, uint8_t length)` {#api-raw-hid-receive}": {
                "Arguments {#api-raw-hid-receive-arguments}": [
                  "`uint8_t *data`  \nA pointer to the received data. Always 32 bytes in length.",
                  "`uint8_t length`  \nThe length of the buffer. Always 32."
                ]
              },
              "`void raw_hid_send(uint8_t *data, uint8_t length)` {#api-raw-hid-send}": {
                "Arguments {#api-raw-hid-send-arguments}": [
                  "`uint8_t *data`  \nA pointer to the data to send. Must always be 32 bytes in length.",
                  "`uint8_t length`  \nThe length of the buffer. Must always be 32."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 30]"
        },
        {
          "title": "Repeat Key",
          "description": null,
          "content": {
            "How do I enable Repeat Key": "In your `rules.mk`, add:\n\n```\nREPEAT_KEY_ENABLE = yes\n```\n\nThen pick a key in your keymap and assign it the keycode `QK_REPEAT_KEY` (short\nalias `QK_REP`). Optionally, use the keycode `QK_ALT_REPEAT_KEY` (short alias\n`QK_AREP`) on another key.",
            "Keycodes": "|Keycode                |Aliases  |Description                          |\n|-----------------------|---------|-------------------------------------|\n|`QK_REPEAT_KEY`        |`QK_REP` |Repeat the last pressed key          |\n|`QK_ALT_REPEAT_KEY`    |`QK_AREP`|Perform alternate of the last key    |",
            "Alternate Repeating": "The Alternate Repeat Key performs the \"alternate\" action of the last pressed key\nif it is defined. By default, Alternate Repeat is defined for navigation keys to\nact in the reverse direction. When the last key is the common \"select by word\"\nhotkey Ctrl + Shift + Right Arrow, the Alternate Repeat Key performs Ctrl +\nShift + Left Arrow, which together with the Repeat Key enables convenient\nselection by words in either direction.\n\nAlternate Repeat is enabled with the Repeat Key by default. Optionally, to\nreduce firmware size, Alternate Repeat may be disabled by adding in config.h:\n\n```\n#define NO_ALT_REPEAT_KEY\n```\n\nThe following alternate keys are defined by default. See\n`get_alt_repeat_key_keycode_user()` below for how to change or add to these\ndefinitions. Where it makes sense, these definitions also include combinations \nwith mods, like Ctrl + Left &harr; Ctrl + Right Arrow.\n\n**Navigation** \n\n|Keycodes                           |Description                        |\n|-----------------------------------|-----------------------------------|\n|`KC_LEFT` &harr; `KC_RGHT`         | Left &harr; Right Arrow           |\n|`KC_UP` &harr; `KC_DOWN`           | Up &harr; Down Arrow              |\n|`KC_HOME` &harr; `KC_END`          | Home &harr; End                   |\n|`KC_PGUP` &harr; `KC_PGDN`         | Page Up &harr; Page Down          |\n|`MS_LEFT` &harr; `MS_RGHT`         | Mouse Cursor Left &harr; Right    |\n|`MS_UP`   &harr; `MS_DOWN`         | Mouse Cursor Up &harr; Down       |\n|`MS_WHLL` &harr; `MS_WHLR`         | Mouse Wheel Left &harr; Right     |\n|`MS_WHLU` &harr; `MS_WHLD`         | Mouse Wheel Up &harr; Down        |\n\n**Misc** \n\n|Keycodes                           |Description                        |\n|-----------------------------------|-----------------------------------|\n|`KC_BSPC` &harr; `KC_DEL`          | Backspace &harr; Delete           |\n|`KC_LBRC` &harr; `KC_RBRC`         | `[` &harr; `]`                    |\n|`KC_LCBR` &harr; `KC_RCBR`         | `{` &harr; `}`                    |\n\n**Media** \n\n|Keycodes                           |Description                        |\n|-----------------------------------|-----------------------------------|\n|`KC_WBAK` &harr; `KC_WFWD`         | Browser Back &harr; Forward       |\n|`KC_MNXT` &harr; `KC_MPRV`         | Next &harr; Previous Media Track  |\n|`KC_MFFD` &harr; `KC_MRWD`         | Fast Forward &harr; Rewind Media  |\n|`KC_VOLU` &harr; `KC_VOLD`         | Volume Up &harr; Down             |\n|`KC_BRIU` &harr; `KC_BRID`         | Brightness Up &harr; Down         |\n\n**Hotkeys in Vim, Emacs, and other programs**\n\n|Keycodes                           |Description                        |\n|-----------------------------------|-----------------------------------|\n|mod + `KC_F` &harr; mod + `KC_B`   | Forward &harr; Backward           |\n|mod + `KC_D` &harr; mod + `KC_U`   | Down &harr; Up                    |\n|mod + `KC_N` &harr; mod + `KC_P`   | Next &harr; Previous              |\n|mod + `KC_A` &harr; mod + `KC_E`   | Home &harr; End                   |\n|mod + `KC_O` &harr; mod + `KC_I`   | Vim jump list Older &harr; Newer  |\n|`KC_J` &harr; `KC_K`               | Down &harr; Up                    |\n|`KC_H` &harr; `KC_L`               | Left &harr; Right                 |\n|`KC_W` &harr; `KC_B`               | Forward &harr; Backward by Word   |\n\n(where above, \"mod\" is Ctrl, Alt, or GUI)",
            "Defining alternate keys": "Use the `get_alt_repeat_key_keycode_user()` callback to define the \"alternate\"\nfor additional keys or override the default definitions. For example, to define\nCtrl + Y as the alternate of Ctrl + Z, and vice versa, add the following in\nkeymap.c:\n\n```\nuint16_t get_alt_repeat_key_keycode_user(uint16_t keycode, uint8_t mods) {\n    if ((mods & MOD_MASK_CTRL)) {  // Was Ctrl held?\n        switch (keycode) {\n            case KC_Y: return C(KC_Z);  // Ctrl + Y reverses to Ctrl + Z.\n            case KC_Z: return C(KC_Y);  // Ctrl + Z reverses to Ctrl + Y.\n        }\n    }\n\n    return KC_TRNS;  // Defer to default definitions.\n}\n```\n\nThe `keycode` and `mods` args are the keycode and mods that were active with the\nlast pressed key. The meaning of the return value from this function is:\n\n['`KC_NO` &ndash; do nothing (any predefined alternate key is not used);', '`KC_TRNS` &ndash; use the default alternate key if it exists;', 'anything else &ndash; use the specified keycode. Any keycode may be returned\\nas an alternate key, including custom keycodes.']\n\nAnother example, defining Shift + Tab as the alternate of Tab, and vice versa:\n\n```\nuint16_t get_alt_repeat_key_keycode_user(uint16_t keycode, uint8_t mods) {\n    bool shifted = (mods & MOD_MASK_SHIFT);  // Was Shift held?\n    switch (keycode) {\n        case KC_TAB:\n            if (shifted) {        // If the last key was Shift + Tab,\n                return KC_TAB;    // ... the reverse is Tab.\n            } else {              // Otherwise, the last key was Tab,\n                return S(KC_TAB); // ... and the reverse is Shift + Tab.\n            }\n    }\n\n    return KC_TRNS;\n}\n```\n\nEliminating SFBs\n\nAlternate Repeat can be configured more generally to perform an action that\n\"complements\" the last key. Alternate Repeat is not limited to reverse\nrepeating, and it need not be symmetric. You can use it to eliminate cases of\nsame-finger bigrams in your layout, that is, pairs of letters typed by the same\nfinger. The following addresses the top 5 same-finger bigrams in English on\nQWERTY, so that for instance \"`ed`\" may be typed as <kbd>E</kbd>, <kbd>Alt\nRepeat</kbd>.\n\n```\nuint16_t get_alt_repeat_key_keycode_user(uint16_t keycode, uint8_t mods) {\n    switch (keycode) {\n        case KC_E: return KC_D;  // For \"ED\" bigram.\n        case KC_D: return KC_E;  // For \"DE\" bigram.\n        case KC_C: return KC_E;  // For \"CE\" bigram.\n        case KC_L: return KC_O;  // For \"LO\" bigram.\n        case KC_U: return KC_N;  // For \"UN\" bigram.\n    }\n\n    return KC_TRNS;\n}\n```\n\nTyping shortcuts\n\nA useful possibility is having Alternate Repeat press [a\nmacro](../feature_macros). This way macros can be used without having to\ndedicate keys to them. The following defines a couple shortcuts.\n\n['Typing <kbd>K</kbd>, <kbd>Alt Repeat</kbd> produces \"`keyboard`,\" with the\\ninitial \"`k`\" typed as usual and the \"`eybord`\" produced by the macro. ', 'Typing <kbd>.</kbd>, <kbd>Alt Repeat</kbd> produces \"`../`,\" handy for \"up\\ndirectory\" on the shell. Similary, <kbd>.</kbd> types the initial \"`.`\" and \\n\"`./`\" is produced by the macro.']\n\n```\nenum custom_keycodes {\n    M_KEYBOARD = SAFE_RANGE,\n    M_UPDIR,\n    // Other custom keys...\n};\n\nuint16_t get_alt_repeat_key_keycode_user(uint16_t keycode, uint8_t mods) {\n    switch (keycode) {\n        case KC_K: return M_KEYBOARD;\n        case KC_DOT: return M_UPDIR;\n    }\n\n    return KC_TRNS;\n}\n\nbool process_record_user(uint16_t keycode, keyrecord_t* record) {\n    switch (keycode) {\n        case M_KEYBOARD: SEND_STRING(/*k*/\"eyboard\"); break;\n        case M_UPDIR: SEND_STRING(/*.*/\"./\"); break;\n    }\n    return true;\n}\n```",
            "Ignoring certain keys and mods": "In tracking what is \"the last key\" to be repeated or alternate repeated,\nmodifier and layer switch keys are always ignored. This makes it possible to set\nsome mods and change layers between pressing a key and repeating it. By default,\nall other (non-modifier, non-layer switch) keys are remembered so that they are\neligible for repeating. To configure additional keys to be ignored, define\n`remember_last_key_user()` in your keymap.c.\n\nIgnoring a key\n\nThe following ignores the Backspace key:\n\n```\nbool remember_last_key_user(uint16_t keycode, keyrecord_t* record,\n                            uint8_t* remembered_mods) {\n    switch (keycode) {\n        case KC_BSPC:\n            return false;  // Ignore backspace.\n    }\n\n    return true;  // Other keys can be repeated.\n}\n```\n\nThen for instance, the Repeat key in <kbd>Left Arrow</kbd>,\n<kbd>Backspace</kbd>, <kbd>Repeat</kbd> sends Left Arrow again instead of\nrepeating Backspace.\n\nThe `remember_last_key_user()` callback is called on every key press excluding\nmodifiers and layer switches. Returning true indicates the key is remembered,\nwhile false means it is ignored.\n\nFiltering remembered mods\n\nThe `remembered_mods` arg represents the mods that will be remembered with\nthis key. It can be modified to forget certain mods. This may be\nuseful to forget capitalization when repeating shifted letters, so that \"Aaron\"\ndoes not becom \"AAron\":\n\n```\nbool remember_last_key_user(uint16_t keycode, keyrecord_t* record,\n                            uint8_t* remembered_mods) {\n    // Forget Shift on letter keys when Shift or AltGr are the only mods.\n    switch (keycode) {\n        case KC_A ... KC_Z:\n            if ((*remembered_mods & ~(MOD_MASK_SHIFT | MOD_BIT(KC_RALT))) == 0) {\n                *remembered_mods &= ~MOD_MASK_SHIFT;\n            }\n            break;\n    }\n\n    return true;\n}\n```\n\nFurther conditions\n\nBesides checking the keycode, this callback could also make conditions based on\nthe current layer state (with `IS_LAYER_ON(layer)`) or mods (`get_mods()`). For\nexample, the following ignores keys on layer 2 as well as key combinations\ninvolving GUI:\n\n```\nbool remember_last_key_user(uint16_t keycode, keyrecord_t* record,\n                            uint8_t* remembered_mods) {\n    if (IS_LAYER_ON(2) || (get_mods() & MOD_MASK_GUI)) {\n        return false;  // Ignore layer 2 keys and GUI chords.\n    }\n\n    return true;  // Other keys can be repeated.\n}\n```\n\n::: tip\nSee [Layer Functions](../feature_layers#functions) and [Checking Modifier State](../feature_advanced_keycodes#checking-modifier-state) for further details.\n:::",
            "Handle how a key is repeated": "By default, pressing the Repeat Key will simply behave as if the last key\nwere pressed again. This also works with macro keys with custom handlers,\ninvoking the macro again. In case fine-tuning is needed for sensible repetition,\nyou can handle how a key is repeated with `get_repeat_key_count()` within\n`process_record_user()`. \n\nThe `get_repeat_key_count()` function returns a signed count of times the key\nhas been repeated or alternate repeated. When a key is pressed as usual,\n`get_repeat_key_count()` is 0. On the first repeat, it is 1, then the second\nrepeat, 2, and so on. Negative counts are used similarly for alternate\nrepeating. For instance supposing `MY_MACRO` is a custom keycode used in the\nlayout:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t* record) {\n    switch (keycode) {\n        case MY_MACRO:\n            if (get_repeat_key_count() > 0) {\n                // MY_MACRO is being repeated!\n                if (record->event.pressed) {\n                    SEND_STRING(\"repeat!\");    \n                }\n            } else {                          \n                // MY_MACRO is being used normally.\n                if (record->event.pressed) {  \n                    SEND_STRING(\"macro\");\n                }\n            }\n            return false;\n     \n        // Other macros...\n    }\n    return true;\n}\n```",
            "Handle how a key is alternate repeated": "Pressing the Alternate Repeat Key behaves as if the \"alternate\" of the last\npressed key were pressed, if an alternate is defined. To define how a particular\nkey is alternate repeated, use the `get_alt_repeat_key_keycode_user()` callback\nas described above to define which keycode to use as its alternate. Beyond this,\n`get_repeat_key_count()` may be used in custom handlers to fine-tune behavior\nwhen alternate repeating.\n\nThe following example defines `MY_MACRO` as its own alternate, and specially\nhandles repeating and alternate repeating:\n\n```\nuint16_t get_alt_repeat_key_keycode_user(uint16_t keycode, uint8_t mods) {\n    switch (keycode) {\n        case MY_MACRO: return MY_MACRO;  // MY_MACRO is its own alternate.\n    }\n    return KC_TRNS;\n}\n\nbool process_record_user(uint16_t keycode, keyrecord_t* record) {\n    switch (keycode) {\n        case MY_MACRO:\n            if (get_repeat_key_count() > 0) {        // Repeating.\n                if (record->event.pressed) {\n                    SEND_STRING(\"repeat!\");    \n                }\n            } else if (get_repeat_key_count() < 0) { // Alternate repeating.\n                if (record->event.pressed) {\n                    SEND_STRING(\"alt repeat!\");\n                }\n            } else {                                 // Used normally.\n                if (record->event.pressed) {  \n                    SEND_STRING(\"macro\");\n                }\n            }\n            return false;\n     \n        // Other macros...\n    }\n    return true;\n}\n```",
            "Functions": "| Function                       | Description                                                            |\n|--------------------------------|------------------------------------------------------------------------|\n| `get_last_keycode()`           | The last key's keycode, the key to be repeated.                        |\n| `get_last_mods()`              | Mods to apply when repeating.                                          |\n| `set_last_keycode(kc)`         | Set the keycode to be repeated.                                        |\n| `set_last_mods(mods)`          | Set the mods to apply when repeating.                                  |\n| `get_repeat_key_count()`       | Signed count of times the key has been repeated or alternate repeated. |\n| `get_alt_repeat_key_keycode()` | Keycode to be used for alternate repeating.                            |",
            "Additional \"Alternate\" keys": "By leveraging `get_last_keycode()` in macros, it is possible to define\nadditional, distinct \"Alternate Repeat\"-like keys. The following defines two\nkeys `ALTREP2` and `ALTREP3` and implements ten shortcuts with them for common\nEnglish 5-gram letter patterns, taking inspiration from\n[Stenotype](stenography):\n\n| Typing                           | Produces | Typing                           | Produces |\n|----------------------------------|----------|----------------------------------|----------|\n| <kbd>A</kbd>, <kbd>ALTREP2</kbd> | `ation`  | <kbd>A</kbd>, <kbd>ALTREP3</kbd> | `about`   |\n| <kbd>I</kbd>, <kbd>ALTREP2</kbd> | `ition`  | <kbd>I</kbd>, <kbd>ALTREP3</kbd> | `inter`   |\n| <kbd>S</kbd>, <kbd>ALTREP2</kbd> | `ssion`  | <kbd>S</kbd>, <kbd>ALTREP3</kbd> | `state`   |\n| <kbd>T</kbd>, <kbd>ALTREP2</kbd> | `their`  | <kbd>T</kbd>, <kbd>ALTREP3</kbd> | `there`   |\n| <kbd>W</kbd>, <kbd>ALTREP2</kbd> | `which`  | <kbd>W</kbd>, <kbd>ALTREP3</kbd> | `would`   |\n\n```\nenum custom_keycodes {\n    ALTREP2 = SAFE_RANGE,\n    ALTREP3,\n};\n\n// Use ALTREP2 and ALTREP3 in your layout...\n\nbool remember_last_key_user(uint16_t keycode, keyrecord_t* record,\n                            uint8_t* remembered_mods) {\n    switch (keycode) {\n        case ALTREP2:\n        case ALTREP3:\n            return false;  // Ignore ALTREP keys.\n    }\n\n    return true;  // Other keys can be repeated.\n}\n\nstatic void process_altrep2(uint16_t keycode, uint8_t mods) {\n    switch (keycode) {\n        case KC_A: SEND_STRING(/*a*/\"tion\"); break;\n        case KC_I: SEND_STRING(/*i*/\"tion\"); break;\n        case KC_S: SEND_STRING(/*s*/\"sion\"); break;\n        case KC_T: SEND_STRING(/*t*/\"heir\"); break;\n        case KC_W: SEND_STRING(/*w*/\"hich\"); break;\n    }\n}\n\nstatic void process_altrep3(uint16_t keycode, uint8_t mods) {\n    switch (keycode) {\n        case KC_A: SEND_STRING(/*a*/\"bout\"); break;\n        case KC_I: SEND_STRING(/*i*/\"nter\"); break;\n        case KC_S: SEND_STRING(/*s*/\"tate\"); break;\n        case KC_T: SEND_STRING(/*t*/\"here\"); break;\n        case KC_W: SEND_STRING(/*w*/\"ould\"); break;\n    }\n}\n\nbool process_record_user(uint16_t keycode, keyrecord_t* record) {\n    switch (keycode) {\n        case ALTREP2: \n            if (record->event.pressed) {\n                process_altrep2(get_last_keycode(), get_last_mods());\n            }\n            return false;\n\n        case ALTREP3:\n            if (record->event.pressed) {\n                process_altrep3(get_last_keycode(), get_last_mods());\n            }\n            return false;\n    }\n\n    return true;\n}\n```"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 31]"
        },
        {
          "title": "RGB Matrix Lighting {#rgb-matrix-lighting}",
          "description": null,
          "content": {
            "Driver Configuration {#driver-configuration}": "RGB Matrix is an abstraction layer on top of an underlying LED driver API. The list of supported LED drivers is below; see the respective documentation for information on how to configure the driver.\n\n|Driver                               |Max LEDs|\n|-------------------------------------|--------|\n|[APA102](../drivers/apa102)          |?       |\n|[AW20216S](../drivers/aw20216s)      |72      |\n|[IS31FL3218](../drivers/is31fl3218)  |6       |\n|[IS31FL3236](../drivers/is31fl3236)  |12      |\n|[IS31FL3729](../drivers/is31fl3729)  |45      |\n|[IS31FL3731](../drivers/is31fl3731)  |48      |\n|[IS31FL3733](../drivers/is31fl3733)  |64      |\n|[IS31FL3736](../drivers/is31fl3736)  |32      |\n|[IS31FL3737](../drivers/is31fl3737)  |48      |\n|[IS31FL3741](../drivers/is31fl3741)  |117     |\n|[IS31FL3742A](../drivers/is31fl3742a)|60      |\n|[IS31FL3743A](../drivers/is31fl3743a)|66      |\n|[IS31FL3745](../drivers/is31fl3745)  |48      |\n|[IS31FL3746A](../drivers/is31fl3746a)|24      |\n|[SNLED27351](../drivers/snled27351)  |64      |\n|[WS2812](../drivers/ws2812)          |?       |\n\nTo assign the RGB Matrix driver, add the following to your `rules.mk`, for example:\n\n```\nRGB_MATRIX_DRIVER = is31fl3218\n```",
            "Common Configuration {#common-configuration}": "From this point forward the configuration is the same for all the drivers. The `led_config_t` struct provides a key electrical matrix to led index lookup table, what the physical position of each LED is on the board, and what type of key or usage the LED if the LED represents. Here is a brief example:\n\n```\nled_config_t g_led_config = { {\n  // Key Matrix to LED Index\n  {   5, NO_LED, NO_LED,   0 },\n  { NO_LED, NO_LED, NO_LED, NO_LED },\n  {   4, NO_LED, NO_LED,   1 },\n  {   3, NO_LED, NO_LED,   2 }\n}, {\n  // LED Index to Physical Position\n  { 188,  16 }, { 187,  48 }, { 149,  64 }, { 112,  64 }, {  37,  48 }, {  38,  16 }\n}, {\n  // LED Index to Flag\n  1, 4, 4, 4, 4, 1\n} };\n```\n\nThe first part, `// Key Matrix to LED Index`, tells the system what key this LED represents by using the key's electrical matrix row & col. The second part, `// LED Index to Physical Position` represents the LED's physical `{ x, y }` position on the keyboard. The default expected range of values for `{ x, y }` is the inclusive range `{ 0..224, 0..64 }`. This default expected range is due to effects that calculate the center of the keyboard for their animations. The easiest way to calculate these positions is imagine your keyboard is a grid, and the top left of the keyboard represents `{ x, y }` coordinate `{ 0, 0 }` and the bottom right of your keyboard represents `{ 224, 64 }`. Using this as a basis, you can use the following formula to calculate the physical position:\n\n```\nx = 224 / (NUMBER_OF_COLS - 1) * COL_POSITION\ny =  64 / (NUMBER_OF_ROWS - 1) * ROW_POSITION\n```\n\nWhere NUMBER_OF_COLS, NUMBER_OF_ROWS, COL_POSITION, & ROW_POSITION are all based on the physical layout of your keyboard, not the electrical layout.\n\nAs mentioned earlier, the center of the keyboard by default is expected to be `{ 112, 32 }`, but this can be changed if you want to more accurately calculate the LED's physical `{ x, y }` positions. Keyboard designers can implement `#define RGB_MATRIX_CENTER { 112, 32 }` in their config.h file with the new center point of the keyboard, or where they want it to be allowing more possibilities for the `{ x, y }` values. Do note that the maximum value for x or y is 255, and the recommended maximum is 224 as this gives animations runoff room before they reset.\n\n`// LED Index to Flag` is a bitmask, whether or not a certain LEDs is of a certain type. It is recommended that LEDs are set to only 1 type.",
            "Flags {#flags}": "|Define                      |Value |Description                                      |\n|----------------------------|------|-------------------------------------------------|\n|`HAS_FLAGS(bits, flags)`    |*n/a* |Evaluates to `true` if `bits` has all `flags` set|\n|`HAS_ANY_FLAGS(bits, flags)`|*n/a* |Evaluates to `true` if `bits` has any `flags` set|\n|`LED_FLAG_NONE`             |`0x00`|If this LED has no flags                         |\n|`LED_FLAG_ALL`              |`0xFF`|If this LED has all flags                        |\n|`LED_FLAG_MODIFIER`         |`0x01`|If the LED is on a modifier key                  |\n|`LED_FLAG_UNDERGLOW`        |`0x02`|If the LED is for underglow                      |\n|`LED_FLAG_KEYLIGHT`         |`0x04`|If the LED is for key backlight                  |\n|`LED_FLAG_INDICATOR`        |`0x08`|If the LED is for keyboard state indication      |",
            "Keycodes {#keycodes}": "|Key                            |Aliases  |Description                        |\n|-------------------------------|---------|-----------------------------------|\n|`QK_RGB_MATRIX_ON`             |`RM_ON`  |Turn on RGB Matrix                 |\n|`QK_RGB_MATRIX_OFF`            |`RM_OFF` |Turn off RGB Matrix                |\n|`QK_RGB_MATRIX_TOGGLE`         |`RM_TOGG`|Toggle RGB Matrix on or off        |\n|`QK_RGB_MATRIX_MODE_NEXT`      |`RM_NEXT`|Cycle through animations           |\n|`QK_RGB_MATRIX_MODE_PREVIOUS`  |`RM_PREV`|Cycle through animations in reverse|\n|`QK_RGB_MATRIX_HUE_UP`         |`RM_HUEU`|Cycle through hue                  |\n|`QK_RGB_MATRIX_HUE_DOWN`       |`RM_HUED`|Cycle through hue in reverse       |\n|`QK_RGB_MATRIX_SATURATION_UP`  |`RM_SATU`|Increase the saturation            |\n|`QK_RGB_MATRIX_SATURATION_DOWN`|`RM_SATD`|Decrease the saturation            |\n|`QK_RGB_MATRIX_VALUE_UP`       |`RM_VALU`|Increase the brightness level      |\n|`QK_RGB_MATRIX_VALUE_DOWN`     |`RM_VALD`|Decrease the brightness level      |\n|`QK_RGB_MATRIX_SPEED_UP`       |`RM_SPDU`|Increase the animation speed       |\n|`QK_RGB_MATRIX_SPEED_DOWN`     |`RM_SPDD`|Decrease the animation speed       |",
            "RGB Matrix Effects {#rgb-matrix-effects}": {
              "RGB Matrix Effect Typing Heatmap {#rgb-matrix-effect-typing-heatmap}": "This effect will color the RGB matrix according to a heatmap of recently pressed keys. Whenever a key is pressed its \"temperature\" increases as well as that of its neighboring keys. The temperature of each key is then decreased automatically every 25 milliseconds by default.\n\nIn order to change the delay of temperature decrease define `RGB_MATRIX_TYPING_HEATMAP_DECREASE_DELAY_MS`:\n\n```\n#define RGB_MATRIX_TYPING_HEATMAP_DECREASE_DELAY_MS 50\n```\n\nAs heatmap uses the physical position of the leds set in the g_led_config, you may need to tweak the following options to get the best effect for your keyboard. Note the size of this grid is `224x64`.\n\nLimit the distance the effect spreads to surrounding keys. \n\n```\n#define RGB_MATRIX_TYPING_HEATMAP_SPREAD 40\n```\n\nLimit how hot surrounding keys get from each press.\n\n```\n#define RGB_MATRIX_TYPING_HEATMAP_AREA_LIMIT 16\n```\n\nRemove the spread effect entirely.\n\n```\n#define RGB_MATRIX_TYPING_HEATMAP_SLIM\n```\n\nIt's also possible to adjust the tempo of *heating up*. It's defined as the number of shades that are\nincreased on the [HSV scale](https://en.wikipedia.org/wiki/HSL_and_HSV). Decreasing this value increases\nthe number of keystrokes needed to fully heat up the key.\n\n```\n#define RGB_MATRIX_TYPING_HEATMAP_INCREASE_STEP 32\n```",
              "RGB Matrix Effect Solid Reactive {#rgb-matrix-effect-solid-reactive}": "Solid reactive effects will pulse RGB light on key presses with user configurable hues. To enable gradient mode that will automatically change reactive color, add the following define:\n\n```\n#define RGB_MATRIX_SOLID_REACTIVE_GRADIENT_MODE\n```\n\nGradient mode will loop through the color wheel hues over time and its duration can be controlled with the effect speed keycodes (`RM_SPDU`/`RM_SPDD`)."
            },
            "Custom RGB Matrix Effects {#custom-rgb-matrix-effects}": "By setting `RGB_MATRIX_CUSTOM_USER = yes` in `rules.mk`, new effects can be defined directly from your keymap or userspace, without having to edit any QMK core files. To declare new effects, create a `rgb_matrix_user.inc` file in the user keymap directory or userspace folder.\n\n::: tip\nHardware maintainers who want to limit custom effects to a specific keyboard can create a `rgb_matrix_kb.inc` file in the root of the keyboard directory, and add `RGB_MATRIX_CUSTOM_KB = yes` to the keyboard level `rules.mk`.\n:::\n\n```\n// !!! DO NOT ADD #pragma once !!! //\n\n// Step 1.\n// Declare custom effects using the RGB_MATRIX_EFFECT macro\n// (note the lack of semicolon after the macro!)\nRGB_MATRIX_EFFECT(my_cool_effect)\nRGB_MATRIX_EFFECT(my_cool_effect2)\n\n// Step 2.\n// Define effects inside the `RGB_MATRIX_CUSTOM_EFFECT_IMPLS` ifdef block\n#ifdef RGB_MATRIX_CUSTOM_EFFECT_IMPLS\n\n// e.g: A simple effect, self-contained within a single method\nstatic bool my_cool_effect(effect_params_t* params) {\n  RGB_MATRIX_USE_LIMITS(led_min, led_max);\n  for (uint8_t i = led_min; i < led_max; i++) {\n    rgb_matrix_set_color(i, 0xff, 0xff, 0x00);\n  }\n  return rgb_matrix_check_finished_leds(led_max);\n}\n\n// e.g: A more complex effect, relying on external methods and state, with\n// dedicated init and run methods\nstatic uint8_t some_global_state;\nstatic void my_cool_effect2_complex_init(effect_params_t* params) {\n  some_global_state = 1;\n}\nstatic bool my_cool_effect2_complex_run(effect_params_t* params) {\n  RGB_MATRIX_USE_LIMITS(led_min, led_max);\n  for (uint8_t i = led_min; i < led_max; i++) {\n    rgb_matrix_set_color(i, 0xff, some_global_state++, 0xff);\n  }\n  return rgb_matrix_check_finished_leds(led_max);\n}\nstatic bool my_cool_effect2(effect_params_t* params) {\n  if (params->init) my_cool_effect2_complex_init(params);\n  return my_cool_effect2_complex_run(params);\n}\n\n#endif // RGB_MATRIX_CUSTOM_EFFECT_IMPLS\n```\n\nTo switch to your custom effect programmatically, simply call `rgb_matrix_mode()` and prepend `RGB_MATRIX_CUSTOM_` to the effect name you specified in `RGB_MATRIX_EFFECT()`. For example, an effect declared as `RGB_MATRIX_EFFECT(my_cool_effect)` would be referenced with:\n\n```\nrgb_matrix_mode(RGB_MATRIX_CUSTOM_my_cool_effect);\n```\n\nFor inspiration and examples, check out the built-in effects under `quantum/rgb_matrix/animations/`.",
            "Colors {#colors}": "These are shorthands to popular colors. The `RGB` ones can be passed to the `setrgb` functions, while the `HSV` ones to the `sethsv` functions.\n\n|RGB                  |HSV                  |\n|---------------------|---------------------|\n|`RGB_AZURE`          |`HSV_AZURE`          |\n|`RGB_BLACK`/`RGB_OFF`|`HSV_BLACK`/`HSV_OFF`|\n|`RGB_BLUE`           |`HSV_BLUE`           |\n|`RGB_CHARTREUSE`     |`HSV_CHARTREUSE`     |\n|`RGB_CORAL`          |`HSV_CORAL`          |\n|`RGB_CYAN`           |`HSV_CYAN`           |\n|`RGB_GOLD`           |`HSV_GOLD`           |\n|`RGB_GOLDENROD`      |`HSV_GOLDENROD`      |\n|`RGB_GREEN`          |`HSV_GREEN`          |\n|`RGB_MAGENTA`        |`HSV_MAGENTA`        |\n|`RGB_ORANGE`         |`HSV_ORANGE`         |\n|`RGB_PINK`           |`HSV_PINK`           |\n|`RGB_PURPLE`         |`HSV_PURPLE`         |\n|`RGB_RED`            |`HSV_RED`            |\n|`RGB_SPRINGGREEN`    |`HSV_SPRINGGREEN`    |\n|`RGB_TEAL`           |`HSV_TEAL`           |\n|`RGB_TURQUOISE`      |`HSV_TURQUOISE`      |\n|`RGB_WHITE`          |`HSV_WHITE`          |\n|`RGB_YELLOW`         |`HSV_YELLOW`         |\n\nThese are defined in [`color.h`](https://github.com/qmk/qmk_firmware/blob/master/quantum/color.h). Feel free to add to this list!",
            "Additional `config.h` Options {#additional-configh-options}": "```\n#define RGB_MATRIX_KEYRELEASES // reactive effects respond to keyreleases (instead of keypresses)\n#define RGB_MATRIX_TIMEOUT 0 // number of milliseconds to wait until rgb automatically turns off\n#define RGB_MATRIX_SLEEP // turn off effects when suspended\n#define RGB_MATRIX_LED_PROCESS_LIMIT (RGB_MATRIX_LED_COUNT + 4) / 5 // limits the number of LEDs to process in an animation per task run (increases keyboard responsiveness)\n#define RGB_MATRIX_LED_FLUSH_LIMIT 16 // limits in milliseconds how frequently an animation will update the LEDs. 16 (16ms) is equivalent to limiting to 60fps (increases keyboard responsiveness)\n#define RGB_MATRIX_MAXIMUM_BRIGHTNESS 200 // limits maximum brightness of LEDs to 200 out of 255. If not defined maximum brightness is set to 255\n#define RGB_MATRIX_DEFAULT_ON true // Sets the default enabled state, if none has been set\n#define RGB_MATRIX_DEFAULT_MODE RGB_MATRIX_CYCLE_LEFT_RIGHT // Sets the default mode, if none has been set\n#define RGB_MATRIX_DEFAULT_HUE 0 // Sets the default hue value, if none has been set\n#define RGB_MATRIX_DEFAULT_SAT 255 // Sets the default saturation value, if none has been set\n#define RGB_MATRIX_DEFAULT_VAL RGB_MATRIX_MAXIMUM_BRIGHTNESS // Sets the default brightness value, if none has been set\n#define RGB_MATRIX_DEFAULT_SPD 127 // Sets the default animation speed, if none has been set\n#define RGB_MATRIX_HUE_STEP 8 // The value by which to increment the hue per adjustment action\n#define RGB_MATRIX_SAT_STEP 16 // The value by which to increment the saturation per adjustment action\n#define RGB_MATRIX_VAL_STEP 16 // The value by which to increment the brightness per adjustment action\n#define RGB_MATRIX_SPD_STEP 16 // The value by which to increment the animation speed per adjustment action\n#define RGB_MATRIX_DEFAULT_FLAGS LED_FLAG_ALL // Sets the default LED flags, if none has been set\n#define RGB_MATRIX_SPLIT { X, Y }   // (Optional) For split keyboards, the number of LEDs connected on each half. X = left, Y = Right.\n                                    // If reactive effects are enabled, you also will want to enable SPLIT_TRANSPORT_MIRROR\n#define RGB_TRIGGER_ON_KEYDOWN      // Triggers RGB keypress events on key down. This makes RGB control feel more responsive. This may cause RGB to not function properly on some boards\n```",
            "EEPROM storage {#eeprom-storage}": "The EEPROM for it is currently shared with the LED Matrix system (it's generally assumed only one feature would be used at a time).",
            "Callbacks {#callbacks}": {
              "Indicators {#indicators}": "If you want to set custom indicators, such as an LED for Caps Lock, or layer indication, then you can use the `rgb_matrix_indicators_kb` function on the keyboard level source file, or `rgb_matrix_indicators_user` function in the user `keymap.c`.\n\n```\nbool rgb_matrix_indicators_kb(void) {\n    if (!rgb_matrix_indicators_user()) {\n        return false;\n    }\n    rgb_matrix_set_color(index, red, green, blue);\n    return true;\n}\n```\n\nIn addition, there are the advanced indicator functions.  These are aimed at those with heavily customized displays, where rendering every LED per cycle is expensive.  Such as some of the \"drashna\" layouts.  This includes a special macro to help make this easier to use: `RGB_MATRIX_INDICATOR_SET_COLOR(i, r, g, b)`.\n\n```\nbool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {\n    RGB_MATRIX_INDICATOR_SET_COLOR(index, red, green, blue);\n    return false;\n}\n```",
              "Indicator Examples {#indicator-examples}": {
                "Examples {#indicator-examples-2}": "This example sets the modifiers to be a specific color based on the layer state.  You can use a switch case here, instead, if you would like.  This uses HSV and then converts to RGB, because this allows the brightness to be limited (important when using the WS2812 driver).\n\n```\nbool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {\n    hsv_t hsv = {0, 255, 255};\n\n    if (get_highest_layer(layer_state|default_layer_state) == 2) {\n        hsv = (hsv_t){130, 255, 255};\n    } else {\n        hsv = (hsv_t){30, 255, 255};\n    }\n\n    if (hsv.v > rgb_matrix_get_val()) {\n        hsv.v = rgb_matrix_get_val();\n    }\n    rgb_t rgb = hsv_to_rgb(hsv);\n\n    for (uint8_t i = led_min; i < led_max; i++) {\n        if (HAS_FLAGS(g_led_config.flags[i], 0x01)) { // 0x01 == LED_FLAG_MODIFIER\n            rgb_matrix_set_color(i, rgb.r, rgb.g, rgb.b);\n        }\n    }\n    return false;\n}\n```\n\nIf you want to indicate a Host LED status (caps lock, num lock, etc), you can use something like this to light up the caps lock key:\n\n```\nbool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {\n    if (host_keyboard_led_state().caps_lock) {\n        RGB_MATRIX_INDICATOR_SET_COLOR(5, 255, 255, 255); // assuming caps lock is at led #5\n    } else {\n        RGB_MATRIX_INDICATOR_SET_COLOR(5, 0, 0, 0);\n    }\n    return false;\n}\n```\n\n::: tip\nRGB indicators on split keyboards will require state information synced to the slave half (e.g. `#define SPLIT_LAYER_STATE_ENABLE`). See [data sync options](split_keyboard#data-sync-options) for more details.\n:::",
                "Indicators without RGB Matrix Effect": "If you want to just use RGB indicators without RGB matrix effect, it is not possible to disable the latter because toggling RGB off will disable everything. You can workaround it with solid effect and colors off using this init function:\n\n```\nvoid keyboard_post_init_user(void) {\n    rgb_matrix_mode_noeeprom(RGB_MATRIX_SOLID_COLOR);\n    rgb_matrix_sethsv_noeeprom(HSV_OFF);\n}\n```"
              }
            },
            "API {#api}": {
              "`void rgb_matrix_toggle(void)` {#api-rgb-matrix-toggle}": "Toggle RGB Matrix on or off.\n\n[]",
              "`void rgb_matrix_toggle_noeeprom(void)` {#api-rgb-matrix-toggle-noeeprom}": "Toggle RGB Matrix on or off. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_enable(void)` {#api-rgb-matrix-enable}": "Turn RGB Matrix on.\n\n[]",
              "`void rgb_matrix_enable_noeeprom(void)` {#api-rgb-matrix-enable-noeeprom}": "Turn RGB Matrix on. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_disable(void)` {#api-rgb-matrix-disable}": "Turn RGB Matrix off.\n\n[]",
              "`void rgb_matrix_disable_noeeprom(void)` {#api-rgb-matrix-disable-noeeprom}": "Turn RGB Matrix off. New state is not written to EEPROM.\n\n[]",
              "`bool rgb_matrix_is_enabled(void)` {#api-rgb-matrix-is-enabled}": {
                "Return Value {#api-rgb-matrix-is-enabled-return}": "`true` if RGB Matrix is enabled.\n\n[]"
              },
              "`void rgb_matrix_set_color(uint8_t index, uint8_t r, uint8_t g, uint8_t b)` {#api-rgb-matrix-set-color}": {
                "Arguments {#api-rgb-matrix-set-color-arguments}": [
                  "`uint8_t index`  \nThe LED index, from 0 to `RGB_MATRIX_LED_COUNT - 1`.",
                  "`uint8_t r`  \nThe red value to set.",
                  "`uint8_t g`  \nThe green value to set.",
                  "`uint8_t b`  \nThe blue value to set."
                ]
              },
              "`void rgb_matrix_set_color_all(uint8_t r, uint8_t g, uint8_t b)` {#api-rgb-matrix-set-color-all}": {
                "Arguments {#api-rgb-matrix-set-color-all-arguments}": [
                  "`uint8_t r`  \nThe red value to set.",
                  "`uint8_t g`  \nThe green value to set.",
                  "`uint8_t b`  \nThe blue value to set."
                ]
              },
              "`void rgb_matrix_mode(uint8_t mode)` {#api-rgb-matrix-mode}": {
                "Arguments {#api-rgb-matrix-mode-arguments}": [
                  "`uint8_t mode`  \nThe effect to switch to."
                ]
              },
              "`void rgb_matrix_mode_noeeprom(uint8_t mode)` {#api-rgb-matrix-mode-noeeprom}": {
                "Arguments {#api-rgb-matrix-mode-noeeprom-arguments}": [
                  "`uint8_t mode`  \nThe effect to switch to."
                ]
              },
              "`void rgb_matrix_step(void)` {#api-rgb-matrix-step}": "Move to the next enabled effect.\n\n[]",
              "`void rgb_matrix_step_noeeprom(void)` {#api-rgb-matrix-step-noeeprom}": "Move to the next enabled effect. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_step_reverse(void)` {#api-rgb-matrix-step-reverse}": "Move to the previous enabled effect.\n\n[]",
              "`void rgb_matrix_step_reverse_noeeprom(void)` {#api-rgb-matrix-step-reverse-noeeprom}": "Move to the previous enabled effect. New state is not written to EEPROM.\n\n[]",
              "`uint8_t rgb_matrix_get_mode(void)` {#api-rgb-matrix-get-mode}": {
                "Return Value {#api-rgb-matrix-get-mode-return}": "The index of the currently running effect.\n\n[]"
              },
              "`void rgb_matrix_increase_hue(void)` {#api-rgb-matrix-increase-hue}": "Increase the global effect hue.\n\n[]",
              "`void rgb_matrix_increase_hue_noeeprom(void)` {#api-rgb-matrix-increase-hue-noeeprom}": "Increase the global effect hue. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_decrease_hue(void)` {#api-rgb-matrix-decrease-hue}": "Decrease the global effect hue.\n\n[]",
              "`void rgb_matrix_decrease_hue_noeeprom(void)` {#api-rgb-matrix-decrease-hue-noeeprom}": "Decrease the global effect hue. New state is not written to EEPROM.\n\n[]",
              "`uint8_t rgb_matrix_get_hue(void)` {#api-rgb-matrix-get-hue}": {
                "Return Value {#api-rgb-matrix-get-hue-return}": "The current hue value, from 0 to 255.\n\n[]"
              },
              "`void rgb_matrix_increase_sat(void)` {#api-rgb-matrix-increase-sat}": "Increase the global effect saturation.\n\n[]",
              "`void rgb_matrix_increase_sat_noeeprom(void)` {#api-rgb-matrix-increase-sat-noeeprom}": "Increase the global effect saturation. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_decrease_sat(void)` {#api-rgb-matrix-decrease-sat}": "Decrease the global effect saturation.\n\n[]",
              "`void rgb_matrix_decrease_sat_noeeprom(void)` {#api-rgb-matrix-decrease-sat-noeeprom}": "Decrease the global effect saturation. New state is not written to EEPROM.\n\n[]",
              "`uint8_t rgb_matrix_get_sat(void)` {#api-rgb-matrix-get-sat}": {
                "Return Value {#api-rgb-matrix-get-sat-return}": "The current saturation value, from 0 to 255.\n\n[]"
              },
              "`void rgb_matrix_increase_val(void)` {#api-rgb-matrix-increase-val}": "Increase the global effect value (brightness).\n\n[]",
              "`void rgb_matrix_increase_val_noeeprom(void)` {#api-rgb-matrix-increase-val-noeeprom}": "Increase the global effect value (brightness). New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_decrease_val(void)` {#api-rgb-matrix-decrease-val}": "Decrease the global effect value (brightness).\n\n[]",
              "`void rgb_matrix_decrease_val_noeeprom(void)` {#api-rgb-matrix-decrease-val-noeeprom}": "Decrease the global effect value (brightness). New state is not written to EEPROM.\n\n[]",
              "`uint8_t rgb_matrix_get_val(void)` {#api-rgb-matrix-get-val}": {
                "Return Value {#api-rgb-matrix-get-val-return}": "The current brightness value, from 0 to 255.\n\n[]"
              },
              "`void rgb_matrix_increase_speed(void)` {#api-rgb-matrix-increase-speed}": "Increase the effect speed.\n\n[]",
              "`void rgb_matrix_increase_speed_noeeprom(void)` {#api-rgb-matrix-increase-speed-noeeprom}": "Increase the effect speed. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_decrease_speed(void)` {#api-rgb-matrix-decrease-speed}": "Decrease the effect speed.\n\n[]",
              "`void rgb_matrix_decrease_speed_noeeprom(void)` {#api-rgb-matrix-decrease-speed-noeeprom}": "Decrease the effect speed. New state is not written to EEPROM.\n\n[]",
              "`void rgb_matrix_set_speed(uint8_t speed)` {#api-rgb-matrix-set-speed}": {
                "Arguments {#api-rgb-matrix-set-speed-arguments}": [
                  "`uint8_t speed`  \nThe new speed to set, from 0 to 255."
                ]
              },
              "`void rgb_matrix_set_speed_noeeprom(uint8_t speed)` {#api-rgb-matrix-set-speed-noeeprom}": {
                "Arguments {#api-rgb-matrix-set-speed-noeeprom-arguments}": [
                  "`uint8_t speed`  \nThe new speed to set, from 0 to 255."
                ]
              },
              "`uint8_t rgb_matrix_get_speed(void)` {#api-rgb-matrix-get-speed}": {
                "Return Value {#api-rgb-matrix-get-speed-return}": "The current effect speed, from 0 to 255.\n\n[]"
              },
              "`void rgb_matrix_sethsv(uint8_t h, uint8_t s, uint8_t v)` {#api-rgb-matrix-sethsv}": "Set the global effect hue, saturation, and value (brightness).",
              "Arguments {#api-rgb-matrix-sethsv-arguments}": [
                "`uint8_t h`  \nThe hue to set, from 0 to 255.",
                "`uint8_t s`  \nThe saturation to set, from 0 to 255.",
                "`uint8_t v`  \nThe value (brightness) to set, from 0 to 255."
              ],
              "`void rgb_matrix_sethsv_noeeprom(uint8_t h, uint8_t s, uint8_t v)` {#api-rgb-matrix-sethsv-noeeprom}": {
                "Arguments {#api-rgb-matrix-sethsv-noeeprom-arguments}": [
                  "`uint8_t h`  \nThe hue to set, from 0 to 255.",
                  "`uint8_t s`  \nThe saturation to set, from 0 to 255.",
                  "`uint8_t v`  \nThe value (brightness) to set, from 0 to 255."
                ]
              },
              "`hsv_t rgb_matrix_get_hsv(void)` {#api-rgb-matrix-get-hsv}": {
                "Return Value {#api-rgb-matrix-get-hsv-return}": "The current effect HSV as an `hsv_t` struct.\n\n[]"
              },
              "`void rgb_matrix_reload_from_eeprom(void)` {#api-rgb-matrix-reload-from-eeprom}": "Reload the effect configuration (enabled, mode and color) from EEPROM.\n\n[]",
              "`bool rgb_matrix_get_suspend_state(void)` {#api-rgb-matrix-get-suspend-state}": {
                "Return Value {#api-rgb-matrix-get-suspend-state-return}": "`true` if RGB Matrix is currently in the suspended state.\n\n[]"
              },
              "`bool rgb_matrix_indicators_kb(void)` {#api-rgb-matrix-indicators-kb}": {
                "Return Value {#api-rgb-matrix-indicators-kb-return}": "Currently unused.\n\n[]"
              },
              "`bool rgb_matrix_indicators_user(void)` {#api-rgb-matrix-indicators-user}": {
                "Return Value {#api-rgb-matrix-indicators-user-return}": "`true` to continue running the keyboard-level callback.\n\n[]"
              },
              "`bool rgb_matrix_indicators_advanced_kb(uint8_t led_min, uint8_t led_max)` {#api-rgb-matrix-indicators-advanced-kb}": "Keyboard-level callback, invoked after current animation frame is rendered but before it is flushed to the LEDs.",
              "Arguments {#api-rgb-matrix-indicators-advanced-kb-arguments}": {
                "Return Value {#api-rgb-matrix-indicators-advanced-kb-return}": "Currently unused.\n\n[]"
              },
              "`bool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max)` {#api-rgb-matrix-indicators-advanced-user}": "Keymap-level callback, invoked after current animation frame is rendered but before it is flushed to the LEDs.",
              "Arguments {#api-rgb-matrix-indicators-advanced-user-arguments}": {
                "Return Value {#api-rgb-matrix-indicators-advanced-user-return}": "`true` to continue running the keyboard-level callback."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 32]"
        },
        {
          "title": "RGB Lighting",
          "description": null,
          "content": {
            "Usage": {
              "Color Selection": "QMK uses [Hue, Saturation, and Value](https://en.wikipedia.org/wiki/HSL_and_HSV) to select colors rather than RGB. The color wheel below demonstrates how this works.\n\n<img src=\"../public/color-wheel.svg\" alt=\"HSV Color Wheel\" width=\"250\"/>\n\nChanging the **Hue** cycles around the circle.<br>\nChanging the **Saturation** moves between the inner and outer sections of the wheel, affecting the intensity of the color.<br>\nChanging the **Value** sets the overall brightness.<br>\n\n![QMK Color Wheel with HSV Values](https://i.imgur.com/vkYVo66.jpg)"
            },
            "Keycodes": "::: warning\nThese keycodes also simultaneously control [RGB Matrix](rgb_matrix), if enabled. This behaviour is in the process of being deprecated, so during this time it is recommended to additionally include the dedicated RGB Matrix keycodes to your keymap, and add `#define RGB_MATRIX_DISABLE_SHARED_KEYCODES` to `config.h`.\n:::\n\n|Key                           |Aliases   |Description                                                          |\n|------------------------------|----------|---------------------------------------------------------------------|\n|`QK_UNDERGLOW_TOGGLE`         |`UG_TOGG` |Toggle RGB lighting on or off                                        |\n|`QK_UNDERGLOW_MODE_NEXT`      |`UG_NEXT` |Cycle through modes, reverse direction when Shift is held            |\n|`QK_UNDERGLOW_MODE_PREVIOUS`  |`UG_PREV` |Cycle through modes in reverse, forward direction when Shift is held |\n|`QK_UNDERGLOW_HUE_UP`         |`UG_HUEU` |Increase hue, decrease hue when Shift is held                        |\n|`QK_UNDERGLOW_HUE_DOWN`       |`UG_HUED` |Decrease hue, increase hue when Shift is held                        |\n|`QK_UNDERGLOW_SATURATION_UP`  |`UG_SATU` |Increase saturation, decrease saturation when Shift is held          |\n|`QK_UNDERGLOW_SATURATION_DOWN`|`UG_SATD` |Decrease saturation, increase saturation when Shift is held          |\n|`QK_UNDERGLOW_VALUE_UP`       |`UG_VALU` |Increase value (brightness), decrease value when Shift is held       |\n|`QK_UNDERGLOW_VALUE_DOWN`     |`UG_VALD` |Decrease value (brightness), increase value when Shift is held       |\n|`QK_UNDERGLOW_SPEED_UP`       |`UG_SPDU` |Increase effect speed (brightness), decrease speed when Shift is held|\n|`QK_UNDERGLOW_SPEED_DOWN`     |`UG_SPDD` |Decrease effect speed (brightness), increase speed when Shift is held|\n|`RGB_MODE_PLAIN`              |`RGB_M_P `|Static (no animation) mode (deprecated)                              |\n|`RGB_MODE_BREATHE`            |`RGB_M_B` |Breathing animation mode (deprecated)                                |\n|`RGB_MODE_RAINBOW`            |`RGB_M_R` |Rainbow animation mode (deprecated)                                  |\n|`RGB_MODE_SWIRL`              |`RGB_M_SW`|Swirl animation mode (deprecated)                                    |\n|`RGB_MODE_SNAKE`              |`RGB_M_SN`|Snake animation mode (deprecated)                                    |\n|`RGB_MODE_KNIGHT`             |`RGB_M_K` |\"Knight Rider\" animation mode (deprecated)                           |\n|`RGB_MODE_XMAS`               |`RGB_M_X` |Christmas animation mode (deprecated)                                |\n|`RGB_MODE_GRADIENT`           |`RGB_M_G` |Static gradient animation mode (deprecated)                          |\n|`RGB_MODE_RGBTEST`            |`RGB_M_T` |Red, Green, Blue test animation mode (deprecated)                    |\n|`RGB_MODE_TWINKLE`            |`RGB_M_TW`|Twinkle animation mode (deprecated)                                  |\n\n::: tip\nThese keycodes cannot be used with functions like `tap_code16()` as they are not USB HID keycodes. If you wish to replicate similar behaviour in custom code within your firmware (e.g. inside `encoder_update_user()` or `process_record_user()`), the equivalent [RGB functions](#functions) should be used instead.\n:::",
            "Configuration": "Your RGB lighting can be configured by placing these `#define`s in your `config.h`:\n\n|Define                     |Default                     |Description                                                                                                                |\n|---------------------------|----------------------------|---------------------------------------------------------------------------------------------------------------------------|\n|`RGBLIGHT_HUE_STEP`        |`8`                         |The value by which to increment the hue per adjustment action                                                              |\n|`RGBLIGHT_SAT_STEP`        |`17`                        |The value by which to increment the saturation per adjustment action                                                       |\n|`RGBLIGHT_VAL_STEP`        |`17`                        |The value by which to increment the brightness per adjustment action                                                       |\n|`RGBLIGHT_LIMIT_VAL`       |`255`                       |The maximum brightness level                                                                                               |\n|`RGBLIGHT_SLEEP`           |*Not defined*               |If defined, the RGB lighting will be switched off when the host goes to sleep                                              |\n|`RGBLIGHT_SPLIT`           |*Not defined*               |If defined, synchronization functionality for split keyboards is added                                                     |\n|`RGBLIGHT_DEFAULT_MODE`    |`RGBLIGHT_MODE_STATIC_LIGHT`|The default mode to use upon clearing the EEPROM                                                                           |\n|`RGBLIGHT_DEFAULT_HUE`     |`0` (red)                   |The default hue to use upon clearing the EEPROM                                                                            |\n|`RGBLIGHT_DEFAULT_SAT`     |`UINT8_MAX` (255)           |The default saturation to use upon clearing the EEPROM                                                                     |\n|`RGBLIGHT_DEFAULT_VAL`     |`RGBLIGHT_LIMIT_VAL`        |The default value (brightness) to use upon clearing the EEPROM                                                             |\n|`RGBLIGHT_DEFAULT_SPD`     |`0`                         |The default speed to use upon clearing the EEPROM                                                                          |\n|`RGBLIGHT_DEFAULT_ON`      |`true`                      |Enable RGB lighting upon clearing the EEPROM                                                                               |",
            "Effects and Animations": {
              "Effect and Animation Toggles": "Use these defines to add or remove animations from the firmware. When you are running low on flash space, it can be helpful to disable animations you are not using.\n\n|Define                              |Default      |Description                                                              |\n|------------------------------------|-------------|-------------------------------------------------------------------------|\n|`RGBLIGHT_ANIMATIONS`               |*Not defined*|Enable all additional animation modes.  (deprecated)                     |\n|`RGBLIGHT_EFFECT_ALTERNATING`       |*Not defined*|Enable alternating animation mode.                                       |\n|`RGBLIGHT_EFFECT_BREATHING`         |*Not defined*|Enable breathing animation mode.                                         |\n|`RGBLIGHT_EFFECT_CHRISTMAS`         |*Not defined*|Enable christmas animation mode.                                         |\n|`RGBLIGHT_EFFECT_KNIGHT`            |*Not defined*|Enable knight animation mode.                                            |\n|`RGBLIGHT_EFFECT_RAINBOW_MOOD`      |*Not defined*|Enable rainbow mood animation mode.                                      |\n|`RGBLIGHT_EFFECT_RAINBOW_SWIRL`     |*Not defined*|Enable rainbow swirl animation mode.                                     |\n|`RGBLIGHT_EFFECT_RGB_TEST`          |*Not defined*|Enable RGB test animation mode.                                          |\n|`RGBLIGHT_EFFECT_SNAKE`             |*Not defined*|Enable snake animation mode.                                             |\n|`RGBLIGHT_EFFECT_STATIC_GRADIENT`   |*Not defined*|Enable static gradient mode.                                             |\n|`RGBLIGHT_EFFECT_TWINKLE`           |*Not defined*|Enable twinkle animation mode.                                           |\n\n::: warning\n`RGBLIGHT_ANIMATIONS` is being deprecated and animation modes should be explicitly defined.\n:::",
              "Effect and Animation Settings": "The following options are used to tweak the various animations:\n\n|Define                              |Default             |Description                                                                                    |\n|------------------------------------|--------------------|-----------------------------------------------------------------------------------------------|\n|`RGBLIGHT_EFFECT_BREATHE_CENTER`    |*Not defined*       |If defined, used to calculate the curve for the breathing animation. Valid values are 1.0 to 2.7 |\n|`RGBLIGHT_EFFECT_BREATHE_MAX`       |`255`               |The maximum brightness for the breathing mode. Valid values are 1 to 255                       |\n|`RGBLIGHT_EFFECT_CHRISTMAS_INTERVAL`|`40`                |How long (in milliseconds) to wait between animation steps for the \"Christmas\" animation       |\n|`RGBLIGHT_EFFECT_CHRISTMAS_STEP`    |`2`                 |The number of LEDs to group the red/green colors by for the \"Christmas\" animation              |\n|`RGBLIGHT_EFFECT_KNIGHT_LED_NUM`    |`RGBLIGHT_LED_COUNT`|The number of LEDs to have the \"Knight\" animation travel                                       |\n|`RGBLIGHT_EFFECT_KNIGHT_LENGTH`     |`3`                 |The number of LEDs to light up for the \"Knight\" animation                                      |\n|`RGBLIGHT_EFFECT_KNIGHT_OFFSET`     |`0`                 |The number of LEDs to start the \"Knight\" animation from the start of the strip by              |\n|`RGBLIGHT_RAINBOW_SWIRL_RANGE`      |`255`               |Range adjustment for the rainbow swirl effect to get different swirls                          |\n|`RGBLIGHT_EFFECT_SNAKE_LENGTH`      |`4`                 |The number of LEDs to light up for the \"Snake\" animation                                       |\n|`RGBLIGHT_EFFECT_TWINKLE_LIFE`      |`200`               |Adjusts how quickly each LED brightens and dims when twinkling (in animation steps)            |\n|`RGBLIGHT_EFFECT_TWINKLE_PROBABILITY`|`1/127`            |Adjusts how likely each LED is to twinkle (on each animation step)                             |",
              "Example Usage to Reduce Memory Footprint": [
                "Use `#undef` to selectively disable animations. The following would disable two animations and save about 4KiB:"
              ],
              "Animation Speed": "You can also modify the speeds that the different modes animate at:\n\nHere is a quick demo on Youtube (with NPKC KC60) (https://www.youtube.com/watch?v=VKrpPAHlisY).\n\n```\n// How long (in milliseconds) to wait between animation steps for each of the \"Solid color breathing\" animations\nconst uint8_t RGBLED_BREATHING_INTERVALS[] PROGMEM = {30, 20, 10, 5};\n\n// How long (in milliseconds) to wait between animation steps for each of the \"Cycling rainbow\" animations\nconst uint8_t RGBLED_RAINBOW_MOOD_INTERVALS[] PROGMEM = {120, 60, 30};\n\n// How long (in milliseconds) to wait between animation steps for each of the \"Swirling rainbow\" animations\nconst uint8_t RGBLED_RAINBOW_SWIRL_INTERVALS[] PROGMEM = {100, 50, 20};\n\n// How long (in milliseconds) to wait between animation steps for each of the \"Snake\" animations\nconst uint8_t RGBLED_SNAKE_INTERVALS[] PROGMEM = {100, 50, 20};\n\n// How long (in milliseconds) to wait between animation steps for each of the \"Knight\" animations\nconst uint8_t RGBLED_KNIGHT_INTERVALS[] PROGMEM = {127, 63, 31};\n\n// How long (in milliseconds) to wait between animation steps for each of the \"Twinkle\" animations\nconst uint8_t RGBLED_TWINKLE_INTERVALS[] PROGMEM = {50, 25, 10};\n\n// These control which hues are selected for each of the \"Static gradient\" modes\nconst uint8_t RGBLED_GRADIENT_RANGES[] PROGMEM = {255, 170, 127, 85, 64};\n```"
            },
            "Lighting Layers": {
              "Defining Lighting Layers {#defining-lighting-layers}": "By default, 8 layers are possible. This can be expanded to as many as 32 by overriding the definition of `RGBLIGHT_MAX_LAYERS` in `config.h` (e.g. `#define RGBLIGHT_MAX_LAYERS 32`). Please note, if you use a split keyboard, you will need to flash both sides of the split after changing this. Also, increasing the maximum will increase the firmware size, and will slow sync on split keyboards.\n\nTo define a layer, we modify `keymap.c` to list the LED ranges and the colors we want to overlay on them using an array of `rgblight_segment_t` using the `RGBLIGHT_LAYER_SEGMENTS` macro. We can define multiple layers and enable/disable them independently:\n\n```\n// Light LEDs 6 to 9 and 12 to 15 red when caps lock is active. Hard to ignore!\nconst rgblight_segment_t PROGMEM my_capslock_layer[] = RGBLIGHT_LAYER_SEGMENTS(\n    {6, 4, HSV_RED},       // Light 4 LEDs, starting with LED 6\n    {12, 4, HSV_RED}       // Light 4 LEDs, starting with LED 12\n);\n// Light LEDs 9 & 10 in cyan when keyboard layer 1 is active\nconst rgblight_segment_t PROGMEM my_layer1_layer[] = RGBLIGHT_LAYER_SEGMENTS(\n    {9, 2, HSV_CYAN}\n);\n// Light LEDs 11 & 12 in purple when keyboard layer 2 is active\nconst rgblight_segment_t PROGMEM my_layer2_layer[] = RGBLIGHT_LAYER_SEGMENTS(\n    {11, 2, HSV_PURPLE}\n);\n// Light LEDs 13 & 14 in green when keyboard layer 3 is active\nconst rgblight_segment_t PROGMEM my_layer3_layer[] = RGBLIGHT_LAYER_SEGMENTS(\n    {13, 2, HSV_GREEN}\n);\n// etc..\n```\n\nWe combine these layers into an array using the `RGBLIGHT_LAYERS_LIST` macro, and assign it to the `rgblight_layers` variable during keyboard setup. Note that you can only define up to 8 lighting layers. Any extra layers will be ignored. Since the different lighting layers overlap, the order matters in the array, with later layers taking precedence:\n\n```\n// Now define the array of layers. Later layers take precedence\nconst rgblight_segment_t* const PROGMEM my_rgb_layers[] = RGBLIGHT_LAYERS_LIST(\n    my_capslock_layer,\n    my_layer1_layer,    // Overrides caps lock layer\n    my_layer2_layer,    // Overrides other layers\n    my_layer3_layer     // Overrides other layers\n);\n\nvoid keyboard_post_init_user(void) {\n    // Enable the LED layers\n    rgblight_layers = my_rgb_layers;\n}\n```\n\nNote: For split keyboards with two controllers, both sides need to be flashed when updating the contents of rgblight_layers.",
              "Enabling and disabling lighting layers {#enabling-lighting-layers}": "Everything above just configured the definition of each lighting layer.\nWe can now enable and disable the lighting layers whenever the state of the keyboard changes:\n\n```\nbool led_update_user(led_t led_state) {\n    rgblight_set_layer_state(0, led_state.caps_lock);\n    return true;\n}\n\nlayer_state_t default_layer_state_set_user(layer_state_t state) {\n    rgblight_set_layer_state(1, layer_state_cmp(state, _DVORAK));\n    return state;\n}\n\nlayer_state_t layer_state_set_user(layer_state_t state) {\n    rgblight_set_layer_state(2, layer_state_cmp(state, _FN));\n    rgblight_set_layer_state(3, layer_state_cmp(state, _ADJUST));\n    return state;\n}\n```",
              "Lighting layer blink {#lighting-layer-blink}": "By including `#define RGBLIGHT_LAYER_BLINK` in your `config.h` file you can turn a lighting\nlayer on for a specified duration. Once the specified number of milliseconds has elapsed\nthe layer will be turned off. This is useful, e.g., if you want to acknowledge some\naction (e.g. toggling some setting):\n\n```\nconst rgblight_segment_t PROGMEM _yes_layer[] = RGBLIGHT_LAYER_SEGMENTS( {9, 6, HSV_GREEN} );\nconst rgblight_segment_t PROGMEM _no_layer[] = RGBLIGHT_LAYER_SEGMENTS( {9, 6, HSV_RED} );\n\nconst rgblight_segment_t* const PROGMEM _rgb_layers[] =\n    RGBLIGHT_LAYERS_LIST( _yes_layer, _no_layer );\n\nvoid keyboard_post_init_user(void) {\n    rgblight_layers = _rgb_layers;\n}\n\n// Note we user post_process_record_user because we want the state\n// after the flag has been flipped...\nvoid post_process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case QK_DEBUG_TOGGLE:\n            rgblight_blink_layer(debug_enable ? 0 : 1, 500);\n            break;\n\n        case NK_TOGG:\n        case NK_ON:\n        case NK_OFF:\n            rgblight_blink_layer(keymap_config.nkro ? 0 : 1, 500);\n            break;\n    }\n}\n```\n\nYou can also use `rgblight_blink_layer_repeat` to specify the amount of times the layer is supposed to blink. Using the layers from above,\n\n```\nvoid post_process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case QK_DEBUG_TOGGLE:\n            rgblight_blink_layer_repeat(debug_enable ? 0 : 1, 200, 3);\n            break;\n    }\n}\n```\n\nwould turn the layer 0 (or 1) on and off again three times when `DB_TOGG` is pressed.\n\nBlinking accumulates layers so if multiple layers are set blinking at the same time they will all blink for the duration and repeat times of the last layer to be blinked.\nTo stop these other layers from blinking use `rgblight_unblink_layer` or `rgblight_unblink_all_but_layer`:\n\n```\nrgblight_blink_layer(1, 500);\nrgblight_unblink_all_but_layer(1);\n```\n\n```\nrgblight_unblink_layer(3);\nrgblight_blink_layer(2, 500);\n```\n\n::: warning\nLighting layers on split keyboards will require layer state synced to the slave half (e.g. `#define SPLIT_LAYER_STATE_ENABLE`). See [data sync options](split_keyboard#data-sync-options) for more details.\n:::",
              "Overriding RGB Lighting on/off status": "Normally lighting layers are not shown when RGB Lighting is disabled (e.g. with `UG_TOGG` keycode). If you would like lighting layers to work even when the RGB Lighting is otherwise off, add `#define RGBLIGHT_LAYERS_OVERRIDE_RGB_OFF` to your `config.h`.",
              "Retain brightness": "Usually lighting layers apply their configured brightness once activated. If you would like lighting layers to retain the currently used brightness (as returned by `rgblight_get_val()`), add `#define RGBLIGHT_LAYERS_RETAIN_VAL` to your `config.h`."
            },
            "Functions": {
              "Low level Functions": "|Function                                    |Description                                |\n|--------------------------------------------|-------------------------------------------|\n|`rgblight_set()`                            |Flush out led buffers to LEDs              |\n|`rgblight_set_clipping_range(pos, num)`     |Set clipping Range. see [Clipping Range](#clipping-range) |",
              "Effects and Animations Functions": {
                "effect range setting": "|Function                                    |Description       |\n|--------------------------------------------|------------------|\n|`rgblight_set_effect_range(pos, num)`       |Set Effects Range |",
                "direct operation": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_setrgb_at(r, g, b, index)`          |Set a single LED to the given RGB value, where `r`/`g`/`b` are between 0 and 255 and `index` is between 0 and `RGBLIGHT_LED_COUNT` (not written to EEPROM) |\n|`rgblight_sethsv_at(h, s, v, index)`          |Set a single LED to the given HSV value, where `h`/`s`/`v` are between 0 and 255, and `index` is between 0 and `RGBLIGHT_LED_COUNT` (not written to EEPROM) |\n|`rgblight_setrgb_range(r, g, b, start, end)`|Set a continuous range of LEDs to the given RGB value, where `r`/`g`/`b` are between 0 and 255 and `start`(included) and `stop`(excluded) are between 0 and `RGBLIGHT_LED_COUNT` (not written to EEPROM)|\n|`rgblight_sethsv_range(h, s, v, start, end)`|Set a continuous range of LEDs to the given HSV value, where `h`/`s`/`v` are between 0 and 255, and `start`(included) and `stop`(excluded) are between 0 and `RGBLIGHT_LED_COUNT` (not written to EEPROM)|\n|`rgblight_setrgb(r, g, b)`                  |Set effect range LEDs to the given RGB value where `r`/`g`/`b` are between 0 and 255 (not written to EEPROM) |\n|`rgblight_setrgb_master(r, g, b)`           |Set the LEDs on the master side  to the given RGB value, where `r`/`g`/`b` are between 0 and 255 (not written to EEPROM) |\n|`rgblight_setrgb_slave(r, g, b)`            |Set the LEDs on the slave side  to the given RGB value, where `r`/`g`/`b` are between 0 and 255 (not written to EEPROM) |\n|`rgblight_sethsv_master(h, s, v)`           |Set the LEDs on the master side to the given HSV value, where `h`/`s`/`v` are between 0 and 255 (not written to EEPROM) |\n|`rgblight_sethsv_slave(h, s, v)`            |Set the LEDs on the slave side to the given HSV value, where `h`/`s`/`v` are between 0 and 255 (not written to EEPROM) |\n\nExample:\n\n```\nrgblight_sethsv_at(HSV_WHITE, 0); // led 0\nrgblight_sethsv_at(HSV_RED,   1); // led 1\nrgblight_sethsv_at(HSV_GREEN, 2); // led 2\n// The above functions automatically calls rgblight_set(), so there is no need to call it explicitly.\n// Note that it is inefficient to call repeatedly.\n```",
                "effect mode change": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_mode(x)`                          |Set the mode, if RGB animations are enabled |\n|`rgblight_mode_noeeprom(x)`                 |Set the mode, if RGB animations are enabled (not written to EEPROM) |\n|`rgblight_step()`                           |Change the mode to the next RGB animation in the list of enabled RGB animations |\n|`rgblight_step_noeeprom()`                  |Change the mode to the next RGB animation in the list of enabled RGB animations (not written to EEPROM) |\n|`rgblight_step_reverse()`                   |Change the mode to the previous RGB animation in the list of enabled RGB animations |\n|`rgblight_step_reverse_noeeprom()`          |Change the mode to the previous RGB animation in the list of enabled RGB animations (not written to EEPROM) |\n|`rgblight_reload_from_eeprom()`             |Reload the effect configuration (enabled, mode and color) from EEPROM |",
                "effects mode disable/enable": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_toggle()`                         |Toggle effect range LEDs between on and off |\n|`rgblight_toggle_noeeprom()`                |Toggle effect range LEDs between on and off (not written to EEPROM) |\n|`rgblight_enable()`                         |Turn effect range LEDs on, based on their previous state |\n|`rgblight_enable_noeeprom()`                |Turn effect range LEDs on, based on their previous state (not written to EEPROM) |\n|`rgblight_disable()`                        |Turn effect range LEDs off |\n|`rgblight_disable_noeeprom()`               |Turn effect range LEDs off (not written to EEPROM) |",
                "hue, sat, val change": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_increase_hue()`                   |Increase the hue for effect range LEDs. This wraps around at maximum hue |\n|`rgblight_increase_hue_noeeprom()`          |Increase the hue for effect range LEDs. This wraps around at maximum hue (not written to EEPROM) |\n|`rgblight_decrease_hue()`                   |Decrease the hue for effect range LEDs. This wraps around at minimum hue |\n|`rgblight_decrease_hue_noeeprom()`          |Decrease the hue for effect range LEDs. This wraps around at minimum hue (not written to EEPROM) |\n|`rgblight_increase_sat()`                   |Increase the saturation for effect range LEDs. This stops at maximum saturation |\n|`rgblight_increase_sat_noeeprom()`          |Increase the saturation for effect range LEDs. This stops at maximum saturation (not written to EEPROM) |\n|`rgblight_decrease_sat()`                   |Decrease the saturation for effect range LEDs. This stops at minimum saturation |\n|`rgblight_decrease_sat_noeeprom()`          |Decrease the saturation for effect range LEDs. This stops at minimum saturation (not written to EEPROM) |\n|`rgblight_increase_val()`                   |Increase the value for effect range LEDs. This stops at maximum value |\n|`rgblight_increase_val_noeeprom()`          |Increase the value for effect range LEDs. This stops at maximum value (not written to EEPROM) |\n|`rgblight_decrease_val()`                   |Decrease the value for effect range LEDs. This stops at minimum value |\n|`rgblight_decrease_val_noeeprom()`          |Decrease the value for effect range LEDs. This stops at minimum value (not written to EEPROM) |\n|`rgblight_sethsv(h, s, v)`                  |Set effect range LEDs to the given HSV value where `h`/`s`/`v` are between 0 and 255 |\n|`rgblight_sethsv_noeeprom(h, s, v)`         |Set effect range LEDs to the given HSV value where `h`/`s`/`v` are between 0 and 255 (not written to EEPROM) |",
                "Speed functions": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_increase_speed()`                 |Increases the animation speed |\n|`rgblight_increase_speed_noeeprom()`        |Increases the animation speed (not written to EEPROM) |\n|`rgblight_decrease_speed()`                 |Decreases the animation speed |\n|`rgblight_decrease_speed_noeeprom()`        |Decreases the animation speed (not written to EEPROM) |\n|`rgblight_set_speed()`                      |Sets the speed. Value is between 0 and 255 |\n|`rgblight_set_speed_noeeprom()`             |Sets the speed. Value is between 0 and 255 (not written to EEPROM) |",
                "layer functions": "|Function                                    |Description  |\n|--------------------------------------------|-------------|\n|`rgblight_get_layer_state(i)`               |Returns `true` if lighting layer `i` is enabled |\n|`rgblight_set_layer_state(i, is_on)`        |Enable or disable lighting layer `i` based on value of `bool is_on` |",
                "query": "|Function               |Description                |\n|-----------------------|---------------------------|\n|`rgblight_is_enabled()`|Gets current on/off status |\n|`rgblight_get_mode()`  |Gets current mode          |\n|`rgblight_get_hue()`   |Gets current hue           |\n|`rgblight_get_sat()`   |Gets current sat           |\n|`rgblight_get_val()`   |Gets current val           |\n|`rgblight_get_speed()` |Gets current speed         |"
              }
            },
            "Colors": "These are shorthands to popular colors. The `RGB` ones can be passed to the `setrgb` functions, while the `HSV` ones to the `sethsv` functions.\n\n|RGB                  |HSV                  |\n|---------------------|---------------------|\n|`RGB_AZURE`          |`HSV_AZURE`          |\n|`RGB_BLACK`/`RGB_OFF`|`HSV_BLACK`/`HSV_OFF`|\n|`RGB_BLUE`           |`HSV_BLUE`           |\n|`RGB_CHARTREUSE`     |`HSV_CHARTREUSE`     |\n|`RGB_CORAL`          |`HSV_CORAL`          |\n|`RGB_CYAN`           |`HSV_CYAN`           |\n|`RGB_GOLD`           |`HSV_GOLD`           |\n|`RGB_GOLDENROD`      |`HSV_GOLDENROD`      |\n|`RGB_GREEN`          |`HSV_GREEN`          |\n|`RGB_MAGENTA`        |`HSV_MAGENTA`        |\n|`RGB_ORANGE`         |`HSV_ORANGE`         |\n|`RGB_PINK`           |`HSV_PINK`           |\n|`RGB_PURPLE`         |`HSV_PURPLE`         |\n|`RGB_RED`            |`HSV_RED`            |\n|`RGB_SPRINGGREEN`    |`HSV_SPRINGGREEN`    |\n|`RGB_TEAL`           |`HSV_TEAL`           |\n|`RGB_TURQUOISE`      |`HSV_TURQUOISE`      |\n|`RGB_WHITE`          |`HSV_WHITE`          |\n|`RGB_YELLOW`         |`HSV_YELLOW`         |\n\n```\nrgblight_setrgb(RGB_ORANGE);\nrgblight_sethsv_noeeprom(HSV_GREEN);\nrgblight_setrgb_at(RGB_GOLD, 3);\nrgblight_sethsv_range(HSV_WHITE, 0, 6);\n```\n\nThese are defined in [`color.h`](https://github.com/qmk/qmk_firmware/blob/master/quantum/color.h). Feel free to add to this list!",
            "Changing the order of the LEDs": "If you want to make the logical order of LEDs different from the electrical connection order, you can do this by defining the `RGBLIGHT_LED_MAP` macro in your `config.h`.\n\nNormally, the contents of the LED buffer are output to the LEDs in the same order.\n<img src=\"https://user-images.githubusercontent.com/2170248/55743718-01866c80-5a6e-11e9-8134-25419928327a.JPG\" alt=\"simple dicrect\" width=\"50%\"/>\n\nBy defining `RGBLIGHT_LED_MAP` as in the example below, you can specify the LED with addressing in reverse order of the electrical connection order.\n\n```\n// config.h\n\n#define RGBLIGHT_LED_COUNT 4\n#define RGBLIGHT_LED_MAP { 3, 2, 1, 0 }\n\n```\n\n<img src=\"https://user-images.githubusercontent.com/2170248/55743725-08ad7a80-5a6e-11e9-83ed-126a2b0209fc.JPG\" alt=\"simple mapped\" width=\"50%\"/>",
            "Clipping Range": "Using the `rgblight_set_clipping_range()` function, you can prepare more buffers than the actual number of LEDs, and output some of the buffers to the LEDs. This is useful if you want the split keyboard to treat left and right LEDs as logically contiguous.\n\nYou can set the Clipping Range by executing the following code.\n\n```\n// some source\nrgblight_set_clipping_range(3, 4);\n```\n\n<img src=\"https://user-images.githubusercontent.com/2170248/55743785-2bd82a00-5a6e-11e9-9d4b-1b4ffaf4932b.JPG\" alt=\"clip direct\" width=\"70%\"/>\n\nIn addition to setting the Clipping Range, you can use `RGBLIGHT_LED_MAP` together.\n\n```\n// config.h\n#define RGBLIGHT_LED_COUNT 8\n#define RGBLIGHT_LED_MAP { 7, 6, 5, 4, 3, 2, 1, 0 }\n\n// some source\nrgblight_set_clipping_range(3, 4);\n```\n\n<img src=\"https://user-images.githubusercontent.com/2170248/55743747-119e4c00-5a6e-11e9-91e5-013203ffae8a.JPG\" alt=\"clip mapped\" width=\"70%\"/>",
            "Hardware Modification": "If your keyboard lacks onboard underglow LEDs, you may often be able to solder on an RGB LED strip yourself. You will need to find an unused pin to wire to the data pin of your LED strip. Some keyboards may break out unused pins from the MCU to make soldering easier. The other two pins, VCC and GND, must also be connected to the appropriate power pins.",
            "Velocikey": {
              "Usage": "For Velocikey to take effect, there are two steps. First, when compiling your keyboard, you'll need to set `VELOCIKEY_ENABLE=yes` in `rules.mk`, e.g.:\n\n```\nMOUSEKEY_ENABLE = no\nSTENO_ENABLE = no\nEXTRAKEY_ENABLE = yes\nVELOCIKEY_ENABLE = yes\n```\n\nThen, while using your keyboard, you need to also turn it on with the `VK_TOGG` keycode, which toggles the feature on and off.\n\nThe following light effects will all be controlled by Velocikey when it is enabled:\n\n['RGB Breathing', 'RGB Rainbow Mood', 'RGB Rainbow Swirl', 'RGB Snake', 'RGB Knight']\n\nSupport for LED breathing effects is planned but not available yet.\n\nAs long as Velocikey is enabled, it will control the speed regardless of any other speed setting that your RGB lights are currently on.",
              "Configuration": "Velocikey doesn't currently support any configuration via keyboard settings. If you want to adjust something like the speed increase or decay rate, you would need to edit `velocikey.c` and adjust the values there to achieve the kinds of speeds that you like."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 33]"
        },
        {
          "title": "Secure",
          "description": null,
          "content": {
            "Usage": "Add the following to your `rules.mk`:\n\n```\nSECURE_ENABLE = yes\n```",
            "Keycodes": "| Key                 |Aliases  | Description                                                                    |\n|---------------------|---------|--------------------------------------------------------------------------------|\n| `QK_SECURE_LOCK`    |`SE_LOCK`| Revert back to a locked state                                                  |\n| `QK_SECURE_UNLOCK`  |`SE_UNLK`| Forces unlock without performing a unlock sequence                             |\n| `QK_SECURE_TOGGLE`  |`SE_TOGG`| Toggle directly between locked and unlock without performing a unlock sequence |\n| `QK_SECURE_REQUEST` |`SE_REQ` | Request that user perform the unlock sequence                                  |",
            "Configuration": "| Define                  | Default        | Description                                                                     |\n|-------------------------|----------------|---------------------------------------------------------------------------------|\n|`SECURE_UNLOCK_TIMEOUT`  | `5000`         | Timeout for the user to perform the configured unlock sequence - `0` to disable |\n|`SECURE_IDLE_TIMEOUT`    | `60000`        | Timeout while unlocked before returning to locked - `0` to disable              |\n|`SECURE_UNLOCK_SEQUENCE` | `{ { 0, 0 } }` | Array of matrix locations describing a sequential sequence of keypresses        |",
            "Functions": "| Function                  | Description                                                                |\n|---------------------------|----------------------------------------------------------------------------|\n| `secure_is_locked()`      | Check if the device is currently locked                                    |\n| `secure_is_unlocking()`   | Check if an unlock sequence is currently in progress                       |\n| `secure_is_unlocked()`    | Check if the device is currently unlocked                                  |\n| `secure_lock()`           | Lock down the device                                                       |\n| `secure_unlock()`         | Force unlock the device - bypasses user unlock sequence                    |\n| `secure_request_unlock()` | Begin listening for an unlock sequence                                     |\n| `secure_activity_event()` | Flag that user activity has happened and the device should remain unlocked |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 34]"
        },
        {
          "title": "Send String {#send-string}",
          "description": null,
          "content": {
            "Usage {#usage}": "Send String is enabled by default, so there is usually no need for any special setup. However, if it is disabled, add the following to your `rules.mk`:\n\n```\nSEND_STRING_ENABLE = yes\n```",
            "Basic Configuration {#basic-configuration}": "Add the following to your `config.h`:\n\n|Define           |Default         |Description                                                                                                 |\n|-----------------|----------------|------------------------------------------------------------------------------------------------------------|\n|`SENDSTRING_BELL`|*Not defined*   |If the [Audio](audio) feature is enabled, the `\\a` character (ASCII `BEL`) will beep the speaker.|\n|`BELL_SOUND`     |`TERMINAL_SOUND`|The song to play when the `\\a` character is encountered. By default, this is an eighth note of C5.          |",
            "Keycodes {#keycodes}": {
              "Language Support {#language-support}": "By default, Send String assumes your OS keyboard layout is set to US ANSI. If you are using a different keyboard layout, you can [override the lookup tables used to convert ASCII characters to keystrokes](../reference_keymap_extras#sendstring-support)."
            },
            "Examples {#examples}": {
              "Hello World {#example-hello-world}": "A simple custom keycode which types out \"Hello, world!\" and the Enter key when pressed.\n\nAdd the following to your `keymap.c`:\n\n```\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case SS_HELLO:\n            if (record->event.pressed) {\n                SEND_STRING(\"Hello, world!\\n\");\n            }\n            return false;\n    }\n\n    return true;\n}\n```",
              "Keycode Injection {#example-keycode-injection}": "This example types out opening and closing curly braces, then taps the left arrow key to move the cursor between the two.\n\n```\nSEND_STRING(\"{}\" SS_TAP(X_LEFT));\n```\n\nThis example types Ctrl+A, then Ctrl+C, without releasing Ctrl.\n\n```\nSEND_STRING(SS_LCTL(\"ac\"));\n```"
            },
            "API {#api}": {
              "`void send_string(const char *string)` {#api-send-string}": {
                "Arguments {#api-send-string-arguments}": [
                  "`const char *string`  \nThe string to type out."
                ]
              },
              "`void send_string_with_delay(const char *string, uint8_t interval)` {#api-send-string-with-delay}": {
                "Arguments {#api-send-string-with-delay-arguments}": [
                  "`const char *string`  \nThe string to type out.",
                  "`uint8_t interval`  \nThe amount of time, in milliseconds, to wait before typing the next character."
                ]
              },
              "`void send_string_P(const char *string)` {#api-send-string-p}": {
                "Arguments {#api-send-string-p-arguments}": [
                  "`const char *string`  \nThe string to type out."
                ]
              },
              "`void send_string_with_delay_P(const char *string, uint8_t interval)` {#api-send-string-with-delay-p}": {
                "Arguments {#api-send-string-with-delay-p-arguments}": [
                  "`const char *string`  \nThe string to type out.",
                  "`uint8_t interval`  \nThe amount of time, in milliseconds, to wait before typing the next character."
                ]
              },
              "`void send_char(char ascii_code)` {#api-send-char}": {
                "Arguments {#api-send-char-arguments}": [
                  "`char ascii_code`  \nThe character to type."
                ]
              },
              "`void send_dword(uint32_t number)` {#api-send-dword}": {
                "Arguments {#api-send-dword-arguments}": [
                  "`uint32_t number`  \nThe value to type, from 0 to 4,294,967,295."
                ]
              },
              "`void send_word(uint16_t number)` {#api-send-word}": {
                "Arguments {#api-send-word-arguments}": [
                  "`uint16_t number`  \nThe value to type, from 0 to 65,535."
                ]
              },
              "`void send_byte(uint8_t number)` {#api-send-bytes}": {
                "Arguments {#api-send-byte-arguments}": [
                  "`uint8_t number`  \nThe value to type, from 0 to 255."
                ]
              },
              "`void send_nibble(uint8_t number)` {#api-send-nibble}": {
                "Arguments {#api-send-nibble-arguments}": [
                  "`uint8_t number`  \nThe value to type, from 0 to 15."
                ]
              },
              "`void tap_random_base64(void)` {#api-tap-random-base64}": "Type a pseudorandom character from the set `A-Z`, `a-z`, `0-9`, `+` and `/`.\n\n[]",
              "`SEND_STRING(string)` {#api-send-string-macro}": "Shortcut macro for `send_string_with_delay_P(PSTR(string), 0)`.\n\nOn ARM devices, this define evaluates to `send_string_with_delay(string, 0)`.\n\n[]",
              "`SEND_STRING_DELAY(string, interval)` {#api-send-string-delay-macro}": "Shortcut macro for `send_string_with_delay_P(PSTR(string), interval)`.\n\nOn ARM devices, this define evaluates to `send_string_with_delay(string, interval)`."
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 35]"
        },
        {
          "title": "Sequencer",
          "description": null,
          "content": {
            "Enable the step sequencer": "Add the following line to your `rules.mk`:\n\n```\nSEQUENCER_ENABLE = yes\n```\n\nBy default the sequencer has 16 steps, but you can override this setting in your `config.h`:\n\n```\n#define SEQUENCER_STEPS 32\n```",
            "Tracks": "You can program up to 8 independent tracks with the step sequencer. Select the tracks you want to edit, enable or disable some steps, and start the sequence!",
            "Resolutions": "While the tempo defines the absolute speed at which the sequencer goes through the steps, the resolution defines the granularity of these steps (from coarser to finer).\n\n|Resolution   |Description            |\n|----------   |-----------            |\n|`SQ_RES_2`   |Every other beat       |\n|`SQ_RES_2T`  |Every 1.5 beats        |\n|`SQ_RES_4`   |Every beat             |\n|`SQ_RES_4T`  |Three times per 2 beats|\n|`SQ_RES_8`   |Twice per beat         |\n|`SQ_RES_8T`  |Three times per beat   |\n|`SQ_RES_16`  |Four times per beat    |\n|`SQ_RES_16T` |Six times per beat     |\n|`SQ_RES_32`  |Eight times per beat   |",
            "Keycodes": "|Key                            |Aliases  |Description                                        |\n|-------------------------------|---------|---------------------------------------------------|\n|`QK_SEQUENCER_ON`              |`SQ_ON`  |Start the step sequencer                           |\n|`QK_SEQUENCER_OFF`             |`SQ_OFF` |Stop the step sequencer                            |\n|`QK_SEQUENCER_TOGGLE`          |`SQ_TOGG`|Toggle the step sequencer playback                 |\n|`QK_SEQUENCER_STEPS_ALL`       |`SQ_SALL`|Enable all the steps                               |\n|`QK_SEQUENCER_STEPS_CLEAR`     |`SQ_SCLR`|Disable all the steps                              |\n|`QK_SEQUENCER_TEMPO_DOWN`      |`SQ_TMPD`|Decrease the tempo                                 |\n|`QK_SEQUENCER_TEMPO_UP`        |`SQ_TMPU`|Increase the tempo                                 |\n|`QK_SEQUENCER_RESOLUTION_DOWN` |`SQ_RESD`|Change to the slower resolution                    |\n|`QK_SEQUENCER_RESOLUTION_UP`   |`SQ_RESU`|Change to the faster resolution                    |\n|`SQ_S(n)`                      |         |Toggle the step `n`                                |\n|`SQ_R(n)`                      |         |Set the resolution to n                            |\n|`SQ_T(n)`                      |         |Set `n` as the only active track or deactivate all |",
            "Functions": "|Function                                                             |Description                                            |\n|--------                                                             |-----------                                            |\n|`bool is_sequencer_on(void);`                                        |Return whether the sequencer is playing                |\n|`void sequencer_toggle(void);`                                       |Toggle the step sequencer playback                     |\n|`void sequencer_on(void);`                                           |Start the step sequencer                               |\n|`void sequencer_off(void);`                                          |Stop the step sequencer                                |\n|`bool is_sequencer_step_on(uint8_t step);`                           |Return whether the step is currently enabled           |\n|`void sequencer_set_step(uint8_t step, bool value);`                 |Enable or disable the step                             |\n|`void sequencer_set_step_on();`                                      |Enable the step                                        |\n|`void sequencer_set_step_off();`                                     |Disable the step                                       |\n|`void sequencer_toggle_step(uint8_t step);`                          |Toggle the step                                        |\n|`void sequencer_set_all_steps(bool value);`                          |Enable or disable all the steps                        |\n|`void sequencer_set_all_steps_on();`                                 |Enable all the steps                                   |\n|`void sequencer_set_all_steps_off();`                                |Disable all the steps                                  |\n|`uint8_t sequencer_get_tempo(void);`                                 |Return the current tempo                               |\n|`void sequencer_set_tempo(uint8_t tempo);`                           |Set the tempo to `tempo` (between 1 and 255)           |\n|`void sequencer_increase_tempo(void);`                               |Increase the tempo                                     |\n|`void sequencer_decrease_tempo(void);`                               |Decrease the tempo                                     |\n|`sequencer_resolution_t sequencer_get_resolution(void);`             |Return the current resolution                          |\n|`void sequencer_set_resolution(sequencer_resolution_t resolution);`  |Set the resolution to `resolution`                     |\n|`void sequencer_increase_resolution(void);`                          |Change to the faster resolution                        |\n|`void sequencer_decrease_resolution(void);`                          |Change to the slower resolution                        |\n|`bool is_sequencer_track_active(uint8_t track);`                     |Return whether the track is active                     |\n|`void sequencer_set_track_activation(uint8_t track, bool value);`    |Activate or deactivate the `track`                     |\n|`void sequencer_toggle_track_activation(uint8_t track);`             |Toggle the `track`                                     |\n|`void sequencer_activate_track(uint8_t track);`                      |Activate the `track`                                   |\n|`void sequencer_deactivate_track(uint8_t track);`                    |Deactivate the `track`                                 |\n|`void sequencer_toggle_single_active_track(uint8_t track);`          |Set `track` as the only active track or deactivate all |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 36]"
        },
        {
          "title": "Space Cadet: The Future, Built In",
          "description": null,
          "content": {
            "Usage": "Firstly, in your keymap, do one of the following:\n\n['Replace the Left Shift key with `SC_LSPO` (Left Shift, Parenthesis Open), and Right Shift with `SC_RSPC` (Right Shift, Parenthesis Close).', 'Replace the Left Control key with `SC_LCPO` (Left Control, Parenthesis Open), and Right Control with `SC_RCPC` (Right Control, Parenthesis Close).', 'Replace the Left Alt key with `SC_LAPO` (Left Alt, Parenthesis Open), and Right Alt with `SC_RAPC` (Right Alt, Parenthesis Close).', 'Replace any Shift key in your keymap with `SC_SENT` (Right Shift, Enter).']",
            "Keycodes": "|Keycode                                       |Aliases  |Description                             |\n|----------------------------------------------|---------|----------------------------------------|\n|`QK_SPACE_CADET_LEFT_CTRL_PARENTHESIS_OPEN`   |`SC_LCPO`|Left Control when held, `(` when tapped |\n|`QK_SPACE_CADET_RIGHT_CTRL_PARENTHESIS_CLOSE` |`SC_RCPC`|Right Control when held, `)` when tapped|\n|`QK_SPACE_CADET_LEFT_SHIFT_PARENTHESIS_OPEN`  |`SC_LSPO`|Left Shift when held, `(` when tapped   |\n|`QK_SPACE_CADET_RIGHT_SHIFT_PARENTHESIS_CLOSE`|`SC_RSPC`|Right Shift when held, `)` when tapped  |\n|`QK_SPACE_CADET_LEFT_ALT_PARENTHESIS_OPEN`    |`SC_LAPO`|Left Alt when held, `(` when tapped     |\n|`QK_SPACE_CADET_RIGHT_ALT_PARENTHESIS_CLOSE`  |`SC_RAPC`|Right Alt when held, `)` when tapped    |\n|`QK_SPACE_CADET_RIGHT_SHIFT_ENTER`            |`SC_SENT`|Right Shift when held, Enter when tapped|",
            "Caveats": "Space Cadet's functionality can conflict with the default Command functionality when both Shift keys are held at the same time. See the [Command feature](command) for info on how to change it, or make sure that Command is disabled in your `rules.mk` with:\n\n```\nCOMMAND_ENABLE = no\n```",
            "Configuration": "By default Space Cadet assumes a US ANSI layout, but if your layout uses different keys for parentheses, you can redefine them in your `config.h`. In addition, you can redefine the modifier to send on tap, or even send no modifier at all. The new configuration defines bundle all options up into a single define of 3 key codes in this order: the `Modifier` when held or when used with other keys, the `Tap Modifer` sent when tapped (no modifier if `KC_TRNS`), finally the `Keycode` sent when tapped. Now keep in mind, mods from other keys will still apply to the `Keycode` if say `KC_RSFT` is held while tapping `SC_LSPO` key with `KC_TRNS` as the `Tap Modifer`.\n\n|Define          |Default                        |Description                                                                      |\n|----------------|-------------------------------|---------------------------------------------------------------------------------|\n|`LSPO_KEYS`     |`KC_LSFT, LSPO_MOD, LSPO_KEY`  |Send `KC_LSFT` when held, the mod and  key defined by `LSPO_MOD` and `LSPO_KEY`. |\n|`RSPC_KEYS`     |`KC_RSFT, RSPC_MOD, RSPC_KEY`  |Send `KC_RSFT` when held, the mod and  key defined by `RSPC_MOD` and `RSPC_KEY`. |\n|`LCPO_KEYS`     |`KC_LCTL, KC_LSFT, KC_9`       |Send `KC_LCTL` when held, the mod `KC_LSFT` with the key `KC_9` when tapped.     |\n|`RCPC_KEYS`     |`KC_RCTL, KC_RSFT, KC_0`       |Send `KC_RCTL` when held, the mod `KC_RSFT` with the key `KC_0` when tapped.     |\n|`LAPO_KEYS`     |`KC_LALT, KC_LSFT, KC_9`       |Send `KC_LALT` when held, the mod `KC_LSFT` with the key `KC_9` when tapped.     |\n|`RAPC_KEYS`     |`KC_RALT, KC_RSFT, KC_0`       |Send `KC_RALT` when held, the mod `KC_RSFT` with the key `KC_0` when tapped.     |\n|`SFTENT_KEYS`   |`KC_RSFT, KC_TRNS, SFTENT_KEY` |Send `KC_RSFT` when held, no mod with the key `SFTENT_KEY` when tapped.          |\n|`SPACE_CADET_MODIFIER_CARRYOVER`   |*Not defined* |Store current modifiers before the hold mod is pressed and use them with the tap mod and keycode. Useful for when you frequently release a modifier before triggering Space Cadet.  |",
            "Obsolete Configuration": "These defines are used in the above defines internally to support backwards compatibility, so you may continue to use them, however the above defines open up a larger range of flexibility than before. As an example, say you want to not send any modifier when you tap just `SC_LSPO`, with the old defines you had an all or nothing choice of using the `DISABLE_SPACE_CADET_MODIFIER` define. Now you can define that key as: `#define LSPO_KEYS KC_LSFT, KC_TRNS, KC_9`. This tells the system to set Left Shift if held or used with other keys, then on tap send no modifier (transparent) with the `KC_9`.\n\n|Define                        |Default      |Description                                                       |\n|------------------------------|-------------|------------------------------------------------------------------|\n|`LSPO_KEY`                    |`KC_9`       |The keycode to send when Left Shift is tapped                     |\n|`RSPC_KEY`                    |`KC_0`       |The keycode to send when Right Shift is tapped                    |\n|`LSPO_MOD`                    |`KC_LSFT`    |The modifier to apply to `LSPO_KEY`                               |\n|`RSPC_MOD`                    |`KC_RSFT`    |The modifier to apply to `RSPC_KEY`                               |\n|`SFTENT_KEY`                  |`KC_ENT`     |The keycode to send when the Shift key is tapped                  |\n|`DISABLE_SPACE_CADET_MODIFIER`|*Not defined*|If defined, prevent the Space Cadet from applying a modifier      |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 37]"
        },
        {
          "title": "Split Keyboard ",
          "description": null,
          "content": {
            "Compatibility Overview": "| Transport                    | AVR                | ARM                |\n|------------------------------|--------------------|--------------------|\n| ['serial'](../drivers/serial) | :heavy_check_mark: | :white_check_mark: <sup>1</sup> |\n| I2C                          | :heavy_check_mark: |                    |\n\nNotes:\n\n['Both hardware and software limitations are detailed within the [driver documentation](../drivers/serial).']",
            "Hardware Configuration": {
              "Required Hardware": {
                "Considerations ": "The most commonly used connection is a TRRS cable and jacks.  These provide 4 wires, making them very useful for split keyboards, and are easy to find. \n\nHowever, since one of the wires carries VCC, this means that the boards are not hot pluggable. You should always disconnect the board from USB before unplugging and plugging in TRRS cables, or you can short the controller, or worse. \n\nAnother option is to use phone cables (as in, old school RJ-11/RJ-14 cables). Make sure that you use one that actually supports 4 wires/lanes.  \n\nHowever, USB cables, SATA cables, and even just 4 wires have been known to be used for communication between the controllers. \n\n::: warning\nUsing USB cables for communication between the controllers works just fine, but the connector could be mistaken for a normal USB connection and potentially short out the keyboard, depending on how it's wired.  For this reason, they are not recommended for connecting split keyboards.  \n:::"
              },
              "Serial Wiring": "The 3 wires of the TRS/TRRS cable need to connect GND, VCC, and D0/D1/D2/D3 (aka PD0/PD1/PD2/PD3) between the two Pro Micros. \n\n::: tip\nNote that the pin used here is actually set by `SOFT_SERIAL_PIN` below.\n:::\n\n<img alt=\"sk-pd0-connection-mono\" src=\"https://user-images.githubusercontent.com/2170248/92296488-28e9ad80-ef70-11ea-98be-c40cb48a0319.JPG\" width=\"48%\"/>\n<img alt=\"sk-pd2-connection-mono\" src=\"https://user-images.githubusercontent.com/2170248/92296490-2d15cb00-ef70-11ea-801f-5ace313013e6.JPG\" width=\"48%\"/>",
              "I<sup>2</sup>C Wiring": "The 4 wires of the TRRS cable need to connect GND, VCC, and SCL and SDA (aka PD0/pin 3 and PD1/pin 2, respectively) between the two Pro Micros. \n\nThe pull-up resistors may be placed on either half. If you wish to use the halves independently, it is also possible to use 4 resistors and have the pull-ups in both halves.\nNote that the total resistance for the connected system should be within spec at 2.2k-10kOhm, with an 'ideal' at 4.7kOhm, regardless of the placement and number.\n\n<img alt=\"sk-i2c-connection-mono\" src=\"https://user-images.githubusercontent.com/2170248/92297182-92b98580-ef77-11ea-9d7d-d6033914af43.JPG\" width=\"50%\"/>"
            },
            "Firmware Configuration": {
              "Layout Macro": "Configuring your layout in a split keyboard works slightly differently to a non-split keyboard. Take for example the following layout. The top left numbers refer to the matrix row and column, and the bottom right are the order of the keys in the layout:\n\n![Physical layout](https://i.imgur.com/QeY6kMQ.png)\n\nSince the matrix scanning procedure operates on entire rows, it first populates the left half's rows, then the right half's. Thus, the matrix as QMK views it has double the rows instead of double the columns:\n\n![Matrix](https://i.imgur.com/4wjJzBU.png)",
              "Setting Handedness": {
                "Handedness by Pin": "You can configure the firmware to read a pin on the controller to determine handedness.  To do this, add the following to your `config.h` file:\n\n```\n#define SPLIT_HAND_PIN B7\n```\n\nThis will read the specified pin. By default, if it's high, then the controller assumes it is the left hand, and if it's low, it's assumed to be the right side. \n\nThis behaviour can be flipped by adding this to you `config.h` file:\n\n```\n#define SPLIT_HAND_PIN_LOW_IS_LEFT\n```",
                "Handedness by Matrix Pin": "You can configure the firmware to read key matrix pins on the controller to determine handedness.  To do this, add the following to your `config.h` file:\n\n```\n#define SPLIT_HAND_MATRIX_GRID D0, F1\n```\n\nThe first pin is the output pin and the second is the input pin.\n\nSome keyboards have unused intersections in the key matrix. This setting uses one of these unused intersections to determine the handedness.\n\nNormally, when a diode is connected to an intersection, it is judged to be right. If you add the following definition, it will be judged to be left.\n\n```\n#define SPLIT_HAND_MATRIX_GRID_LOW_IS_LEFT\n```\n\nNote that adding a diode at a previously unused intersection will effectively tell the firmware that there is a key held down at that point. You can instruct qmk to ignore that intersection by defining `MATRIX_MASKED` and then defining a `matrix_row_t matrix_mask[MATRIX_ROWS]` array in your keyboard config. Each bit of a single value (starting form the least-significant bit) is used to tell qmk whether or not to pay attention to key presses at that intersection.\n\nWhile `MATRIX_MASKED` isn't necessary to use `SPLIT_HAND_MATRIX_GRID` successfully, without it you may experience issues trying to suspend your computer with your keyboard attached as the matrix will always report at least one key-press.",
                "Handedness by EEPROM": "This method sets the keyboard's handedness by setting a flag in the persistent storage (`EEPROM`).  This is checked when the controller first starts up, and determines what half the keyboard is, and how to orient the keyboard layout. \n\nTo enable this method, add the following to your `config.h` file: \n\n```\n#define EE_HANDS\n```\n\nNext, you will have to flash the correct handedness option to the controller on each halve. You can do this manually with the following bootloader targets using `qmk flash -kb <keyboard> -km <keymap> -bl <bootloader>` command to flash:\n\n|Microcontroller Type|Bootloader Parameter|\n|--------------------|--------------------|\n|AVR controllers with Caterina bootloader<br>(e.g. Pro Micro)|`avrdude-split-left`<br>`avrdude-split-right`|\n|AVR controllers with the stock Amtel DFU or DFU compatible bootloader<br>(e.g. Elite-C)|`dfu-split-left`<br>`dfu-split-right`|\n|ARM controllers with a DFU compatible bootloader<br>(e.g. Proton-C)|`dfu-util-split-left`<br>`dfu-util-split-right`|\n|ARM controllers with a UF2 compatible bootloader<br>(e.g. RP2040)|`uf2-split-left`<br>`uf2-split-right`|\n\nExample for `crkbd/rev1` keyboard with normal AVR Pro Micro MCUs, reset the left controller and run:\n\n```\nqmk flash -kb crkbd/rev1 -km default -bl avrdude-split-left\n```\n\nReset the right controller and run:\n\n```\nqmk flash -kb crkbd/rev1 -km default -bl avrdude-split-right\n```\n\n::: tip\nSome controllers (e.g. Blackpill with DFU compatible bootloader) will need to be flashed with handedness bootloader parameter every time because it is not retained between flashes.\n:::\n\n::: tip\n[QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases/) can also be used to flash EEPROM handedness files. Place the controller in bootloader mode and select menu option Tools -> EEPROM -> Set Left/Right Hand\n:::\n\nThis setting is not changed when re-initializing the EEPROM using the `EE_CLR` key, or using the `eeconfig_init()` function.  However, if you reset the EEPROM outside of the firmware's built in options (such as flashing a file that overwrites the `EEPROM`, like how the [QMK Toolbox](https://github.com/qmk/qmk_toolbox/releases/)'s \"Reset EEPROM\" button works), you'll need to re-flash the controller with the `EEPROM` files. \n\nYou can find the `EEPROM` files in the QMK firmware repo, [here](https://github.com/qmk/qmk_firmware/tree/master/quantum/split_common).",
                "Handedness by `#define`": "You can use this option when USB cable is always connected to just one side of the split keyboard.\n\nIf the USB cable is always connected to the right side, add the following to your `config.h` file and flash both sides with this option:\n\n```\n#define MASTER_RIGHT\n```\n\nIf the USB cable is always connected to the left side, add the following to your `config.h` file and flash both sides with this option:\n\n```\n#define MASTER_LEFT\n```\n\n::: tip\nIf neither options are defined, the handedness defaults to `MASTER_LEFT`.\n:::"
              },
              "Communication Options": "Because not every split keyboard is identical, there are a number of additional options that can be configured in your `config.h` file.\n\n```\n#define USE_I2C\n```\n\nThis configures the use of I<sup>2</sup>C support for split keyboard transport (AVR only).  \n\n```\n#define SOFT_SERIAL_PIN D0\n```\n\nThis sets the pin to be used for serial communication. If you're not using serial, you shouldn't need to define this.  \n\nHowever, if you are using serial and I<sup>2</sup>C on the board, you will need to set this, and to something other than D0 and D1 (as these are used for I<sup>2</sup>C communication).\n\n```\n#define SELECT_SOFT_SERIAL_SPEED {#}\n```\n\nIf you're having issues with serial communication, you can change this value, as it controls the communication speed for serial.  The default is 1, and the possible values are:\n\n['**`0`**: about 189kbps (Experimental only)', '**`1`**: about 137kbps (default)', '**`2`**: about 75kbps', '**`3`**: about 39kbps', '**`4`**: about 26kbps', '**`5`**: about 20kbps']\n\n```\n#define FORCED_SYNC_THROTTLE_MS 100\n```\n\nThis sets the maximum number of milliseconds before forcing a synchronization of data from master to slave. Under normal circumstances this sync occurs whenever the data _changes_, for safety a data transfer occurs after this number of milliseconds if no change has been detected since the last sync. \n\n```\n#define SPLIT_MAX_CONNECTION_ERRORS 10\n```\n\nThis sets the maximum number of failed communication attempts (one per scan cycle) from the master part before it assumes that no slave part is connected. This makes it possible to use a master part without the slave part connected.\n\nSet to 0 to disable the disconnection check altogether.\n\n```\n#define SPLIT_CONNECTION_CHECK_TIMEOUT 500\n```\n\nHow long (in milliseconds) the master part should block all connection attempts to the slave after the communication has been flagged as disconnected (see `SPLIT_MAX_CONNECTION_ERRORS` above).\n\nOne communication attempt will be allowed everytime this amount of time has passed since the last attempt. If that attempt succeeds, the communication is seen as working again.\n\nSet to 0 to disable this throttling of communications while disconnected. This can save you a couple of bytes of firmware size.",
              "Data Sync Options": "The following sync options add overhead to the split communication protocol and may negatively impact the matrix scan speed when enabled. These can be enabled by adding the chosen option(s) to your `config.h` file.\n\n```\n#define SPLIT_TRANSPORT_MIRROR\n```\n\nThis mirrors the master side matrix to the slave side for features that react or require knowledge of master side key presses on the slave side. The purpose of this feature is to support cosmetic use of key events (e.g. RGB reacting to keypresses).\n\n```\n#define SPLIT_LAYER_STATE_ENABLE\n```\n\nThis enables syncing of the layer state between both halves of the split keyboard. The main purpose of this feature is to enable support for use of things like OLED display of the currently active layer.\n\n```\n#define SPLIT_LED_STATE_ENABLE\n```\n\nThis enables syncing of the Host LED status (caps lock, num lock, etc) between both halves of the split keyboard. The main purpose of this feature is to enable support for use of things like OLED display of the Host LED status.\n\n```\n#define SPLIT_MODS_ENABLE\n```\n\nThis enables transmitting modifier state (normal, weak, oneshot and oneshot locked) to the non primary side of the split keyboard. The purpose of this feature is to support cosmetic use of modifer state (e.g. displaying status on an OLED screen).\n\n```\n#define SPLIT_WPM_ENABLE\n```\n\nThis enables transmitting the current WPM to the slave side of the split keyboard. The purpose of this feature is to support cosmetic use of WPM (e.g. displaying the current value on an OLED screen).\n\n```\n#define SPLIT_OLED_ENABLE\n```\n\nThis enables transmitting the current OLED on/off status to the slave side of the split keyboard. The purpose of this feature is to support state (on/off state only) syncing.\n\n```\n#define SPLIT_ST7565_ENABLE\n```\n\nThis enables transmitting the current ST7565 on/off status to the slave side of the split keyboard. The purpose of this feature is to support state (on/off state only) syncing.\n\n```\n#define SPLIT_POINTING_ENABLE\n```\n\nThis enables transmitting the pointing device status to the master side of the split keyboard. The purpose of this feature is to enable use pointing devices on the slave side. \n\n::: warning\nThere is additional required configuration for `SPLIT_POINTING_ENABLE` outlined in the [pointing device documentation](pointing_device#split-keyboard-configuration).\n:::\n\n```\n#define SPLIT_HAPTIC_ENABLE\n```\n\nThis enables the triggering of haptic feedback on the slave side of the split keyboard. This will send information to the slave side such as the mode, dwell, and whether buzz is enabled.\n\n```\n#define SPLIT_ACTIVITY_ENABLE\n```\n\nThis synchronizes the activity timestamps between sides of the split keyboard, allowing for activity timeouts to occur.",
              "Custom data sync between sides {#custom-data-sync}": "QMK's split transport allows for arbitrary data transactions at both the keyboard and user levels. This is modelled on a remote procedure call, with the master invoking a function on the slave side, with the ability to send data from master to slave, process it slave side, and send data back from slave to master.\n\nTo leverage this, a keyboard or user/keymap can define a comma-separated list of _transaction IDs_:\n\n```\n// for keyboard-level data sync:\n#define SPLIT_TRANSACTION_IDS_KB KEYBOARD_SYNC_A, KEYBOARD_SYNC_B\n// or, for user:\n#define SPLIT_TRANSACTION_IDS_USER USER_SYNC_A, USER_SYNC_B, USER_SYNC_C\n```\n\nThese _transaction IDs_ then need a slave-side handler function to be registered with the split transport, for example:\n\n```\ntypedef struct _master_to_slave_t {\n    int m2s_data;\n} master_to_slave_t;\n\ntypedef struct _slave_to_master_t {\n    int s2m_data;\n} slave_to_master_t;\n\nvoid user_sync_a_slave_handler(uint8_t in_buflen, const void* in_data, uint8_t out_buflen, void* out_data) {\n    const master_to_slave_t *m2s = (const master_to_slave_t*)in_data;\n    slave_to_master_t *s2m = (slave_to_master_t*)out_data;\n    s2m->s2m_data = m2s->m2s_data + 5; // whatever comes in, add 5 so it can be sent back\n}\n\nvoid keyboard_post_init_user(void) {\n    transaction_register_rpc(USER_SYNC_A, user_sync_a_slave_handler);\n}\n```\n\nThe master side can then invoke the slave-side handler - for normal keyboard functionality to be minimally affected, any keyboard- or user-level code attempting to sync data should be throttled:\n\n```\nvoid housekeeping_task_user(void) {\n    if (is_keyboard_master()) {\n        // Interact with slave every 500ms\n        static uint32_t last_sync = 0;\n        if (timer_elapsed32(last_sync) > 500) {\n            master_to_slave_t m2s = {6};\n            slave_to_master_t s2m = {0};\n            if(transaction_rpc_exec(USER_SYNC_A, sizeof(m2s), &m2s, sizeof(s2m), &s2m)) {\n                last_sync = timer_read32();\n                dprintf(\"Slave value: %d\\n\", s2m.s2m_data); // this will now be 11, as the slave adds 5\n            } else {\n                dprint(\"Slave sync failed!\\n\");\n            }\n        }\n    }\n}\n```\n\n::: warning\nIt is recommended that any data sync between halves happens during the master side's _housekeeping task_. This ensures timely retries should failures occur.\n:::\n\nIf only one-way data transfer is needed, helper methods are provided:\n\n```\nbool transaction_rpc_exec(int8_t transaction_id, uint8_t initiator2target_buffer_size, const void *initiator2target_buffer, uint8_t target2initiator_buffer_size, void *target2initiator_buffer);\nbool transaction_rpc_send(int8_t transaction_id, uint8_t initiator2target_buffer_size, const void *initiator2target_buffer);\nbool transaction_rpc_recv(int8_t transaction_id, uint8_t target2initiator_buffer_size, void *target2initiator_buffer);\n```\n\nBy default, the inbound and outbound data is limited to a maximum of 32 bytes each. The sizes can be altered if required:\n\n```\n// Master to slave:\n#define RPC_M2S_BUFFER_SIZE 48\n// Slave to master:\n#define RPC_S2M_BUFFER_SIZE 48\n```",
              "Hardware Configuration Options": "There are some settings that you may need to configure, based on how the hardware is set up. \n\n```\n#define MATRIX_ROW_PINS_RIGHT { <row pins> }\n#define MATRIX_COL_PINS_RIGHT { <col pins> }\n```\n\nThis allows you to specify a different set of pins for the matrix on the right side.  This is useful if you have a board with differently-shaped halves that requires a different configuration (such as Keebio's Quefrency). The number of pins in the right and left matrices must be the same, if you have a board with a different number of rows or columns on one side, pad out the extra spaces with `NO_PIN` and make sure you add the unused rows or columns to your matrix.\n\n```\n#define DIRECT_PINS_RIGHT { { F1, F0, B0, C7 }, { F4, F5, F6, F7 } }\n```\n\nThis allows you to specify a different set of direct pins for the right side.\n\n```\n#define ENCODER_A_PINS_RIGHT { encoder1a, encoder2a }\n#define ENCODER_B_PINS_RIGHT { encoder1b, encoder2b }\n```\n\nThis allows you to specify a different set of encoder pins for the right side.\n\n```\n#define RGBLIGHT_SPLIT\n```\n\nThis option enables synchronization of the RGB Light modes between the controllers of the split keyboard.  This is for keyboards that have RGB LEDs that are directly wired to the controller (that is, they are not using the \"extra data\" option on the TRRS cable).\n\n```\n#define RGBLED_SPLIT { 6, 6 }\n```\n\nThis sets how many LEDs are directly connected to each controller.  The first number is the left side, and the second number is the right side.  \n\n::: tip\nThis setting implies that `RGBLIGHT_SPLIT` is enabled, and will forcibly enable it, if it's not.\n:::\n\n```\n#define SPLIT_USB_DETECT\n```\n\nEnabling this option changes the startup behavior to listen for an active USB communication to delegate which part is master and which is slave. With this option enabled and active USB communication, then that half assumes it is the master, otherwise it assumes it is the slave.\n\nWithout this option, the master is the half that can detect voltage on the physical USB connection (VBUS detection).\n\nEnabled by default on ChibiOS/ARM.\n\n::: tip\nThis setting will stop the ability to demo using battery packs.\n:::\n\n```\n#define SPLIT_USB_TIMEOUT 2000\n```\n\nThis sets the maximum timeout when detecting master/slave when using `SPLIT_USB_DETECT`.\n\n```\n#define SPLIT_USB_TIMEOUT_POLL 10\n```\n\nThis sets the poll frequency when detecting master/slave when using `SPLIT_USB_DETECT`\n\n```\n#define SPLIT_WATCHDOG_ENABLE\n```\n\nThis will enable a software watchdog on any side delegated as slave and will reboot the keyboard if no successful communication occurs within `SPLIT_WATCHDOG_TIMEOUT`. This can be particularly helpful when `SPLIT_USB_DETECT` delegates both sides as slave in some circumstances.\n\n```\n#define SPLIT_WATCHDOG_TIMEOUT 3000\n```\n\nThis set the maximum slave timeout when waiting for communication from master when using `SPLIT_WATCHDOG_ENABLE`"
            },
            "Hardware Considerations and Mods": {
              "Teensy boards": "Teensy boards lack VBUS detection out of the box and must have `SPLIT_USB_DETECT` defined. With the Teensy 2.0 and Teensy++ 2.0, there is a simple hardware mod that you can perform to add VBUS detection, so you don't need the `SPLIT_USB_DETECT` option.\n\nYou'll only need a few things:\n\n['A knife (x-acto knife, ideally)', 'A solder station or hot air station', 'An appropriate Schottky diode, such as the [PMEG2005EH](https://www.digikey.com/en/products/detail/nexperia-usa-inc/PMEG2005EH,115/1589924)']\n\nYou'll need to cut the small trace between the 5V and center pads on the back of the Teensy.\n\nOnce you have done that, you will want to solder the diode from the 5V pad to the center pad.\n\nYou may need to use the 5V pad from the regulator block above as the pads were too small and placed too closely together to place the Schottky diode properly.\n\n![Teensy++ 2.0](https://i.imgur.com/BPEC5n5.png)"
            },
            "Additional Resources": "Nicinabox has a [very nice and detailed guide](https://github.com/nicinabox/lets-split-guide) for the Let's Split keyboard, that covers most everything you need to know, including troubleshooting information. \n\nHowever, the RGB Light section is out of date, as it was written long before the RGB Split code was added to QMK Firmware. Instead, wire each strip up directly to the controller.\n\n<!-- I may port this information later, but for now ... it's very nice, and covers everything -->"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 38]"
        },
        {
          "title": "ST7565 LCD Driver",
          "description": null,
          "content": {
            "Supported Hardware": "LCD modules using ST7565 driver IC, communicating over SPI.\n\n|Module                        |IC     |Size  |Notes                                                     |\n|------------------------------|-------|------|----------------------------------------------------------|\n|Newhaven Display NHD-C12832A1Z|ST7565R|128x32|Used by Ergodox Infinity; primary consumer of this feature|\n|Zolentech ZLE12864B           |ST7565P|128x64|Requires contrast adjustment                              |",
            "Usage": "To enable the feature, there are three steps. First, when compiling your keyboard, you'll need to add the following to your `rules.mk`:\n\n```\nST7565_ENABLE = yes\n```\n\nThen in your `keymap.c` file, implement the ST7565 task call. This example assumes your keymap has three layers named `_QWERTY`, `_FN` and `_ADJ`:\n\n```\n#ifdef ST7565_ENABLE\nvoid st7565_task_user(void) {\n    // Host Keyboard Layer Status\n    st7565_write_P(PSTR(\"Layer: \"), false);\n\n    switch (get_highest_layer(layer_state)) {\n        case _QWERTY:\n            st7565_write_P(PSTR(\"Default\\n\"), false);\n            break;\n        case _FN:\n            st7565_write_P(PSTR(\"FN\\n\"), false);\n            break;\n        case _ADJ:\n            st7565_write_P(PSTR(\"ADJ\\n\"), false);\n            break;\n        default:\n            // Or use the write_ln shortcut over adding '\\n' to the end of your string\n            st7565_write_ln_P(PSTR(\"Undefined\"), false);\n    }\n\n    // Host Keyboard LED Status\n    led_t led_state = host_keyboard_led_state();\n    st7565_write_P(led_state.num_lock ? PSTR(\"NUM \") : PSTR(\"    \"), false);\n    st7565_write_P(led_state.caps_lock ? PSTR(\"CAP \") : PSTR(\"    \"), false);\n    st7565_write_P(led_state.scroll_lock ? PSTR(\"SCR \") : PSTR(\"    \"), false);\n}\n#endif\n```",
            "Logo Example": "In the default font, certain ranges of characters are reserved for a QMK logo. To render this logo to the screen, use the following code example:\n\n```\nstatic void render_logo(void) {\n    static const char PROGMEM qmk_logo[] = {\n        0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A, 0x8B, 0x8C, 0x8D, 0x8E, 0x8F, 0x90, 0x91, 0x92, 0x93, 0x94,\n        0xA0, 0xA1, 0xA2, 0xA3, 0xA4, 0xA5, 0xA6, 0xA7, 0xA8, 0xA9, 0xAA, 0xAB, 0xAC, 0xAD, 0xAE, 0xAF, 0xB0, 0xB1, 0xB2, 0xB3, 0xB4,\n        0xC0, 0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7, 0xC8, 0xC9, 0xCA, 0xCB, 0xCC, 0xCD, 0xCE, 0xCF, 0xD0, 0xD1, 0xD2, 0xD3, 0xD4, 0x00\n    };\n\n    st7565_write_P(qmk_logo, false);\n}\n```",
            "Buffer Read Example": "For some purposes, you may need to read the current state of the display buffer. The `st7565_read_raw` function can be used to safely read bytes from the buffer.\n\nIn this example, calling `fade_display` in the `st7565_task_user` function will slowly fade away whatever is on the screen by turning random pixels off over time.\n\n```\n//Setup some mask which can be or'd with bytes to turn off pixels\nconst uint8_t single_bit_masks[8] = {127, 191, 223, 239, 247, 251, 253, 254};\n\nstatic void fade_display(void) {\n    //Define the reader structure\n    display_buffer_reader_t reader;\n    uint8_t buff_char;\n    if (random() % 30 == 0) {\n        srand(timer_read());\n        // Fetch a pointer for the buffer byte at index 0. The return structure\n        // will have the pointer and the number of bytes remaining from this\n        // index position if we want to perform a sequential read by\n        // incrementing the buffer pointer\n        reader = st7565_read_raw(0);\n        //Loop over the remaining buffer and erase pixels as we go\n        for (uint16_t i = 0; i < reader.remaining_element_count; i++) {\n            //Get the actual byte in the buffer by dereferencing the pointer\n            buff_char = *reader.current_element;\n            if (buff_char != 0) {\n                st7565_write_raw_byte(buff_char & single_bit_masks[rand() % 8], i);\n            }\n            //increment the pointer to fetch a new byte during the next loop\n            reader.current_element++;\n        }\n    }\n}\n```",
            "Other Examples": "In split keyboards, it is very common to have two displays that each render different content and are oriented or flipped differently. You can do this by switching which content to render by using the return value from `is_keyboard_master()` or `is_keyboard_left()` found in `split_util.h`, e.g:\n\n```\n#ifdef ST7565_ENABLE\ndisplay_rotation_t st7565_init_user(display_rotation_t rotation) {\n    if (!is_keyboard_master()) {\n        return DISPLAY_ROTATION_180;  // flips the display 180 degrees if offhand\n    }\n\n    return rotation;\n}\n\nvoid st7565_task_user(void) {\n    if (is_keyboard_master()) {\n        render_status();  // Renders the current keyboard state (layer, lock, caps, scroll, etc)\n    } else {\n        render_logo();  // Renders a static logo\n    }\n}\n#endif\n```",
            "Basic Configuration": "|Define                  |Default       |Description                                                                                          |\n|------------------------|--------------|-----------------------------------------------------------------------------------------------------|\n|`ST7565_A0_PIN`         |*Not defined* |(Required) The GPIO connected to the display's A0 (data/command) pin                                 |\n|`ST7565_RST_PIN`        |*Not defined* |(Required) The GPIO connected to the display's reset pin                                             |\n|`ST7565_SS_PIN`         |*Not defined* |(Required) The GPIO connected to the display's slave select pin                                      |\n|`ST7565_SPI_CLK_DIVISOR`|`4`           |The SPI clock divisor to use                                                                         |\n|`ST7565_FONT_H`         |`\"glcdfont.c\"`|The font code file to use for custom fonts                                                           |\n|`ST7565_FONT_START`     |`0`           |The starting character index for custom fonts                                                        |\n|`ST7565_FONT_END`       |`223`         |The ending character index for custom fonts                                                          |\n|`ST7565_FONT_WIDTH`     |`6`           |The font width                                                                                       |\n|`ST7565_FONT_HEIGHT`    |`8`           |The font height (untested)                                                                           |\n|`ST7565_TIMEOUT`        |`60000`       |Turns off the screen after 60000ms of keyboard inactivity. Helps reduce burn-in. Set to 0 to disable.|\n|`ST7565_COLUMN_OFFSET`  |`0`           |Shift output to the right this many pixels.                                                          |\n|`ST7565_CONTRAST`       |`32`          |The default contrast level of the display, from 0 to 255.                                            |\n|`ST7565_UPDATE_INTERVAL`|`0`           |Set the time interval for updating the display in ms. This will improve the matrix scan rate.        |",
            "Custom sized displays": "The default display size for this feature is 128x32 and all necessary defines are precalculated with that in mind.\n\n|Define                 |Default   |Description                                                                                                |\n|-----------------------|----------|-----------------------------------------------------------------------------------------------------------|\n|`ST7565_DISPLAY_WIDTH` |`128`     |The width of the display.                                                                                  |\n|`ST7565_DISPLAY_HEIGHT`|`32`      |The height of the display.                                                                                 |\n|`ST7565_MATRIX_SIZE`   |`512`     |The local buffer size to allocate.<br>`(ST7565_DISPLAY_HEIGHT / 8 * ST7565_DISPLAY_WIDTH)`.                |\n|`ST7565_BLOCK_TYPE`    |`uint16_t`|The unsigned integer type to use for dirty rendering.                                                      |\n|`ST7565_BLOCK_COUNT`   |`16`      |The number of blocks the display is divided into for dirty rendering.<br>`(sizeof(ST7565_BLOCK_TYPE) * 8)`.|\n|`ST7565_BLOCK_SIZE`    |`32`      |The size of each block for dirty rendering<br>`(ST7565_MATRIX_SIZE / ST7565_BLOCK_COUNT)`.                 |",
            "API": "```\n// Rotation enum values are flags\ntypedef enum {\n    DISPLAY_ROTATION_0,\n    DISPLAY_ROTATION_180\n} display_rotation_t;\n\n// Initialize the display, rotating the rendered output based on the define passed in.\n// Returns true if the was initialized successfully\nbool st7565_init(display_rotation_t rotation);\n\n// Called at the start of st7565_init, weak function overridable by the user\n// rotation - the value passed into st7565_init\n// Return new display_rotation_t if you want to override default rotation\ndisplay_rotation_t st7565_init_user(display_rotation_t rotation);\n\n// Clears the display buffer, resets cursor position to 0, and sets the buffer to dirty for rendering\nvoid st7565_clear(void);\n\n// Renders the dirty chunks of the buffer to display\nvoid st7565_render(void);\n\n// Moves cursor to character position indicated by column and line, wraps if out of bounds\n// Max column denoted by 'st7565_max_chars()' and max lines by 'st7565_max_lines()' functions\nvoid st7565_set_cursor(uint8_t col, uint8_t line);\n\n// Advances the cursor to the next page, writing ' ' if true\n// Wraps to the begining when out of bounds\nvoid st7565_advance_page(bool clearPageRemainder);\n\n// Moves the cursor forward 1 character length\n// Advance page if there is not enough room for the next character\n// Wraps to the begining when out of bounds\nvoid st7565_advance_char(void);\n\n// Writes a single character to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Main handler that writes character data to the display buffer\nvoid st7565_write_char(const char data, bool invert);\n\n// Writes a string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\nvoid st7565_write(const char *data, bool invert);\n\n// Writes a string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Advances the cursor to the next page, wiring ' ' to the remainder of the current page\nvoid st7565_write_ln(const char *data, bool invert);\n\n// Pans the buffer to the right (or left by passing true) by moving contents of the buffer\n// Useful for moving the screen in preparation for new drawing\nvoid st7565_pan(bool left);\n\n// Returns a pointer to the requested start index in the buffer plus remaining\n// buffer length as struct\ndisplay_buffer_reader_t st7565_read_raw(uint16_t start_index);\n\n// Writes a string to the buffer at current cursor position\nvoid st7565_write_raw(const char *data, uint16_t size);\n\n// Writes a single byte into the buffer at the specified index\nvoid st7565_write_raw_byte(const char data, uint16_t index);\n\n// Sets a specific pixel on or off\n// Coordinates start at top-left and go right and down for positive x and y\nvoid st7565_write_pixel(uint8_t x, uint8_t y, bool on);\n\n// Writes a PROGMEM string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Remapped to call 'void st7565_write(const char *data, bool invert);' on ARM\nvoid st7565_write_P(const char *data, bool invert);\n\n// Writes a PROGMEM string to the buffer at current cursor position\n// Advances the cursor while writing, inverts the pixels if true\n// Advances the cursor to the next page, wiring ' ' to the remainder of the current page\n// Remapped to call 'void st7565_write_ln(const char *data, bool invert);' on ARM\nvoid st7565_write_ln_P(const char *data, bool invert);\n\n// Writes a PROGMEM string to the buffer at current cursor position\nvoid st7565_write_raw_P(const char *data, uint16_t size);\n\n// Can be used to manually turn on the screen if it is off\n// Returns true if the screen was on or turns on\nbool st7565_on(void);\n\n// Called when st7565_on() turns on the screen, weak function overridable by the user\n// Not called if the screen is already on\nvoid st7565_on_user(void);\n\n// Can be used to manually turn off the screen if it is on\n// Returns true if the screen was off or turns off\nbool st7565_off(void);\n\n// Called when st7565_off() turns off the screen, weak function overridable by the user\n// Not called if the screen is already off\nvoid st7565_off_user(void);\n\n// Returns true if the screen is currently on, false if it is\n// not\nbool st7565_is_on(void);\n\n// Basically it's st7565_render, but with timeout management and st7565_task_user calling!\nvoid st7565_task(void);\n\n// Called at the start of st7565_task, weak function overridable by the user\nvoid st7565_task_user(void);\n\n// Inverts the display\n// Returns true if the screen was or is inverted\nbool st7565_invert(bool invert);\n\n// Returns the maximum number of characters that will fit on a line\nuint8_t st7565_max_chars(void);\n\n// Returns the maximum number of lines that will fit on the display\nuint8_t st7565_max_lines(void);\n```"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 39]"
        },
        {
          "title": "Stenography in QMK {#stenography-in-qmk}",
          "description": null,
          "content": {
            "Steno Support in QMK": "There are three ways that QMK keyboards can support steno, with varying degrees of configuration required:\n\n['Plover with [Arpeggiation](https://plover.wiki/index.php/Glossary#Arpeggiate) requires no changes to any keyboard and is supported by QMK as well as any other QWERTY keyboard.', 'Plover with [NKRO](https://plover.wiki/index.php/Using_a_standard_keyboard_with_Plover#NKRO). If your keyboard supports NKRO in hardware and you have NKRO enabled as a USB endpoint, you can chord with the keyboard. Many devices will arrive stock like this and will require no changes.', 'Steno Machine Protocols.  This requires the most configuration, but this has the advantage of allowing you to use your keyboard keys normally (either on another layer or another piece of hardware) without enabling and disabling your steno software.']",
            "Plover with QWERTY Keyboard {#plover-with-qwerty-keyboard}": "Plover can work with any standard QWERTY keyboard, although it is more efficient if the keyboard supports NKRO (n-key rollover) to allow Plover to see all the pressed keys at once. An example keymap for Plover can be found in `planck/keymaps/default`. Switching to the `PLOVER` layer adjusts the position of the keyboard to support the number bar.\n\nTo enable NKRO, add `NKRO_ENABLE = yes` in your `rules.mk` and make sure to press `NK_ON` to turn it on because `NKRO_ENABLE = yes` merely adds the possibility of switching to NKRO mode but it doesn't automatically switch to it. If you want to automatically switch, add `#define NKRO_DEFAULT_ON true` in your `config.h`.\n\nYou may also need to adjust your layout, either in QMK or in Plover, if you have anything other than a standard layout. You may also want to purchase some steno-friendly keycaps to make it easier to hit multiple keys.",
            "Plover with Steno Protocol {#plover-with-steno-protocol}": {
              "TX Bolt {#tx-bolt}": "TX Bolt communicates the status of 24 keys over a simple protocol in variable-sized (1&ndash;4 bytes) packets.\n\nTo select TX Bolt, add the following lines to your `rules.mk`:\n\n```\nSTENO_ENABLE = yes\nSTENO_PROTOCOL = txbolt\n```\n\nEach byte of the packet represents a different group of steno keys. Determining the group of a certain byte of the packet is done by checking the first two bits, the remaining bits are set if the corresponding steno key was pressed for the stroke. The last set of keys (as indicated by leading `11`) needs to keep track of less keys than there are bits so one of the bits is constantly 0.\n\nThe start of a new packet can be detected by comparing the group ID (the two MSBs) of the current byte to that of the previously received byte. If the group ID of the current byte is smaller or equal to that of the previous byte, it means that the current byte is the beginning of a new packet.\n\nThe format of TX Bolt packets is shown below.\n\n```\n00HWPKTS 01UE*OAR 10GLBPRF 110#ZDST\n```\n\nExamples of steno strokes and the associated packet:\n\n['`EUBG`    = `01110000 10101000`', '`WAZ`     = `00010000 01000010 11001000`', '`PHAPBGS` = `00101000 01000010 10101100 11000010`']",
              "GeminiPR {#geminipr}": "GeminiPR encodes 42 keys into a 6-byte packet. While TX Bolt contains everything that is necessary for standard stenography, GeminiPR opens up many more options, including differentiating between top and bottom `S-`, and supporting non-English theories.\n\nTo select GeminiPR, add the following lines to your `rules.mk`:\n\n```\nSTENO_ENABLE = yes\nSTENO_PROTOCOL = geminipr\n```\n\nAll packets in the GeminiPR protocol consist of exactly six bytes, used as bit-arrays for different groups of keys. The beginning of a packet is indicated by setting the most significant bit (MSB) to 1 while setting the MSB of the remaining five bytes to 0.\n\nThe format of GeminiPR packets is shown below.\n\n```\n1 Fn  #1  #2 #3 #4 #5   #6\n0 S1- S2- T- K- P- W-   H-\n0 R-  A-  O- *1 *2 res1 res2\n0 pwr *3  *4 -E -U -F   -R\n0 -P  -B  -L -G -T -S   -D\n0 #7  #8  #9 #A #B #C   -Z\n```\n\nExamples of steno strokes and the associated packet:\n\n['`EUBG`    = `10000000 00000000 00000000 00001100 00101000 00000000`', '`WAZ`     = `10000000 00000010 00100000 00000000 00000000 00000001`', '`PHAPBGS` = `10000000 00000101 00100000 00000000 01101010 00000000`']",
              "Switching protocols on the fly {#switching-protocols-on-the-fly}": "If you wish to switch the serial protocol used to transfer the steno chords without having to recompile your keyboard firmware every time, you can press the `QK_STENO_BOLT` and `QK_STENO_GEMINI` keycodes in order to switch protocols on the fly.\n\nTo enable these special keycodes, add the following lines to your `rules.mk`:\n\n```\nSTENO_ENABLE = yes\nSTENO_PROTOCOL = all\n```\n\nIf you want to switch protocols programatically, as part of a custom macro for example, don't use `tap_code(QK_STENO_*)`, as `tap_code` only supports [basic keycodes](../keycodes_basic). Instead, you should use `steno_set_mode(STENO_MODE_*)`, whose valid arguments are `STENO_MODE_BOLT` and `STENO_MODE_GEMINI`.\n\nThe default protocol is Gemini PR but the last protocol used is stored in non-volatile memory so QMK will remember your choice between reboots of your keyboard &mdash; assuming that your keyboard features (emulated) EEPROM.\n\nNaturally, this option takes the most amount of firmware space as it needs to compile the code for all the available stenography protocols. In most cases, compiling a single stenography protocol is sufficient.\n\nThe default value for `STENO_PROTOCOL` is `all`."
            },
            "Configuring QMK for Steno {#configuring-qmk-for-steno}": "After enabling stenography and optionally selecting a protocol, you may also need disable mouse keys, extra keys, or another USB endpoint to prevent conflicts. The builtin USB stack for some processors only supports a certain number of USB endpoints and the virtual serial port needed for steno fills 3 of them.\n\n::: warning\nIf you had *explicitly* set `VIRSTER_ENABLE = no`, none of the serial stenography protocols (GeminiPR, TX Bolt) will work properly. You are expected to either set it to `yes`, remove the line from your `rules.mk` or send the steno chords yourself in an alternative way using the [provided interceptable hooks](#interfacing-with-the-code).\n:::\n\nIn your keymap, create a new layer for Plover, that you can fill in with the [steno keycodes](#keycode-reference). Remember to create a key to switch to the layer as well as a key for exiting the layer.\n\nOnce you have your keyboard flashed, launch Plover. Click the 'Configure...' button. In the 'Machine' tab, select the Stenotype Machine that corresponds to your desired protocol. Click the 'Configure...' button on this tab and enter the serial port or click 'Scan'. Baud rate is fine at 9600 (although you should be able to set as high as 115200 with no issues). Use the default settings for everything else (Data Bits: 8, Stop Bits: 1, Parity: N, no flow control).\n\nTo test your keymap, you can chord keys on your keyboard and either look at the output of the 'paper tape' (Tools > Paper Tape) or that of the 'layout display' (Tools > Layout Display). If your strokes correctly show up, you are now ready to steno!",
            "Learning Stenography {#learning-stenography}": [
              "[Learn Plover!](https://sites.google.com/site/learnplover/)",
              "[Steno Jig](https://joshuagrams.github.io/steno-jig/)",
              "More resources at the Plover [Learning Stenography](https://github.com/openstenoproject/plover/wiki/Learning-Stenography) wiki"
            ],
            "Interfacing with the code {#interfacing-with-the-code}": "The steno code has three interceptable hooks. If you define these functions, they will be called at certain points in processing; if they return true, processing continues, otherwise it's assumed you handled things.\n\n```\nbool send_steno_chord_user(steno_mode_t mode, uint8_t chord[MAX_STROKE_SIZE]);\n```\n\nThis function is called when a chord is about to be sent. Mode will be one of `STENO_MODE_BOLT` or `STENO_MODE_GEMINI`. This represents the actual chord that would be sent via whichever protocol. You can modify the chord provided to alter what gets sent. Remember to return true if you want the regular sending process to happen.\n\n```\nbool process_steno_user(uint16_t keycode, keyrecord_t *record) { return true; }\n```\n\nThis function is called when a keypress has come in, before it is processed. The keycode should be one of `QK_STENO_BOLT`, `QK_STENO_GEMINI`, or one of the `STN_*` key values.\n\n```\nbool post_process_steno_user(uint16_t keycode, keyrecord_t *record, steno_mode_t mode, uint8_t chord[MAX_STROKE_SIZE], int8_t n_pressed_keys);\n```\n\nThis function is called after a key has been processed, but before any decision about whether or not to send a chord. This is where to put hooks for things like, say, live displays of steno chords or keys.\n\nIf `record->event.pressed` is false, and `n_pressed_keys` is 0 or 1, the chord will be sent shortly, but has not yet been sent. This relieves you of the need of keeping track of where a packet ends and another begins.\n\nThe `chord` argument contains the packet of the current chord as specified by the protocol in use. This is *NOT* simply a list of chorded steno keys of the form `[STN_E, STN_U, STN_BR, STN_GR]`. Refer to the appropriate protocol section of this document to learn more about the format of the packets in your steno protocol/mode of choice.\n\nThe `n_pressed_keys` argument is the number of physical keys actually being held down.\nThis is not always equal to the number of bits set to 1 (aka the [Hamming weight](https://en.wikipedia.org/wiki/Hamming_weight)) in `chord` because it is possible to simultaneously press down four keys, then release three of those four keys and then press yet another key while the fourth finger is still holding down its key.\nAt the end of this scenario given as an example, `chord` would have five bits set to 1 but\n`n_pressed_keys` would be set to 2 because there are only two keys currently being pressed down.",
            "Keycode Reference {#keycode-reference}": "::: info\nTX Bolt does not support the full set of keys. The TX Bolt implementation in QMK will map the GeminiPR keys to the nearest TX Bolt key so that one key map will work for both.\n:::\n\n|GeminiPR|TX Bolt|Steno Key|\n|--------|-------|-----------|\n|`STN_N1`|`STN_NUM`|Number bar #1|\n|`STN_N2`|`STN_NUM`|Number bar #2|\n|`STN_N3`|`STN_NUM`|Number bar #3|\n|`STN_N4`|`STN_NUM`|Number bar #4|\n|`STN_N5`|`STN_NUM`|Number bar #5|\n|`STN_N6`|`STN_NUM`|Number bar #6|\n|`STN_N7`|`STN_NUM`|Number bar #7|\n|`STN_N8`|`STN_NUM`|Number bar #8|\n|`STN_N9`|`STN_NUM`|Number bar #9|\n|`STN_NA`|`STN_NUM`|Number bar #A|\n|`STN_NB`|`STN_NUM`|Number bar #B|\n|`STN_NC`|`STN_NUM`|Number bar #C|\n|`STN_S1`|`STN_SL`| `S-` upper|\n|`STN_S2`|`STN_SL`| `S-` lower|\n|`STN_TL`|`STN_TL`| `T-`|\n|`STN_KL`|`STN_KL`| `K-`|\n|`STN_PL`|`STN_PL`| `P-`|\n|`STN_WL`|`STN_WL`| `W-`|\n|`STN_HL`|`STN_HL`| `H-`|\n|`STN_RL`|`STN_RL`| `R-`|\n|`STN_A`|`STN_A`| `A` vowel|\n|`STN_O`|`STN_O`| `O` vowel|\n|`STN_ST1`|`STN_STR`| `*` upper-left |\n|`STN_ST2`|`STN_STR`| `*` lower-left|\n|`STN_ST3`|`STN_STR`| `*` upper-right|\n|`STN_ST4`|`STN_STR`| `*` lower-right|\n|`STN_E`|`STN_E`| `E` vowel|\n|`STN_U`|`STN_U`| `U` vowel|\n|`STN_FR`|`STN_FR`| `-F`|\n|`STN_RR`|`STN_RR`| `-R`|\n|`STN_PR`|`STN_PR`| `-P`|\n|`STN_BR`|`STN_BR`| `-B`|\n|`STN_LR`|`STN_LR`| `-L`|\n|`STN_GR`|`STN_GR`| `-G`|\n|`STN_TR`|`STN_TR`| `-T`|\n|`STN_SR`|`STN_SR`| `-S`|\n|`STN_DR`|`STN_DR`| `-D`|\n|`STN_ZR`|`STN_ZR`| `-Z`|\n|`STN_FN`|| (Function)|\n|`STN_RES1`||(Reset 1)|\n|`STN_RES2`||(Reset 2)|\n|`STN_PWR`||(Power)|\n\nIf you do not want to hit two keys with one finger combined keycodes can be used. These cause both keys to be reported as pressed or released. To use these keycodes define `STENO_COMBINEDMAP` in your `config.h` file.\n\n|Combined key   | Key1   | Key 2    |\n|---------------|--------|----------|\n|STN_S3         | STN_S1 | STN_S2   |\n|STN_TKL        | STN_TL | STN_KL   |\n|STN_PWL        | STN_PL | STN_WL   |\n|STN_HRL        | STN_HL | STN_RL   |\n|STN_FRR        | STN_FR | STN_RR   |\n|STN_PBR        | STN_PR | STN_BR   |\n|STN_LGR        | STN_LR | STN_GR   |\n|STN_TSR        | STN_TR | STN_SR   |\n|STN_DZR        | STN_DR | STN_ZR   |\n|STN_AO         | STN_A  | STN_O    |\n|STN_EU         | STN_E  | STN_U    |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 40]"
        },
        {
          "title": "Swap-Hands Action",
          "description": null,
          "content": {
            "Configuration": "The configuration table is a simple 2-dimensional array to map from column/row to new column/row. Example `hand_swap_config` for Planck:\n\n```\nconst keypos_t PROGMEM hand_swap_config[MATRIX_ROWS][MATRIX_COLS] = {\n  {{11, 0}, {10, 0}, {9, 0}, {8, 0}, {7, 0}, {6, 0}, {5, 0}, {4, 0}, {3, 0}, {2, 0}, {1, 0}, {0, 0}},\n  {{11, 1}, {10, 1}, {9, 1}, {8, 1}, {7, 1}, {6, 1}, {5, 1}, {4, 1}, {3, 1}, {2, 1}, {1, 1}, {0, 1}},\n  {{11, 2}, {10, 2}, {9, 2}, {8, 2}, {7, 2}, {6, 2}, {5, 2}, {4, 2}, {3, 2}, {2, 2}, {1, 2}, {0, 2}},\n  {{11, 3}, {10, 3}, {9, 3}, {8, 3}, {7, 3}, {6, 3}, {5, 3}, {4, 3}, {3, 3}, {2, 3}, {1, 3}, {0, 3}},\n};\n```\n\nNote that the array indices are reversed same as the matrix and the values are of type `keypos_t` which is `{col, row}` and all values are zero-based. In the example above, `hand_swap_config[2][4]` (third row, fifth column) would return `{7, 2}` (third row, eighth column). Yes, this is confusing.",
            "Swap Keycodes": "|Key                          |Aliases  |Description                                         |\n|-----------------------------|---------|----------------------------------------------------|\n|`SH_T(kc)`                   |         |Momentary swap when held, `kc` when tapped          |\n|`QK_SWAP_HANDS_ON`           |`SH_ON`  |Turn on hand swap                                   |\n|`QK_SWAP_HANDS_OFF`          |`SH_OFF` |Turn off hand swap                                  |\n|`QK_SWAP_HANDS_MOMENTARY_ON` |`SH_MON` |Turn on hand swap while held                        |\n|`QK_SWAP_HANDS_MOMENTARY_OFF`|`SH_MOFF`|Turn off hand swap while held                       |\n|`QK_SWAP_HANDS_TOGGLE`       |`SH_TOGG`|Toggle hand swap                                    |\n|`QK_SWAP_HANDS_TAP_TOGGLE`   |`SH_TT`  |Momentary swap when held, toggle when tapped        |\n|`QK_SWAP_HANDS_ONE_SHOT`     |`SH_OS`  |Turn on hand swap while held or until next key press|\n\n`SH_TT` swap-hands tap-toggle key is similar to [layer tap-toggle](../feature_layers#switching-and-toggling-layers). Tapping repeatedly (5 taps by default) will toggle swap-hands on or off, like `SH_TOGG`. Tap-toggle count can be changed by defining a value for `TAPPING_TOGGLE`.",
            "Encoder Mapping": {
              "Functions {#functions}": "User callback functions to manipulate Swap-Hands:\n\n| Function              | Description                                 |\n|-----------------------|---------------------------------------------|\n| `swap_hands_on()`     | Turns Swap-Hands on.                        |\n| `swap_hands_off()`    | Turns Swap-Hands off.                       |\n| `swap_hands_toggle()` | Toggles Swap-Hands.                         |\n| `is_swap_hands_on()`  | Returns true if Swap-Hands is currently on. |"
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 41]"
        },
        {
          "title": "Tap Dance: A Single Key Can Do 3, 5, or 100 Different Things",
          "description": null,
          "content": {
            "Introduction {#introduction}": "Hit the semicolon key once, send a semicolon. Hit it twice, rapidly -- send a colon. Hit it three times, and your keyboard's LEDs do a wild dance. That's just one example of what Tap Dance can do. It's one of the nicest community-contributed features in the firmware, conceived and created by [algernon](https://github.com/algernon) in [#451](https://github.com/qmk/qmk_firmware/pull/451). Here's how algernon describes the feature:\n\nWith this feature one can specify keys that behave differently, based on the amount of times they have been tapped, and when interrupted, they get handled before the interrupter.",
            "How to Use Tap Dance {#how-to-use}": "First, you will need `TAP_DANCE_ENABLE = yes` in your `rules.mk`, because the feature is disabled by default. This adds a little less than 1k to the firmware size. \n\nOptionally, you might want to set a custom `TAPPING_TERM` time by adding something like this in your `config.h` file:\n\n```\n#define TAPPING_TERM 175\n#define TAPPING_TERM_PER_KEY\n```\n\nThe `TAPPING_TERM` time is the maximum time allowed between taps of your Tap Dance key, and is measured in milliseconds. For example, if you used the above `#define` statement and set up a Tap Dance key that sends `Space` on single-tap and `Enter` on double-tap, then this key will send `ENT` only if you tap this key twice in less than 175ms. If you tap the key, wait more than 175ms, and tap the key again you'll end up sending `SPC SPC` instead. The `TAPPING_TERM_PER_KEY` definition is only needed if you control the tapping term through a [custom `get_tapping_term` function](../tap_hold#tapping_term), which may be needed because `TAPPING_TERM` affects not just tap-dance keys.\n\nNext, you will want to define some tap-dance keys, which is easiest to do with the `TD()` macro. That macro takes a number which will later be used as an index into the `tap_dance_actions` array and turns it into a tap-dance keycode.\n\nAfter this, you'll want to use the `tap_dance_actions` array to specify what actions shall be taken when a tap-dance key is in action. Currently, there are five possible options:\n\n['`ACTION_TAP_DANCE_DOUBLE(kc1, kc2)`: Sends the `kc1` keycode when tapped once, `kc2` otherwise. When the key is held, the appropriate keycode is registered: `kc1` when pressed and held, `kc2` when tapped once, then pressed and held.', '`ACTION_TAP_DANCE_LAYER_MOVE(kc, layer)`: Sends the `kc` keycode when tapped once, or moves to `layer`. (this functions like the `TO` layer keycode).', '`ACTION_TAP_DANCE_LAYER_TOGGLE(kc, layer)`: Sends the `kc` keycode when tapped once, or toggles the state of `layer`. (this functions like the `TG` layer keycode).', '`ACTION_TAP_DANCE_FN(fn)`: Calls the specified function - defined in the user keymap - with the final tap count of the tap dance action.', '`ACTION_TAP_DANCE_FN_ADVANCED(on_each_tap_fn, on_dance_finished_fn, on_dance_reset_fn)`: Calls the first specified function - defined in the user keymap - on every tap, the second function when the dance action finishes (like the previous option), and the last function when the tap dance action resets.', '`ACTION_TAP_DANCE_FN_ADVANCED_WITH_RELEASE(on_each_tap_fn, on_each_release_fn, on_dance_finished_fn, on_dance_reset_fn)`: This macro is identical to `ACTION_TAP_DANCE_FN_ADVANCED` with the addition of `on_each_release_fn` which is invoked every time the key for the tap dance is released. It is worth noting that `on_each_release_fn` will still be called even when the key is released after the dance finishes (e.g. if the key is released after being pressed and held for longer than the `TAPPING_TERM`).']\n\nThe first option is enough for a lot of cases, that just want dual roles. For example, `ACTION_TAP_DANCE_DOUBLE(KC_SPC, KC_ENT)` will result in `Space` being sent on single-tap, `Enter` otherwise. \n\n::: warning\nKeep in mind that only [basic keycodes](../keycodes_basic) are supported here. Custom keycodes are not supported.\n:::\n\nSimilar to the first option, the second and third option are good for simple layer-switching cases.\n\nFor more complicated cases, like blink the LEDs, fiddle with the backlighting, and so on, use the fourth or fifth option. Examples of each are listed below.",
            "Implementation Details {#implementation}": "Well, that's the bulk of it! You should now be able to work through the examples below, and to develop your own Tap Dance functionality. But if you want a deeper understanding of what's going on behind the scenes, then read on for the explanation of how it all works!\n\nLet's go over the three functions mentioned in `ACTION_TAP_DANCE_FN_ADVANCED` in a little more detail. They all receive the same two arguments: a pointer to a structure that holds all dance related state information, and a pointer to a use case specific state variable. The three functions differ in when they are called. The first, `on_each_tap_fn()`, is called every time the tap dance key is *pressed*. Before it is called, the counter is incremented and the timer is reset. The second function, `on_dance_finished_fn()`, is called when the tap dance is interrupted or ends because `TAPPING_TERM` milliseconds have passed since the last tap. When the `finished` field of the dance state structure is set to `true`, the `on_dance_finished_fn()` is skipped. After `on_dance_finished_fn()` was called or would have been called, but no sooner than when the tap dance key is *released*, `on_dance_reset_fn()` is called. It is possible to end a tap dance immediately, skipping `on_dance_finished_fn()`, but not `on_dance_reset_fn`, by calling `reset_tap_dance(state)`.\n\nTo accomplish this logic, the tap dance mechanics use three entry points. The main entry point is `process_tap_dance()`, called from `process_record_quantum()` *after* `process_record_kb()` and `process_record_user()`. This function is responsible for calling `on_each_tap_fn()` and `on_dance_reset_fn()`. In order to handle interruptions of a tap dance, another entry point, `preprocess_tap_dance()` is run right at the beginning of `process_record_quantum()`. This function checks whether the key pressed is a tap-dance key. If it is not, and a tap-dance was in action, we handle that first, and enqueue the newly pressed key. If it is a tap-dance key, then we check if it is the same as the already active one (if there's one active, that is). If it is not, we fire off the old one first, then register the new one. Finally, `tap_dance_task()` periodically checks whether `TAPPING_TERM` has passed since the last key press and finishes a tap dance if that is the case.\n\nThis means that you have `TAPPING_TERM` time to tap the key again; you do not have to input all the taps within a single `TAPPING_TERM` timeframe. This allows for longer tap counts, with minimal impact on responsiveness.",
            "Examples {#examples}": {
              "Simple Example: Send `ESC` on Single Tap, `CAPS_LOCK` on Double Tap {#simple-example}": "Here's a simple example for a single definition:\n\n['In your `rules.mk`, add `TAP_DANCE_ENABLE = yes`', 'In your `keymap.c` file, define the variables and definitions, then add to your keymap:']\n\n```\n// Tap Dance declarations\nenum {\n    TD_ESC_CAPS,\n};\n\n// Tap Dance definitions\ntap_dance_action_t tap_dance_actions[] = {\n    // Tap once for Escape, twice for Caps Lock\n    [TD_ESC_CAPS] = ACTION_TAP_DANCE_DOUBLE(KC_ESC, KC_CAPS),\n};\n\n// Add tap dance item to your keymap in place of a keycode\nconst uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {\n    // ...\n    TD(TD_ESC_CAPS)\n    // ...\n};\n```",
              "Complex Examples {#complex-examples}": {
                "Example 1: Send \"Safety Dance!\" After 100 Taps {#example-1}": "```\nvoid dance_egg(tap_dance_state_t *state, void *user_data) {\n    if (state->count >= 100) {\n        SEND_STRING(\"Safety dance!\");\n        reset_tap_dance(state);\n    }\n}\n\ntap_dance_action_t tap_dance_actions[] = {\n    [CT_EGG] = ACTION_TAP_DANCE_FN(dance_egg),\n};\n```",
                "Example 2: Turn LED Lights On Then Off, One at a Time {#example-2}": "```\n// On each tap, light up one LED, from right to left\n// On the fourth tap, turn them off from right to left\nvoid dance_flsh_each(tap_dance_state_t *state, void *user_data) {\n    switch (state->count) {\n        case 1:\n            ergodox_right_led_3_on();\n            break;\n        case 2:\n            ergodox_right_led_2_on();\n            break;\n        case 3:\n            ergodox_right_led_1_on();\n            break;\n        case 4:\n            ergodox_right_led_3_off();\n            wait_ms(50);\n            ergodox_right_led_2_off();\n            wait_ms(50);\n            ergodox_right_led_1_off();\n    }\n}\n\n// On the fourth tap, set the keyboard on flash state\nvoid dance_flsh_finished(tap_dance_state_t *state, void *user_data) {\n    if (state->count >= 4) {\n        reset_keyboard();\n    }\n}\n\n// If the flash state didn't happen, then turn off LEDs, left to right\nvoid dance_flsh_reset(tap_dance_state_t *state, void *user_data) {\n    ergodox_right_led_1_off();\n    wait_ms(50);\n    ergodox_right_led_2_off();\n    wait_ms(50);\n    ergodox_right_led_3_off();\n}\n\n// All tap dances now put together. Example 2 is \"CT_FLSH\"\ntap_dance_action_t tap_dance_actions[] = {\n    [TD_ESC_CAPS] = ACTION_TAP_DANCE_DOUBLE(KC_ESC, KC_CAPS),\n    [CT_EGG] = ACTION_TAP_DANCE_FN(dance_egg),\n    [CT_FLSH] = ACTION_TAP_DANCE_FN_ADVANCED(dance_flsh_each, dance_flsh_finished, dance_flsh_reset)\n};\n```",
                "Example 3: Send `:` on Tap, `;` on Hold {#example-3}": "With a little effort, powerful tap-hold configurations can be implemented as tap dances. To emit taps as early as possible, we need to act on releases of the tap dance key. There is no callback for this in the tap dance framework, so we use `process_record_user()`.\n\n```\ntypedef struct {\n    uint16_t tap;\n    uint16_t hold;\n    uint16_t held;\n} tap_dance_tap_hold_t;\n\nvoid tap_dance_tap_hold_finished(tap_dance_state_t *state, void *user_data) {\n    tap_dance_tap_hold_t *tap_hold = (tap_dance_tap_hold_t *)user_data;\n\n    if (state->pressed) {\n        if (state->count == 1\n#ifndef PERMISSIVE_HOLD\n            && !state->interrupted\n#endif\n        ) {\n            register_code16(tap_hold->hold);\n            tap_hold->held = tap_hold->hold;\n        } else {\n            register_code16(tap_hold->tap);\n            tap_hold->held = tap_hold->tap;\n        }\n    }\n}\n\nvoid tap_dance_tap_hold_reset(tap_dance_state_t *state, void *user_data) {\n    tap_dance_tap_hold_t *tap_hold = (tap_dance_tap_hold_t *)user_data;\n\n    if (tap_hold->held) {\n        unregister_code16(tap_hold->held);\n        tap_hold->held = 0;\n    }\n}\n\n#define ACTION_TAP_DANCE_TAP_HOLD(tap, hold)                                        \\\n    {                                                                               \\\n        .fn        = {NULL, tap_dance_tap_hold_finished, tap_dance_tap_hold_reset}, \\\n        .user_data = (void *)&((tap_dance_tap_hold_t){tap, hold, 0}),               \\\n    }\n\ntap_dance_action_t tap_dance_actions[] = {\n    [CT_CLN] = ACTION_TAP_DANCE_TAP_HOLD(KC_COLN, KC_SCLN),\n};\n\nbool process_record_user(uint16_t keycode, keyrecord_t *record) {\n    tap_dance_action_t *action;\n\n    switch (keycode) {\n        case TD(CT_CLN): // list all tap dance keycodes with tap-hold configurations\n            action = &tap_dance_actions[QK_TAP_DANCE_GET_INDEX(keycode)];\n            if (!record->event.pressed && action->state.count && !action->state.finished) {\n                tap_dance_tap_hold_t *tap_hold = (tap_dance_tap_hold_t *)action->user_data;\n                tap_code16(tap_hold->tap);\n            }\n    }\n    return true;\n}\n```",
                "Example 4: 'Quad Function Tap-Dance' {#example-4}": "By [DanielGGordon](https://github.com/danielggordon)\n\nAllow one key to have 4 (or more) functions, depending on number of presses, and if the key is held or tapped.\nBelow is a specific example:\n\n['Tap = Send `x`', 'Hold = Send `Control`', 'Double Tap = Send `Escape`', 'Double Tap and Hold = Send `Alt`']\n\nYou will need a few things that can be used for 'Quad Function Tap-Dance'. \n\nYou'll need to add these to the top of your `keymap.c` file, before your keymap. \n\n```\ntypedef enum {\n    TD_NONE,\n    TD_UNKNOWN,\n    TD_SINGLE_TAP,\n    TD_SINGLE_HOLD,\n    TD_DOUBLE_TAP,\n    TD_DOUBLE_HOLD,\n    TD_DOUBLE_SINGLE_TAP, // Send two single taps\n    TD_TRIPLE_TAP,\n    TD_TRIPLE_HOLD\n} td_state_t;\n\ntypedef struct {\n    bool is_press_action;\n    td_state_t state;\n} td_tap_t;\n\n// Tap dance enums\nenum {\n    X_CTL,\n    SOME_OTHER_DANCE\n};\n\ntd_state_t cur_dance(tap_dance_state_t *state);\n\n// For the x tap dance. Put it here so it can be used in any keymap\nvoid x_finished(tap_dance_state_t *state, void *user_data);\nvoid x_reset(tap_dance_state_t *state, void *user_data);\n```\n\nNow, at the bottom of your `keymap.c` file, you'll need to add the following: \n\n```\n/* Return an integer that corresponds to what kind of tap dance should be executed.\n *\n * How to figure out tap dance state: interrupted and pressed.\n *\n * Interrupted: If the state of a dance is \"interrupted\", that means that another key has been hit\n *  under the tapping term. This is typically indicative that you are trying to \"tap\" the key.\n *\n * Pressed: Whether or not the key is still being pressed. If this value is true, that means the tapping term\n *  has ended, but the key is still being pressed down. This generally means the key is being \"held\".\n *\n * One thing that is currently not possible with qmk software in regards to tap dance is to mimic the \"permissive hold\"\n *  feature. In general, advanced tap dances do not work well if they are used with commonly typed letters.\n *  For example \"A\". Tap dances are best used on non-letter keys that are not hit while typing letters.\n *\n * Good places to put an advanced tap dance:\n *  z,q,x,j,k,v,b, any function key, home/end, comma, semi-colon\n *\n * Criteria for \"good placement\" of a tap dance key:\n *  Not a key that is hit frequently in a sentence\n *  Not a key that is used frequently to double tap, for example 'tab' is often double tapped in a terminal, or\n *    in a web form. So 'tab' would be a poor choice for a tap dance.\n *  Letters used in common words as a double. For example 'p' in 'pepper'. If a tap dance function existed on the\n *    letter 'p', the word 'pepper' would be quite frustrating to type.\n *\n * For the third point, there does exist the 'TD_DOUBLE_SINGLE_TAP', however this is not fully tested\n *\n */\ntd_state_t cur_dance(tap_dance_state_t *state) {\n    if (state->count == 1) {\n        if (state->interrupted || !state->pressed) return TD_SINGLE_TAP;\n        // Key has not been interrupted, but the key is still held. Means you want to send a 'HOLD'.\n        else return TD_SINGLE_HOLD;\n    } else if (state->count == 2) {\n        // TD_DOUBLE_SINGLE_TAP is to distinguish between typing \"pepper\", and actually wanting a double tap\n        // action when hitting 'pp'. Suggested use case for this return value is when you want to send two\n        // keystrokes of the key, and not the 'double tap' action/macro.\n        if (state->interrupted) return TD_DOUBLE_SINGLE_TAP;\n        else if (state->pressed) return TD_DOUBLE_HOLD;\n        else return TD_DOUBLE_TAP;\n    }\n\n    // Assumes no one is trying to type the same letter three times (at least not quickly).\n    // If your tap dance key is 'KC_W', and you want to type \"www.\" quickly - then you will need to add\n    // an exception here to return a 'TD_TRIPLE_SINGLE_TAP', and define that enum just like 'TD_DOUBLE_SINGLE_TAP'\n    if (state->count == 3) {\n        if (state->interrupted || !state->pressed) return TD_TRIPLE_TAP;\n        else return TD_TRIPLE_HOLD;\n    } else return TD_UNKNOWN;\n}\n\n// Create an instance of 'td_tap_t' for the 'x' tap dance.\nstatic td_tap_t xtap_state = {\n    .is_press_action = true,\n    .state = TD_NONE\n};\n\nvoid x_finished(tap_dance_state_t *state, void *user_data) {\n    xtap_state.state = cur_dance(state);\n    switch (xtap_state.state) {\n        case TD_SINGLE_TAP: register_code(KC_X); break;\n        case TD_SINGLE_HOLD: register_code(KC_LCTL); break;\n        case TD_DOUBLE_TAP: register_code(KC_ESC); break;\n        case TD_DOUBLE_HOLD: register_code(KC_LALT); break;\n        // Last case is for fast typing. Assuming your key is `f`:\n        // For example, when typing the word `buffer`, and you want to make sure that you send `ff` and not `Esc`.\n        // In order to type `ff` when typing fast, the next character will have to be hit within the `TAPPING_TERM`, which by default is 200ms.\n        case TD_DOUBLE_SINGLE_TAP: tap_code(KC_X); register_code(KC_X); break;\n        default: break;\n    }\n}\n\nvoid x_reset(tap_dance_state_t *state, void *user_data) {\n    switch (xtap_state.state) {\n        case TD_SINGLE_TAP: unregister_code(KC_X); break;\n        case TD_SINGLE_HOLD: unregister_code(KC_LCTL); break;\n        case TD_DOUBLE_TAP: unregister_code(KC_ESC); break;\n        case TD_DOUBLE_HOLD: unregister_code(KC_LALT); break;\n        case TD_DOUBLE_SINGLE_TAP: unregister_code(KC_X); break;\n        default: break;\n    }\n    xtap_state.state = TD_NONE;\n}\n\ntap_dance_action_t tap_dance_actions[] = {\n    [X_CTL] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, x_finished, x_reset)\n};\n```\n\nAnd then simply use `TD(X_CTL)` anywhere in your keymap.\n\n::: info\nIn this configuration \"hold\" takes place **after** tap dance timeout. To achieve instant hold, remove `state->interrupted` checks in conditions. As a result you may use comfortable longer tapping periods to have more time for taps and not to wait too long for holds (try starting with doubled `TAPPING_TERM`).\n:::",
                "Example 5: Using tap dance for advanced mod-tap and layer-tap keys {#example-5}": "Tap dance can be used to emulate `MT()` and `LT()` behavior when the tapped code is not a basic keycode. This is useful to send tapped keycodes that normally require `Shift`, such as parentheses or curly bracesor other modified keycodes, such as `Control + X`.\n\nBelow your layers and custom keycodes, add the following:\n\n```\n// Tap Dance keycodes\nenum td_keycodes {\n    ALT_LP // Our example key: `LALT` when held, `(` when tapped. Add additional keycodes for each tapdance.\n};\n\n// Define a type containing as many tapdance states as you need\ntypedef enum {\n    TD_NONE,\n    TD_UNKNOWN,\n    TD_SINGLE_TAP,\n    TD_SINGLE_HOLD,\n    TD_DOUBLE_SINGLE_TAP\n} td_state_t;\n\n// Create a global instance of the tapdance state type\nstatic td_state_t td_state;\n\n// Declare your tapdance functions:\n\n// Function to determine the current tapdance state\ntd_state_t cur_dance(tap_dance_state_t *state);\n\n// `finished` and `reset` functions for each tapdance keycode\nvoid altlp_finished(tap_dance_state_t *state, void *user_data);\nvoid altlp_reset(tap_dance_state_t *state, void *user_data);\n```\n\nBelow your `LAYOUT`, define each of the tapdance functions:\n\n```\n// Determine the tapdance state to return\ntd_state_t cur_dance(tap_dance_state_t *state) {\n    if (state->count == 1) {\n        if (state->interrupted || !state->pressed) return TD_SINGLE_TAP;\n        else return TD_SINGLE_HOLD;\n    }\n\n    if (state->count == 2) return TD_DOUBLE_SINGLE_TAP;\n    else return TD_UNKNOWN; // Any number higher than the maximum state value you return above\n}\n\n// Handle the possible states for each tapdance keycode you define:\n\nvoid altlp_finished(tap_dance_state_t *state, void *user_data) {\n    td_state = cur_dance(state);\n    switch (td_state) {\n        case TD_SINGLE_TAP:\n            register_code16(KC_LPRN);\n            break;\n        case TD_SINGLE_HOLD:\n            register_mods(MOD_BIT(KC_LALT)); // For a layer-tap key, use `layer_on(_MY_LAYER)` here\n            break;\n        case TD_DOUBLE_SINGLE_TAP: // Allow nesting of 2 parens `((` within tapping term\n            tap_code16(KC_LPRN);\n            register_code16(KC_LPRN);\n            break;\n        default:\n            break;\n    }\n}\n\nvoid altlp_reset(tap_dance_state_t *state, void *user_data) {\n    switch (td_state) {\n        case TD_SINGLE_TAP:\n            unregister_code16(KC_LPRN);\n            break;\n        case TD_SINGLE_HOLD:\n            unregister_mods(MOD_BIT(KC_LALT)); // For a layer-tap key, use `layer_off(_MY_LAYER)` here\n            break;\n        case TD_DOUBLE_SINGLE_TAP:\n            unregister_code16(KC_LPRN);\n            break;\n        default:\n            break;\n    }\n}\n\n// Define `ACTION_TAP_DANCE_FN_ADVANCED()` for each tapdance keycode, passing in `finished` and `reset` functions\ntap_dance_action_t tap_dance_actions[] = {\n    [ALT_LP] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, altlp_finished, altlp_reset)\n};\n```\n\nWrap each tapdance keycode in `TD()` when including it in your keymap, e.g. `TD(ALT_LP)`.",
                "Example 6: Using tap dance for momentary-layer-switch and layer-toggle keys {#example-6}": "Tap Dance can be used to mimic MO(layer) and TG(layer) functionality. For this example, we will set up a key to function as `KC_QUOT` on single-tap, as `MO(_MY_LAYER)` on single-hold, and `TG(_MY_LAYER)` on double-tap.\n\nThe first step is to include the following code towards the beginning of your `keymap.c`:\n\n```\n// Define a type for as many tap dance states as you need\ntypedef enum {\n    TD_NONE,\n    TD_UNKNOWN,\n    TD_SINGLE_TAP,\n    TD_SINGLE_HOLD,\n    TD_DOUBLE_TAP\n} td_state_t;\n\ntypedef struct {\n    bool is_press_action;\n    td_state_t state;\n} td_tap_t;\n\nenum {\n    QUOT_LAYR, // Our custom tap dance key; add any other tap dance keys to this enum \n};\n\n// Declare the functions to be used with your tap dance key(s)\n\n// Function associated with all tap dances\ntd_state_t cur_dance(tap_dance_state_t *state);\n\n// Functions associated with individual tap dances\nvoid ql_finished(tap_dance_state_t *state, void *user_data);\nvoid ql_reset(tap_dance_state_t *state, void *user_data);\n```\n\nTowards the bottom of your `keymap.c`, include the following code:\n\n```\n// Determine the current tap dance state\ntd_state_t cur_dance(tap_dance_state_t *state) {\n    if (state->count == 1) {\n        if (!state->pressed) return TD_SINGLE_TAP;\n        else return TD_SINGLE_HOLD;\n    } else if (state->count == 2) return TD_DOUBLE_TAP;\n    else return TD_UNKNOWN;\n}\n\n// Initialize tap structure associated with example tap dance key\nstatic td_tap_t ql_tap_state = {\n    .is_press_action = true,\n    .state = TD_NONE\n};\n\n// Functions that control what our tap dance key does\nvoid ql_finished(tap_dance_state_t *state, void *user_data) {\n    ql_tap_state.state = cur_dance(state);\n    switch (ql_tap_state.state) {\n        case TD_SINGLE_TAP:\n            tap_code(KC_QUOT);\n            break;\n        case TD_SINGLE_HOLD:\n            layer_on(_MY_LAYER);\n            break;\n        case TD_DOUBLE_TAP:\n            // Check to see if the layer is already set\n            if (layer_state_is(_MY_LAYER)) {\n                // If already set, then switch it off\n                layer_off(_MY_LAYER);\n            } else {\n                // If not already set, then switch the layer on\n                layer_on(_MY_LAYER);\n            }\n            break;\n        default:\n            break;\n    }\n}\n\nvoid ql_reset(tap_dance_state_t *state, void *user_data) {\n    // If the key was held down and now is released then switch off the layer\n    if (ql_tap_state.state == TD_SINGLE_HOLD) {\n        layer_off(_MY_LAYER);\n    }\n    ql_tap_state.state = TD_NONE;\n}\n\n// Associate our tap dance key with its functionality\ntap_dance_action_t tap_dance_actions[] = {\n    [QUOT_LAYR] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, ql_finished, ql_reset)\n};\n\n// Set a long-ish tapping term for tap-dance keys\nuint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record) {\n    switch (keycode) {\n        case QK_TAP_DANCE ... QK_TAP_DANCE_MAX:\n            return 275;\n        default:\n            return TAPPING_TERM;\n    }\n}\n```\n\nThe above code is similar to that used in previous examples. The one point to note is that we need to be able to check which layers are active at any time so we can toggle them if needed. To do this we use the `layer_state_is(layer)` function which returns `true` if the given `layer` is active.\n\nThe use of `cur_dance()` and `ql_tap_state` mirrors the above examples.\n\nThe `case: TD_SINGLE_TAP` in `ql_finished` is similar to the above examples. The `TD_SINGLE_HOLD` case works in conjunction with `ql_reset()` to switch to `_MY_LAYER` while the tap dance key is held, and to switch away from `_MY_LAYER` when the key is released. This mirrors the use of `MO(_MY_LAYER)`. The `TD_DOUBLE_TAP` case works by checking whether `_MY_LAYER` is the active layer, and toggling it on or off accordingly. This mirrors the use of `TG(_MY_LAYER)`.\n\n`tap_dance_actions[]` works similar to the above examples. Note that, additionally, I set a longer tapping term for the tap dance keys. This is because I like my `TAPPING_TERM` to be short (\\~175ms) for my non-tap-dance keys but find that this is too quick for me to reliably complete tap dance actions - thus the increased time of 275ms here. In order for the per-key tapping terms to take effect, `TAPPING_TERM_PER_KEY` must be defined in your `config.h`.\n\nFinally, to get this tap dance key working, be sure to include `TD(QUOT_LAYR)` in your `keymaps[]`."
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 42]"
        },
        {
          "title": "Tri Layers {#tri-layers}",
          "description": null,
          "content": {
            "Keycodes {#keycodes}": "| Keycode              | Alias     | Description                                                                                             |\n|----------------------|-----------|---------------------------------------------------------------------------------------------------------|\n| `QK_TRI_LAYER_LOWER` | `TL_LOWR` | Momentarily enables the \"lower\" layer. Enables the \"adjust\" layer if the \"upper\" layer is also enabled. |\n| `QK_TRI_LAYER_UPPER` | `TL_UPPR` | Momentarily enables the \"upper\" layer. Enables the \"adjust\" layer if the \"lower\" layer is also enabled. |",
            "Configuration": "To change the default values for the layers, you can change these defines, in your `config.h`\n\n| Config name              | Default | Description                              |\n|--------------------------|---------|------------------------------------------|\n| `TRI_LAYER_LOWER_LAYER`  | `1`     | Sets the default for the \"lower\" layer.  |\n| `TRI_LAYER_UPPER_LAYER`  | `2`     | Sets the default for the \"upper\" layer.  |\n| `TRI_LAYER_ADJUST_LAYER` | `3`     | Sets the default for the \"adjust\" layer. |\n\nEg, if you wanted to set the \"Adjust\" layer to be layer 5, you'd add this to your `config.h`: \n\n```\n#define TRI_LAYER_ADJUST_LAYER 5\n```",
            "Functions": "| Function name                                |  Description                                    |\n|----------------------------------------------|-------------------------------------------------|\n| `set_tri_layer_lower_layer(layer)`           | Changes the \"lower\" layer*.                     |\n| `set_tri_layer_upper_layer(layer)`           | Changes the \"upper\" layer*.                     |\n| `set_tri_layer_adjust_layer(layer)`          | Changes the \"adjust\" layer*.                    |\n| `set_tri_layer_layers(lower, upper, adjust)` | Sets the \"lower\", \"upper\" and \"adjust\" layers*. |\n| `get_tri_layer_lower_layer()`                | Gets the current \"lower\" layer.                 |\n| `get_tri_layer_upper_layer()`                | Gets the current \"upper\" layer.                 |\n| `get_tri_layer_adjust_layer()`               | Gets the current \"adjust\" layer.                |\n\n::: warning\nNote: these settings are not persistent, and will be reset to the default on power loss or power cycling of the controller.\n:::"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 43]"
        },
        {
          "title": "Unicode {#unicode}",
          "description": null,
          "content": {
            "Caveats {#caveats}": "There are some limitations to this feature. Because there is no \"standard\" method of Unicode input across all operating systems, each of them require their own setup process on both the host *and* in the firmware, which may involve installation of additional software. This also means Unicode input will not \"just work\" when the keyboard is plugged into another device.",
            "Usage {#usage}": "The core Unicode API can be used purely programmatically. However, there are also additional subsystems which build on top of it and come with keycodes to make things easier. See below for more details.\n\nAdd the following to your keymap's `rules.mk`:\n\n```\nUNICODE_COMMON = yes\n```",
            "Basic Configuration {#basic-configuration}": {
              "Audio Feedback {#audio-feedback}": "If you have the [Audio](audio) feature enabled on your board, you can configure it to play sounds when the input mode is changed.\n\nAdd the following to your `config.h`:\n\n|Define             |Default|Description                                                |\n|-------------------|-------|-----------------------------------------------------------|\n|`UNICODE_SONG_MAC` |*n/a*  |The song to play when the macOS input mode is selected     |\n|`UNICODE_SONG_LNX` |*n/a*  |The song to play when the Linux input mode is selected     |\n|`UNICODE_SONG_BSD` |*n/a*  |The song to play when the BSD input mode is selected       |\n|`UNICODE_SONG_WIN` |*n/a*  |The song to play when the Windows input mode is selected   |\n|`UNICODE_SONG_WINC`|*n/a*  |The song to play when the WinCompose input mode is selected|"
            },
            "Input Subsystems {#input-subsystems}": "Each of these subsystems have their own pros and cons in terms of flexibility and ease of use. Choose the one that best fits your needs.\n\n::::tabs\n\n=== Basic\n\nThis is the easiest to use, albeit somewhat limited. It supports code points up to `U+7FFF`, which covers characters for most modern languages (including East Asian), as well as many symbols, but does not include emoji.\n\nTo enable Basic Unicode, add the following to your `rules.mk`:\n\n```\nUNICODE_ENABLE = yes\n```\n\nYou can then add `UC(c)` keycodes to your keymap, where *c* is the code point of the desired character (in hexadecimal - the `U+` prefix will not work). For example, `UC(0x40B)` will output [](https://unicode-table.com/en/040B/), and `UC(0x30C4)` will output [](https://unicode-table.com/en/30C4).\n\n=== Unicode Map\n\nUnicode Map supports all possible code points (up to `U+10FFFF`). Here, the code points are stored in a separate mapping table (which may contain at most 16,384 entries), instead of directly in the keymap.\n\nTo enable Unicode Map, add the following to your `rules.mk`:\n\n```\nUNICODEMAP_ENABLE = yes\n```\n\nThen, you will need to create a mapping table in your `keymap.c`, and (optionally) an enum for naming the array indices, like so:\n\n```\nenum unicode_names {\n    BANG,\n    IRONY,\n    SNEK\n};\n\nconst uint32_t PROGMEM unicode_map[] = {\n    [BANG]  = 0x203D,  // \n    [IRONY] = 0x2E2E,  // \n    [SNEK]  = 0x1F40D, // \n};\n```\n\nFinally, add `UM(i)` keycodes to your keymap, where *i* is an index into the `unicode_map[]` array. If you defined the enum above, you can use those names instead, for example `UM(BANG)` or `UM(SNEK)`.\n\nLower and Upper Case Pairs {#unicodemap-pairs}\n\nSome writing systems have lowercase and uppercase variants of each character, such as  and . To make inputting these characters easier, you can use the `UP(i, j)` keycode in your keymap, where *i* and *j* are the mapping table indices of the lowercase and uppercase characters, respectively. If you're holding down Shift or have Caps Lock turned on when you press the key, the uppercase character will be inserted; otherwise, the lowercase character will be inserted.\n\n```\nconst uint32_t PROGMEM unicode_map[] = {\n    [AE_LOWER] = 0x00E6,  // \n    [AE_UPPER] = 0x00C6,  // \n};\n```\n\nThis is most useful when creating a keymap for an international layout with special characters. Instead of having to put the lower and upper case versions of a character on separate keys, you can have them both on the same key. This helps blend Unicode keys in with regular keycodes.\n\nDue to keycode size constraints, *i* and *j* can each only refer to one of the first 128 characters in your `unicode_map`. In other words, 0  *i*  127 and 0  *j*  127.\n\n=== UCIS\n\nAs with Unicode Map, the UCIS method also supports all possible code points, and requires the use of a mapping table. However, it works much differently - Unicode characters are input by replacing a typed mnemonic.\n\nTo enable UCIS, add the following to your keymap's `rules.mk`:\n\n```\nUCIS_ENABLE = yes\n```\n\nThen, create a mapping table in your `keymap.c`:\n\n```\nconst ucis_symbol_t ucis_symbol_table[] = UCIS_TABLE(\n    UCIS_SYM(\"poop\", 0x1F4A9),                // \n    UCIS_SYM(\"rofl\", 0x1F923),                // \n    UCIS_SYM(\"ukr\", 0x1F1FA, 0x1F1E6),        // \n    UCIS_SYM(\"look\", 0x0CA0, 0x005F, 0x0CA0)  // _\n);\n```\n\nBy default, each table entry may be up to three code points long. This can be changed by adding `#define UCIS_MAX_CODE_POINTS n` to your keymap's `config.h`.\n\nTo invoke UCIS input, the `ucis_start()` function must first be called (for example, in a custom \"Unicode\" keycode). Then, type the mnemonic for the mapping table entry (such as \"rofl\"), and hit Space or Enter. The \"rofl\" text will be backspaced and the emoji inserted.\n\n::::",
            "Input Modes {#input-modes}": "Unicode input works by typing a sequence of characters, similar to a macro. However, since this sequence depends on your OS, you will need to prepare both your host machine and QMK to recognise and send the correct Unicode input sequences respectively.\n\nTo set the list of enabled input modes, add the `UNICODE_SELECTED_MODES` define to your keymap's `config.h`, for example:\n\n```\n#define UNICODE_SELECTED_MODES UNICODE_MODE_LINUX\n// or\n#define UNICODE_SELECTED_MODES UNICODE_MODE_MACOS, UNICODE_MODE_WINCOMPOSE\n```\n\nThese modes can then be cycled through using the `UC_NEXT` and `UC_PREV` keycodes. You can also switch to any input mode, even if it is not specified in `UNICODE_SELECTED_MODES`, using their respective keycodes.\n\nIf your keyboard has working EEPROM, it will remember the last used input mode and continue using it on the next power up. This can be disabled by defining `UNICODE_CYCLE_PERSIST` to `false`.\n\n:::::tabs\n\n==== macOS\n\n**Mode Name:** `UNICODE_MODE_MACOS`\n\nmacOS has built-in support for Unicode input as its own input source. It supports all possible code points by way of surrogate pairs for code points above `U+FFFF`.\n\nTo enable, go to **System Preferences  Keyboard  Input Sources**, then add Unicode Hex Input to the list (under Other), and activate it from the input dropdown in the menu bar. Note that this may disable some Option-based shortcuts such as Option+Left and Option+Right.\n\n==== Linux (IBus)\n\n**Mode Name:** `UNICODE_MODE_LINUX`\n\nFor Linux distros with IBus, Unicode input is enabled by default, supports all possible code points, and works almost anywhere. Without IBus, it works under GTK apps, but rarely anywhere else.\n\nUsers who would like support in non-GTK apps without IBus may need to resort to a more indirect method, such as creating a custom keyboard layout.\n\n==== Windows (WinCompose)\n\n**Mode Name:** `UNICODE_MODE_WINCOMPOSE`\n\nThis mode requires a third-party tool called [WinCompose](https://github.com/samhocevar/wincompose). It supports all possible code points, and is the recommended input mode for Windows.\n\nTo enable, install the [latest release from GitHub](https://github.com/samhocevar/wincompose/releases/latest). Once installed, it will automatically run on startup. This works reliably under all versions of Windows supported by WinCompose.\n\n==== Windows (HexNumpad)\n\n**Mode Name:** `UNICODE_MODE_WINDOWS`\n\n::: warning\nThis input mode is *not* the \"Alt code\" system. Alt codes are not Unicode; they instead follow [the Windows-1252 character set](https://en.wikipedia.org/wiki/Alt_code).\n:::\n\nThis is Windows' built-in hex numpad Unicode input mode. It only supports code points up to `U+FFFF`, and is not recommended due to reliability and compatibility issues.\n\nTo enable, run the following as an administrator, then reboot:\n\n```\nreg add \"HKCU\\Control Panel\\Input Method\" -v EnableHexNumpad -t REG_SZ -d 1\n```\n\n==== Emacs\n\n**Mode Name:** `UNICODE_MODE_EMACS`\n\nEmacs supports code point input with the `insert-char` command.\n\n==== BSD\n\n**Mode Name:** `UNICODE_MODE_BSD`\n\nNot currently implemented. If you're a BSD user and want to contribute support for this input mode, please [feel free](../contributing)!\n\n:::::",
            "Keycodes {#keycodes}": "|Key                         |Aliases  |Description                                                     |\n|----------------------------|---------|----------------------------------------------------------------|\n|`UC(c)`                     |         |Send Unicode code point `c`, up to `0x7FFF`                     |\n|`UM(i)`                     |         |Send Unicode code point at index `i` in `unicode_map`           |\n|`UP(i, j)`                  |         |Send Unicode code point at index `i`, or `j` if Shift/Caps is on|\n|`QK_UNICODE_MODE_NEXT`      |`UC_NEXT`|Cycle through selected input modes                              |\n|`QK_UNICODE_MODE_PREVIOUS`  |`UC_PREV`|Cycle through selected input modes in reverse                   |\n|`QK_UNICODE_MODE_MACOS`     |`UC_MAC` |Switch to macOS input                                           |\n|`QK_UNICODE_MODE_LINUX`     |`UC_LINX`|Switch to Linux input                                           |\n|`QK_UNICODE_MODE_WINDOWS`   |`UC_WIN` |Switch to Windows input                                         |\n|`QK_UNICODE_MODE_BSD`       |`UC_BSD` |Switch to BSD input (not implemented)                           |\n|`QK_UNICODE_MODE_WINCOMPOSE`|`UC_WINC`|Switch to Windows input using WinCompose                        |\n|`QK_UNICODE_MODE_EMACS`     |`UC_EMAC`|Switch to emacs (`C-x-8 RET`)                                   |",
            "API {#api}": {
              "`uint8_t get_unicode_input_mode(void)` {#api-get-unicode-input-mode}": {
                "Return Value {#api-get-unicode-input-mode-return-value}": "The currently active Unicode input mode.\n\n[]"
              },
              "`void set_unicode_input_mode(uint8_t mode)` {#api-set-unicode-input-mode}": {
                "Arguments {#api-set-unicode-input-mode-arguments}": [
                  "`uint8_t mode`  \nThe input mode to set."
                ]
              },
              "`void unicode_input_mode_step(void)` {#api-unicode-input-mode-step}": "Change to the next Unicode input mode.\n\n[]",
              "`void unicode_input_mode_step_reverse(void)` {#api-unicode-input-mode-step-reverse}": "Change to the previous Unicode input mode.\n\n[]",
              "`void unicode_input_mode_set_user(uint8_t input_mode)` {#api-unicode-input-mode-set-user}": {
                "Arguments {#api-unicode-input-mode-set-user-arguments}": [
                  "`uint8_t input_mode`  \nThe new input mode."
                ]
              },
              "`void unicode_input_mode_set_kb(uint8_t input_mode)` {#api-unicode-input-mode-set-kb}": {
                "Arguments {#api-unicode-input-mode-set-kb-arguments}": [
                  "`uint8_t input_mode`  \nThe new input mode."
                ]
              },
              "`void unicode_input_start(void)` {#api-unicode-input-start}": "Begin the Unicode input sequence. The exact behavior depends on the currently selected input mode:\n\n['**macOS**: Hold `UNICODE_KEY_MAC`', '**Linux**: Tap `UNICODE_KEY_LNX`', '**WinCompose**: Tap `UNICODE_KEY_WINC`, then U', '**HexNumpad**: Hold Left Alt, then tap Numpad +', '**Emacs**: Tap Ctrl+X, then 8, then Enter']\n\nThis function is weakly defined, and can be overridden in user code.\n\n[]",
              "`void unicode_input_finish(void)` {#api-unicode-input-finish}": "Complete the Unicode input sequence. The exact behavior depends on the currently selected input mode:\n\n['**macOS**: Release `UNICODE_KEY_MAC`', '**Linux**: Tap Space', '**WinCompose**: Tap Enter', '**HexNumpad**: Release Left Alt', '**Emacs**: Tap Enter']\n\nThis function is weakly defined, and can be overridden in user code.\n\n[]",
              "`void unicode_input_cancel(void)` {#api-unicode-input-cancel}": "Cancel the Unicode input sequence. The exact behavior depends on the currently selected input mode:\n\n['**macOS**: Release `UNICODE_KEY_MAC`', '**Linux**: Tap Escape', '**WinCompose**: Tap Escape', '**HexNumpad**: Release Left Alt', '**Emacs**: Tap Ctrl+G']\n\nThis function is weakly defined, and can be overridden in user code.\n\n[]",
              "`void register_unicode(uint32_t code_point)` {#api-register-unicode}": {
                "Arguments {#api-register-unicode-arguments}": [
                  "`uint32_t code_point`  \nThe code point of the character to send."
                ]
              },
              "`void send_unicode_string(const char *str)` {#api-send-unicode-string}": {
                "Arguments {#api-send-unicode-string-arguments}": [
                  "`const char *str`  \nThe string to send."
                ]
              },
              "`uint8_t unicodemap_index(uint16_t keycode)` {#api-unicodemap-index}": {
                "Arguments {#api-unicodemap-index-arguments}": [
                  "`uint16_t keycode`  \nThe Unicode Map keycode to get the index of."
                ],
                "Return Value {#api-unicodemap-index-return-value}": "An index into the `unicode_map` array.\n\n[]"
              },
              "`uint32_t unicodemap_get_code_point(uint8_t index)` {#api-unicodemap-get-code-point}": {
                "Arguments {#unicodemap-get-code-point-arguments}": [
                  "`uint8_t index`  \nThe index into  the `unicode_map` array."
                ],
                "Return Value {#unicodemap-get-code-point-return-value}": "A Unicode code point value.\n\n[]"
              },
              "`void register_unicodemap(uint8_t index)` {#api-register-unicodemap}": {
                "Arguments {#api-register-unicodemap-arguments}": [
                  "`uint8_t index`  \nThe index into the `unicode_map` array."
                ]
              },
              "`void ucis_start(void)` {#api-ucis-start}": "Begin the input sequence.\n\n[]",
              "`bool ucis_active(void)` {#api-ucis-active}": {
                "Return Value {#api-ucis-active-return-value}": "`true` if UCIS is active.\n\n[]"
              },
              "`uint8_t ucis_count(void)` {#api-ucis-count}": {
                "Return Value {#api-ucis-count-return-value}": "The current input sequence buffer length.\n\n[]"
              },
              "`bool ucis_add(uint16_t keycode)` {#api-ucis-add}": {
                "Arguments {#api-ucis-add-arguments}": [
                  "`uint16_t keycode`  \nThe keycode to add. Must be between `KC_A` and `KC_Z`, or `KC_1` and `KC_0`."
                ],
                "Return Value {#api-ucis-add-return-value}": "`true` if the keycode was added.\n\n[]"
              },
              "`bool ucis_remove_last(void)` {#api-ucis-remove-last}": {
                "Return Value {#api-ucis-remove-last-return-value}": "`true` if the sequence was not empty.\n\n[]"
              },
              "`void ucis_finish(void)` {#api-ucis-finish}": "Mark the input sequence as complete, and attempt to match.\n\n[]",
              "`void ucis_cancel(void)` {#api-ucis-cancel}": "Cancel the input sequence.\n\n[]",
              "`void register_ucis(void)` {#api-register-ucis}": {
                "Arguments {#api-register-ucis-arguments}": [
                  "`uint8_t index`  \nThe index into the UCIS symbol table."
                ]
              }
            }
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 44]"
        },
        {
          "title": "Wireless / Bluetooth",
          "description": null,
          "content": {
            "Bluetooth Known Supported Hardware": {
              "Adafruit BLE SPI Friend": "Currently The only bluetooth chipset supported by QMK is the Adafruit Bluefruit SPI Friend. It's a Nordic nRF51822 based chip running Adafruit's custom firmware. Data is transmitted via Adafruit's SDEP over Hardware SPI. The [Feather 32u4 Bluefruit LE](https://www.adafruit.com/product/2829) is supported as it's an AVR mcu connected via SPI to the Nordic BLE chip with Adafruit firmware. If Building a custom board with the SPI friend it would be easiest to just use the pin selection that the 32u4 feather uses but you can change the pins in the config.h options with the following defines:\n\n['`#define BLUEFRUIT_LE_RST_PIN D4`', '`#define BLUEFRUIT_LE_CS_PIN  B4`', '`#define BLUEFRUIT_LE_IRQ_PIN E6`']\n\nA Bluefruit UART friend can be converted to an SPI friend, however this [requires](https://github.com/qmk/qmk_firmware/issues/2274) some reflashing and soldering directly to the MDBT40 chip.\n\n<!-- FIXME: Document bluetooth support more completely. -->\n## Bluetooth Rules.mk Options\n\nThe currently supported Bluetooth chipsets do not support [N-Key Rollover (NKRO)](../reference_glossary#n-key-rollover-nkro), so `rules.mk` must contain `NKRO_ENABLE = no`.\n\nAdd the following to your `rules.mk`:\n\n```\nBLUETOOTH_ENABLE = yes\nBLUETOOTH_DRIVER = bluefruit_le # or rn42\n```"
            },
            "Bluetooth Keycodes": "This is used when multiple keyboard outputs can be selected. Currently this only allows for switching between USB and Bluetooth on keyboards that support both.\n\n| Key                         | Aliases   | Description                                                                                   |\n|-----------------------------|-----------|-----------------------------------------------------------------------------------------------|\n| `QK_OUTPUT_AUTO`            | `OU_AUTO` | Automatically switch to USB when plugged in, otherwise use wireless                           |\n| `QK_OUTPUT_NEXT`            | `OU_NEXT` | Cycle forwards through USB, Bluetooth, and 2.4GHz (when available) **(not yet implemented)**  |\n| `QK_OUTPUT_PREV`            | `OU_PREV` | Cycle backwards through USB, Bluetooth, and 2.4GHz (when available) **(not yet implemented)** |\n| `QK_OUTPUT_NONE`            | `OU_NONE` | Disable all output **(not yet implemented)**                                                  |\n| `QK_OUTPUT_USB`             | `OU_USB`  | Output to USB only                                                                            |\n| `QK_OUTPUT_2P4GHZ`          | `OU_2P4G` | Output to 2.4GHz only **(not yet implemented)**                                               |\n| `QK_OUTPUT_BLUETOOTH`       | `OU_BT`   | Output to Bluetooth only                                                                      |\n| `QK_BLUETOOTH_PROFILE_NEXT` | `BT_NEXT` | Move to the next Bluetooth profile **(not yet implemented)**                                  |\n| `QK_BLUETOOTH_PROFILE_PREV` | `BT_PREV` | Move to the previous Bluetooth profile **(not yet implemented)**                              |\n| `QK_BLUETOOTH_UNPAIR`       | `BT_UNPR` | Un-pair the current Bluetooth profile **(not yet implemented)**                               |\n| `QK_BLUETOOTH_PROFILE1`     | `BT_PRF1` | Swap to Bluetooth profile #1 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE2`     | `BT_PRF2` | Swap to Bluetooth profile #2 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE3`     | `BT_PRF3` | Swap to Bluetooth profile #3 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE4`     | `BT_PRF4` | Swap to Bluetooth profile #4 **(not yet implemented)**                                        |\n| `QK_BLUETOOTH_PROFILE5`     | `BT_PRF5` | Swap to Bluetooth profile #5 **(not yet implemented)**                                        |"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 45]"
        },
        {
          "title": "Word Per Minute (WPM) Calculation",
          "description": null,
          "content": {
            "Configuration": "| Define                       | Default       | Description                                                                              |\n|------------------------------|---------------|------------------------------------------------------------------------------------------|\n| `WPM_ESTIMATED_WORD_SIZE`    | `5`           | This is the value used when estimating average word size (for regression and normal use) |\n| `WPM_ALLOW_COUNT_REGRESSION` | _Not defined_ | If defined allows the WPM to be decreased when hitting Delete or Backspace               |\n| `WPM_UNFILTERED`             | _Not defined_ | If undefined (the default), WPM values will be smoothed to avoid sudden changes in value |\n| `WPM_SAMPLE_SECONDS`         | `5`           | This defines how many seconds of typing to average, when calculating WPM                 |\n| `WPM_SAMPLE_PERIODS`         | `25`          | This defines how many sampling periods to use when calculating WPM                       |\n| `WPM_LAUNCH_CONTROL`         | _Not defined_ | If defined, WPM values will be calculated using partial buffers when typing begins       |\n\n'WPM_UNFILTERED' is potentially useful if you're filtering data in some other way (and also because it reduces the code required for the WPM feature), or if reducing measurement latency to a minimum is important for you.\n\nIncreasing 'WPM_SAMPLE_SECONDS' will give more smoothly changing WPM values at the expense of slightly more latency to the WPM calculation.\n\nIncreasing 'WPM_SAMPLE_PERIODS' will improve the smoothness at which WPM decays once typing stops, at a cost of approximately this many bytes of firmware space.\n\nIf 'WPM_LAUNCH_CONTROL' is defined, whenever WPM drops to zero, the next time typing begins WPM will be calculated based only on the time since that typing began, instead of the whole period of time specified by WPM_SAMPLE_SECONDS.  This results in reaching an accurate WPM value much faster, even when filtering is enabled and a large WPM_SAMPLE_SECONDS value is specified.",
            "Public Functions": "|Function                  |Description                                       |\n|--------------------------|--------------------------------------------------|\n|`get_current_wpm(void)`   | Returns the current WPM as a value between 0-255 |\n|`set_current_wpm(x)`      | Sets the current WPM to `x` (between 0-255)      |",
            "Callbacks": "By default, the WPM score only includes letters, numbers, space and some punctuation.  If you want to change the set of characters considered as part of the WPM calculation, you can implement your own `bool wpm_keycode_user(uint16_t keycode)` and return true for any characters you would like included in the calculation, or false to not count that particular keycode.\n\nFor instance, the default is:\n\n```\nbool wpm_keycode_user(uint16_t keycode) {\n    if ((keycode >= QK_MOD_TAP && keycode <= QK_MOD_TAP_MAX) || (keycode >= QK_LAYER_TAP && keycode <= QK_LAYER_TAP_MAX) || (keycode >= QK_MODS && keycode <= QK_MODS_MAX)) {\n        keycode = keycode & 0xFF;\n    } else if (keycode > 0xFF) {\n        keycode = 0;\n    }\n    if ((keycode >= KC_A && keycode <= KC_0) || (keycode >= KC_TAB && keycode <= KC_SLSH)) {\n        return true;\n    }\n\n    return false;\n}\n```\n\nAdditionally, if `WPM_ALLOW_COUNT_REGRESSION` is defined, there is the `uint8_t wpm_regress_count(uint16_t keycode)` function that allows you to decrease the WPM. This is useful if you want to be able to penalize certain keycodes (or even combinations). \n\n```\n__attribute__((weak)) uint8_t wpm_regress_count(uint16_t keycode) {\n    bool weak_modded = (keycode >= QK_LCTL && keycode < QK_LSFT) || (keycode >= QK_RCTL && keycode < QK_RSFT);\n    \n    if ((keycode >= QK_MOD_TAP && keycode <= QK_MOD_TAP_MAX) || (keycode >= QK_LAYER_TAP && keycode <= QK_LAYER_TAP_MAX) || (keycode >= QK_MODS && keycode <= QK_MODS_MAX)) {\n        keycode = keycode & 0xFF;\n    } else if (keycode > 0xFF) {\n        keycode = 0;\n    }\n    if (((get_mods() | get_oneshot_mods()) & MOD_MASK_CTRL} || weak_modded) && (keycode == KC_DEL || keycode == KC_BSPC)) {\n        return WPM_ESTIMATED_WORD_SIZE;\n    }\n    if (keycode == KC_DEL || keycode == KC_BSPC) {\n        return 1;\n    }\n}\n```"
          },
          "metadata": {},
          "subpages": [],
          "path": "[\"subpages\", 108, \"subpages\", 46]"
        }
      ],
      "path": "[\"subpages\", 108]"
    }
  ]
}